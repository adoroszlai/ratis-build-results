<?xml version="1.0" encoding="UTF-8"?>
<testsuite xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://maven.apache.org/surefire/maven-surefire-plugin/xsd/surefire-test-report-3.0.xsd" version="3.0" name="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="84.429" tests="24" errors="16" skipped="0" failures="0">
  <properties>
    <property name="awt.toolkit" value="sun.awt.X11.XToolkit"/>
    <property name="file.encoding.pkg" value="sun.io"/>
    <property name="java.specification.version" value="1.8"/>
    <property name="sun.cpu.isalist" value=""/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/test-classes:/home/runner/work/ratis/ratis/ratis-test/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/classes:/home/runner/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/1.0.6/ratis-thirdparty-misc-1.0.6.jar:/home/runner/work/ratis/ratis/ratis-proto/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/test-classes:/home/runner/work/ratis/ratis/ratis-client/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/classes:/home/runner/work/ratis/ratis/ratis-server-api/target/classes:/home/runner/work/ratis/ratis/ratis-metrics-api/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/test-classes:/home/runner/work/ratis/ratis/ratis-metrics-default/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/test-classes:/home/runner/work/ratis/ratis/ratis-grpc/target/classes:/home/runner/work/ratis/ratis/ratis-grpc/target/test-classes:/home/runner/work/ratis/ratis/ratis-shell/target/classes:/home/runner/.m2/repository/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar:/home/runner/.m2/repository/org/reflections/reflections/0.10.2/reflections-0.10.2.jar:/home/runner/.m2/repository/org/javassist/javassist/3.28.0-GA/javassist-3.28.0-GA.jar:/home/runner/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/home/runner/.m2/repository/org/bouncycastle/bcprov-jdk18on/1.78.1/bcprov-jdk18on-1.78.1.jar:/home/runner/.m2/repository/org/bouncycastle/bcpkix-jdk18on/1.78.1/bcpkix-jdk18on-1.78.1.jar:/home/runner/.m2/repository/org/bouncycastle/bcutil-jdk18on/1.78.1/bcutil-jdk18on-1.78.1.jar:/home/runner/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/home/runner/.m2/repository/org/slf4j/slf4j-reload4j/2.0.7/slf4j-reload4j-2.0.7.jar:/home/runner/.m2/repository/ch/qos/reload4j/reload4j/1.2.22/reload4j-1.2.22.jar:/home/runner/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/home/runner/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.10.1/junit-jupiter-engine-5.10.1.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-engine/1.10.1/junit-platform-engine-1.10.1.jar:/home/runner/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.10.1/junit-jupiter-api-5.10.1.jar:/home/runner/.m2/repository/org/opentest4j/opentest4j/1.3.0/opentest4j-1.3.0.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-commons/1.10.1/junit-platform-commons-1.10.1.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.10.1/junit-jupiter-params-5.10.1.jar:/home/runner/.m2/repository/org/mockito/mockito-core/4.3.1/mockito-core-4.3.1.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy/1.12.7/byte-buddy-1.12.7.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.7/byte-buddy-agent-1.12.7.jar:/home/runner/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:"/>
    <property name="java.vm.vendor" value="Temurin"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="java.vendor.url" value="https://adoptium.net/"/>
    <property name="user.timezone" value="Etc/UTC"/>
    <property name="java.vm.specification.version" value="1.8"/>
    <property name="os.name" value="Linux"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="sun.boot.library.path" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/amd64"/>
    <property name="sun.java.command" value="/home/runner/work/ratis/ratis/ratis-test/target/surefire/surefirebooter6691730511902537815.jar /home/runner/work/ratis/ratis/ratis-test/target/surefire 2024-09-30T06-43-59_693-jvmRun1 surefire8273873799122003853tmp surefire_161806748930255255938tmp"/>
    <property name="surefire.test.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/test-classes:/home/runner/work/ratis/ratis/ratis-test/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/classes:/home/runner/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/1.0.6/ratis-thirdparty-misc-1.0.6.jar:/home/runner/work/ratis/ratis/ratis-proto/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/test-classes:/home/runner/work/ratis/ratis/ratis-client/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/classes:/home/runner/work/ratis/ratis/ratis-server-api/target/classes:/home/runner/work/ratis/ratis/ratis-metrics-api/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/test-classes:/home/runner/work/ratis/ratis/ratis-metrics-default/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/test-classes:/home/runner/work/ratis/ratis/ratis-grpc/target/classes:/home/runner/work/ratis/ratis/ratis-grpc/target/test-classes:/home/runner/work/ratis/ratis/ratis-shell/target/classes:/home/runner/.m2/repository/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar:/home/runner/.m2/repository/org/reflections/reflections/0.10.2/reflections-0.10.2.jar:/home/runner/.m2/repository/org/javassist/javassist/3.28.0-GA/javassist-3.28.0-GA.jar:/home/runner/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/home/runner/.m2/repository/org/bouncycastle/bcprov-jdk18on/1.78.1/bcprov-jdk18on-1.78.1.jar:/home/runner/.m2/repository/org/bouncycastle/bcpkix-jdk18on/1.78.1/bcpkix-jdk18on-1.78.1.jar:/home/runner/.m2/repository/org/bouncycastle/bcutil-jdk18on/1.78.1/bcutil-jdk18on-1.78.1.jar:/home/runner/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/home/runner/.m2/repository/org/slf4j/slf4j-reload4j/2.0.7/slf4j-reload4j-2.0.7.jar:/home/runner/.m2/repository/ch/qos/reload4j/reload4j/1.2.22/reload4j-1.2.22.jar:/home/runner/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/home/runner/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.10.1/junit-jupiter-engine-5.10.1.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-engine/1.10.1/junit-platform-engine-1.10.1.jar:/home/runner/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.10.1/junit-jupiter-api-5.10.1.jar:/home/runner/.m2/repository/org/opentest4j/opentest4j/1.3.0/opentest4j-1.3.0.jar:/home/runner/.m2/repository/org/junit/platform/junit-platform-commons/1.10.1/junit-platform-commons-1.10.1.jar:/home/runner/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.10.1/junit-jupiter-params-5.10.1.jar:/home/runner/.m2/repository/org/mockito/mockito-core/4.3.1/mockito-core-4.3.1.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy/1.12.7/byte-buddy-1.12.7.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.7/byte-buddy-agent-1.12.7.jar:/home/runner/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="user.home" value="/home/runner"/>
    <property name="user.language" value="en"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="java.home" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre"/>
    <property name="basedir" value="/home/runner/work/ratis/ratis/ratis-test"/>
    <property name="file.separator" value="/"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="java.awt.graphicsenv" value="sun.awt.X11GraphicsEnvironment"/>
    <property name="surefire.real.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/surefire/surefirebooter6691730511902537815.jar:/home/runner/.m2/repository/org/jacoco/org.jacoco.agent/0.8.11/org.jacoco.agent-0.8.11-runtime.jar"/>
    <property name="sun.boot.class.path" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/resources.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/rt.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/sunrsasign.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jsse.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jce.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/charsets.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jfr.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/classes"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="java.runtime.version" value="1.8.0_422-b05"/>
    <property name="java.net.preferIPv4Stack" value="true"/>
    <property name="user.name" value="runner"/>
    <property name="path.separator" value=":"/>
    <property name="os.version" value="5.15.0-1073-azure"/>
    <property name="java.endorsed.dirs" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/endorsed"/>
    <property name="java.runtime.name" value="OpenJDK Runtime Environment"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="java.vm.name" value="OpenJDK 64-Bit Server VM"/>
    <property name="localRepository" value="/home/runner/.m2/repository"/>
    <property name="java.vendor.url.bug" value="https://github.com/adoptium/adoptium-support/issues"/>
    <property name="java.io.tmpdir" value="/tmp"/>
    <property name="java.version" value="1.8.0_422"/>
    <property name="user.dir" value="/home/runner/work/ratis/ratis/ratis-test"/>
    <property name="os.arch" value="amd64"/>
    <property name="ratis.tmp.dir" value="/home/runner/work/ratis/ratis/ratis-test/target/tmp"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="java.awt.printerjob" value="sun.print.PSPrinterJob"/>
    <property name="ratis.log.dir" value="/home/runner/work/ratis/ratis/ratis-test/target/log"/>
    <property name="sun.os.patch.level" value="unknown"/>
    <property name="org.apache.ratis.thirdparty.io.netty.allocator.useCacheForAllThreads" value="false"/>
    <property name="java.library.path" value="/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib"/>
    <property name="java.vm.info" value="mixed mode"/>
    <property name="java.vendor" value="Temurin"/>
    <property name="java.vm.version" value="25.422-b05"/>
    <property name="java.specification.maintenance.version" value="5"/>
    <property name="java.ext.dirs" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/ext:/usr/java/packages/lib/ext"/>
    <property name="sun.io.unicode.encoding" value="UnicodeLittle"/>
    <property name="java.class.version" value="52.0"/>
  </properties>
  <testcase name="testAddFollowerWhenExistsListener" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="4.031"/>
  <testcase name="testRemoveListener" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="1.901"/>
  <testcase name="testLostMajorityHeartbeats" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="4.3"/>
  <testcase name="testLateServerStart" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="6.494"/>
  <testcase name="testListenerNotStartLeaderElection" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="1.487"/>
  <testcase name="testPreVote" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="5.821"/>
  <testcase name="testListenerRejectRequestVote" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="5.68">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:131)
	at org.apache.ratis.server.impl.LeaderElectionTests.testListenerRejectRequestVote(LeaderElectionTests.java:589)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-09-30 06:53:25,742 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:53:25,743 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:53:25,743 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:53:25,743 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:53:25,744 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-09-30 06:53:25,745 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]
2024-09-30 06:53:25,745 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:53:25,745 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:53:25,745 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:53:25,745 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:53:25,745 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:53:25,745 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:53:25,745 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s3, group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100], format? true
2024-09-30 06:53:25,745 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3
2024-09-30 06:53:25,746 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3 does not exist.
2024-09-30 06:53:25,746 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3
2024-09-30 06:53:25,746 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:25,746 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:25,746 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15105 (custom)
2024-09-30 06:53:25,747 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:25,747 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15106 (custom)
2024-09-30 06:53:25,747 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:25,747 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15104 (custom)
2024-09-30 06:53:25,747 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:25,747 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:25,747 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:25,747 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:25,747 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:25,748 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,748 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:25,748 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:25,750 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:25,750 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:25,750 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:25,750 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:25,750 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3] (custom)
2024-09-30 06:53:25,750 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:25,751 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:25,751 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100] returns group-616DDAA39227:java.util.concurrent.CompletableFuture@84eafc2[Not completed]
2024-09-30 06:53:25,751 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s3: new RaftServerImpl for group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100] with BaseStateMachine:uninitialized
2024-09-30 06:53:25,751 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s4, group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100], format? true
2024-09-30 06:53:25,752 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4
2024-09-30 06:53:25,751 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:25,752 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4 does not exist.
2024-09-30 06:53:25,752 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4
2024-09-30 06:53:25,752 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:25,752 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:25,752 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:25,752 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:25,752 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:25,752 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:25,752 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:25,753 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15109 (custom)
2024-09-30 06:53:25,753 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:25,753 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:25,753 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s3@group-616DDAA39227: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:25,753 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15110 (custom)
2024-09-30 06:53:25,753 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:25,753 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:25,753 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:25,753 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15108 (custom)
2024-09-30 06:53:25,754 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:25,754 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:25,754 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:25,754 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:25,754 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:25,754 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:25,754 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:25,754 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:25,755 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:25,755 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,755 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:25,755 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:25,755 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:25,756 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:25,756 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:25,756 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:25,756 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:25,756 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:25,756 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:25,756 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:25,757 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:25,757 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:25,757 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4] (custom)
2024-09-30 06:53:25,757 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:25,757 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:25,758 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100] returns group-616DDAA39227:java.util.concurrent.CompletableFuture@6d658aa8[Not completed]
2024-09-30 06:53:25,758 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s4: new RaftServerImpl for group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100] with BaseStateMachine:uninitialized
2024-09-30 06:53:25,758 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100], format? true
2024-09-30 06:53:25,758 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0
2024-09-30 06:53:25,758 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:25,758 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0 does not exist.
2024-09-30 06:53:25,758 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0
2024-09-30 06:53:25,758 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:25,759 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:25,759 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:25,759 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:25,759 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:25,759 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:25,759 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:25,759 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15093 (custom)
2024-09-30 06:53:25,759 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:25,759 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:25,759 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s4@group-616DDAA39227: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:25,760 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15094 (custom)
2024-09-30 06:53:25,760 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:25,760 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:25,760 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:25,760 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15092 (custom)
2024-09-30 06:53:25,760 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:25,760 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:25,760 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:25,760 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:25,761 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:25,761 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:25,761 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:25,761 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:25,761 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:25,761 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,761 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:25,762 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:25,762 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:25,762 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:25,762 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:25,762 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:25,762 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:25,762 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:25,763 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:25,763 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:25,763 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:25,763 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:25,763 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0] (custom)
2024-09-30 06:53:25,764 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:25,764 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:25,764 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100] returns group-616DDAA39227:java.util.concurrent.CompletableFuture@5e557671[Not completed]
2024-09-30 06:53:25,764 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100] with BaseStateMachine:uninitialized
2024-09-30 06:53:25,764 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100], format? true
2024-09-30 06:53:25,764 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1
2024-09-30 06:53:25,764 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:25,764 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1 does not exist.
2024-09-30 06:53:25,765 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1
2024-09-30 06:53:25,764 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:25,765 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:25,765 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:25,765 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:25,765 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:25,765 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:25,765 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:25,765 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:25,765 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15097 (custom)
2024-09-30 06:53:25,765 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-616DDAA39227: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:25,765 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:25,765 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:25,765 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15098 (custom)
2024-09-30 06:53:25,766 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:25,766 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:25,766 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:25,766 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:25,766 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15096 (custom)
2024-09-30 06:53:25,766 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:25,766 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:25,766 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:25,766 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:25,767 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:25,767 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:25,767 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:25,767 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:25,767 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:25,767 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:25,767 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:25,767 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,767 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:25,767 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:25,767 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:25,768 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:25,769 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:25,769 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:25,769 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:25,770 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:25,770 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1] (custom)
2024-09-30 06:53:25,770 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:25,770 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:25,770 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100] returns group-616DDAA39227:java.util.concurrent.CompletableFuture@6c537267[Not completed]
2024-09-30 06:53:25,771 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100] with BaseStateMachine:uninitialized
2024-09-30 06:53:25,771 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100], format? true
2024-09-30 06:53:25,771 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2
2024-09-30 06:53:25,771 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:25,771 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2 does not exist.
2024-09-30 06:53:25,771 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2
2024-09-30 06:53:25,771 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:25,771 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:25,771 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:25,771 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:25,771 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:25,771 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:25,772 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:25,772 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:25,772 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15101 (custom)
2024-09-30 06:53:25,772 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-616DDAA39227: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:25,772 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:25,772 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:25,772 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15102 (custom)
2024-09-30 06:53:25,772 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:25,772 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:25,772 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:25,773 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:25,773 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15100 (custom)
2024-09-30 06:53:25,773 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:25,773 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:25,773 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:25,773 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:25,774 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:25,774 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:25,774 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:25,774 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:25,774 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:25,774 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:25,774 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:25,775 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:25,775 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:25,775 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,775 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:25,775 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:25,777 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:25,777 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:25,777 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:25,778 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:25,778 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2] (custom)
2024-09-30 06:53:25,778 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:25,778 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:25,778 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100] returns group-616DDAA39227:java.util.concurrent.CompletableFuture@14b4d90b[Not completed]
2024-09-30 06:53:25,779 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-616DDAA39227:[s3|localhost:15104, s4|localhost:15108, s0|localhost:15092, s1|localhost:15096, s2|localhost:15100] with BaseStateMachine:uninitialized
2024-09-30 06:53:25,779 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:25,779 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:25,779 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:25,779 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:25,779 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:25,779 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:25,779 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:25,779 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-616DDAA39227: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:25,779 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:25,779 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:25,779 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:25,779 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:25,780 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:25,780 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:25,780 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:25,780 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3] (custom)
2024-09-30 06:53:25,780 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:25,780 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227 does not exist. Creating ...
2024-09-30 06:53:25,780 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:25,780 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:25,780 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227
2024-09-30 06:53:25,780 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:25,781 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:25,781 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:25,781 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:25,781 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:25,782 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/current
2024-09-30 06:53:25,782 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/sm
2024-09-30 06:53:25,782 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@28f612ee
2024-09-30 06:53:25,783 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:25,783 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227 has been successfully formatted.
2024-09-30 06:53:25,783 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:25,783 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:25,783 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,783 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:25,783 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:25,783 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:25,783 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-616DDAA39227-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-616DDAA39227-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:25,784 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:25,785 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,785 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:25,785 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:25,785 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:25,785 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-616DDAA39227-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:25,785 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-616DDAA39227-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:25,786 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(395)) - s3@group-616DDAA39227: start as a listener, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:25,786 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-616DDAA39227: changes role from      null to LISTENER at term 0 for startAsListener
2024-09-30 06:53:25,786 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-616DDAA39227-FollowerState
2024-09-30 06:53:25,786 [s3@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:25,786 [s3@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:25,786 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-616DDAA39227,id=s3
2024-09-30 06:53:25,786 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-616DDAA39227,id=s3
2024-09-30 06:53:25,786 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:25,786 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:25,786 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:25,786 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:25,786 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:25,787 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s3: start RPC server
2024-09-30 06:53:25,788 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15106
2024-09-30 06:53:25,789 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15104
2024-09-30 06:53:25,789 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15105
2024-09-30 06:53:25,790 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-09-30 06:53:25,790 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:25,790 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:25,790 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4] (custom)
2024-09-30 06:53:25,790 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227 does not exist. Creating ...
2024-09-30 06:53:25,790 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227
2024-09-30 06:53:25,791 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:25,791 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/current
2024-09-30 06:53:25,791 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/sm
2024-09-30 06:53:25,791 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@22db4d3d
2024-09-30 06:53:25,792 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:25,792 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227 has been successfully formatted.
2024-09-30 06:53:25,792 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:25,792 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-616DDAA39227-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-616DDAA39227-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:25,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:25,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:25,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:25,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:25,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:25,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:25,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:25,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:25,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:25,794 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-616DDAA39227-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:25,795 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-616DDAA39227-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:25,795 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(395)) - s4@group-616DDAA39227: start as a listener, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:25,795 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-616DDAA39227: changes role from      null to LISTENER at term 0 for startAsListener
2024-09-30 06:53:25,795 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-616DDAA39227-FollowerState
2024-09-30 06:53:25,795 [s4@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:25,795 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-616DDAA39227,id=s4
2024-09-30 06:53:25,796 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-616DDAA39227,id=s4
2024-09-30 06:53:25,795 [s4@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:25,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:25,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:25,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:25,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:25,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:25,796 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s4: start RPC server
2024-09-30 06:53:25,796 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15110
2024-09-30 06:53:25,797 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15108
2024-09-30 06:53:25,797 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15109
2024-09-30 06:53:25,797 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-09-30 06:53:25,797 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:25,798 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:25,798 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0] (custom)
2024-09-30 06:53:25,798 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227 does not exist. Creating ...
2024-09-30 06:53:25,798 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227
2024-09-30 06:53:25,799 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:25,799 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/current
2024-09-30 06:53:25,799 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/sm
2024-09-30 06:53:25,799 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6f365997
2024-09-30 06:53:25,800 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:25,800 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227 has been successfully formatted.
2024-09-30 06:53:25,800 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:25,800 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:25,800 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,800 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:25,800 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:25,800 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:25,800 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:25,800 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:25,800 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,801 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-616DDAA39227-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:25,801 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-616DDAA39227-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227
2024-09-30 06:53:25,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:25,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:25,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:25,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:25,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:25,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:25,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:25,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:25,801 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:25,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:25,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:25,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:25,803 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-616DDAA39227-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:25,803 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-616DDAA39227-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:25,803 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-616DDAA39227: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:25,803 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-616DDAA39227: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:25,803 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-616DDAA39227-FollowerState
2024-09-30 06:53:25,806 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-616DDAA39227,id=s0
2024-09-30 06:53:25,806 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-616DDAA39227,id=s0
2024-09-30 06:53:25,806 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:25,806 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:25,806 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:25,806 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:25,806 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:25,806 [s0@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:25,806 [s0@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:25,810 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:53:25,810 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15094
2024-09-30 06:53:25,811 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15092
2024-09-30 06:53:25,811 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15093
2024-09-30 06:53:25,812 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:53:25,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:25,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:25,812 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1] (custom)
2024-09-30 06:53:25,812 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227 does not exist. Creating ...
2024-09-30 06:53:25,813 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227
2024-09-30 06:53:25,814 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:25,815 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/current
2024-09-30 06:53:25,815 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/sm
2024-09-30 06:53:25,815 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@33a45cbe
2024-09-30 06:53:25,815 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:25,816 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227 has been successfully formatted.
2024-09-30 06:53:25,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:25,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:25,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:25,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:25,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:25,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:25,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:25,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,816 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-616DDAA39227-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:25,816 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-616DDAA39227-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227
2024-09-30 06:53:25,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:25,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:25,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:25,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:25,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:25,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:25,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:25,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:25,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:25,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:25,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:25,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:25,818 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-616DDAA39227-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:25,818 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-616DDAA39227-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:25,818 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-616DDAA39227: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:25,818 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-616DDAA39227: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:25,818 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-616DDAA39227-FollowerState
2024-09-30 06:53:25,819 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-616DDAA39227,id=s1
2024-09-30 06:53:25,819 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-616DDAA39227,id=s1
2024-09-30 06:53:25,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:25,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:25,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:25,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:25,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:25,819 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:53:25,820 [s1@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:25,820 [s1@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:25,820 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15098
2024-09-30 06:53:25,820 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15096
2024-09-30 06:53:25,821 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15097
2024-09-30 06:53:25,821 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:53:25,821 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:25,821 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:25,821 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2] (custom)
2024-09-30 06:53:25,822 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2/be324590-cf6e-47dd-b2b3-616ddaa39227 does not exist. Creating ...
2024-09-30 06:53:25,822 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2/be324590-cf6e-47dd-b2b3-616ddaa39227
2024-09-30 06:53:25,822 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2/be324590-cf6e-47dd-b2b3-616ddaa39227/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:25,823 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2/be324590-cf6e-47dd-b2b3-616ddaa39227/current
2024-09-30 06:53:25,823 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2/be324590-cf6e-47dd-b2b3-616ddaa39227/sm
2024-09-30 06:53:25,823 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3fb20371
2024-09-30 06:53:25,824 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:25,824 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2/be324590-cf6e-47dd-b2b3-616ddaa39227 has been successfully formatted.
2024-09-30 06:53:25,824 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:25,824 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:25,824 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,824 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:25,824 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:25,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:25,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:25,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:25,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,825 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-616DDAA39227-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:25,825 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-616DDAA39227-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s2/be324590-cf6e-47dd-b2b3-616ddaa39227
2024-09-30 06:53:25,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:25,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:25,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:25,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:25,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:25,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:25,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:25,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:25,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:25,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:25,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:25,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:25,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:25,826 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-616DDAA39227-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:25,826 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-616DDAA39227-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:25,826 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-616DDAA39227: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:25,827 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-616DDAA39227: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:25,827 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-616DDAA39227-FollowerState
2024-09-30 06:53:25,827 [s2@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:25,827 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-616DDAA39227,id=s2
2024-09-30 06:53:25,827 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-616DDAA39227,id=s2
2024-09-30 06:53:25,827 [s2@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:25,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:25,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:25,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:25,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:25,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:25,827 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:53:25,829 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15102
2024-09-30 06:53:25,830 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15100
2024-09-30 06:53:25,830 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15101
2024-09-30 06:53:25,830 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:53:25,830 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:25,831 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-616DDAA39227:t0, leader=null, voted=, raftlog=Memoized:s3@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s4:  RUNNING  LISTENER s4@group-616DDAA39227:t0, leader=null, voted=, raftlog=Memoized:s4@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-616DDAA39227:t0, leader=null, voted=, raftlog=Memoized:s0@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-616DDAA39227:t0, leader=null, voted=, raftlog=Memoized:s1@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-616DDAA39227:t0, leader=null, voted=, raftlog=Memoized:s2@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
2024-09-30 06:53:25,832 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-616DDAA39227:t0, leader=null, voted=, raftlog=Memoized:s3@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s4:  RUNNING  LISTENER s4@group-616DDAA39227:t0, leader=null, voted=, raftlog=Memoized:s4@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-616DDAA39227:t0, leader=null, voted=, raftlog=Memoized:s0@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-616DDAA39227:t0, leader=null, voted=, raftlog=Memoized:s1@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-616DDAA39227:t0, leader=null, voted=, raftlog=Memoized:s2@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
2024-09-30 06:53:25,991 [s1@group-616DDAA39227-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-616DDAA39227-FollowerState: change to CANDIDATE, lastRpcElapsedTime:172762036ns, electionTimeout:171ms
2024-09-30 06:53:25,991 [s1@group-616DDAA39227-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-616DDAA39227-FollowerState
2024-09-30 06:53:25,991 [s1@group-616DDAA39227-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-616DDAA39227: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:25,992 [s1@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:25,992 [s1@group-616DDAA39227-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-616DDAA39227-LeaderElection18
2024-09-30 06:53:25,992 [s1@group-616DDAA39227-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-616DDAA39227-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:25,993 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:25,993 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:25,993 [s1@group-616DDAA39227-LeaderElection18-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15092
2024-09-30 06:53:25,994 [s1@group-616DDAA39227-LeaderElection18-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15100
2024-09-30 06:53:26,000 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-616DDAA39227: receive requestVote(PRE_VOTE, s1, group-616DDAA39227, 0, (t:0, i:0))
2024-09-30 06:53:26,000 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-616DDAA39227-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:26,000 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-616DDAA39227 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-616DDAA39227:t0, leader=null, voted=, raftlog=Memoized:s2@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:26,002 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-616DDAA39227: receive requestVote(PRE_VOTE, s1, group-616DDAA39227, 0, (t:0, i:0))
2024-09-30 06:53:26,002 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-616DDAA39227-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:26,002 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-616DDAA39227 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-616DDAA39227:t0, leader=null, voted=, raftlog=Memoized:s0@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:26,003 [s1@group-616DDAA39227-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-616DDAA39227-LeaderElection18: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:26,003 [s1@group-616DDAA39227-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t0
2024-09-30 06:53:26,003 [s1@group-616DDAA39227-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-616DDAA39227-LeaderElection18 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:26,003 [s1@group-616DDAA39227-LeaderElection18] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@19c5a65a
2024-09-30 06:53:26,006 [s1@group-616DDAA39227-LeaderElection18] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:26,006 [s1@group-616DDAA39227-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-616DDAA39227-LeaderElection18 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:26,009 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:26,009 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:26,010 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-616DDAA39227: receive requestVote(ELECTION, s1, group-616DDAA39227, 1, (t:0, i:0))
2024-09-30 06:53:26,010 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-616DDAA39227-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:26,010 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-616DDAA39227: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s1
2024-09-30 06:53:26,011 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-616DDAA39227-FollowerState
2024-09-30 06:53:26,011 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-616DDAA39227-FollowerState
2024-09-30 06:53:26,011 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-616DDAA39227: set firstElectionSinceStartup to false for candidate:s1
2024-09-30 06:53:26,013 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-616DDAA39227: receive requestVote(ELECTION, s1, group-616DDAA39227, 1, (t:0, i:0))
2024-09-30 06:53:26,013 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-616DDAA39227-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:26,013 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-616DDAA39227: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s1
2024-09-30 06:53:26,013 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-616DDAA39227-FollowerState
2024-09-30 06:53:26,013 [s0@group-616DDAA39227-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-616DDAA39227-FollowerState was interrupted
2024-09-30 06:53:26,014 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-616DDAA39227-FollowerState
2024-09-30 06:53:26,014 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-616DDAA39227: set firstElectionSinceStartup to false for candidate:s1
2024-09-30 06:53:26,014 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@275d9d88
2024-09-30 06:53:26,015 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:26,015 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-616DDAA39227 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-616DDAA39227:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:26,016 [s1@group-616DDAA39227-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-616DDAA39227-LeaderElection18: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:26,016 [s1@group-616DDAA39227-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2024-09-30 06:53:26,016 [s1@group-616DDAA39227-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-616DDAA39227-LeaderElection18 ELECTION round 0: result PASSED
2024-09-30 06:53:26,016 [s1@group-616DDAA39227-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-616DDAA39227-LeaderElection18
2024-09-30 06:53:26,016 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-616DDAA39227: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:53:26,016 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:26,016 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:26,016 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:26,017 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:26,017 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:26,017 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:26,017 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:26,017 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:26,017 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:26,017 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:26,017 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:26,017 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:26,018 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:26,018 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:26,018 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:26,018 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:26,018 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:26,018 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:26,018 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:26,018 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:26,018 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:26,018 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:26,018 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:26,019 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:26,019 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:26,019 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:26,019 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:26,019 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:26,019 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:26,019 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:26,019 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:26,019 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:26,019 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:26,019 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:26,020 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:26,020 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:26,020 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:26,020 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:26,020 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:26,020 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:26,020 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:26,020 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:26,020 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:26,020 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:26,020 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-616DDAA39227-LeaderStateImpl
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-616DDAA39227: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:53:26,021 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-616DDAA39227: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 249ms
2024-09-30 06:53:26,022 [s1@group-616DDAA39227-LeaderElection18] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-616DDAA39227-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:26,022 [s1@group-616DDAA39227-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-616DDAA39227: set configuration conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:26,022 [s1@group-616DDAA39227-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:26,027 [s1@group-616DDAA39227->s3-GrpcLogAppender-LogAppenderDaemon] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15104
2024-09-30 06:53:26,028 [s4@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:26,028 [s4@group-616DDAA39227-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:26,028 [s1@group-616DDAA39227->s4-GrpcLogAppender-LogAppenderDaemon] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15108
2024-09-30 06:53:26,031 [s1@group-616DDAA39227-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-616DDAA39227-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/current/log_inprogress_0
2024-09-30 06:53:26,039 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-616DDAA39227: change Leader from null to s1 at term 1 for appendEntries, leader elected after 273ms
2024-09-30 06:53:26,041 [s3-server-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@14de1b25
2024-09-30 06:53:26,043 [s3-server-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:26,043 [s3-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s3@group-616DDAA39227: set firstElectionSinceStartup to false for appendEntries
2024-09-30 06:53:26,043 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-616DDAA39227: change Leader from null to s1 at term 1 for appendEntries, leader elected after 289ms
2024-09-30 06:53:26,047 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-616DDAA39227: appendEntries* s1->s3#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15092"dataStreamAddress:"localhost:15095"clientAddress:"localhost:15094"adminAddress:"localhost:15093"startupRole:FOLLOWER, id:"s1"address:"localhost:15096"dataStreamAddress:"localhost:15099"clientAddress:"localhost:15098"adminAddress:"localhost:15097"startupRole:FOLLOWER, id:"s2"address:"localhost:15100"dataStreamAddress:"localhost:15103"clientAddress:"localhost:15102"adminAddress:"localhost:15101"startupRole:FOLLOWER, old:)
2024-09-30 06:53:26,048 [s3-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-616DDAA39227: set configuration conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:26,048 [s3-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s3@group-616DDAA39227-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:26,050 [s3@group-616DDAA39227-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:26,050 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-616DDAA39227: appendEntries* s1->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15092"dataStreamAddress:"localhost:15095"clientAddress:"localhost:15094"adminAddress:"localhost:15093"startupRole:FOLLOWER, id:"s1"address:"localhost:15096"dataStreamAddress:"localhost:15099"clientAddress:"localhost:15098"adminAddress:"localhost:15097"startupRole:FOLLOWER, id:"s2"address:"localhost:15100"dataStreamAddress:"localhost:15103"clientAddress:"localhost:15102"adminAddress:"localhost:15101"startupRole:FOLLOWER, old:)
2024-09-30 06:53:26,051 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-616DDAA39227: appendEntries* s1->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15092"dataStreamAddress:"localhost:15095"clientAddress:"localhost:15094"adminAddress:"localhost:15093"startupRole:FOLLOWER, id:"s1"address:"localhost:15096"dataStreamAddress:"localhost:15099"clientAddress:"localhost:15098"adminAddress:"localhost:15097"startupRole:FOLLOWER, id:"s2"address:"localhost:15100"dataStreamAddress:"localhost:15103"clientAddress:"localhost:15102"adminAddress:"localhost:15101"startupRole:FOLLOWER, old:)
2024-09-30 06:53:26,051 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-616DDAA39227: set configuration conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:26,051 [s4-server-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@11718978
2024-09-30 06:53:26,051 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-616DDAA39227-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:26,053 [s4-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-616DDAA39227: appendEntries* s1->s4#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15092"dataStreamAddress:"localhost:15095"clientAddress:"localhost:15094"adminAddress:"localhost:15093"startupRole:FOLLOWER, id:"s1"address:"localhost:15096"dataStreamAddress:"localhost:15099"clientAddress:"localhost:15098"adminAddress:"localhost:15097"startupRole:FOLLOWER, id:"s2"address:"localhost:15100"dataStreamAddress:"localhost:15103"clientAddress:"localhost:15102"adminAddress:"localhost:15101"startupRole:FOLLOWER, old:)
2024-09-30 06:53:26,054 [s4-server-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:26,054 [s0@group-616DDAA39227-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:26,054 [s4-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s4@group-616DDAA39227: set firstElectionSinceStartup to false for appendEntries
2024-09-30 06:53:26,058 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-616DDAA39227: change Leader from null to s1 at term 1 for appendEntries, leader elected after 294ms
2024-09-30 06:53:26,058 [s4-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-616DDAA39227: set configuration conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:26,059 [s4-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s4@group-616DDAA39227-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:26,059 [s4@group-616DDAA39227-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:26,071 [s0@group-616DDAA39227-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-616DDAA39227-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/current/log_inprogress_0
2024-09-30 06:53:26,072 [s3@group-616DDAA39227-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-616DDAA39227-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/current/log_inprogress_0
2024-09-30 06:53:26,072 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-616DDAA39227: appendEntries* reply s1<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:26,073 [s4@group-616DDAA39227-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s4@group-616DDAA39227-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/current/log_inprogress_0
2024-09-30 06:53:26,073 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-616DDAA39227: appendEntries* reply s1<-s3#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:26,074 [s4-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-616DDAA39227: appendEntries* reply s1<-s4#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:26,074 [s1@group-616DDAA39227-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4374e8ac
2024-09-30 06:53:26,076 [s1@group-616DDAA39227-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s1/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:26,076 [s1@group-616DDAA39227-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-616DDAA39227-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:53:26,151 [s0@group-616DDAA39227-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7ede8ce4
2024-09-30 06:53:26,151 [s3@group-616DDAA39227-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5382192f
2024-09-30 06:53:26,154 [s4@group-616DDAA39227-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6a075fe6
2024-09-30 06:53:26,154 [s0@group-616DDAA39227-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s0/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:26,155 [s3@group-616DDAA39227-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s3/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:26,156 [s4@group-616DDAA39227-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2a143a1c/s4/be324590-cf6e-47dd-b2b3-616ddaa39227/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:26,282 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-616DDAA39227:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-616DDAA39227-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s4:  RUNNING  LISTENER s4@group-616DDAA39227:t1, leader=s1, voted=null, raftlog=Memoized:s4@group-616DDAA39227-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-616DDAA39227:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-616DDAA39227-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-616DDAA39227:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-616DDAA39227-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-616DDAA39227:t1, leader=null, voted=null, raftlog=Memoized:s2@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
2024-09-30 06:53:26,282 [main] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-616DDAA39227: receive requestVote(PRE_VOTE, s1, group-616DDAA39227, 2, (t:1, i:0))
2024-09-30 06:53:26,283 [main] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-616DDAA39227-LISTENER: reject PRE_VOTE from s1: this server is a listener, who is a non-voting member
2024-09-30 06:53:26,283 [main] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-616DDAA39227 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-616DDAA39227:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-616DDAA39227-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null}
2024-09-30 06:53:26,283 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:26,283 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:26,284 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:26,284 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:26,284 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:26,284 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-616DDAA39227:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-616DDAA39227-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s4:  RUNNING  LISTENER s4@group-616DDAA39227:t1, leader=s1, voted=null, raftlog=Memoized:s4@group-616DDAA39227-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-616DDAA39227:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-616DDAA39227-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-616DDAA39227:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-616DDAA39227-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-616DDAA39227:t1, leader=null, voted=null, raftlog=Memoized:s2@group-616DDAA39227-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15092, s1|localhost:15096, s2|localhost:15100]|listeners:[s3|localhost:15104, s4|localhost:15108], old=null} RUNNING
2024-09-30 06:53:26,284 [MiniRaftCluster-36] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s3: close
2024-09-30 06:53:26,284 [MiniRaftCluster-37] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s4: close
2024-09-30 06:53:26,285 [MiniRaftCluster-36] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:26,285 [MiniRaftCluster-39] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:53:26,285 [MiniRaftCluster-37] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:26,285 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s4@group-616DDAA39227: shutdown
2024-09-30 06:53:26,285 [MiniRaftCluster-38] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:53:26,285 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s3@group-616DDAA39227: shutdown
2024-09-30 06:53:26,286 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-616DDAA39227: shutdown
2024-09-30 06:53:26,286 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-616DDAA39227,id=s1
2024-09-30 06:53:26,286 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-616DDAA39227-LeaderStateImpl
2024-09-30 06:53:26,286 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-616DDAA39227: shutdown
2024-09-30 06:53:26,286 [MiniRaftCluster-39] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:26,286 [MiniRaftCluster-38] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:26,286 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-616DDAA39227,id=s3
2024-09-30 06:53:26,287 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-616DDAA39227-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:26,287 [s1@group-616DDAA39227->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-616DDAA39227->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:26,287 [MiniRaftCluster-40] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:53:26,287 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-616DDAA39227,id=s0
2024-09-30 06:53:26,287 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-616DDAA39227-FollowerState
2024-09-30 06:53:26,287 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-616DDAA39227,id=s4
2024-09-30 06:53:26,287 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-616DDAA39227-FollowerState
2024-09-30 06:53:26,287 [MiniRaftCluster-40] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:26,287 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-616DDAA39227: shutdown
2024-09-30 06:53:26,288 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-616DDAA39227,id=s2
2024-09-30 06:53:26,288 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-616DDAA39227-FollowerState
2024-09-30 06:53:26,287 [s1@group-616DDAA39227->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-616DDAA39227->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:26,287 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-616DDAA39227-FollowerState
2024-09-30 06:53:26,287 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:26,288 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s3"
  raftGroupId {
    id: "\2762E\220\317nG\335\262\263am\332\243\222\'"
  }
  callId: 5
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:26,288 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: s1->s4#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15092"dataStreamAddress:"localhost:15095"clientAddress:"localhost:15094"adminAddress:"localhost:15093"startupRole:FOLLOWER, id:"s1"address:"localhost:15096"dataStreamAddress:"localhost:15099"clientAddress:"localhost:15098"adminAddress:"localhost:15097"startupRole:FOLLOWER, id:"s2"address:"localhost:15100"dataStreamAddress:"localhost:15103"clientAddress:"localhost:15102"adminAddress:"localhost:15101"startupRole:FOLLOWER, old:)
2024-09-30 06:53:26,288 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:26,289 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-616DDAA39227->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:26,290 [Thread-570] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-09-30 06:53:26,290 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-616DDAA39227->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:26,290 [s2@group-616DDAA39227-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-616DDAA39227-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:0, i:~)
2024-09-30 06:53:26,290 [s3@group-616DDAA39227-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s3@group-616DDAA39227-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:0)
2024-09-30 06:53:26,290 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s4@group-616DDAA39227-StateMachineUpdater: set stopIndex = 0
2024-09-30 06:53:26,290 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-616DDAA39227-StateMachineUpdater: set stopIndex = 0
2024-09-30 06:53:26,291 [s4@group-616DDAA39227-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s4@group-616DDAA39227-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:0)
2024-09-30 06:53:26,291 [s0@group-616DDAA39227-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-616DDAA39227-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:0)
2024-09-30 06:53:26,290 [Thread-572] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-09-30 06:53:26,290 [Thread-575] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:26,290 [s3@group-616DDAA39227-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s3@group-616DDAA39227-FollowerState was interrupted
2024-09-30 06:53:26,290 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s3@group-616DDAA39227-StateMachineUpdater: set stopIndex = 0
2024-09-30 06:53:26,290 [Thread-573] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:26,290 [s0@group-616DDAA39227-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-616DDAA39227-FollowerState was interrupted
2024-09-30 06:53:26,292 [MiniRaftCluster-36] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:26,290 [s4@group-616DDAA39227-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s4@group-616DDAA39227-FollowerState was interrupted
2024-09-30 06:53:26,290 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-616DDAA39227->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:26,292 [MiniRaftCluster-36] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:26,292 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:26,293 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s4"
  raftGroupId {
    id: "\2762E\220\317nG\335\262\263am\332\243\222\'"
  }
  callId: 6
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:26,292 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-616DDAA39227-StateMachineUpdater: set stopIndex = -1
2024-09-30 06:53:26,294 [MiniRaftCluster-36] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:26,294 [MiniRaftCluster-36] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:26,295 [s1@group-616DDAA39227->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-616DDAA39227->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:26,295 [s1@group-616DDAA39227->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-616DDAA39227->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:26,295 [MiniRaftCluster-36] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:26,294 [grpc-default-executor-8] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s3: APPEND_ENTRIES onError, lastRequest: s1->s3#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15092"dataStreamAddress:"localhost:15095"clientAddress:"localhost:15094"adminAddress:"localhost:15093"startupRole:FOLLOWER, id:"s1"address:"localhost:15096"dataStreamAddress:"localhost:15099"clientAddress:"localhost:15098"adminAddress:"localhost:15097"startupRole:FOLLOWER, id:"s2"address:"localhost:15100"dataStreamAddress:"localhost:15103"clientAddress:"localhost:15102"adminAddress:"localhost:15101"startupRole:FOLLOWER, old:): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:26,295 [s1@group-616DDAA39227-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-616DDAA39227-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:0)
2024-09-30 06:53:26,295 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-616DDAA39227-StateMachineUpdater: set stopIndex = 0
2024-09-30 06:53:26,295 [s2@group-616DDAA39227-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-616DDAA39227-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:26,294 [MiniRaftCluster-40] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:26,296 [MiniRaftCluster-40] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:26,296 [s0@group-616DDAA39227-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-616DDAA39227-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:26,296 [s1@group-616DDAA39227-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-616DDAA39227-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:26,296 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:26,296 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15092"dataStreamAddress:"localhost:15095"clientAddress:"localhost:15094"adminAddress:"localhost:15093"startupRole:FOLLOWER, id:"s1"address:"localhost:15096"dataStreamAddress:"localhost:15099"clientAddress:"localhost:15098"adminAddress:"localhost:15097"startupRole:FOLLOWER, id:"s2"address:"localhost:15100"dataStreamAddress:"localhost:15103"clientAddress:"localhost:15102"adminAddress:"localhost:15101"startupRole:FOLLOWER, old:)
2024-09-30 06:53:26,296 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:26,297 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-616DDAA39227->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:26,297 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-616DDAA39227->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:26,297 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "\2762E\220\317nG\335\262\263am\332\243\222\'"
  }
  callId: 4
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:26,298 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-616DDAA39227->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:26,298 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-616DDAA39227->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:26,300 [MiniRaftCluster-37] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:26,300 [MiniRaftCluster-37] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:26,302 [MiniRaftCluster-38] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:26,302 [MiniRaftCluster-38] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:26,302 [s4@group-616DDAA39227-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-616DDAA39227-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:26,302 [s3@group-616DDAA39227-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-616DDAA39227-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:26,303 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-616DDAA39227->s3-GrpcLogAppender is already stopped
2024-09-30 06:53:26,303 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-616DDAA39227->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:26,305 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-616DDAA39227->s4-GrpcLogAppender: Failed to getClient for s4
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:26,307 [MiniRaftCluster-37] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:26,307 [MiniRaftCluster-37] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:26,307 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-616DDAA39227->s2-GrpcLogAppender is already stopped
2024-09-30 06:53:26,308 [MiniRaftCluster-39] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:26,308 [MiniRaftCluster-39] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:26,308 [MiniRaftCluster-38] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:26,308 [MiniRaftCluster-38] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:26,308 [MiniRaftCluster-37] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:26,308 [MiniRaftCluster-40] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:26,308 [MiniRaftCluster-40] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:26,308 [MiniRaftCluster-39] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:26,308 [MiniRaftCluster-39] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:26,308 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-616DDAA39227->s2-GrpcLogAppender is already stopped
2024-09-30 06:53:26,309 [MiniRaftCluster-40] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:26,309 [MiniRaftCluster-39] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:26,308 [MiniRaftCluster-38] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:26,827 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-616DDAA39227-SegmentedRaftLogWorker close()
2024-09-30 06:53:27,040 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-616DDAA39227-SegmentedRaftLogWorker close()
2024-09-30 06:53:27,041 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:53:27,073 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-616DDAA39227-SegmentedRaftLogWorker close()
2024-09-30 06:53:27,074 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:53:27,075 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s3@group-616DDAA39227-SegmentedRaftLogWorker close()
2024-09-30 06:53:27,075 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s4@group-616DDAA39227-SegmentedRaftLogWorker close()
2024-09-30 06:53:27,076 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-09-30 06:53:27,076 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-09-30 06:53:29,037 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-616DDAA39227->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=1, request=AppendEntriesRequest:cid=0,entriesCount=0
2024-09-30 06:53:29,040 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-616DDAA39227->s2-GrpcLogAppender: Timed out appendEntries, errorCount=2, request=AppendEntriesRequest:cid=1,entriesCount=1,entry=(t:1, i:0)
2024-09-30 06:53:29,074 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-616DDAA39227->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=3, request=AppendEntriesRequest:cid=2,entriesCount=0
2024-09-30 06:53:29,111 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-616DDAA39227->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=4, request=AppendEntriesRequest:cid=3,entriesCount=0
2024-09-30 06:53:29,150 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-616DDAA39227->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=5, request=AppendEntriesRequest:cid=4,entriesCount=0
2024-09-30 06:53:29,152 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-616DDAA39227->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=6, request=AppendEntriesRequest:cid=5,entriesCount=0
2024-09-30 06:53:29,154 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-616DDAA39227->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=7, request=AppendEntriesRequest:cid=6,entriesCount=0
2024-09-30 06:53:29,191 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-616DDAA39227->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=8, request=AppendEntriesRequest:cid=7,entriesCount=0
2024-09-30 06:53:29,229 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-616DDAA39227->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=9, request=AppendEntriesRequest:cid=8,entriesCount=0
2024-09-30 06:53:29,266 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-616DDAA39227->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=10, request=AppendEntriesRequest:cid=9,entriesCount=0
2024-09-30 06:53:31,286 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:31,286 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:31,420 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:31,420 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testAddListener" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="1.874">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.LeaderElectionTests.testAddListener(LeaderElectionTests.java:397)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	Suppressed: java.lang.IllegalStateException: allLeaks.size = 2
		at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
		at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
		at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
		at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
		at org.apache.ratis.server.impl.MiniRaftCluster.close(MiniRaftCluster.java:833)
		at org.apache.ratis.server.impl.LeaderElectionTests.testAddListener(LeaderElectionTests.java:398)
		... 3 more
]]></error>
    <system-out><![CDATA[2024-09-30 06:53:31,428 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:53:31,428 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:53:31,428 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:53:31,428 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:53:31,430 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-422EF19509AC:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]
2024-09-30 06:53:31,430 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:53:31,431 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:53:31,431 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:53:31,431 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:53:31,431 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:53:31,431 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:53:31,431 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-422EF19509AC:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120], format? true
2024-09-30 06:53:31,432 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0
2024-09-30 06:53:31,432 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0 does not exist.
2024-09-30 06:53:31,432 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0
2024-09-30 06:53:31,432 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:31,433 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:31,433 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15113 (custom)
2024-09-30 06:53:31,433 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:31,433 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15114 (custom)
2024-09-30 06:53:31,433 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:31,433 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15112 (custom)
2024-09-30 06:53:31,434 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:31,434 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:31,434 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:31,434 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:31,435 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:31,435 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,435 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:31,436 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:31,438 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:31,438 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:31,439 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:31,439 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:31,439 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0] (custom)
2024-09-30 06:53:31,439 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:31,439 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:31,440 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-422EF19509AC:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] returns group-422EF19509AC:java.util.concurrent.CompletableFuture@245dbd09[Not completed]
2024-09-30 06:53:31,440 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-422EF19509AC:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120], format? true
2024-09-30 06:53:31,440 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1
2024-09-30 06:53:31,441 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1 does not exist.
2024-09-30 06:53:31,441 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1
2024-09-30 06:53:31,441 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:31,441 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:31,441 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15117 (custom)
2024-09-30 06:53:31,440 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-422EF19509AC:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] with BaseStateMachine:uninitialized
2024-09-30 06:53:31,442 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:31,442 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:31,442 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:31,442 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:31,442 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:31,442 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:31,442 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:31,442 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:31,442 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-422EF19509AC: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:31,442 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15118 (custom)
2024-09-30 06:53:31,442 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:31,443 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:31,443 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:31,443 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15116 (custom)
2024-09-30 06:53:31,443 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:31,443 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:31,443 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:31,443 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:31,443 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:31,444 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:31,444 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:31,444 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:31,444 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:31,444 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,444 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:31,445 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:31,445 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:31,445 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:31,445 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:31,445 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:31,445 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:31,445 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:31,446 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:31,447 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:31,447 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:31,447 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:31,447 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1] (custom)
2024-09-30 06:53:31,447 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:31,448 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:31,448 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-422EF19509AC:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] returns group-422EF19509AC:java.util.concurrent.CompletableFuture@15651402[Not completed]
2024-09-30 06:53:31,448 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-422EF19509AC:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] with BaseStateMachine:uninitialized
2024-09-30 06:53:31,449 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:31,449 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:31,449 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:31,449 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:31,449 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-422EF19509AC:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120], format? true
2024-09-30 06:53:31,449 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2
2024-09-30 06:53:31,449 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:31,450 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2 does not exist.
2024-09-30 06:53:31,450 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2
2024-09-30 06:53:31,450 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:31,450 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:31,450 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-422EF19509AC: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:31,450 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:31,451 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:31,451 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:31,451 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:31,451 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:31,451 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:31,451 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:31,451 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:31,452 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:31,452 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:31,452 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:31,452 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15121 (custom)
2024-09-30 06:53:31,453 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:31,453 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15122 (custom)
2024-09-30 06:53:31,453 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:31,453 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15120 (custom)
2024-09-30 06:53:31,454 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:31,454 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:31,454 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:31,454 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:31,454 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:31,455 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,455 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:31,455 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:31,453 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:31,456 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:31,456 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:31,457 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:31,457 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:31,458 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:31,458 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:31,458 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2] (custom)
2024-09-30 06:53:31,458 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:31,458 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:31,459 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-422EF19509AC:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] returns group-422EF19509AC:java.util.concurrent.CompletableFuture@66a50c93[Not completed]
2024-09-30 06:53:31,459 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-422EF19509AC:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] with BaseStateMachine:uninitialized
2024-09-30 06:53:31,459 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:31,459 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:31,460 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0] (custom)
2024-09-30 06:53:31,460 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac does not exist. Creating ...
2024-09-30 06:53:31,460 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac
2024-09-30 06:53:31,462 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:31,462 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:31,462 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:31,462 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:31,462 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:31,462 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:31,462 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current
2024-09-30 06:53:31,462 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/sm
2024-09-30 06:53:31,462 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7909151c
2024-09-30 06:53:31,463 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:31,463 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:31,463 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-422EF19509AC: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:31,463 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:31,464 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:31,464 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac has been successfully formatted.
2024-09-30 06:53:31,464 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:31,464 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:31,464 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,464 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:31,464 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:31,464 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:31,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:31,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:31,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,465 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:31,465 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-422EF19509AC-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:31,465 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-422EF19509AC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac
2024-09-30 06:53:31,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:31,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:31,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:31,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:31,465 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:31,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:31,466 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:31,466 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:31,466 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:31,466 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:31,466 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:31,467 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:31,467 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:31,467 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,467 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:31,467 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:31,467 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:31,467 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-422EF19509AC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:31,467 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-422EF19509AC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:31,468 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:31,468 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:31,468 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:31,468 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:31,468 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:31,468 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:31,470 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-422EF19509AC: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:31,470 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-422EF19509AC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:31,470 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-422EF19509AC-FollowerState
2024-09-30 06:53:31,470 [s0@group-422EF19509AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:31,471 [s0@group-422EF19509AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:31,471 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-422EF19509AC,id=s0
2024-09-30 06:53:31,471 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-422EF19509AC,id=s0
2024-09-30 06:53:31,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:31,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:31,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:31,471 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:31,472 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:31,472 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:53:31,473 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15114
2024-09-30 06:53:31,474 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15112
2024-09-30 06:53:31,474 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15113
2024-09-30 06:53:31,475 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:31,475 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:53:31,475 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:31,475 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1] (custom)
2024-09-30 06:53:31,475 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac does not exist. Creating ...
2024-09-30 06:53:31,476 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac
2024-09-30 06:53:31,479 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:31,480 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current
2024-09-30 06:53:31,480 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/sm
2024-09-30 06:53:31,480 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4937ad58
2024-09-30 06:53:31,481 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:31,481 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac has been successfully formatted.
2024-09-30 06:53:31,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:31,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:31,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:31,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:31,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:31,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:31,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:31,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,482 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-422EF19509AC-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:31,482 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-422EF19509AC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac
2024-09-30 06:53:31,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:31,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:31,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:31,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:31,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:31,482 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:31,483 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:31,483 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:31,483 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:31,483 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,483 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:31,483 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:31,483 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:31,484 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-422EF19509AC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:31,484 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-422EF19509AC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:31,486 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-422EF19509AC: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:31,486 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-422EF19509AC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:31,486 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-422EF19509AC-FollowerState
2024-09-30 06:53:31,486 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-422EF19509AC,id=s1
2024-09-30 06:53:31,486 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-422EF19509AC,id=s1
2024-09-30 06:53:31,486 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:31,486 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:31,486 [s1@group-422EF19509AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:31,486 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:31,487 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:31,487 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:31,487 [s1@group-422EF19509AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:31,487 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:53:31,487 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15118
2024-09-30 06:53:31,488 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15116
2024-09-30 06:53:31,488 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15117
2024-09-30 06:53:31,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:31,489 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:31,489 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2] (custom)
2024-09-30 06:53:31,489 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac does not exist. Creating ...
2024-09-30 06:53:31,489 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac
2024-09-30 06:53:31,489 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:53:31,490 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:31,490 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current
2024-09-30 06:53:31,490 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/sm
2024-09-30 06:53:31,490 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@27f6844c
2024-09-30 06:53:31,491 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:31,491 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac has been successfully formatted.
2024-09-30 06:53:31,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:31,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:31,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:31,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:31,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:31,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:31,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:31,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,494 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-422EF19509AC-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:31,494 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-422EF19509AC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac
2024-09-30 06:53:31,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:31,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:31,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:31,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:31,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:31,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:31,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:31,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:31,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:31,496 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,496 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:31,496 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:31,497 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:31,497 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-422EF19509AC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:31,497 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-422EF19509AC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:31,498 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-422EF19509AC: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:31,499 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-422EF19509AC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:31,499 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-422EF19509AC-FollowerState
2024-09-30 06:53:31,502 [s2@group-422EF19509AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:31,502 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-422EF19509AC,id=s2
2024-09-30 06:53:31,502 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-422EF19509AC,id=s2
2024-09-30 06:53:31,502 [s2@group-422EF19509AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:31,502 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:31,502 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:31,502 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:31,502 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:31,502 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:31,503 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:53:31,503 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15122
2024-09-30 06:53:31,504 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15120
2024-09-30 06:53:31,504 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15121
2024-09-30 06:53:31,504 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:53:31,504 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:31,505 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-422EF19509AC:t0, leader=null, voted=, raftlog=Memoized:s0@group-422EF19509AC-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-422EF19509AC:t0, leader=null, voted=, raftlog=Memoized:s1@group-422EF19509AC-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-422EF19509AC:t0, leader=null, voted=, raftlog=Memoized:s2@group-422EF19509AC-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null} RUNNING
2024-09-30 06:53:31,505 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-422EF19509AC:t0, leader=null, voted=, raftlog=Memoized:s0@group-422EF19509AC-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-422EF19509AC:t0, leader=null, voted=, raftlog=Memoized:s1@group-422EF19509AC-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-422EF19509AC:t0, leader=null, voted=, raftlog=Memoized:s2@group-422EF19509AC-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null} RUNNING
2024-09-30 06:53:31,669 [s2@group-422EF19509AC-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-422EF19509AC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:170096226ns, electionTimeout:166ms
2024-09-30 06:53:31,669 [s2@group-422EF19509AC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-422EF19509AC-FollowerState
2024-09-30 06:53:31,669 [s2@group-422EF19509AC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-422EF19509AC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:31,669 [s2@group-422EF19509AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:31,669 [s2@group-422EF19509AC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-422EF19509AC-LeaderElection19
2024-09-30 06:53:31,670 [s2@group-422EF19509AC-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-422EF19509AC-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:31,670 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:31,671 [s2@group-422EF19509AC-LeaderElection19-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15116
2024-09-30 06:53:31,670 [s2@group-422EF19509AC-LeaderElection19-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15112
2024-09-30 06:53:31,671 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:31,677 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-422EF19509AC: receive requestVote(PRE_VOTE, s2, group-422EF19509AC, 0, (t:0, i:0))
2024-09-30 06:53:31,677 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-422EF19509AC-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:31,677 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-422EF19509AC replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-422EF19509AC:t0, leader=null, voted=, raftlog=Memoized:s0@group-422EF19509AC-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:31,678 [s2@group-422EF19509AC-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-422EF19509AC-LeaderElection19: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:31,678 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-422EF19509AC: receive requestVote(PRE_VOTE, s2, group-422EF19509AC, 0, (t:0, i:0))
2024-09-30 06:53:31,678 [s2@group-422EF19509AC-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2024-09-30 06:53:31,678 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-422EF19509AC-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:31,678 [s2@group-422EF19509AC-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-422EF19509AC-LeaderElection19 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:31,678 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-422EF19509AC replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-422EF19509AC:t0, leader=null, voted=, raftlog=Memoized:s1@group-422EF19509AC-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:31,679 [s2@group-422EF19509AC-LeaderElection19] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@51b50d69
2024-09-30 06:53:31,680 [s2@group-422EF19509AC-LeaderElection19] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:31,680 [s2@group-422EF19509AC-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-422EF19509AC-LeaderElection19 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:31,680 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:31,680 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:31,681 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-422EF19509AC: receive requestVote(ELECTION, s2, group-422EF19509AC, 1, (t:0, i:0))
2024-09-30 06:53:31,681 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-422EF19509AC-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:31,681 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-422EF19509AC: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:53:31,681 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-422EF19509AC: receive requestVote(ELECTION, s2, group-422EF19509AC, 1, (t:0, i:0))
2024-09-30 06:53:31,681 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-422EF19509AC-FollowerState
2024-09-30 06:53:31,682 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-422EF19509AC-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:31,682 [s0@group-422EF19509AC-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-422EF19509AC-FollowerState was interrupted
2024-09-30 06:53:31,682 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-422EF19509AC-FollowerState
2024-09-30 06:53:31,682 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-422EF19509AC: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:53:31,682 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-422EF19509AC-FollowerState
2024-09-30 06:53:31,682 [s1@group-422EF19509AC-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-422EF19509AC-FollowerState was interrupted
2024-09-30 06:53:31,682 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-422EF19509AC: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:53:31,682 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-422EF19509AC-FollowerState
2024-09-30 06:53:31,683 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4fceefe7
2024-09-30 06:53:31,683 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-422EF19509AC: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:53:31,683 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5e80a628
2024-09-30 06:53:31,684 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:31,684 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-422EF19509AC replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-422EF19509AC:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-422EF19509AC-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:31,684 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:31,684 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-422EF19509AC replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-422EF19509AC:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-422EF19509AC-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:31,685 [s2@group-422EF19509AC-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-422EF19509AC-LeaderElection19: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:31,685 [s2@group-422EF19509AC-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2024-09-30 06:53:31,685 [s2@group-422EF19509AC-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-422EF19509AC-LeaderElection19 ELECTION round 0: result PASSED
2024-09-30 06:53:31,685 [s2@group-422EF19509AC-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-422EF19509AC-LeaderElection19
2024-09-30 06:53:31,685 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-422EF19509AC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:53:31,685 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:31,685 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:31,685 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:31,686 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:31,686 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:31,686 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:31,686 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:31,686 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:31,686 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:31,686 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:31,686 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:31,686 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:31,687 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:31,687 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,687 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:31,687 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:31,687 [s2@group-422EF19509AC-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:31,687 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:31,687 [s2@group-422EF19509AC-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:31,687 [s2@group-422EF19509AC-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:31,687 [s2@group-422EF19509AC-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:31,687 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:31,687 [s2@group-422EF19509AC-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:31,688 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:31,688 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,688 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:31,688 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:31,688 [s2@group-422EF19509AC-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:31,688 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:31,688 [s2@group-422EF19509AC-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:31,688 [s2@group-422EF19509AC-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:31,689 [s2@group-422EF19509AC-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:31,689 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:31,689 [s2@group-422EF19509AC-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:31,689 [s2@group-422EF19509AC-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-422EF19509AC-LeaderStateImpl
2024-09-30 06:53:31,689 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-422EF19509AC: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:53:31,689 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-422EF19509AC: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 225ms
2024-09-30 06:53:31,689 [s2@group-422EF19509AC-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-422EF19509AC-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:31,689 [s2@group-422EF19509AC-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-422EF19509AC: set configuration conf: {index: 0, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:31,690 [s2@group-422EF19509AC-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:31,704 [s2@group-422EF19509AC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-422EF19509AC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/log_inprogress_0
2024-09-30 06:53:31,714 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-422EF19509AC: change Leader from null to s2 at term 1 for appendEntries, leader elected after 271ms
2024-09-30 06:53:31,714 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-422EF19509AC: change Leader from null to s2 at term 1 for appendEntries, leader elected after 263ms
2024-09-30 06:53:31,715 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-422EF19509AC: appendEntries* s2->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15112"dataStreamAddress:"localhost:15115"clientAddress:"localhost:15114"adminAddress:"localhost:15113"startupRole:FOLLOWER, id:"s1"address:"localhost:15116"dataStreamAddress:"localhost:15119"clientAddress:"localhost:15118"adminAddress:"localhost:15117"startupRole:FOLLOWER, id:"s2"address:"localhost:15120"dataStreamAddress:"localhost:15123"clientAddress:"localhost:15122"adminAddress:"localhost:15121"startupRole:FOLLOWER, old:)
2024-09-30 06:53:31,715 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-422EF19509AC: set configuration conf: {index: 0, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:31,715 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-422EF19509AC-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:31,716 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-422EF19509AC: appendEntries* s2->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15112"dataStreamAddress:"localhost:15115"clientAddress:"localhost:15114"adminAddress:"localhost:15113"startupRole:FOLLOWER, id:"s1"address:"localhost:15116"dataStreamAddress:"localhost:15119"clientAddress:"localhost:15118"adminAddress:"localhost:15117"startupRole:FOLLOWER, id:"s2"address:"localhost:15120"dataStreamAddress:"localhost:15123"clientAddress:"localhost:15122"adminAddress:"localhost:15121"startupRole:FOLLOWER, old:)
2024-09-30 06:53:31,716 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-422EF19509AC: set configuration conf: {index: 0, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:31,716 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-422EF19509AC-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:31,716 [s1@group-422EF19509AC-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:31,719 [s0@group-422EF19509AC-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:31,732 [s0@group-422EF19509AC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-422EF19509AC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/log_inprogress_0
2024-09-30 06:53:31,732 [s1@group-422EF19509AC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-422EF19509AC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/log_inprogress_0
2024-09-30 06:53:31,733 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-422EF19509AC: appendEntries* reply s2<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:31,733 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-422EF19509AC: appendEntries* reply s2<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:31,734 [s2@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@25faa60c
2024-09-30 06:53:31,735 [s2@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:31,735 [s2@group-422EF19509AC-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s2@group-422EF19509AC-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:53:31,810 [s0@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1d52e877
2024-09-30 06:53:31,810 [s1@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4549fbfe
2024-09-30 06:53:31,813 [s0@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:31,813 [s1@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:31,955 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-422EF19509AC:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-422EF19509AC-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-422EF19509AC:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-422EF19509AC-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-422EF19509AC:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-422EF19509AC-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null} RUNNING
2024-09-30 06:53:31,956 [main] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:31,956 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-E1B7262D6B23: get 8 returns []
2024-09-30 06:53:31,956 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-E1B7262D6B23->s2@group-422EF19509AC, cid=8, seq=null, RW, message
2024-09-30 06:53:31,962 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s2@group-422EF19509AC: receive client request(RaftClientRequest:client-E1B7262D6B23->s2@group-422EF19509AC, cid=8, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:31,963 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s2@group-422EF19509AC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-E1B7262D6B23->s2@group-422EF19509AC, cid=8, seq=null, RW, Message:6d657373616765, entry=(t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:53:31,965 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-422EF19509AC: appendEntries* s2->s0#6-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:8@client-E1B7262D6B23
2024-09-30 06:53:31,965 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-422EF19509AC: appendEntries* reply s2<-s0#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:31,966 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-422EF19509AC: appendEntries* s2->s1#7-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:8@client-E1B7262D6B23
2024-09-30 06:53:31,967 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-422EF19509AC: appendEntries* reply s2<-s1#7:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:31,968 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-E1B7262D6B23: add replied callId 8
2024-09-30 06:53:31,968 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(468)) - Add new peers [s3]
2024-09-30 06:53:31,968 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s3, group-422EF19509AC:[s3|localhost:15124, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120], format? true
2024-09-30 06:53:31,968 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3
2024-09-30 06:53:31,969 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3 does not exist.
2024-09-30 06:53:31,969 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3
2024-09-30 06:53:31,969 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:31,968 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-422EF19509AC: appendEntries* s2->s1#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:31,968 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-422EF19509AC: appendEntries* s2->s0#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:31,969 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:31,970 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-422EF19509AC: appendEntries* reply s2<-s1#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:31,970 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15125 (custom)
2024-09-30 06:53:31,970 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:31,970 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15126 (custom)
2024-09-30 06:53:31,970 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:31,970 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15124 (custom)
2024-09-30 06:53:31,970 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:31,971 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:31,971 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:31,971 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:31,971 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:31,971 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,971 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:31,971 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-422EF19509AC: appendEntries* reply s2<-s0#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:31,971 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:31,973 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:31,973 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:31,973 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:31,973 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:31,974 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3] (custom)
2024-09-30 06:53:31,974 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:31,974 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:31,974 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-422EF19509AC:[s3|localhost:15124, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] returns group-422EF19509AC:java.util.concurrent.CompletableFuture@426940f9[Not completed]
2024-09-30 06:53:31,974 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s3: new RaftServerImpl for group-422EF19509AC:[s3|localhost:15124, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] with BaseStateMachine:uninitialized
2024-09-30 06:53:31,974 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s3@group-422EF19509AC: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:31,975 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:31,976 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:31,976 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:31,976 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:31,976 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:31,976 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:31,976 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:31,976 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:31,976 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:31,976 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3] (custom)
2024-09-30 06:53:31,976 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac does not exist. Creating ...
2024-09-30 06:53:31,977 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac
2024-09-30 06:53:31,977 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:31,977 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current
2024-09-30 06:53:31,977 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/sm
2024-09-30 06:53:31,978 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@db59f45
2024-09-30 06:53:31,978 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:31,978 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac has been successfully formatted.
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-422EF19509AC-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-422EF19509AC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:31,979 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:31,980 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:31,980 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:31,980 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:31,980 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:31,980 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:31,980 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:31,980 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:31,981 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,981 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:31,981 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:31,981 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:31,982 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-422EF19509AC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:31,982 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-422EF19509AC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:31,982 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(395)) - s3@group-422EF19509AC: start as a listener, conf=conf: {index: -1, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124], old=null}
2024-09-30 06:53:31,982 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-422EF19509AC: changes role from      null to LISTENER at term 0 for startAsListener
2024-09-30 06:53:31,982 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-422EF19509AC-FollowerState
2024-09-30 06:53:31,982 [s3@group-422EF19509AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:31,982 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-422EF19509AC,id=s3
2024-09-30 06:53:31,982 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-422EF19509AC,id=s3
2024-09-30 06:53:31,982 [s3@group-422EF19509AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:31,983 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:31,983 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:31,983 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:31,983 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:31,983 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:31,983 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s3: start RPC server
2024-09-30 06:53:31,983 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15126
2024-09-30 06:53:31,984 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15124
2024-09-30 06:53:31,984 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15125
2024-09-30 06:53:31,984 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-09-30 06:53:31,984 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest SetConfigurationRequest:client-E1B7262D6B23->s2@group-422EF19509AC, cid=9, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120], listeners:[s3|0.0.0.0:15124]
2024-09-30 06:53:31,989 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1332)) - s2@group-422EF19509AC: receive setConfiguration SetConfigurationRequest:client-E1B7262D6B23->s2@group-422EF19509AC, cid=9, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120], listeners:[s3|0.0.0.0:15124]
2024-09-30 06:53:31,989 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(486)) - s2@group-422EF19509AC-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-E1B7262D6B23->s2@group-422EF19509AC, cid=9, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120], listeners:[s3|0.0.0.0:15124]
2024-09-30 06:53:31,990 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:31,990 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:31,990 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:31,990 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:31,990 [s2-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:31,991 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:31,991 [s2-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:31,991 [s2-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:31,991 [s2-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:31,991 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:31,991 [s2-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:31,991 [s2@group-422EF19509AC->s3-GrpcLogAppender-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:setAttemptedToInstallSnapshot(154)) - Follower s2@group-422EF19509AC->s3 acknowledged installing snapshot
2024-09-30 06:53:31,992 [s2@group-422EF19509AC->s3-GrpcLogAppender-LogAppenderDaemon] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|0.0.0.0:15124
2024-09-30 06:53:31,997 [s3-server-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@50267fbd
2024-09-30 06:53:31,998 [s3-server-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:31,998 [s3-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s3@group-422EF19509AC: set firstElectionSinceStartup to false for appendEntries
2024-09-30 06:53:31,998 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-422EF19509AC: change Leader from null to s2 at term 1 for appendEntries, leader elected after 23ms
2024-09-30 06:53:31,999 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-422EF19509AC: appendEntries* s2->s3#1-t1,previous=(t:0, i:0),leaderCommit=2,initializing? true,entries: size=3, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15112"dataStreamAddress:"localhost:15115"clientAddress:"localhost:15114"adminAddress:"localhost:15113"startupRole:FOLLOWER, id:"s1"address:"localhost:15116"dataStreamAddress:"localhost:15119"clientAddress:"localhost:15118"adminAddress:"localhost:15117"startupRole:FOLLOWER, id:"s2"address:"localhost:15120"dataStreamAddress:"localhost:15123"clientAddress:"localhost:15122"adminAddress:"localhost:15121"startupRole:FOLLOWER, old:)
2024-09-30 06:53:32,000 [s3-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-422EF19509AC: set configuration conf: {index: 0, cur=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[], old=null}
2024-09-30 06:53:32,000 [s3-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s3@group-422EF19509AC-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:32,000 [s3@group-422EF19509AC-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:32,009 [s3@group-422EF19509AC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-422EF19509AC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/log_inprogress_0
2024-09-30 06:53:32,010 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-422EF19509AC: appendEntries* reply s2<-s3#1:OK-t1,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2024-09-30 06:53:32,010 [s3@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1bbdbca6
2024-09-30 06:53:32,011 [s2@group-422EF19509AC-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-422EF19509AC: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[]}
2024-09-30 06:53:32,011 [s3@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:32,013 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-422EF19509AC: appendEntries* s2->s0#11-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15112"clientAddress:"0.0.0.0:15114"adminAddress:"0.0.0.0:15113"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15116"clientAddress:"0.0.0.0:15118"adminAddress:"0.0.0.0:15117"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15120"clientAddress:"0.0.0.0:15122"adminAddress:"0.0.0.0:15121"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15112"dataStreamAddress:"localhost:15115"clientAddress:"localhost:15114"adminAddress:"localhost:15113"startupRole:FOLLOWER, id:"s1"address:"localhost:15116"dataStreamAddress:"localhost:15119"clientAddress:"localhost:15118"adminAddress:"localhost:15117"startupRole:FOLLOWER, id:"s2"address:"localhost:15120"dataStreamAddress:"localhost:15123"clientAddress:"localhost:15122"adminAddress:"localhost:15121"startupRole:FOLLOWER)
2024-09-30 06:53:32,013 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-422EF19509AC: appendEntries* s2->s1#12-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15112"clientAddress:"0.0.0.0:15114"adminAddress:"0.0.0.0:15113"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15116"clientAddress:"0.0.0.0:15118"adminAddress:"0.0.0.0:15117"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15120"clientAddress:"0.0.0.0:15122"adminAddress:"0.0.0.0:15121"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15112"dataStreamAddress:"localhost:15115"clientAddress:"localhost:15114"adminAddress:"localhost:15113"startupRole:FOLLOWER, id:"s1"address:"localhost:15116"dataStreamAddress:"localhost:15119"clientAddress:"localhost:15118"adminAddress:"localhost:15117"startupRole:FOLLOWER, id:"s2"address:"localhost:15120"dataStreamAddress:"localhost:15123"clientAddress:"localhost:15122"adminAddress:"localhost:15121"startupRole:FOLLOWER)
2024-09-30 06:53:32,013 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-422EF19509AC: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[]}
2024-09-30 06:53:32,013 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-422EF19509AC: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[]}
2024-09-30 06:53:32,014 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-422EF19509AC: appendEntries* reply s2<-s0#11:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:32,014 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-422EF19509AC: appendEntries* reply s2<-s1#12:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:32,015 [s2@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2f02cd7c
2024-09-30 06:53:32,015 [s2@group-422EF19509AC-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-422EF19509AC: set configuration conf: {index: 5, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=null}
2024-09-30 06:53:32,016 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-422EF19509AC: appendEntries* s2->s3#3-t1,previous=(t:1, i:2),leaderCommit=2,initializing? true,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15112"clientAddress:"0.0.0.0:15114"adminAddress:"0.0.0.0:15113"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15116"clientAddress:"0.0.0.0:15118"adminAddress:"0.0.0.0:15117"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15120"clientAddress:"0.0.0.0:15122"adminAddress:"0.0.0.0:15121"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15112"dataStreamAddress:"localhost:15115"clientAddress:"localhost:15114"adminAddress:"localhost:15113"startupRole:FOLLOWER, id:"s1"address:"localhost:15116"dataStreamAddress:"localhost:15119"clientAddress:"localhost:15118"adminAddress:"localhost:15117"startupRole:FOLLOWER, id:"s2"address:"localhost:15120"dataStreamAddress:"localhost:15123"clientAddress:"localhost:15122"adminAddress:"localhost:15121"startupRole:FOLLOWER)
2024-09-30 06:53:32,016 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-422EF19509AC: appendEntries* s2->s1#13-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=2, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:32,017 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-422EF19509AC: set configuration conf: {index: 5, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=null}
2024-09-30 06:53:32,017 [s2@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:32,017 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-422EF19509AC: appendEntries* reply s2<-s1#13:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:53:32,017 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-422EF19509AC: appendEntries* s2->s0#12-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=2, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:32,017 [s1@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4b8e0d27
2024-09-30 06:53:32,018 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-422EF19509AC: set configuration conf: {index: 5, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=null}
2024-09-30 06:53:32,018 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-422EF19509AC: appendEntries* reply s2<-s0#12:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:53:32,018 [s0@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@139515ad
2024-09-30 06:53:32,019 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-422EF19509AC: appendEntries* s2->s1#14-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:32,020 [s1@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:32,020 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-E1B7262D6B23: add replied callId 9
2024-09-30 06:53:32,020 [s1@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4fb1908e
2024-09-30 06:53:32,020 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-422EF19509AC: appendEntries* reply s2<-s1#14:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:53:32,020 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-422EF19509AC: appendEntries* s2->s0#14-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:32,020 [s2@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6a0056f8
2024-09-30 06:53:32,020 [main] DEBUG client.RaftClient (RaftClientImpl.java:close(465)) - close client-E1B7262D6B23
2024-09-30 06:53:32,021 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-422EF19509AC: appendEntries* reply s2<-s0#14:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:53:32,021 [s0@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:32,021 [s0@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@17aa8307
2024-09-30 06:53:32,022 [s1@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s1/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:32,023 [s3-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-422EF19509AC: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[]}
2024-09-30 06:53:32,023 [s2@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s2/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:32,023 [s0@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s0/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:32,025 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-422EF19509AC: appendEntries* reply s2<-s3#3:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:32,025 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-422EF19509AC: appendEntries* s2->s3#4-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:32,026 [s3@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@157a41a1
2024-09-30 06:53:32,027 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-422EF19509AC: appendEntries* s2->s3#5-t1,previous=(t:1, i:4),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:5), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15112"clientAddress:"0.0.0.0:15114"adminAddress:"0.0.0.0:15113"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15116"clientAddress:"0.0.0.0:15118"adminAddress:"0.0.0.0:15117"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15120"clientAddress:"0.0.0.0:15122"adminAddress:"0.0.0.0:15121"startupRole:FOLLOWER, old:)
2024-09-30 06:53:32,027 [s3-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-422EF19509AC: set configuration conf: {index: 5, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=null}
2024-09-30 06:53:32,027 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:32,028 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:32,028 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:32,028 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:32,028 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:32,028 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-422EF19509AC: appendEntries* reply s2<-s3#4:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:53:32,028 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-422EF19509AC: appendEntries* reply s2<-s3#5:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:53:32,028 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-422EF19509AC:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-422EF19509AC-SegmentedRaftLog:OPENED:c3:last(t:1, i:5), conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-422EF19509AC:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-422EF19509AC-SegmentedRaftLog:OPENED:c5:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-422EF19509AC:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-422EF19509AC-SegmentedRaftLog:OPENED:c5:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-422EF19509AC:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-422EF19509AC-SegmentedRaftLog:OPENED:c6:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=null} RUNNING
2024-09-30 06:53:32,029 [s3@group-422EF19509AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc31e7c5b5/s3/b2cba358-433a-407e-8251-422ef19509ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:32,029 [MiniRaftCluster-41] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s3: close
2024-09-30 06:53:32,030 [MiniRaftCluster-42] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:53:32,030 [MiniRaftCluster-43] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:53:32,030 [MiniRaftCluster-41] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:32,030 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s3@group-422EF19509AC: shutdown
2024-09-30 06:53:32,031 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-422EF19509AC,id=s3
2024-09-30 06:53:32,031 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-422EF19509AC-FollowerState
2024-09-30 06:53:32,031 [MiniRaftCluster-42] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:32,031 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-422EF19509AC: shutdown
2024-09-30 06:53:32,031 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-422EF19509AC,id=s1
2024-09-30 06:53:32,031 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-422EF19509AC-FollowerState
2024-09-30 06:53:32,031 [MiniRaftCluster-43] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:32,031 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-422EF19509AC: shutdown
2024-09-30 06:53:32,031 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-422EF19509AC,id=s0
2024-09-30 06:53:32,031 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-422EF19509AC-FollowerState
2024-09-30 06:53:32,031 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-422EF19509AC-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:53:32,031 [MiniRaftCluster-41] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:32,031 [MiniRaftCluster-41] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:32,031 [s0@group-422EF19509AC-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-422EF19509AC-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:5)
2024-09-30 06:53:32,032 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s3: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:32,032 [MiniRaftCluster-41] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:32,032 [MiniRaftCluster-41] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:32,033 [grpc-default-executor-0] WARN  server.GrpcLogAppender (LogUtils.java:warn(121)) - s2@group-422EF19509AC->s3-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2024-09-30 06:53:32,033 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s2@group-422EF19509AC->s3-GrpcLogAppender: Follower failed (request=null, errorCount=1); keep nextIndex (7) unchanged and retry.
2024-09-30 06:53:32,033 [MiniRaftCluster-41] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:32,031 [s0@group-422EF19509AC-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-422EF19509AC-FollowerState was interrupted
2024-09-30 06:53:32,034 [MiniRaftCluster-44] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:53:32,034 [s0@group-422EF19509AC-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-422EF19509AC-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:32,034 [s3-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s3@group-422EF19509AC: Failed appendEntries* s2->s3#6-t1,previous=(t:1, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s3@group-422EF19509AC is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:32,035 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s3: Failed APPEND_ENTRIES request cid=6, isHeartbeat? false
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s3@group-422EF19509AC is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:122)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s3@group-422EF19509AC is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	... 5 more
2024-09-30 06:53:32,037 [MiniRaftCluster-43] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:32,038 [MiniRaftCluster-43] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:32,036 [s3@group-422EF19509AC-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s3@group-422EF19509AC-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:3)
2024-09-30 06:53:32,036 [MiniRaftCluster-42] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:32,038 [MiniRaftCluster-42] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:32,036 [s3@group-422EF19509AC-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s3@group-422EF19509AC-FollowerState was interrupted
2024-09-30 06:53:32,036 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s3@group-422EF19509AC-StateMachineUpdater: set stopIndex = 3
2024-09-30 06:53:32,036 [s1@group-422EF19509AC-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-422EF19509AC-FollowerState was interrupted
2024-09-30 06:53:32,036 [s1@group-422EF19509AC-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-422EF19509AC-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:5)
2024-09-30 06:53:32,036 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-422EF19509AC-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:53:32,035 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-422EF19509AC: shutdown
2024-09-30 06:53:32,035 [MiniRaftCluster-44] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:32,039 [s3@group-422EF19509AC-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-422EF19509AC-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:32,040 [grpc-default-executor-5] WARN  server.GrpcLogAppender (LogUtils.java:warn(121)) - s2@group-422EF19509AC->s1-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2024-09-30 06:53:32,041 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s2@group-422EF19509AC->s1-GrpcLogAppender: Follower failed (request=null, errorCount=1); keep nextIndex (7) unchanged and retry.
2024-09-30 06:53:32,039 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-422EF19509AC,id=s2
2024-09-30 06:53:32,041 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-422EF19509AC-LeaderStateImpl
2024-09-30 06:53:32,039 [s1@group-422EF19509AC-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-422EF19509AC-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:32,041 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: s2->s0#14-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:32,041 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s2@group-422EF19509AC->s0-GrpcLogAppender is already stopped
2024-09-30 06:53:32,041 [MiniRaftCluster-42] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:32,040 [MiniRaftCluster-43] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:32,041 [MiniRaftCluster-43] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:32,040 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: APPEND_ENTRIES onError, lastRequest: s2->s1#14-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:32,039 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s3: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:32,039 [grpc-default-executor-4] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:32,042 [MiniRaftCluster-43] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:32,042 [s2@group-422EF19509AC->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-422EF19509AC->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:32,041 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:32,041 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s2@group-422EF19509AC->s0-GrpcLogAppender is already stopped
2024-09-30 06:53:32,041 [MiniRaftCluster-42] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:32,043 [Thread-663] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-09-30 06:53:32,043 [MiniRaftCluster-42] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:32,044 [Thread-664] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:32,043 [s2@group-422EF19509AC->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-422EF19509AC->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:32,043 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-422EF19509AC-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:32,043 [s2@group-422EF19509AC->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-422EF19509AC->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:32,044 [Thread-665] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:32,045 [MiniRaftCluster-44] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:32,045 [MiniRaftCluster-44] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:32,045 [s2@group-422EF19509AC-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-422EF19509AC-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:6)
2024-09-30 06:53:32,045 [MiniRaftCluster-44] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:32,045 [MiniRaftCluster-44] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:32,045 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-422EF19509AC-StateMachineUpdater: set stopIndex = 6
2024-09-30 06:53:32,045 [s2@group-422EF19509AC-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-422EF19509AC-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:32,050 [MiniRaftCluster-44] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:33,020 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-422EF19509AC-SegmentedRaftLogWorker close()
2024-09-30 06:53:33,021 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:53:33,021 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-422EF19509AC-SegmentedRaftLogWorker close()
2024-09-30 06:53:33,022 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:53:33,023 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-422EF19509AC-SegmentedRaftLogWorker close()
2024-09-30 06:53:33,023 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:53:33,029 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s3@group-422EF19509AC-SegmentedRaftLogWorker close()
2024-09-30 06:53:33,030 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-09-30 06:53:33,030 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:33,030 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:33,169 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:33,169 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:33,169 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:33,169 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:33,169 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:33,169 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:33,169 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:33,170 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s3:   CLOSED  LISTENER s3@group-422EF19509AC:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-422EF19509AC-SegmentedRaftLog:CLOSED:c3, conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=null} CLOSED
  s0:   CLOSED  FOLLOWER s0@group-422EF19509AC:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-422EF19509AC-SegmentedRaftLog:CLOSED:c5, conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=null} CLOSED
  s1:   CLOSED  FOLLOWER s1@group-422EF19509AC:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-422EF19509AC-SegmentedRaftLog:CLOSED:c5, conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=null} CLOSED
  s2:   CLOSED    LEADER s2@group-422EF19509AC:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-422EF19509AC-SegmentedRaftLog:CLOSED:c6, conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15112, s1|0.0.0.0:15116, s2|0.0.0.0:15120]|listeners:[s3|0.0.0.0:15124], old=null} CLOSED
2024-09-30 06:53:33,170 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:33,171 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:33,301 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:33,301 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testTransferLeaderTimeout" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="6.83">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeaderTimeout(LeaderElectionTests.java:293)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	Suppressed: java.lang.IllegalStateException: allLeaks.size = 2
		at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
		at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
		at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
		at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
		at org.apache.ratis.server.impl.MiniRaftCluster.close(MiniRaftCluster.java:833)
		at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeaderTimeout(LeaderElectionTests.java:294)
		... 3 more
]]></error>
    <system-out><![CDATA[2024-09-30 06:53:33,303 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:53:33,303 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:53:33,303 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:53:33,303 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:53:33,305 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-55A6EB2CED73:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]
2024-09-30 06:53:33,305 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:53:33,305 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:53:33,305 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:53:33,305 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:53:33,305 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:53:33,305 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:53:33,305 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-55A6EB2CED73:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136], format? true
2024-09-30 06:53:33,306 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0
2024-09-30 06:53:33,306 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0 does not exist.
2024-09-30 06:53:33,306 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0
2024-09-30 06:53:33,306 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:33,306 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:33,307 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15129 (custom)
2024-09-30 06:53:33,307 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:33,307 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15130 (custom)
2024-09-30 06:53:33,307 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:33,307 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15128 (custom)
2024-09-30 06:53:33,307 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:33,307 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:33,307 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:33,307 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:33,308 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:33,308 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,308 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:33,308 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:33,310 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:33,310 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:33,311 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:33,311 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:33,311 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0] (custom)
2024-09-30 06:53:33,311 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:33,311 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:33,312 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-55A6EB2CED73:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136] returns group-55A6EB2CED73:java.util.concurrent.CompletableFuture@31434b63[Not completed]
2024-09-30 06:53:33,312 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-55A6EB2CED73:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136] with BaseStateMachine:uninitialized
2024-09-30 06:53:33,312 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-55A6EB2CED73:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136], format? true
2024-09-30 06:53:33,312 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1
2024-09-30 06:53:33,312 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:33,312 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1 does not exist.
2024-09-30 06:53:33,312 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1
2024-09-30 06:53:33,312 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:33,312 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:33,313 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:33,313 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:33,313 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:33,313 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:33,313 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:33,313 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15133 (custom)
2024-09-30 06:53:33,313 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:33,313 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:33,313 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15134 (custom)
2024-09-30 06:53:33,313 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:33,314 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15132 (custom)
2024-09-30 06:53:33,313 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-55A6EB2CED73: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:33,314 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:33,314 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:33,314 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:33,314 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:33,314 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:33,314 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:33,314 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:33,314 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:33,314 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:33,314 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:33,314 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:33,315 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,315 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:33,315 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:33,315 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:33,315 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:33,315 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:33,316 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:33,316 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:33,316 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:33,316 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:33,316 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:33,316 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:33,316 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:33,317 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1] (custom)
2024-09-30 06:53:33,317 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:33,317 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:33,317 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-55A6EB2CED73:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136] returns group-55A6EB2CED73:java.util.concurrent.CompletableFuture@3d5e0bf0[Not completed]
2024-09-30 06:53:33,317 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-55A6EB2CED73:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136] with BaseStateMachine:uninitialized
2024-09-30 06:53:33,317 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-55A6EB2CED73:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136], format? true
2024-09-30 06:53:33,317 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2
2024-09-30 06:53:33,317 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:33,318 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2 does not exist.
2024-09-30 06:53:33,318 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2
2024-09-30 06:53:33,318 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:33,318 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:33,318 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:33,318 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:33,318 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:33,318 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:33,318 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:33,318 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15137 (custom)
2024-09-30 06:53:33,318 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:33,318 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:33,318 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-55A6EB2CED73: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:33,319 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15138 (custom)
2024-09-30 06:53:33,319 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:33,319 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:33,319 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15136 (custom)
2024-09-30 06:53:33,319 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:33,319 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:33,319 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:33,319 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:33,319 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:33,319 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:33,319 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:33,320 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:33,320 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,320 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:33,320 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:33,320 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:33,320 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:33,321 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:33,321 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:33,321 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:33,321 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:33,321 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:33,321 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:33,322 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:33,322 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:33,322 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:33,322 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:33,322 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2] (custom)
2024-09-30 06:53:33,322 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:33,323 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:33,323 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-55A6EB2CED73:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136] returns group-55A6EB2CED73:java.util.concurrent.CompletableFuture@5b407336[Not completed]
2024-09-30 06:53:33,323 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-55A6EB2CED73:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136] with BaseStateMachine:uninitialized
2024-09-30 06:53:33,323 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:33,323 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:33,323 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:33,323 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:33,324 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:33,324 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:33,324 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:33,324 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:33,324 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:33,324 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0] (custom)
2024-09-30 06:53:33,324 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-55A6EB2CED73: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:33,324 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:33,324 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:33,324 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73 does not exist. Creating ...
2024-09-30 06:53:33,324 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:33,324 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:33,324 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:33,324 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:33,325 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73
2024-09-30 06:53:33,325 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:33,325 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:33,325 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:33,325 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:33,325 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:33,325 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:33,326 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:33,326 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current
2024-09-30 06:53:33,326 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/sm
2024-09-30 06:53:33,327 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2224a051
2024-09-30 06:53:33,328 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:33,328 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73 has been successfully formatted.
2024-09-30 06:53:33,328 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:33,328 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:33,328 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,328 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:33,328 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:33,328 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:33,329 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:33,329 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:33,329 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,329 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-55A6EB2CED73-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:33,329 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-55A6EB2CED73-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73
2024-09-30 06:53:33,329 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:33,329 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:33,329 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:33,329 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:33,329 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:33,329 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:33,330 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:33,330 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:33,330 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:33,330 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,330 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:33,330 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:33,331 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:33,331 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-55A6EB2CED73-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:33,331 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-55A6EB2CED73-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:33,334 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-55A6EB2CED73: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:33,334 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-55A6EB2CED73: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:33,334 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-55A6EB2CED73-FollowerState
2024-09-30 06:53:33,334 [s0@group-55A6EB2CED73-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:33,334 [s0@group-55A6EB2CED73-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:33,335 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-55A6EB2CED73,id=s0
2024-09-30 06:53:33,335 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-55A6EB2CED73,id=s0
2024-09-30 06:53:33,335 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:33,335 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:33,335 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:33,335 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:33,335 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:33,335 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:53:33,337 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15130
2024-09-30 06:53:33,337 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15128
2024-09-30 06:53:33,338 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15129
2024-09-30 06:53:33,338 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:53:33,338 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:33,338 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:33,339 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1] (custom)
2024-09-30 06:53:33,339 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73 does not exist. Creating ...
2024-09-30 06:53:33,339 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73
2024-09-30 06:53:33,340 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:33,340 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current
2024-09-30 06:53:33,340 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/sm
2024-09-30 06:53:33,340 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@b44514a
2024-09-30 06:53:33,341 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:33,341 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73 has been successfully formatted.
2024-09-30 06:53:33,341 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:33,341 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:33,341 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,341 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:33,341 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-55A6EB2CED73-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-55A6EB2CED73-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:33,342 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:33,343 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:33,343 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,343 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:33,343 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:33,343 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:33,343 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-55A6EB2CED73-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:33,343 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-55A6EB2CED73-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:33,350 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-55A6EB2CED73: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:33,350 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-55A6EB2CED73: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:33,350 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-55A6EB2CED73-FollowerState
2024-09-30 06:53:33,350 [s1@group-55A6EB2CED73-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:33,350 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-55A6EB2CED73,id=s1
2024-09-30 06:53:33,351 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-55A6EB2CED73,id=s1
2024-09-30 06:53:33,350 [s1@group-55A6EB2CED73-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:33,351 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:33,351 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:33,351 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:33,351 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:33,351 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:33,351 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:53:33,352 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15134
2024-09-30 06:53:33,352 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15132
2024-09-30 06:53:33,352 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15133
2024-09-30 06:53:33,353 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:33,353 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:33,353 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2] (custom)
2024-09-30 06:53:33,353 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73 does not exist. Creating ...
2024-09-30 06:53:33,353 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73
2024-09-30 06:53:33,354 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:53:33,354 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:33,354 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current
2024-09-30 06:53:33,354 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/sm
2024-09-30 06:53:33,355 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@45f6ef42
2024-09-30 06:53:33,355 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:33,355 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73 has been successfully formatted.
2024-09-30 06:53:33,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:33,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:33,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:33,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:33,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:33,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:33,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:33,356 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,357 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-55A6EB2CED73-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:33,357 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-55A6EB2CED73-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73
2024-09-30 06:53:33,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:33,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:33,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:33,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:33,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:33,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:33,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:33,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:33,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:33,358 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,358 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:33,358 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:33,358 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:33,358 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-55A6EB2CED73-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:33,358 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-55A6EB2CED73-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:33,359 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-55A6EB2CED73: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:33,359 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-55A6EB2CED73: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:33,359 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-55A6EB2CED73-FollowerState
2024-09-30 06:53:33,359 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-55A6EB2CED73,id=s2
2024-09-30 06:53:33,359 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-55A6EB2CED73,id=s2
2024-09-30 06:53:33,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:33,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:33,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:33,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:33,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:33,360 [s2@group-55A6EB2CED73-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:33,360 [s2@group-55A6EB2CED73-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:33,360 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:53:33,360 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15138
2024-09-30 06:53:33,361 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15136
2024-09-30 06:53:33,361 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15137
2024-09-30 06:53:33,361 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:53:33,361 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:33,362 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-55A6EB2CED73:t0, leader=null, voted=, raftlog=Memoized:s0@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-55A6EB2CED73:t0, leader=null, voted=, raftlog=Memoized:s1@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-55A6EB2CED73:t0, leader=null, voted=, raftlog=Memoized:s2@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} RUNNING
2024-09-30 06:53:33,362 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-55A6EB2CED73:t0, leader=null, voted=, raftlog=Memoized:s0@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-55A6EB2CED73:t0, leader=null, voted=, raftlog=Memoized:s1@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-55A6EB2CED73:t0, leader=null, voted=, raftlog=Memoized:s2@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} RUNNING
2024-09-30 06:53:33,559 [s1@group-55A6EB2CED73-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-55A6EB2CED73-FollowerState: change to CANDIDATE, lastRpcElapsedTime:208540921ns, electionTimeout:208ms
2024-09-30 06:53:33,559 [s1@group-55A6EB2CED73-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-55A6EB2CED73-FollowerState
2024-09-30 06:53:33,559 [s1@group-55A6EB2CED73-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-55A6EB2CED73: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:33,559 [s1@group-55A6EB2CED73-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:33,559 [s1@group-55A6EB2CED73-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-55A6EB2CED73-LeaderElection20
2024-09-30 06:53:33,560 [s1@group-55A6EB2CED73-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-55A6EB2CED73-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:33,560 [s1@group-55A6EB2CED73-LeaderElection20-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15128
2024-09-30 06:53:33,560 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:33,560 [s1@group-55A6EB2CED73-LeaderElection20-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15136
2024-09-30 06:53:33,560 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:33,566 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s1, group-55A6EB2CED73, 0, (t:0, i:0))
2024-09-30 06:53:33,566 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-55A6EB2CED73-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:33,566 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-55A6EB2CED73 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-55A6EB2CED73:t0, leader=null, voted=, raftlog=Memoized:s0@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:33,567 [s1@group-55A6EB2CED73-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-55A6EB2CED73-LeaderElection20: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:33,567 [s1@group-55A6EB2CED73-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2024-09-30 06:53:33,567 [s1@group-55A6EB2CED73-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-55A6EB2CED73-LeaderElection20 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:33,567 [s1@group-55A6EB2CED73-LeaderElection20] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5202aa43
2024-09-30 06:53:33,568 [s1@group-55A6EB2CED73-LeaderElection20] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:33,568 [s1@group-55A6EB2CED73-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-55A6EB2CED73-LeaderElection20 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:33,574 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:33,574 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:33,575 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-55A6EB2CED73: receive requestVote(ELECTION, s1, group-55A6EB2CED73, 1, (t:0, i:0))
2024-09-30 06:53:33,575 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(ELECTION, s1, group-55A6EB2CED73, 1, (t:0, i:0))
2024-09-30 06:53:33,575 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-55A6EB2CED73-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:33,575 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-55A6EB2CED73-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:33,575 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-55A6EB2CED73: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s1
2024-09-30 06:53:33,575 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-55A6EB2CED73-FollowerState
2024-09-30 06:53:33,575 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-55A6EB2CED73: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s1
2024-09-30 06:53:33,575 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-55A6EB2CED73-FollowerState
2024-09-30 06:53:33,575 [s0@group-55A6EB2CED73-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-55A6EB2CED73-FollowerState was interrupted
2024-09-30 06:53:33,576 [s2@group-55A6EB2CED73-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-55A6EB2CED73-FollowerState was interrupted
2024-09-30 06:53:33,576 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-55A6EB2CED73-FollowerState
2024-09-30 06:53:33,576 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-55A6EB2CED73-FollowerState
2024-09-30 06:53:33,576 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-55A6EB2CED73: set firstElectionSinceStartup to false for candidate:s1
2024-09-30 06:53:33,576 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@13972b23
2024-09-30 06:53:33,576 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-55A6EB2CED73: set firstElectionSinceStartup to false for candidate:s1
2024-09-30 06:53:33,577 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@24d61771
2024-09-30 06:53:33,577 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:33,577 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-55A6EB2CED73 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-55A6EB2CED73:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:33,578 [s1@group-55A6EB2CED73-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-55A6EB2CED73-LeaderElection20: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:33,578 [s1@group-55A6EB2CED73-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2024-09-30 06:53:33,578 [s1@group-55A6EB2CED73-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-55A6EB2CED73-LeaderElection20 ELECTION round 0: result PASSED
2024-09-30 06:53:33,578 [s1@group-55A6EB2CED73-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-55A6EB2CED73-LeaderElection20
2024-09-30 06:53:33,578 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-55A6EB2CED73: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:53:33,578 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:33,578 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:33,578 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:33,578 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:33,578 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:33,578 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:33,579 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:33,579 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:33,579 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:33,579 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:33,579 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:33,579 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:33,579 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:33,579 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-55A6EB2CED73 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-55A6EB2CED73:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:33,579 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:33,579 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,580 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:33,580 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:33,580 [s1@group-55A6EB2CED73-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:33,580 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:33,580 [s1@group-55A6EB2CED73-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:33,580 [s1@group-55A6EB2CED73-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:33,580 [s1@group-55A6EB2CED73-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:33,580 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:33,580 [s1@group-55A6EB2CED73-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:33,580 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:33,580 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-55A6EB2CED73-LeaderStateImpl
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-55A6EB2CED73: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-55A6EB2CED73: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 262ms
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-55A6EB2CED73-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-55A6EB2CED73: set configuration conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:33,581 [s1@group-55A6EB2CED73-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:33,592 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-55A6EB2CED73: change Leader from null to s1 at term 1 for appendEntries, leader elected after 277ms
2024-09-30 06:53:33,593 [s1@group-55A6EB2CED73-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-55A6EB2CED73-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/log_inprogress_0
2024-09-30 06:53:33,594 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-55A6EB2CED73: change Leader from null to s1 at term 1 for appendEntries, leader elected after 269ms
2024-09-30 06:53:33,595 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-55A6EB2CED73: appendEntries* s1->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15128"dataStreamAddress:"localhost:15131"clientAddress:"localhost:15130"adminAddress:"localhost:15129"startupRole:FOLLOWER, id:"s1"address:"localhost:15132"dataStreamAddress:"localhost:15135"clientAddress:"localhost:15134"adminAddress:"localhost:15133"startupRole:FOLLOWER, id:"s2"address:"localhost:15136"dataStreamAddress:"localhost:15139"clientAddress:"localhost:15138"adminAddress:"localhost:15137"startupRole:FOLLOWER, old:)
2024-09-30 06:53:33,595 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-55A6EB2CED73: set configuration conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:33,595 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-55A6EB2CED73-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:33,595 [s0@group-55A6EB2CED73-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:33,595 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-55A6EB2CED73: appendEntries* s1->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15128"dataStreamAddress:"localhost:15131"clientAddress:"localhost:15130"adminAddress:"localhost:15129"startupRole:FOLLOWER, id:"s1"address:"localhost:15132"dataStreamAddress:"localhost:15135"clientAddress:"localhost:15134"adminAddress:"localhost:15133"startupRole:FOLLOWER, id:"s2"address:"localhost:15136"dataStreamAddress:"localhost:15139"clientAddress:"localhost:15138"adminAddress:"localhost:15137"startupRole:FOLLOWER, old:)
2024-09-30 06:53:33,596 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-55A6EB2CED73: set configuration conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:33,596 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-55A6EB2CED73-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:33,596 [s2@group-55A6EB2CED73-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:33,609 [s0@group-55A6EB2CED73-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-55A6EB2CED73-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/log_inprogress_0
2024-09-30 06:53:33,609 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-55A6EB2CED73: appendEntries* reply s1<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:33,609 [s2@group-55A6EB2CED73-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-55A6EB2CED73-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/log_inprogress_0
2024-09-30 06:53:33,610 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-55A6EB2CED73: appendEntries* reply s1<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:33,610 [s1@group-55A6EB2CED73-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@579f8d32
2024-09-30 06:53:33,611 [s1@group-55A6EB2CED73-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s1/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:33,611 [s1@group-55A6EB2CED73-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-55A6EB2CED73-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:53:33,688 [s0@group-55A6EB2CED73-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@791b814d
2024-09-30 06:53:33,688 [s2@group-55A6EB2CED73-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@40027465
2024-09-30 06:53:33,689 [s0@group-55A6EB2CED73-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s0/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:33,689 [s2@group-55A6EB2CED73-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb077ed0d/s2/f746da32-0c7c-4cfa-898f-55a6eb2ced73/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:33,813 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-55A6EB2CED73:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-55A6EB2CED73:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-55A6EB2CED73:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} RUNNING
2024-09-30 06:53:33,813 [main] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:33,813 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2024-09-30 06:53:33,814 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-6E14D392E46C: get 11 returns []
2024-09-30 06:53:33,814 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-6E14D392E46C->s1@group-55A6EB2CED73, cid=11, seq=null, RW, message
2024-09-30 06:53:33,815 [ForkJoinPool.commonPool-worker-1] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest TransferLeadershipRequest:client-6E14D392E46C->s1@group-55A6EB2CED73, cid=10, seq=null, RO, null
2024-09-30 06:53:33,821 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s1@group-55A6EB2CED73: receive client request(RaftClientRequest:client-6E14D392E46C->s1@group-55A6EB2CED73, cid=11, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:33,821 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s1@group-55A6EB2CED73-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-6E14D392E46C->s1@group-55A6EB2CED73, cid=11, seq=null, RW, Message:6d657373616765, entry=(t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:53:33,822 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-55A6EB2CED73: appendEntries* s1->s2#6-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:11@client-6E14D392E46C
2024-09-30 06:53:33,822 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-55A6EB2CED73: appendEntries* reply s1<-s2#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:33,823 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:53:33,827 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-6E14D392E46C: add replied callId 11
2024-09-30 06:53:33,828 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1222)) - s1@group-55A6EB2CED73: receive transferLeadership TransferLeadershipRequest:client-6E14D392E46C->s1@group-55A6EB2CED73, cid=10, seq=null, RO, null
2024-09-30 06:53:33,828 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-55A6EB2CED73: appendEntries* s1->s2#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:33,829 [s1-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(258)) - s1@group-55A6EB2CED73: start transferring leadership to s0
2024-09-30 06:53:33,829 [s1-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(269)) - s1@group-55A6EB2CED73: NOT_UP_TO_DATE(followerMatchIndex = 0 < leaderLastEntry.getIndex() = 2) notifying LogAppender to send AppendEntries to transferee s0
2024-09-30 06:53:33,831 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-55A6EB2CED73: appendEntries* reply s1<-s2#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:33,841 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:53:34,295 [s0@group-55A6EB2CED73-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-55A6EB2CED73-FollowerState: change to CANDIDATE, lastRpcElapsedTime:531280954ns, electionTimeout:286ms
2024-09-30 06:53:34,295 [s0@group-55A6EB2CED73-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-55A6EB2CED73-FollowerState
2024-09-30 06:53:34,295 [s0@group-55A6EB2CED73-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-55A6EB2CED73: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:53:34,296 [s0@group-55A6EB2CED73-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:34,296 [s0@group-55A6EB2CED73-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-55A6EB2CED73-LeaderElection21
2024-09-30 06:53:34,296 [s0@group-55A6EB2CED73-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-55A6EB2CED73: change Leader from s1 to null at term 1 for PRE_VOTE
2024-09-30 06:53:34,296 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:34,296 [s0@group-55A6EB2CED73-LeaderElection21-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15132
2024-09-30 06:53:34,296 [s0@group-55A6EB2CED73-LeaderElection21-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15136
2024-09-30 06:53:34,301 [grpc-default-executor-4] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:34,301 [grpc-default-executor-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:34,530 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:34,530 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 0: result TIMEOUT
2024-09-30 06:53:34,531 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 1: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:34,532 [grpc-default-executor-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:34,533 [grpc-default-executor-5] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:34,766 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:34,766 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 1: result TIMEOUT
2024-09-30 06:53:34,766 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 2: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:34,768 [grpc-default-executor-7] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:34,768 [grpc-default-executor-6] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:35,041 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:35,041 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 2: result TIMEOUT
2024-09-30 06:53:35,041 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 3: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:35,043 [grpc-default-executor-8] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:35,044 [grpc-default-executor-9] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:35,215 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:35,215 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 3: result TIMEOUT
2024-09-30 06:53:35,215 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 4: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:35,217 [grpc-default-executor-11] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:35,217 [grpc-default-executor-12] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:35,494 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:35,494 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 4: result TIMEOUT
2024-09-30 06:53:35,494 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 5: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:35,496 [grpc-default-executor-10] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:35,496 [grpc-default-executor-13] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:35,687 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:35,687 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 5: result TIMEOUT
2024-09-30 06:53:35,687 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 6: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:35,689 [grpc-default-executor-15] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:35,689 [grpc-default-executor-14] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:35,859 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:35,859 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 6: result TIMEOUT
2024-09-30 06:53:35,859 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 7: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:35,860 [grpc-default-executor-16] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:35,860 [grpc-default-executor-17] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:36,118 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:36,119 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 7: result TIMEOUT
2024-09-30 06:53:36,119 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 8: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:36,120 [grpc-default-executor-18] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:36,121 [grpc-default-executor-19] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:36,413 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:36,413 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 8: result TIMEOUT
2024-09-30 06:53:36,414 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 9: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:36,415 [grpc-default-executor-20] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:36,415 [grpc-default-executor-21] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:36,697 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:36,697 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 9: result TIMEOUT
2024-09-30 06:53:36,697 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 10: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:36,699 [grpc-default-executor-23] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:36,699 [grpc-default-executor-22] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:36,823 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out appendEntries, errorCount=1, request=AppendEntriesRequest:cid=5,entriesCount=1,entry=(t:1, i:1)
2024-09-30 06:53:36,828 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out appendEntries, errorCount=2, request=AppendEntriesRequest:cid=6,entriesCount=1,entry=(t:1, i:2)
2024-09-30 06:53:36,841 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=3, request=AppendEntriesRequest:cid=10,entriesCount=0
2024-09-30 06:53:36,878 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=4, request=AppendEntriesRequest:cid=11,entriesCount=0
2024-09-30 06:53:36,917 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=5, request=AppendEntriesRequest:cid=13,entriesCount=0
2024-09-30 06:53:36,918 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:36,918 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 10: result TIMEOUT
2024-09-30 06:53:36,918 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 11: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:36,920 [grpc-default-executor-24] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:36,920 [grpc-default-executor-25] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:36,954 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=6, request=AppendEntriesRequest:cid=14,entriesCount=0
2024-09-30 06:53:36,992 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=7, request=AppendEntriesRequest:cid=15,entriesCount=0
2024-09-30 06:53:37,030 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=8, request=AppendEntriesRequest:cid=16,entriesCount=0
2024-09-30 06:53:37,033 [timer3] WARN  server.GrpcLogAppender (LogUtils.java:warn(121)) - s2@group-422EF19509AC->s3-AppendLogResponseHandler: Failed appendEntries (Repeated 2 times in the last 5.001s): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2024-09-30 06:53:37,034 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s2@group-422EF19509AC->s3-GrpcLogAppender: Follower failed (request=null, errorCount=2); keep nextIndex (7) unchanged and retry. (Repeated 2 times in the last 5.001s)
2024-09-30 06:53:37,041 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s2@group-422EF19509AC->s1-GrpcLogAppender: Follower failed (request=null, errorCount=2); keep nextIndex (7) unchanged and retry. (Repeated 2 times in the last 5.001s)
2024-09-30 06:53:37,042 [timer5] WARN  server.GrpcLogAppender (LogUtils.java:warn(121)) - s2@group-422EF19509AC->s1-AppendLogResponseHandler: Failed appendEntries (Repeated 2 times in the last 5.001s): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2024-09-30 06:53:37,067 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=9, request=AppendEntriesRequest:cid=17,entriesCount=0
2024-09-30 06:53:37,101 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:37,101 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 11: result TIMEOUT
2024-09-30 06:53:37,101 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 12: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:37,103 [grpc-default-executor-27] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:37,103 [grpc-default-executor-26] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:37,107 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=10, request=AppendEntriesRequest:cid=18,entriesCount=0
2024-09-30 06:53:37,144 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=11, request=AppendEntriesRequest:cid=19,entriesCount=0
2024-09-30 06:53:37,182 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=12, request=AppendEntriesRequest:cid=20,entriesCount=0
2024-09-30 06:53:37,218 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=13, request=AppendEntriesRequest:cid=21,entriesCount=0
2024-09-30 06:53:37,256 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=14, request=AppendEntriesRequest:cid=22,entriesCount=0
2024-09-30 06:53:37,294 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=15, request=AppendEntriesRequest:cid=23,entriesCount=0
2024-09-30 06:53:37,332 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=16, request=AppendEntriesRequest:cid=24,entriesCount=0
2024-09-30 06:53:37,337 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:37,337 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 12: result TIMEOUT
2024-09-30 06:53:37,337 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 13: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:37,339 [grpc-default-executor-28] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:37,339 [grpc-default-executor-29] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:37,370 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=17, request=AppendEntriesRequest:cid=25,entriesCount=0
2024-09-30 06:53:37,408 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=18, request=AppendEntriesRequest:cid=26,entriesCount=0
2024-09-30 06:53:37,446 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=19, request=AppendEntriesRequest:cid=27,entriesCount=0
2024-09-30 06:53:37,483 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=20, request=AppendEntriesRequest:cid=28,entriesCount=0
2024-09-30 06:53:37,521 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=21, request=AppendEntriesRequest:cid=29,entriesCount=0
2024-09-30 06:53:37,559 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=22, request=AppendEntriesRequest:cid=30,entriesCount=0
2024-09-30 06:53:37,596 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=23, request=AppendEntriesRequest:cid=31,entriesCount=0
2024-09-30 06:53:37,621 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:37,621 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 13: result TIMEOUT
2024-09-30 06:53:37,621 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 14: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:37,623 [grpc-default-executor-30] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:37,623 [grpc-default-executor-31] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:37,634 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=24, request=AppendEntriesRequest:cid=32,entriesCount=0
2024-09-30 06:53:37,672 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=25, request=AppendEntriesRequest:cid=33,entriesCount=0
2024-09-30 06:53:37,709 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=26, request=AppendEntriesRequest:cid=34,entriesCount=0
2024-09-30 06:53:37,747 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=27, request=AppendEntriesRequest:cid=35,entriesCount=0
2024-09-30 06:53:37,784 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=28, request=AppendEntriesRequest:cid=36,entriesCount=0
2024-09-30 06:53:37,822 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=29, request=AppendEntriesRequest:cid=37,entriesCount=0
2024-09-30 06:53:37,859 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=30, request=AppendEntriesRequest:cid=38,entriesCount=0
2024-09-30 06:53:37,897 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=31, request=AppendEntriesRequest:cid=39,entriesCount=0
2024-09-30 06:53:37,903 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:37,903 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 14: result TIMEOUT
2024-09-30 06:53:37,903 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 15: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:37,904 [grpc-default-executor-33] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:37,905 [grpc-default-executor-32] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:37,935 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=32, request=AppendEntriesRequest:cid=40,entriesCount=0
2024-09-30 06:53:37,973 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=33, request=AppendEntriesRequest:cid=41,entriesCount=0
2024-09-30 06:53:38,011 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=34, request=AppendEntriesRequest:cid=42,entriesCount=0
2024-09-30 06:53:38,049 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=35, request=AppendEntriesRequest:cid=43,entriesCount=0
2024-09-30 06:53:38,087 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=36, request=AppendEntriesRequest:cid=44,entriesCount=0
2024-09-30 06:53:38,125 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=37, request=AppendEntriesRequest:cid=45,entriesCount=0
2024-09-30 06:53:38,163 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=38, request=AppendEntriesRequest:cid=46,entriesCount=0
2024-09-30 06:53:38,183 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:38,184 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 15: result TIMEOUT
2024-09-30 06:53:38,184 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 16: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:38,186 [grpc-default-executor-34] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:38,187 [grpc-default-executor-36] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:38,201 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=39, request=AppendEntriesRequest:cid=47,entriesCount=0
2024-09-30 06:53:38,239 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=40, request=AppendEntriesRequest:cid=48,entriesCount=0
2024-09-30 06:53:38,276 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=41, request=AppendEntriesRequest:cid=49,entriesCount=0
2024-09-30 06:53:38,315 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=42, request=AppendEntriesRequest:cid=50,entriesCount=0
2024-09-30 06:53:38,352 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=43, request=AppendEntriesRequest:cid=51,entriesCount=0
2024-09-30 06:53:38,389 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=44, request=AppendEntriesRequest:cid=52,entriesCount=0
2024-09-30 06:53:38,428 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=45, request=AppendEntriesRequest:cid=53,entriesCount=0
2024-09-30 06:53:38,428 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:38,428 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 16: result TIMEOUT
2024-09-30 06:53:38,428 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 17: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:38,430 [grpc-default-executor-35] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:38,430 [grpc-default-executor-37] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:38,466 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=46, request=AppendEntriesRequest:cid=54,entriesCount=0
2024-09-30 06:53:38,505 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=47, request=AppendEntriesRequest:cid=55,entriesCount=0
2024-09-30 06:53:38,541 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=48, request=AppendEntriesRequest:cid=56,entriesCount=0
2024-09-30 06:53:38,579 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=49, request=AppendEntriesRequest:cid=57,entriesCount=0
2024-09-30 06:53:38,616 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=50, request=AppendEntriesRequest:cid=58,entriesCount=0
2024-09-30 06:53:38,655 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=51, request=AppendEntriesRequest:cid=59,entriesCount=0
2024-09-30 06:53:38,691 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-09-30 06:53:38,691 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 17: result TIMEOUT
2024-09-30 06:53:38,691 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 18: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null}
2024-09-30 06:53:38,692 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=52, request=AppendEntriesRequest:cid=60,entriesCount=0
2024-09-30 06:53:38,692 [grpc-default-executor-39] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:53:38,692 [grpc-default-executor-38] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:53:38,730 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=53, request=AppendEntriesRequest:cid=61,entriesCount=0
2024-09-30 06:53:38,769 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=54, request=AppendEntriesRequest:cid=62,entriesCount=0
2024-09-30 06:53:38,806 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=55, request=AppendEntriesRequest:cid=63,entriesCount=0
2024-09-30 06:53:38,840 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-6E14D392E46C: get 12 returns [11]
2024-09-30 06:53:38,840 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-6E14D392E46C->s1@group-55A6EB2CED73, cid=12, seq=null, RW, message
2024-09-30 06:53:38,842 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s1@group-55A6EB2CED73: receive client request(RaftClientRequest:client-6E14D392E46C->s1@group-55A6EB2CED73, cid=12, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:38,842 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s1@group-55A6EB2CED73-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-6E14D392E46C->s1@group-55A6EB2CED73, cid=12, seq=null, RW, Message:6d657373616765, entry=(t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:53:38,843 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=56, request=AppendEntriesRequest:cid=64,entriesCount=0
2024-09-30 06:53:38,843 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-55A6EB2CED73: appendEntries* s1->s2#74-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), STATEMACHINELOGENTRY, StateMachineLogEntryProto:12@client-6E14D392E46C
2024-09-30 06:53:38,844 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-55A6EB2CED73: appendEntries* reply s1<-s2#74:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:38,846 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-55A6EB2CED73: appendEntries* s1->s2#75-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:38,846 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-55A6EB2CED73: appendEntries* reply s1<-s2#75:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:53:38,847 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-6E14D392E46C: add replied callId 12
2024-09-30 06:53:38,847 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2024-09-30 06:53:38,847 [main] DEBUG client.RaftClient (RaftClientImpl.java:close(465)) - close client-6E14D392E46C
2024-09-30 06:53:38,848 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:38,849 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:38,849 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:38,849 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:38,849 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:38,849 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-55A6EB2CED73:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-55A6EB2CED73:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c4:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-55A6EB2CED73:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-55A6EB2CED73-SegmentedRaftLog:OPENED:c3:last(t:1, i:4), conf=conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} RUNNING
2024-09-30 06:53:38,849 [MiniRaftCluster-49] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:53:38,849 [MiniRaftCluster-50] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:53:38,850 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-55A6EB2CED73: shutdown
2024-09-30 06:53:38,850 [MiniRaftCluster-50] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:38,850 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-55A6EB2CED73,id=s0
2024-09-30 06:53:38,850 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-55A6EB2CED73-LeaderElection21
2024-09-30 06:53:38,850 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-55A6EB2CED73-StateMachineUpdater: set stopIndex = 0
2024-09-30 06:53:38,850 [MiniRaftCluster-49] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:38,850 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-55A6EB2CED73: shutdown
2024-09-30 06:53:38,850 [MiniRaftCluster-51] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:53:38,850 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-55A6EB2CED73,id=s1
2024-09-30 06:53:38,850 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-55A6EB2CED73-LeaderStateImpl
2024-09-30 06:53:38,850 [s0@group-55A6EB2CED73-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-55A6EB2CED73-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:0)
2024-09-30 06:53:38,851 [s1@group-55A6EB2CED73->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:38,851 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-55A6EB2CED73-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:38,851 [s0@group-55A6EB2CED73-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-55A6EB2CED73-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:38,851 [s1@group-55A6EB2CED73->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-55A6EB2CED73->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:38,851 [MiniRaftCluster-51] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:38,854 [s1@group-55A6EB2CED73-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-55A6EB2CED73-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:4)
2024-09-30 06:53:38,854 [grpc-default-executor-40] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#75-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:38,854 [grpc-default-executor-40] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:38,854 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-55A6EB2CED73-StateMachineUpdater: set stopIndex = 4
2024-09-30 06:53:38,854 [Thread-757] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:38,854 [grpc-default-executor-41] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:38,851 [Thread-755] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:38,851 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-55A6EB2CED73: shutdown
2024-09-30 06:53:38,855 [MiniRaftCluster-51] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:38,855 [MiniRaftCluster-51] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:38,855 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-55A6EB2CED73,id=s2
2024-09-30 06:53:38,855 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-55A6EB2CED73-FollowerState
2024-09-30 06:53:38,855 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-55A6EB2CED73-StateMachineUpdater: set stopIndex = 3
2024-09-30 06:53:38,855 [s2@group-55A6EB2CED73-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-55A6EB2CED73-FollowerState was interrupted
2024-09-30 06:53:38,855 [s2@group-55A6EB2CED73-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-55A6EB2CED73-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:3)
2024-09-30 06:53:38,855 [grpc-default-executor-41] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "\367F\3322\f|L\372\211\217U\246\353,\355s"
  }
  callId: 73
  success: true
}
term: 1
nextIndex: 3
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:38,856 [s2@group-55A6EB2CED73-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-55A6EB2CED73-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:38,856 [grpc-default-executor-43] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-55A6EB2CED73->s2-GrpcLogAppender is already stopped
2024-09-30 06:53:38,856 [grpc-default-executor-43] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-55A6EB2CED73->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:38,856 [grpc-default-executor-43] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-55A6EB2CED73->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:38,857 [MiniRaftCluster-51] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:38,857 [MiniRaftCluster-51] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:38,858 [s1@group-55A6EB2CED73-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-55A6EB2CED73-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:38,858 [Thread-760] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:38,858 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-55A6EB2CED73-LeaderElection21 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2024-09-30 06:53:38,858 [Thread-759] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:38,858 [MiniRaftCluster-51] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:38,858 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-55A6EB2CED73-LeaderElection21: PRE_VOTE REJECTED received 0 response(s) and 1 exception(s):
2024-09-30 06:53:38,858 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 0: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: RST_STREAM closed stream. HTTP/2 error code: CANCEL
2024-09-30 06:53:38,858 [s0@group-55A6EB2CED73-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-55A6EB2CED73-LeaderElection21 PRE_VOTE round 18: result REJECTED
2024-09-30 06:53:38,859 [MiniRaftCluster-49] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:38,859 [MiniRaftCluster-49] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:38,859 [grpc-default-executor-42] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender is already stopped
2024-09-30 06:53:38,859 [MiniRaftCluster-49] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:38,859 [MiniRaftCluster-49] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:38,859 [grpc-default-executor-42] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender is already stopped
2024-09-30 06:53:38,860 [MiniRaftCluster-49] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:38,860 [MiniRaftCluster-50] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:38,860 [MiniRaftCluster-50] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:38,861 [MiniRaftCluster-50] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:38,861 [MiniRaftCluster-50] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:38,861 [MiniRaftCluster-50] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:38,861 [grpc-default-executor-16] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:38,861 [grpc-default-executor-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:38,862 [grpc-default-executor-17] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:38,862 [grpc-default-executor-17] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:38,862 [grpc-default-executor-17] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:38,862 [grpc-default-executor-16] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:38,881 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=57, request=AppendEntriesRequest:cid=65,entriesCount=0
2024-09-30 06:53:38,904 [grpc-default-executor-27] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:38,904 [grpc-default-executor-26] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:38,904 [grpc-default-executor-27] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:38,904 [grpc-default-executor-26] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:38,904 [grpc-default-executor-27] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:38,904 [grpc-default-executor-26] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:38,919 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=58, request=AppendEntriesRequest:cid=66,entriesCount=0
2024-09-30 06:53:38,924 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:53:38,924 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-55A6EB2CED73: Failed appendEntries* s1->s0#5-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:11@client-6E14D392E46C
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-55A6EB2CED73 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:38,925 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s0: Failed APPEND_ENTRIES request cid=5, isHeartbeat? false
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-55A6EB2CED73 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:122)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-55A6EB2CED73 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	... 5 more
2024-09-30 06:53:38,926 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:38,943 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:53:38,943 [s0-server-thread1] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-55A6EB2CED73: Failed appendEntries* s1->s0#10-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-55A6EB2CED73 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:38,943 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:38,945 [grpc-default-executor-8] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:38,945 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:38,945 [grpc-default-executor-9] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:38,945 [grpc-default-executor-8] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:38,945 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:38,945 [grpc-default-executor-9] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:38,958 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=59, request=AppendEntriesRequest:cid=67,entriesCount=0
2024-09-30 06:53:38,970 [grpc-default-executor-6] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:38,970 [grpc-default-executor-7] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:38,970 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:38,970 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:38,970 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:38,970 [grpc-default-executor-6] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:38,990 [grpc-default-executor-15] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:38,990 [grpc-default-executor-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:38,990 [grpc-default-executor-15] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:38,990 [grpc-default-executor-14] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:38,991 [grpc-default-executor-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:38,991 [grpc-default-executor-14] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:38,993 [grpc-default-executor-39] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:38,993 [grpc-default-executor-39] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:38,993 [grpc-default-executor-38] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:38,993 [grpc-default-executor-38] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:38,993 [grpc-default-executor-39] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:38,993 [grpc-default-executor-38] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:38,995 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=60, request=AppendEntriesRequest:cid=68,entriesCount=0
2024-09-30 06:53:39,021 [grpc-default-executor-24] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,021 [grpc-default-executor-25] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,022 [grpc-default-executor-24] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,022 [grpc-default-executor-25] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,022 [grpc-default-executor-24] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,022 [grpc-default-executor-25] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,030 [grpc-default-executor-35] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,030 [grpc-default-executor-35] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,030 [grpc-default-executor-35] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,030 [grpc-default-executor-37] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,030 [grpc-default-executor-37] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,030 [grpc-default-executor-37] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,033 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=61, request=AppendEntriesRequest:cid=69,entriesCount=0
2024-09-30 06:53:39,034 [grpc-default-executor-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,034 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,034 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,034 [grpc-default-executor-5] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,034 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,034 [grpc-default-executor-5] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,071 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=62, request=AppendEntriesRequest:cid=70,entriesCount=0
2024-09-30 06:53:39,087 [grpc-default-executor-34] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,087 [grpc-default-executor-34] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,087 [grpc-default-executor-34] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,087 [grpc-default-executor-36] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,087 [grpc-default-executor-36] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,087 [grpc-default-executor-36] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,097 [grpc-default-executor-10] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,097 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,097 [grpc-default-executor-10] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,098 [grpc-default-executor-13] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,098 [grpc-default-executor-13] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,098 [grpc-default-executor-13] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,100 [grpc-default-executor-23] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,100 [grpc-default-executor-22] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,100 [grpc-default-executor-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,100 [grpc-default-executor-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,100 [grpc-default-executor-22] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,100 [grpc-default-executor-23] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,102 [grpc-default-executor-4] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,102 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,102 [grpc-default-executor-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,103 [grpc-default-executor-4] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,103 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,103 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,105 [grpc-default-executor-33] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,105 [grpc-default-executor-33] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,105 [grpc-default-executor-33] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,105 [grpc-default-executor-32] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,105 [grpc-default-executor-32] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,105 [grpc-default-executor-32] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,110 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=63, request=AppendEntriesRequest:cid=71,entriesCount=0
2024-09-30 06:53:39,116 [grpc-default-executor-20] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,116 [grpc-default-executor-21] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,116 [grpc-default-executor-20] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,116 [grpc-default-executor-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,116 [grpc-default-executor-20] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,116 [grpc-default-executor-21] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,118 [grpc-default-executor-11] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,118 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,118 [grpc-default-executor-12] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,118 [grpc-default-executor-11] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,118 [grpc-default-executor-12] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,119 [grpc-default-executor-12] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,121 [grpc-default-executor-18] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,121 [grpc-default-executor-18] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,121 [grpc-default-executor-18] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,122 [grpc-default-executor-19] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,122 [grpc-default-executor-19] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,122 [grpc-default-executor-19] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,123 [grpc-default-executor-30] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,123 [grpc-default-executor-31] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,123 [grpc-default-executor-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,123 [grpc-default-executor-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,123 [grpc-default-executor-31] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,123 [grpc-default-executor-30] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,140 [grpc-default-executor-28] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:53:39,140 [grpc-default-executor-28] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,140 [grpc-default-executor-29] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:53:39,140 [grpc-default-executor-28] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: Failed requestVote s0->s2#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,140 [grpc-default-executor-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-55A6EB2CED73: receive requestVote(PRE_VOTE, s0, group-55A6EB2CED73, 1, (t:1, i:0))
2024-09-30 06:53:39,140 [grpc-default-executor-29] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: Failed requestVote s0->s1#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-55A6EB2CED73 is not in [RUNNING]: current state is CLOSING
2024-09-30 06:53:39,148 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=64, request=AppendEntriesRequest:cid=72,entriesCount=0
2024-09-30 06:53:39,185 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=65, request=AppendEntriesRequest:cid=73,entriesCount=0
2024-09-30 06:53:39,223 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=66, request=AppendEntriesRequest:cid=74,entriesCount=0
2024-09-30 06:53:39,261 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=67, request=AppendEntriesRequest:cid=75,entriesCount=0
2024-09-30 06:53:39,298 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=68, request=AppendEntriesRequest:cid=76,entriesCount=0
2024-09-30 06:53:39,336 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=69, request=AppendEntriesRequest:cid=77,entriesCount=0
2024-09-30 06:53:39,374 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=70, request=AppendEntriesRequest:cid=78,entriesCount=0
2024-09-30 06:53:39,411 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=71, request=AppendEntriesRequest:cid=79,entriesCount=0
2024-09-30 06:53:39,450 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=72, request=AppendEntriesRequest:cid=80,entriesCount=0
2024-09-30 06:53:39,487 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=73, request=AppendEntriesRequest:cid=81,entriesCount=0
2024-09-30 06:53:39,525 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=74, request=AppendEntriesRequest:cid=82,entriesCount=0
2024-09-30 06:53:39,562 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=75, request=AppendEntriesRequest:cid=83,entriesCount=0
2024-09-30 06:53:39,600 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=76, request=AppendEntriesRequest:cid=84,entriesCount=0
2024-09-30 06:53:39,611 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-55A6EB2CED73-SegmentedRaftLogWorker close()
2024-09-30 06:53:39,614 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:53:39,637 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=77, request=AppendEntriesRequest:cid=85,entriesCount=0
2024-09-30 06:53:39,675 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=78, request=AppendEntriesRequest:cid=86,entriesCount=0
2024-09-30 06:53:39,714 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=79, request=AppendEntriesRequest:cid=87,entriesCount=0
2024-09-30 06:53:39,751 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=80, request=AppendEntriesRequest:cid=88,entriesCount=0
2024-09-30 06:53:39,790 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=81, request=AppendEntriesRequest:cid=89,entriesCount=0
2024-09-30 06:53:39,828 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=82, request=AppendEntriesRequest:cid=90,entriesCount=0
2024-09-30 06:53:39,847 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-55A6EB2CED73-SegmentedRaftLogWorker close()
2024-09-30 06:53:39,847 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-55A6EB2CED73-SegmentedRaftLogWorker close()
2024-09-30 06:53:39,849 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:53:39,849 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:53:39,849 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:39,850 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:39,903 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=83, request=AppendEntriesRequest:cid=91,entriesCount=0
2024-09-30 06:53:39,904 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=84, request=AppendEntriesRequest:cid=92,entriesCount=0
2024-09-30 06:53:39,943 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=85, request=AppendEntriesRequest:cid=93,entriesCount=0
2024-09-30 06:53:39,981 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=86, request=AppendEntriesRequest:cid=94,entriesCount=0
2024-09-30 06:53:40,003 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:40,004 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:40,004 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:40,004 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:40,004 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:40,004 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:40,004 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:40,005 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:   CLOSED CANDIDATE s0@group-55A6EB2CED73:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-55A6EB2CED73-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-55A6EB2CED73:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-55A6EB2CED73-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} CLOSED
  s2:   CLOSED  FOLLOWER s2@group-55A6EB2CED73:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-55A6EB2CED73-SegmentedRaftLog:CLOSED:c3, conf=conf: {index: 0, cur=peers:[s0|localhost:15128, s1|localhost:15132, s2|localhost:15136]|listeners:[], old=null} CLOSED
2024-09-30 06:53:40,005 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:40,005 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:40,033 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=87, request=AppendEntriesRequest:cid=95,entriesCount=0
2024-09-30 06:53:40,058 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=88, request=AppendEntriesRequest:cid=96,entriesCount=0
2024-09-30 06:53:40,095 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=89, request=AppendEntriesRequest:cid=97,entriesCount=0
2024-09-30 06:53:40,133 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:40,133 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:40,134 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=90, request=AppendEntriesRequest:cid=98,entriesCount=0
]]></system-out>
  </testcase>
  <testcase name="testBasicLeaderElection" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="7.648">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:97)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-09-30 06:53:40,135 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:53:40,135 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:53:40,135 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:53:40,135 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:53:40,136 [main] INFO  grpc.TestLeaderElectionWithGrpc (LeaderElectionTests.java:testBasicLeaderElection(88)) - Running testBasicLeaderElection
2024-09-30 06:53:40,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]
2024-09-30 06:53:40,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:53:40,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:53:40,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:53:40,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:53:40,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:53:40,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:53:40,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s3, group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148], format? true
2024-09-30 06:53:40,137 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3
2024-09-30 06:53:40,138 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3 does not exist.
2024-09-30 06:53:40,138 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3
2024-09-30 06:53:40,138 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:40,138 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:40,139 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15153 (custom)
2024-09-30 06:53:40,139 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:40,139 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15154 (custom)
2024-09-30 06:53:40,139 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:40,139 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15152 (custom)
2024-09-30 06:53:40,140 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:40,140 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:40,140 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,140 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,140 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:40,140 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,141 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:40,141 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:40,143 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:40,143 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:40,144 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:40,144 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:40,144 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3] (custom)
2024-09-30 06:53:40,144 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:40,144 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:40,145 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148] returns group-7D0D1D68FC62:java.util.concurrent.CompletableFuture@2148b47e[Not completed]
2024-09-30 06:53:40,145 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s3: new RaftServerImpl for group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148] with BaseStateMachine:uninitialized
2024-09-30 06:53:40,145 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s4, group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148], format? true
2024-09-30 06:53:40,145 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4
2024-09-30 06:53:40,145 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:40,145 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4 does not exist.
2024-09-30 06:53:40,145 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4
2024-09-30 06:53:40,145 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:40,145 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:40,145 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:40,145 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:40,145 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:40,146 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:40,146 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:40,146 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15157 (custom)
2024-09-30 06:53:40,146 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:40,146 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:40,146 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s3@group-7D0D1D68FC62: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:40,146 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15158 (custom)
2024-09-30 06:53:40,146 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:40,146 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:40,146 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15156 (custom)
2024-09-30 06:53:40,146 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:40,147 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:40,147 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:40,147 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:40,147 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:40,147 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:40,147 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,147 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:40,147 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,147 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:40,147 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,148 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:40,148 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:40,148 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,148 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,148 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:40,148 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:40,148 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:40,148 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:40,149 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:40,149 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:40,149 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:40,149 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:40,149 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4] (custom)
2024-09-30 06:53:40,150 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:40,150 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:40,150 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148] returns group-7D0D1D68FC62:java.util.concurrent.CompletableFuture@23ade612[Not completed]
2024-09-30 06:53:40,150 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s4: new RaftServerImpl for group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148] with BaseStateMachine:uninitialized
2024-09-30 06:53:40,150 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148], format? true
2024-09-30 06:53:40,150 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0
2024-09-30 06:53:40,150 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:40,151 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0 does not exist.
2024-09-30 06:53:40,151 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0
2024-09-30 06:53:40,151 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:40,151 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:40,151 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:40,151 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:40,151 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:40,151 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:40,151 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15141 (custom)
2024-09-30 06:53:40,151 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:40,152 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:40,152 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:40,152 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15142 (custom)
2024-09-30 06:53:40,152 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s4@group-7D0D1D68FC62: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:40,152 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:40,152 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:40,152 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15140 (custom)
2024-09-30 06:53:40,152 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:40,152 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:40,152 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:40,153 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:40,152 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:40,153 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,153 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:40,153 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,153 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:40,153 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:40,153 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,153 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:40,154 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,154 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:40,154 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,154 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:40,154 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:40,154 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:40,154 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:40,155 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:40,155 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:40,155 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:40,155 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:40,155 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0] (custom)
2024-09-30 06:53:40,155 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:40,155 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:40,156 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148] returns group-7D0D1D68FC62:java.util.concurrent.CompletableFuture@68e094c9[Not completed]
2024-09-30 06:53:40,156 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148] with BaseStateMachine:uninitialized
2024-09-30 06:53:40,156 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148], format? true
2024-09-30 06:53:40,156 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1
2024-09-30 06:53:40,156 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:40,156 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1 does not exist.
2024-09-30 06:53:40,156 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1
2024-09-30 06:53:40,156 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:40,156 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:40,157 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:40,157 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:40,157 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:40,157 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:40,157 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:40,157 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:40,157 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-7D0D1D68FC62: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:40,157 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15145 (custom)
2024-09-30 06:53:40,157 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:40,157 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:40,157 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:40,157 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15146 (custom)
2024-09-30 06:53:40,158 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:40,157 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:40,158 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:40,158 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15144 (custom)
2024-09-30 06:53:40,158 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:40,158 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:40,158 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,158 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,158 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:40,158 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,158 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:40,159 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:40,159 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:40,159 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:40,159 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,159 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,159 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:40,159 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:40,160 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:40,160 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:40,160 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:40,160 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:40,160 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:40,160 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:40,161 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1] (custom)
2024-09-30 06:53:40,161 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:40,161 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:40,161 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148] returns group-7D0D1D68FC62:java.util.concurrent.CompletableFuture@3c34c491[Not completed]
2024-09-30 06:53:40,161 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148] with BaseStateMachine:uninitialized
2024-09-30 06:53:40,161 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148], format? true
2024-09-30 06:53:40,162 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2
2024-09-30 06:53:40,161 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:40,162 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2 does not exist.
2024-09-30 06:53:40,162 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2
2024-09-30 06:53:40,162 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:40,162 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:40,162 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:40,162 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:40,162 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:40,162 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:40,162 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:40,162 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:40,163 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15149 (custom)
2024-09-30 06:53:40,163 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-7D0D1D68FC62: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:40,163 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:40,163 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:40,163 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15150 (custom)
2024-09-30 06:53:40,163 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:40,163 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:40,163 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15148 (custom)
2024-09-30 06:53:40,163 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:40,163 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:40,163 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:40,164 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:40,164 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:40,164 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:40,164 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,164 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,164 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:40,164 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,164 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,164 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,165 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:40,165 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:40,165 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:40,165 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:40,165 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:40,165 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:40,166 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:40,166 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:40,166 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:40,166 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:40,166 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2] (custom)
2024-09-30 06:53:40,166 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:40,167 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:40,167 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148] returns group-7D0D1D68FC62:java.util.concurrent.CompletableFuture@6af29394[Not completed]
2024-09-30 06:53:40,167 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-7D0D1D68FC62:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148] with BaseStateMachine:uninitialized
2024-09-30 06:53:40,167 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:40,167 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:40,167 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:40,167 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:40,167 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:40,167 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3] (custom)
2024-09-30 06:53:40,167 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:40,167 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:40,167 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:40,168 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62 does not exist. Creating ...
2024-09-30 06:53:40,168 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:40,168 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-7D0D1D68FC62: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:40,168 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:40,168 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:40,168 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:40,168 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62
2024-09-30 06:53:40,168 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:40,168 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:40,168 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:40,169 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,169 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:40,169 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,169 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:40,169 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current
2024-09-30 06:53:40,169 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:40,169 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/sm
2024-09-30 06:53:40,169 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:40,169 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:40,169 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5824a5d1
2024-09-30 06:53:40,170 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,170 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62 has been successfully formatted.
2024-09-30 06:53:40,170 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:40,171 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=91, request=AppendEntriesRequest:cid=99,entriesCount=0
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-7D0D1D68FC62-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-7D0D1D68FC62-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:40,171 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:40,172 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:40,172 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:40,172 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:40,172 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:40,172 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:40,172 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,172 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:40,172 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:40,172 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:40,172 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-7D0D1D68FC62-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:40,173 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-7D0D1D68FC62-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:40,173 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s3@group-7D0D1D68FC62: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,173 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:40,173 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,173 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:40,173 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:40,174 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s3
2024-09-30 06:53:40,174 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s3
2024-09-30 06:53:40,174 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:40,174 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:40,174 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:40,174 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:40,174 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:40,174 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s3: start RPC server
2024-09-30 06:53:40,175 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15154
2024-09-30 06:53:40,175 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15152
2024-09-30 06:53:40,176 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15153
2024-09-30 06:53:40,176 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-09-30 06:53:40,176 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:40,176 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:40,176 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4] (custom)
2024-09-30 06:53:40,176 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62 does not exist. Creating ...
2024-09-30 06:53:40,177 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62
2024-09-30 06:53:40,177 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:40,177 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current
2024-09-30 06:53:40,177 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/sm
2024-09-30 06:53:40,177 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@aaf2154
2024-09-30 06:53:40,178 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,178 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62 has been successfully formatted.
2024-09-30 06:53:40,178 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:40,178 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:40,178 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-7D0D1D68FC62-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-7D0D1D68FC62-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:40,179 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:40,180 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:40,180 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:40,180 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:40,180 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,180 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:40,180 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:40,180 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:40,180 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-7D0D1D68FC62-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:40,180 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-7D0D1D68FC62-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:40,181 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s4@group-7D0D1D68FC62: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,181 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-7D0D1D68FC62: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:40,181 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,181 [s4@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:40,181 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s4
2024-09-30 06:53:40,181 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s4
2024-09-30 06:53:40,181 [s4@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:40,181 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:40,181 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:40,181 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:40,181 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:40,181 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:40,182 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s4: start RPC server
2024-09-30 06:53:40,182 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15158
2024-09-30 06:53:40,182 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15156
2024-09-30 06:53:40,183 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15157
2024-09-30 06:53:40,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:40,183 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-09-30 06:53:40,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:40,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0] (custom)
2024-09-30 06:53:40,183 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62 does not exist. Creating ...
2024-09-30 06:53:40,183 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62
2024-09-30 06:53:40,184 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:40,184 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current
2024-09-30 06:53:40,184 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/sm
2024-09-30 06:53:40,184 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@57fe98c2
2024-09-30 06:53:40,185 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,185 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62 has been successfully formatted.
2024-09-30 06:53:40,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:40,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:40,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:40,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:40,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:40,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:40,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-7D0D1D68FC62-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-7D0D1D68FC62-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:40,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,187 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:40,187 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:40,187 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:40,187 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-7D0D1D68FC62-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:40,187 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-7D0D1D68FC62-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:40,187 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-7D0D1D68FC62: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,187 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-7D0D1D68FC62: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:40,187 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,187 [s0@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:40,187 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s0
2024-09-30 06:53:40,187 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s0
2024-09-30 06:53:40,187 [s0@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:40,187 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:40,188 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:40,188 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:40,188 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:40,188 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:40,188 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:53:40,188 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15142
2024-09-30 06:53:40,188 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15140
2024-09-30 06:53:40,189 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15141
2024-09-30 06:53:40,189 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:53:40,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:40,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:40,189 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1] (custom)
2024-09-30 06:53:40,189 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62 does not exist. Creating ...
2024-09-30 06:53:40,189 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62
2024-09-30 06:53:40,190 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:40,190 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current
2024-09-30 06:53:40,190 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/sm
2024-09-30 06:53:40,190 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@15126689
2024-09-30 06:53:40,191 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,191 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62 has been successfully formatted.
2024-09-30 06:53:40,191 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:40,191 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:40,191 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,192 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:40,192 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:40,192 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:40,192 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:40,192 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:40,192 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,192 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-7D0D1D68FC62-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:40,192 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-7D0D1D68FC62-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62
2024-09-30 06:53:40,192 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:40,192 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:40,192 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:40,193 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:40,193 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:40,193 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:40,193 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:40,193 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:40,193 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:40,193 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,193 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:40,194 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:40,194 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:40,194 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-7D0D1D68FC62-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:40,194 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-7D0D1D68FC62-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:40,194 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-7D0D1D68FC62: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,194 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-7D0D1D68FC62: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:40,194 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,194 [s1@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:40,195 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s1
2024-09-30 06:53:40,195 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s1
2024-09-30 06:53:40,195 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:40,195 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:40,195 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:40,195 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:40,195 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:40,195 [s1@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:40,195 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:53:40,195 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15146
2024-09-30 06:53:40,196 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15144
2024-09-30 06:53:40,196 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15145
2024-09-30 06:53:40,196 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:53:40,196 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:40,196 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:40,197 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2] (custom)
2024-09-30 06:53:40,197 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62 does not exist. Creating ...
2024-09-30 06:53:40,197 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62
2024-09-30 06:53:40,198 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:40,198 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current
2024-09-30 06:53:40,198 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/sm
2024-09-30 06:53:40,198 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@364e482c
2024-09-30 06:53:40,199 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,199 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62 has been successfully formatted.
2024-09-30 06:53:40,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:40,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:40,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:40,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:40,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:40,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:40,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:40,199 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,199 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-7D0D1D68FC62-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:40,200 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-7D0D1D68FC62-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62
2024-09-30 06:53:40,200 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:40,200 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:40,200 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:40,200 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:40,200 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:40,200 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:40,200 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:40,200 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:40,200 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:40,201 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,201 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:40,201 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:40,201 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:40,201 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-7D0D1D68FC62-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:40,201 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-7D0D1D68FC62-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:40,201 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-7D0D1D68FC62: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,201 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:40,201 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,202 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:40,202 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s2
2024-09-30 06:53:40,202 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s2
2024-09-30 06:53:40,202 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:40,202 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:40,202 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:40,202 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:40,202 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:40,202 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:40,202 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:53:40,203 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15150
2024-09-30 06:53:40,203 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15148
2024-09-30 06:53:40,203 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15149
2024-09-30 06:53:40,203 [JvmPauseMonitor39] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:53:40,204 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:40,204 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t0, leader=null, voted=, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-7D0D1D68FC62:t0, leader=null, voted=, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-7D0D1D68FC62:t0, leader=null, voted=, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7D0D1D68FC62:t0, leader=null, voted=, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t0, leader=null, voted=, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:40,204 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t0, leader=null, voted=, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-7D0D1D68FC62:t0, leader=null, voted=, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-7D0D1D68FC62:t0, leader=null, voted=, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7D0D1D68FC62:t0, leader=null, voted=, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t0, leader=null, voted=, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:40,343 [s0@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:155536826ns, electionTimeout:155ms
2024-09-30 06:53:40,343 [s0@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,343 [s0@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:40,343 [s0@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:40,343 [s0@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-7D0D1D68FC62-LeaderElection22
2024-09-30 06:53:40,344 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-7D0D1D68FC62-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,344 [s0@group-7D0D1D68FC62-LeaderElection22-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15152
2024-09-30 06:53:40,344 [s0@group-7D0D1D68FC62-LeaderElection22-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15156
2024-09-30 06:53:40,344 [s0@group-7D0D1D68FC62-LeaderElection22-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15144
2024-09-30 06:53:40,345 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:40,345 [s0@group-7D0D1D68FC62-LeaderElection22-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15148
2024-09-30 06:53:40,345 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:40,351 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s0, group-7D0D1D68FC62, 0, (t:0, i:0))
2024-09-30 06:53:40,352 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:53:40,352 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s0<-s3#0:OK-t0. Peer's state: s3@group-7D0D1D68FC62:t0, leader=null, voted=, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,352 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s0, group-7D0D1D68FC62, 0, (t:0, i:0))
2024-09-30 06:53:40,352 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:53:40,352 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-7D0D1D68FC62:t0, leader=null, voted=, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,354 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7D0D1D68FC62-LeaderElection22: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-09-30 06:53:40,354 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:OK-t0
2024-09-30 06:53:40,354 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:OK-t0
2024-09-30 06:53:40,354 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-7D0D1D68FC62-LeaderElection22 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:40,354 [s0@group-7D0D1D68FC62-LeaderElection22] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6f3f8b50
2024-09-30 06:53:40,355 [s0@group-7D0D1D68FC62-LeaderElection22] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,355 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-7D0D1D68FC62-LeaderElection22 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,357 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(ELECTION, s0, group-7D0D1D68FC62, 1, (t:0, i:0))
2024-09-30 06:53:40,357 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:53:40,357 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:53:40,357 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,358 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s3@group-7D0D1D68FC62-FollowerState was interrupted
2024-09-30 06:53:40,358 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:40,358 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:40,362 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,362 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-7D0D1D68FC62: receive requestVote(ELECTION, s0, group-7D0D1D68FC62, 1, (t:0, i:0))
2024-09-30 06:53:40,362 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-7D0D1D68FC62-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:53:40,363 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-7D0D1D68FC62: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:53:40,363 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,363 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-7D0D1D68FC62: receive requestVote(ELECTION, s0, group-7D0D1D68FC62, 1, (t:0, i:0))
2024-09-30 06:53:40,363 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s3@group-7D0D1D68FC62: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:53:40,363 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D0D1D68FC62-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:53:40,363 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:53:40,364 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,364 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,364 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-7D0D1D68FC62-FollowerState was interrupted
2024-09-30 06:53:40,363 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@388ef3e4
2024-09-30 06:53:40,365 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,365 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to ELECTION vote request: s0<-s3#0:OK-t1. Peer's state: s3@group-7D0D1D68FC62:t1, leader=null, voted=s0, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,366 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-7D0D1D68FC62: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:53:40,366 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6628bf34
2024-09-30 06:53:40,366 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,366 [s4@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s4@group-7D0D1D68FC62-FollowerState was interrupted
2024-09-30 06:53:40,367 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,367 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-7D0D1D68FC62: receive requestVote(ELECTION, s0, group-7D0D1D68FC62, 1, (t:0, i:0))
2024-09-30 06:53:40,367 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-7D0D1D68FC62 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-7D0D1D68FC62:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,367 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s4@group-7D0D1D68FC62: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:53:40,367 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4f6a42f
2024-09-30 06:53:40,368 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7D0D1D68FC62-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:53:40,368 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-7D0D1D68FC62: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:53:40,368 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,368 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,368 [s1@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-7D0D1D68FC62-FollowerState was interrupted
2024-09-30 06:53:40,368 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-7D0D1D68FC62: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:53:40,368 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@49be1bf7
2024-09-30 06:53:40,368 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,369 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-7D0D1D68FC62 replies to ELECTION vote request: s0<-s4#0:OK-t1. Peer's state: s4@group-7D0D1D68FC62:t1, leader=null, voted=s0, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,369 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-7D0D1D68FC62-LeaderElection22: ELECTION PASSED received 2 response(s) and 0 exception(s):
2024-09-30 06:53:40,369 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:OK-t1
2024-09-30 06:53:40,369 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:OK-t1
2024-09-30 06:53:40,369 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-7D0D1D68FC62-LeaderElection22 ELECTION round 0: result PASSED
2024-09-30 06:53:40,369 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-7D0D1D68FC62-LeaderElection22
2024-09-30 06:53:40,369 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-7D0D1D68FC62: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:53:40,369 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:40,370 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:40,370 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:40,370 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:40,370 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:40,370 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:40,370 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:40,370 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:40,370 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:40,370 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:40,371 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:40,371 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:40,371 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:40,371 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,371 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:40,371 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:40,371 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:40,371 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,371 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:40,371 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:40,371 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:40,372 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,372 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,372 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:40,372 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,372 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:40,372 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:40,372 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:40,372 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,372 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:40,372 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:40,372 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:40,373 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,373 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,373 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:40,373 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,373 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:40,373 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:40,373 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:40,373 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,373 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:40,373 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:40,373 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:40,374 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,374 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,374 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:40,374 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,374 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:40,371 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,374 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:40,374 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-7D0D1D68FC62 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-7D0D1D68FC62:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,374 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:40,374 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,374 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:40,374 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:40,375 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:40,375 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,375 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,375 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-7D0D1D68FC62-LeaderStateImpl
2024-09-30 06:53:40,375 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-7D0D1D68FC62: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:53:40,375 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-7D0D1D68FC62: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 217ms
2024-09-30 06:53:40,375 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-7D0D1D68FC62-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:40,375 [s0@group-7D0D1D68FC62-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-7D0D1D68FC62: set configuration conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,376 [s0@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:40,387 [s0@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-7D0D1D68FC62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0
2024-09-30 06:53:40,393 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-7D0D1D68FC62: change Leader from null to s0 at term 1 for appendEntries, leader elected after 246ms
2024-09-30 06:53:40,398 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-7D0D1D68FC62: change Leader from null to s0 at term 1 for appendEntries, leader elected after 235ms
2024-09-30 06:53:40,398 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-7D0D1D68FC62: appendEntries* s0->s4#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:40,399 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-7D0D1D68FC62: appendEntries* s0->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:40,399 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-7D0D1D68FC62: set configuration conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,400 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-7D0D1D68FC62-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:40,399 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-7D0D1D68FC62: appendEntries* s0->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:40,402 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-7D0D1D68FC62: change Leader from null to s0 at term 1 for appendEntries, leader elected after 250ms
2024-09-30 06:53:40,402 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-7D0D1D68FC62: set configuration conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,402 [s1@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:40,402 [s4-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s4@group-7D0D1D68FC62-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:40,403 [s4@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:40,409 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-7D0D1D68FC62: change Leader from null to s0 at term 1 for appendEntries, leader elected after 241ms
2024-09-30 06:53:40,410 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-7D0D1D68FC62: set configuration conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,410 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-7D0D1D68FC62-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:40,410 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-7D0D1D68FC62: appendEntries* s0->s3#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:40,410 [s2@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:40,411 [s3-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-7D0D1D68FC62: set configuration conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,411 [s3-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s3@group-7D0D1D68FC62-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:40,411 [s3@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:40,416 [s1@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-7D0D1D68FC62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0
2024-09-30 06:53:40,419 [s4@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s4@group-7D0D1D68FC62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0
2024-09-30 06:53:40,419 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-7D0D1D68FC62: appendEntries* reply s0<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:40,420 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-7D0D1D68FC62: appendEntries* reply s0<-s4#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:40,421 [s0@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@618b24dc
2024-09-30 06:53:40,422 [s2@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-7D0D1D68FC62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0
2024-09-30 06:53:40,425 [s0@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s0/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:40,425 [s0@group-7D0D1D68FC62-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-7D0D1D68FC62-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:53:40,426 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-7D0D1D68FC62: appendEntries* reply s0<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:40,429 [s3@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-7D0D1D68FC62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0
2024-09-30 06:53:40,429 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-7D0D1D68FC62: appendEntries* reply s0<-s3#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:40,497 [s1@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6e4e76b2
2024-09-30 06:53:40,498 [s4@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6575e865
2024-09-30 06:53:40,500 [s1@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:40,500 [s4@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:40,502 [s2@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@58283761
2024-09-30 06:53:40,504 [s2@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:40,507 [s3@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6655bb14
2024-09-30 06:53:40,509 [s3@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:40,654 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s0:  RUNNING    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:40,655 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(147)) - killing leader =    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:40,655 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(539)) - killServer s0
2024-09-30 06:53:40,655 [main] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:53:40,655 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:40,655 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-7D0D1D68FC62: shutdown
2024-09-30 06:53:40,656 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s0
2024-09-30 06:53:40,656 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-7D0D1D68FC62-LeaderStateImpl
2024-09-30 06:53:40,656 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-7D0D1D68FC62-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:40,657 [s0@group-7D0D1D68FC62->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-7D0D1D68FC62->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:40,657 [s0@group-7D0D1D68FC62->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-7D0D1D68FC62->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:40,658 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:40,657 [s0@group-7D0D1D68FC62->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-7D0D1D68FC62->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:40,659 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "{\355\333g\266\271J\312\235\275}\r\035h\374b"
  }
  callId: 5
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:40,658 [Thread-835] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:40,659 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:40,659 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:40,659 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:40,660 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "{\355\333g\266\271J\312\235\275}\r\035h\374b"
  }
  callId: 8
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:40,660 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-7D0D1D68FC62->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:40,660 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-7D0D1D68FC62->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:40,657 [s0@group-7D0D1D68FC62->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-7D0D1D68FC62->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:40,657 [Thread-831] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-09-30 06:53:40,661 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-7D0D1D68FC62-StateMachineUpdater: set stopIndex = 0
2024-09-30 06:53:40,661 [s0@group-7D0D1D68FC62-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-7D0D1D68FC62-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:0)
2024-09-30 06:53:40,660 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-7D0D1D68FC62->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:40,658 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:40,661 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s4"
  raftGroupId {
    id: "{\355\333g\266\271J\312\235\275}\r\035h\374b"
  }
  callId: 6
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:40,658 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: s0->s4#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:40,662 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:40,662 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-7D0D1D68FC62->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:40,662 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-7D0D1D68FC62->s4-GrpcLogAppender: Failed to getClient for s4
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:40,658 [Thread-834] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:40,658 [Thread-832] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-09-30 06:53:40,661 [grpc-default-executor-11] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-7D0D1D68FC62->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:40,661 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:40,664 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s3"
  raftGroupId {
    id: "{\355\333g\266\271J\312\235\275}\r\035h\374b"
  }
  callId: 8
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:40,661 [s0@group-7D0D1D68FC62-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-7D0D1D68FC62-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:40,661 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-7D0D1D68FC62->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:40,664 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-7D0D1D68FC62->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:40,661 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:40,665 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:40,665 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-7D0D1D68FC62->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:40,665 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-7D0D1D68FC62->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:40,665 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-7D0D1D68FC62->s4-GrpcLogAppender: Failed to getClient for s4
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:40,665 [grpc-default-executor-11] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-7D0D1D68FC62->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:40,666 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-7D0D1D68FC62->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:40,667 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-7D0D1D68FC62->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:40,667 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: s0->s3#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:40,667 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:40,668 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-7D0D1D68FC62->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:40,668 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-7D0D1D68FC62->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:40,671 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:40,671 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:40,672 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:40,672 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:40,672 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:40,758 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=92, request=AppendEntriesRequest:cid=100,entriesCount=0
2024-09-30 06:53:40,865 [s4@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s4@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:213166800ns, electionTimeout:175ms
2024-09-30 06:53:40,865 [s4@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,865 [s4@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:53:40,866 [s4@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:40,866 [s4@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-7D0D1D68FC62-LeaderElection23
2024-09-30 06:53:40,866 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-7D0D1D68FC62: change Leader from s0 to null at term 1 for PRE_VOTE
2024-09-30 06:53:40,866 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s4@group-7D0D1D68FC62-LeaderElection23 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,866 [s4@group-7D0D1D68FC62-LeaderElection23-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15152
2024-09-30 06:53:40,866 [s4@group-7D0D1D68FC62-LeaderElection23-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15140
2024-09-30 06:53:40,867 [s4@group-7D0D1D68FC62-LeaderElection23-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15144
2024-09-30 06:53:40,867 [s4@group-7D0D1D68FC62-LeaderElection23-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15148
2024-09-30 06:53:40,871 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s4@group-7D0D1D68FC62-LeaderElection23 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:40,873 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s4, group-7D0D1D68FC62, 1, (t:1, i:0))
2024-09-30 06:53:40,873 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2024-09-30 06:53:40,873 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,873 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s4, group-7D0D1D68FC62, 1, (t:1, i:0))
2024-09-30 06:53:40,873 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s4, group-7D0D1D68FC62, 1, (t:1, i:0))
2024-09-30 06:53:40,874 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2024-09-30 06:53:40,874 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2024-09-30 06:53:40,874 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,874 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,875 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-7D0D1D68FC62-LeaderElection23: PRE_VOTE PASSED received 2 response(s) and 1 exception(s):
2024-09-30 06:53:40,875 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t1
2024-09-30 06:53:40,875 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:OK-t1
2024-09-30 06:53:40,875 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:40,875 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s4@group-7D0D1D68FC62-LeaderElection23 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:40,875 [s4@group-7D0D1D68FC62-LeaderElection23] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6acbf093
2024-09-30 06:53:40,876 [s4@group-7D0D1D68FC62-LeaderElection23] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,876 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s4@group-7D0D1D68FC62-LeaderElection23 ELECTION round 0: submit vote requests at term 2 for conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,877 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s4@group-7D0D1D68FC62-LeaderElection23 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:40,877 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-7D0D1D68FC62: receive requestVote(ELECTION, s4, group-7D0D1D68FC62, 2, (t:1, i:0))
2024-09-30 06:53:40,877 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7D0D1D68FC62-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2024-09-30 06:53:40,878 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-7D0D1D68FC62: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2024-09-30 06:53:40,878 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,878 [grpc-default-executor-6] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-7D0D1D68FC62: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-09-30 06:53:40,878 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-7D0D1D68FC62: receive requestVote(ELECTION, s4, group-7D0D1D68FC62, 2, (t:1, i:0))
2024-09-30 06:53:40,878 [s1@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-7D0D1D68FC62-FollowerState was interrupted
2024-09-30 06:53:40,878 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D0D1D68FC62-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2024-09-30 06:53:40,878 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2024-09-30 06:53:40,878 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,878 [grpc-default-executor-11] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-7D0D1D68FC62: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-09-30 06:53:40,878 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,878 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-7D0D1D68FC62-FollowerState was interrupted
2024-09-30 06:53:40,878 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(ELECTION, s4, group-7D0D1D68FC62, 2, (t:1, i:0))
2024-09-30 06:53:40,878 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2024-09-30 06:53:40,879 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2024-09-30 06:53:40,879 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,878 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@18940d8f
2024-09-30 06:53:40,879 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,879 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s3@group-7D0D1D68FC62-FollowerState was interrupted
2024-09-30 06:53:40,879 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-7D0D1D68FC62: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-09-30 06:53:40,879 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:40,879 [grpc-default-executor-11] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5ed2bca4
2024-09-30 06:53:40,880 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,880 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-7D0D1D68FC62 replies to ELECTION vote request: s4<-s1#0:OK-t2. Peer's state: s1@group-7D0D1D68FC62:t2, leader=null, voted=s4, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,880 [grpc-default-executor-11] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,880 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-7D0D1D68FC62 replies to ELECTION vote request: s4<-s2#0:OK-t2. Peer's state: s2@group-7D0D1D68FC62:t2, leader=null, voted=s4, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,882 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5c75111b
2024-09-30 06:53:40,882 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-7D0D1D68FC62-LeaderElection23: ELECTION PASSED received 2 response(s) and 1 exception(s):
2024-09-30 06:53:40,882 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s1#0:OK-t2
2024-09-30 06:53:40,882 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s2#0:OK-t2
2024-09-30 06:53:40,882 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:40,883 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s4@group-7D0D1D68FC62-LeaderElection23 ELECTION round 0: result PASSED
2024-09-30 06:53:40,883 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s4: shutdown s4@group-7D0D1D68FC62-LeaderElection23
2024-09-30 06:53:40,883 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:40,883 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to ELECTION vote request: s4<-s3#0:OK-t2. Peer's state: s3@group-7D0D1D68FC62:t2, leader=null, voted=s4, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,883 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-7D0D1D68FC62: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-09-30 06:53:40,883 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:40,884 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:40,884 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:40,884 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:40,884 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:40,884 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:40,884 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:40,884 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:40,884 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:40,884 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:40,884 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:40,884 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:40,884 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,885 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:40,886 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:40,887 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-7D0D1D68FC62-LeaderStateImpl
2024-09-30 06:53:40,888 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-7D0D1D68FC62: change Leader from null to s4 at term 2 for becomeLeader, leader elected after 21ms
2024-09-30 06:53:40,888 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s4@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-09-30 06:53:40,888 [s4@group-7D0D1D68FC62-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-7D0D1D68FC62: set configuration conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,889 [grpc-default-executor-6] WARN  server.GrpcLogAppender (LogUtils.java:warn(121)) - s4@group-7D0D1D68FC62->s0-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:40,889 [s4@group-7D0D1D68FC62-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_0-0
2024-09-30 06:53:40,889 [s4@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s4@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_0-0
2024-09-30 06:53:40,889 [s4@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_1 at position 0
2024-09-30 06:53:40,892 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s4@group-7D0D1D68FC62->s0-GrpcLogAppender: Follower failed (request=null, errorCount=1); keep nextIndex (1) unchanged and retry.
2024-09-30 06:53:40,892 [s3-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-7D0D1D68FC62: change Leader from null to s4 at term 2 for appendEntries, leader elected after 13ms
2024-09-30 06:53:40,894 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-7D0D1D68FC62: appendEntries* s4->s3#1-t2,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:2, i:1), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:40,895 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-7D0D1D68FC62: set configuration conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,895 [s3-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s3@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-09-30 06:53:40,899 [s4@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s4@group-7D0D1D68FC62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_1
2024-09-30 06:53:40,899 [s3@group-7D0D1D68FC62-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_0-0
2024-09-30 06:53:40,899 [s3@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s3@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_0-0
2024-09-30 06:53:40,900 [s3@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_1 at position 0
2024-09-30 06:53:40,904 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s4@group-7D0D1D68FC62->s0-GrpcLogAppender: Follower failed (request=null, errorCount=3); keep nextIndex (2) unchanged and retry.
2024-09-30 06:53:40,906 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-7D0D1D68FC62: change Leader from null to s4 at term 2 for appendEntries, leader elected after 27ms
2024-09-30 06:53:40,907 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-7D0D1D68FC62: appendEntries* s4->s2#1-t2,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:2, i:1), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:40,907 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-7D0D1D68FC62: set configuration conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,908 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-09-30 06:53:40,908 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-7D0D1D68FC62: change Leader from null to s4 at term 2 for appendEntries, leader elected after 30ms
2024-09-30 06:53:40,909 [s2@group-7D0D1D68FC62-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_0-0
2024-09-30 06:53:40,909 [s2@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_0-0
2024-09-30 06:53:40,910 [s2@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_1 at position 0
2024-09-30 06:53:40,917 [s3@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-7D0D1D68FC62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_1
2024-09-30 06:53:40,918 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-7D0D1D68FC62: appendEntries* s4->s1#1-t2,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:2, i:1), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:40,918 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-7D0D1D68FC62: set configuration conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:40,918 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-09-30 06:53:40,920 [s1@group-7D0D1D68FC62-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_0-0
2024-09-30 06:53:40,920 [s1@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_0-0
2024-09-30 06:53:40,920 [s1@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_1 at position 0
2024-09-30 06:53:40,920 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-7D0D1D68FC62: appendEntries* reply s4<-s3#1:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:40,921 [s2@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-7D0D1D68FC62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_1
2024-09-30 06:53:40,921 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-7D0D1D68FC62: appendEntries* reply s4<-s2#1:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:40,922 [s4@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6bb21abb
2024-09-30 06:53:40,923 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-7D0D1D68FC62: appendEntries* s4->s2#3-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:40,923 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-7D0D1D68FC62: appendEntries* reply s4<-s2#3:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:40,924 [s2@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@56efd214
2024-09-30 06:53:40,924 [s4@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s4/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:40,924 [s4@group-7D0D1D68FC62-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s4@group-7D0D1D68FC62-LeaderStateImpl is ready since appliedIndex == startIndex == 1
2024-09-30 06:53:40,925 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s4@group-7D0D1D68FC62->s0-GrpcLogAppender: Follower failed (request=null, errorCount=5); keep nextIndex (3) unchanged and retry.
2024-09-30 06:53:40,925 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-7D0D1D68FC62: appendEntries* s4->s3#2-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:40,926 [s2@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:40,926 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-7D0D1D68FC62: appendEntries* reply s4<-s3#2:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:40,926 [s3@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@689249ae
2024-09-30 06:53:40,928 [s3@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:40,928 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-7D0D1D68FC62: appendEntries* s4->s1#3-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:40,932 [s1@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-7D0D1D68FC62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_1
2024-09-30 06:53:40,933 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-7D0D1D68FC62: appendEntries* reply s4<-s1#1:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:40,933 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-7D0D1D68FC62: appendEntries* reply s4<-s1#3:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:40,933 [s1@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6089850b
2024-09-30 06:53:40,935 [s1@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:41,389 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-7D0D1D68FC62-SegmentedRaftLogWorker close()
2024-09-30 06:53:41,390 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:53:41,390 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:41,390 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:  RUNNING    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:  RUNNING  FOLLOWER s1@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:41,391 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:  RUNNING    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:  RUNNING  FOLLOWER s1@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:41,391 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(147)) - killing leader =    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:41,391 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(539)) - killServer s4
2024-09-30 06:53:41,391 [main] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s4: close
2024-09-30 06:53:41,391 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:41,391 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s4@group-7D0D1D68FC62: shutdown
2024-09-30 06:53:41,392 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s4
2024-09-30 06:53:41,392 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s4: shutdown s4@group-7D0D1D68FC62-LeaderStateImpl
2024-09-30 06:53:41,392 [s4@group-7D0D1D68FC62->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s4@group-7D0D1D68FC62->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:41,392 [s4-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s4@group-7D0D1D68FC62-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:41,392 [Thread-853] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-09-30 06:53:41,393 [s4@group-7D0D1D68FC62->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s4@group-7D0D1D68FC62->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:41,393 [s4@group-7D0D1D68FC62->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s4@group-7D0D1D68FC62->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:41,393 [s4@group-7D0D1D68FC62->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s4@group-7D0D1D68FC62->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:41,394 [Thread-855] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:41,394 [Thread-856] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:41,394 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s4@group-7D0D1D68FC62-StateMachineUpdater: set stopIndex = 2
2024-09-30 06:53:41,394 [s4@group-7D0D1D68FC62-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s4@group-7D0D1D68FC62-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:2)
2024-09-30 06:53:41,395 [s4@group-7D0D1D68FC62-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-7D0D1D68FC62-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:41,395 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s4->s1#3-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:41,395 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:41,395 [Thread-857] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:41,396 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s4@group-7D0D1D68FC62->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:41,396 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:41,396 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s4@group-7D0D1D68FC62->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s4 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:41,396 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s4"
  replyId: "s3"
  raftGroupId {
    id: "{\355\333g\266\271J\312\235\275}\r\035h\374b"
  }
  callId: 12
  success: true
}
term: 2
nextIndex: 3
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:41,396 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:41,396 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s4->s2#3-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:41,397 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:41,396 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: s4->s3#2-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:41,397 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:41,397 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s4"
  replyId: "s2"
  raftGroupId {
    id: "{\355\333g\266\271J\312\235\275}\r\035h\374b"
  }
  callId: 11
  success: true
}
term: 2
nextIndex: 3
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:41,399 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s4@group-7D0D1D68FC62->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:41,399 [grpc-default-executor-9] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s4@group-7D0D1D68FC62->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s4 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:41,399 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s4@group-7D0D1D68FC62->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:41,399 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:41,402 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s4"
  replyId: "s1"
  raftGroupId {
    id: "{\355\333g\266\271J\312\235\275}\r\035h\374b"
  }
  callId: 11
  success: true
}
term: 2
nextIndex: 3
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:41,399 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s4@group-7D0D1D68FC62->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:41,402 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s4@group-7D0D1D68FC62->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s4 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:41,402 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s4@group-7D0D1D68FC62->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:41,402 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s4@group-7D0D1D68FC62->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s4 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:41,402 [grpc-default-executor-11] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s4@group-7D0D1D68FC62->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s4 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:41,403 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:41,403 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:41,403 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:41,404 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:41,404 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s4@group-7D0D1D68FC62->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:41,404 [grpc-default-executor-10] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s4@group-7D0D1D68FC62->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s4 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:41,404 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:41,567 [s1@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:249488212ns, electionTimeout:221ms
2024-09-30 06:53:41,567 [s1@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:41,567 [s1@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2024-09-30 06:53:41,567 [s1@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:41,567 [s1@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-7D0D1D68FC62-LeaderElection24
2024-09-30 06:53:41,567 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-7D0D1D68FC62: change Leader from s4 to null at term 2 for PRE_VOTE
2024-09-30 06:53:41,568 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-7D0D1D68FC62-LeaderElection24 PRE_VOTE round 0: submit vote requests at term 2 for conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:41,568 [s1@group-7D0D1D68FC62-LeaderElection24-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15152
2024-09-30 06:53:41,568 [s1@group-7D0D1D68FC62-LeaderElection24-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15156
2024-09-30 06:53:41,568 [s1@group-7D0D1D68FC62-LeaderElection24-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15140
2024-09-30 06:53:41,570 [s1@group-7D0D1D68FC62-LeaderElection24-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15148
2024-09-30 06:53:41,574 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-7D0D1D68FC62-LeaderElection24 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:41,577 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s1, group-7D0D1D68FC62, 2, (t:2, i:2))
2024-09-30 06:53:41,577 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:41,577 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:41,578 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s1, group-7D0D1D68FC62, 2, (t:2, i:2))
2024-09-30 06:53:41,578 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:41,578 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s1<-s3#0:OK-t2. Peer's state: s3@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:41,579 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-7D0D1D68FC62-LeaderElection24: PRE_VOTE PASSED received 2 response(s) and 1 exception(s):
2024-09-30 06:53:41,579 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:OK-t2
2024-09-30 06:53:41,579 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:OK-t2
2024-09-30 06:53:41,579 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:41,579 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-7D0D1D68FC62-LeaderElection24 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:41,579 [s1@group-7D0D1D68FC62-LeaderElection24] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1133e43
2024-09-30 06:53:41,580 [s1@group-7D0D1D68FC62-LeaderElection24] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:41,581 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-7D0D1D68FC62-LeaderElection24 ELECTION round 0: submit vote requests at term 3 for conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:41,582 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(ELECTION, s1, group-7D0D1D68FC62, 3, (t:2, i:2))
2024-09-30 06:53:41,582 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-7D0D1D68FC62-LeaderElection24 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:41,582 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:41,582 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-7D0D1D68FC62-LeaderElection24 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:41,582 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2024-09-30 06:53:41,583 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:41,583 [grpc-default-executor-10] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-7D0D1D68FC62: change Leader from s4 to null at term 3 for updateCurrentTerm
2024-09-30 06:53:41,583 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s3@group-7D0D1D68FC62-FollowerState was interrupted
2024-09-30 06:53:41,583 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:41,583 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-7D0D1D68FC62: receive requestVote(ELECTION, s1, group-7D0D1D68FC62, 3, (t:2, i:2))
2024-09-30 06:53:41,583 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D0D1D68FC62-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:41,583 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2024-09-30 06:53:41,583 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:41,583 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-7D0D1D68FC62: change Leader from s4 to null at term 3 for updateCurrentTerm
2024-09-30 06:53:41,583 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-7D0D1D68FC62-FollowerState was interrupted
2024-09-30 06:53:41,583 [grpc-default-executor-10] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@648c9a55
2024-09-30 06:53:41,583 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:41,584 [grpc-default-executor-10] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:41,585 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to ELECTION vote request: s1<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:41,586 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@33472c49
2024-09-30 06:53:41,587 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:41,587 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-7D0D1D68FC62 replies to ELECTION vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:41,588 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-7D0D1D68FC62-LeaderElection24: ELECTION PASSED received 2 response(s) and 2 exception(s):
2024-09-30 06:53:41,588 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:OK-t3
2024-09-30 06:53:41,588 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:OK-t3
2024-09-30 06:53:41,588 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:41,588 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:41,588 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-7D0D1D68FC62-LeaderElection24 ELECTION round 0: result PASSED
2024-09-30 06:53:41,588 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-7D0D1D68FC62-LeaderElection24
2024-09-30 06:53:41,588 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-7D0D1D68FC62: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2024-09-30 06:53:41,588 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:41,588 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:41,588 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:41,589 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:41,590 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:41,591 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:41,591 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:41,591 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:41,591 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:41,591 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:41,591 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:41,591 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:41,591 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:41,591 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:41,591 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:41,591 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:41,591 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:41,592 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:41,592 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:41,592 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:41,592 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:41,592 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:41,592 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:41,592 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:41,592 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:41,592 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:41,592 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:41,592 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:41,592 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:41,593 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:41,593 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-7D0D1D68FC62-LeaderStateImpl
2024-09-30 06:53:41,593 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-7D0D1D68FC62: change Leader from null to s1 at term 3 for becomeLeader, leader elected after 25ms
2024-09-30 06:53:41,593 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2024-09-30 06:53:41,593 [s1@group-7D0D1D68FC62-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-7D0D1D68FC62: set configuration conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:41,595 [grpc-default-executor-5] WARN  server.GrpcLogAppender (LogUtils.java:warn(121)) - s1@group-7D0D1D68FC62->s4-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:41,596 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s1@group-7D0D1D68FC62->s4-GrpcLogAppender: Follower failed (request=null, errorCount=1); keep nextIndex (3) unchanged and retry.
2024-09-30 06:53:41,599 [s1@group-7D0D1D68FC62-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_1-2
2024-09-30 06:53:41,599 [s1@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_1-2
2024-09-30 06:53:41,599 [s1@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_3 at position 0
2024-09-30 06:53:41,603 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-7D0D1D68FC62: change Leader from null to s1 at term 3 for appendEntries, leader elected after 19ms
2024-09-30 06:53:41,605 [grpc-default-executor-5] WARN  server.GrpcLogAppender (LogUtils.java:warn(121)) - s1@group-7D0D1D68FC62->s0-AppendLogResponseHandler: Failed appendEntries: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:41,611 [s1@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-7D0D1D68FC62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_3
2024-09-30 06:53:41,616 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s1@group-7D0D1D68FC62->s4-GrpcLogAppender: Follower failed (request=null, errorCount=2); keep nextIndex (4) unchanged and retry.
2024-09-30 06:53:41,616 [grpc-default-executor-11] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s1@group-7D0D1D68FC62->s0-GrpcLogAppender: Follower failed (request=null, errorCount=2); keep nextIndex (4) unchanged and retry.
2024-09-30 06:53:41,619 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-7D0D1D68FC62: appendEntries* s1->s3#1-t3,previous=(t:2, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:3, i:3), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:41,619 [s3-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-7D0D1D68FC62: set configuration conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:41,619 [s3-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s3@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2024-09-30 06:53:41,621 [s3@group-7D0D1D68FC62-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_1-2
2024-09-30 06:53:41,621 [s3@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s3@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_1-2
2024-09-30 06:53:41,621 [s3@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_3 at position 0
2024-09-30 06:53:41,622 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-7D0D1D68FC62: change Leader from null to s1 at term 3 for appendEntries, leader elected after 38ms
2024-09-30 06:53:41,631 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-7D0D1D68FC62: appendEntries* s1->s2#1-t3,previous=(t:2, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:3, i:3), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15152"dataStreamAddress:"localhost:15155"clientAddress:"localhost:15154"adminAddress:"localhost:15153"startupRole:FOLLOWER, id:"s4"address:"localhost:15156"dataStreamAddress:"localhost:15159"clientAddress:"localhost:15158"adminAddress:"localhost:15157"startupRole:FOLLOWER, id:"s0"address:"localhost:15140"dataStreamAddress:"localhost:15143"clientAddress:"localhost:15142"adminAddress:"localhost:15141"startupRole:FOLLOWER, id:"s1"address:"localhost:15144"dataStreamAddress:"localhost:15147"clientAddress:"localhost:15146"adminAddress:"localhost:15145"startupRole:FOLLOWER, id:"s2"address:"localhost:15148"dataStreamAddress:"localhost:15151"clientAddress:"localhost:15150"adminAddress:"localhost:15149"startupRole:FOLLOWER, old:)
2024-09-30 06:53:41,631 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-7D0D1D68FC62: set configuration conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:41,631 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2024-09-30 06:53:41,632 [s2@group-7D0D1D68FC62-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_1-2
2024-09-30 06:53:41,632 [s2@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-7D0D1D68FC62-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_1-2
2024-09-30 06:53:41,633 [s2@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_3 at position 0
2024-09-30 06:53:41,634 [s3@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-7D0D1D68FC62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_3
2024-09-30 06:53:41,634 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-7D0D1D68FC62: appendEntries* reply s1<-s3#1:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:41,644 [s2@group-7D0D1D68FC62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-7D0D1D68FC62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/log_inprogress_3
2024-09-30 06:53:41,644 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-7D0D1D68FC62: appendEntries* reply s1<-s2#1:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:41,646 [s1@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@64b61dc2
2024-09-30 06:53:41,646 [grpc-default-executor-10] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s1@group-7D0D1D68FC62->s4-GrpcLogAppender: Follower failed (request=null, errorCount=7); keep nextIndex (5) unchanged and retry.
2024-09-30 06:53:41,648 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-7D0D1D68FC62: appendEntries* s1->s2#2-t3,previous=(t:3, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:3, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:41,648 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-7D0D1D68FC62: appendEntries* s1->s3#2-t3,previous=(t:3, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:3, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:41,649 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-7D0D1D68FC62: appendEntries* reply s1<-s2#2:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:53:41,649 [s2@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@52d05c11
2024-09-30 06:53:41,651 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s1@group-7D0D1D68FC62->s0-GrpcLogAppender: Follower failed (request=null, errorCount=7); keep nextIndex (5) unchanged and retry.
2024-09-30 06:53:41,651 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-7D0D1D68FC62: appendEntries* reply s1<-s3#2:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:53:41,651 [s3@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6cadd064
2024-09-30 06:53:41,651 [s1@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s1/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:41,652 [s1@group-7D0D1D68FC62-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-7D0D1D68FC62-LeaderStateImpl is ready since appliedIndex == startIndex == 3
2024-09-30 06:53:41,652 [s2@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s2/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:41,654 [s3@group-7D0D1D68FC62-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd04a97b6/s3/7beddb67-b6b9-4aca-9dbd-7d0d1d68fc62/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:41,843 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=93, request=AppendEntriesRequest:cid=101,entriesCount=0
2024-09-30 06:53:41,845 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-55A6EB2CED73->s0-GrpcLogAppender: Timed out appendEntries, errorCount=94, request=AppendEntriesRequest:cid=102,entriesCount=2,entries=(t:1, i:3)...(t:1, i:4)
2024-09-30 06:53:41,924 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s4@group-7D0D1D68FC62-SegmentedRaftLogWorker close()
2024-09-30 06:53:41,924 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-09-30 06:53:41,924 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:41,925 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:  RUNNING    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:41,925 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:  RUNNING    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:41,925 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(147)) - killing leader =    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:41,925 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(539)) - killServer s1
2024-09-30 06:53:41,925 [main] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:53:41,925 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:41,925 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-7D0D1D68FC62: shutdown
2024-09-30 06:53:41,926 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s1
2024-09-30 06:53:41,926 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-7D0D1D68FC62-LeaderStateImpl
2024-09-30 06:53:41,926 [Thread-874] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-09-30 06:53:41,926 [s1@group-7D0D1D68FC62->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-7D0D1D68FC62->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:41,926 [s1@group-7D0D1D68FC62->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-7D0D1D68FC62->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:41,926 [s1@group-7D0D1D68FC62->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-7D0D1D68FC62->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:41,926 [Thread-878] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:41,927 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-7D0D1D68FC62-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:41,926 [Thread-876] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:41,926 [Thread-875] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-09-30 06:53:41,929 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:41,927 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: s1->s3#2-t3,previous=(t:3, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:3, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:41,929 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:41,929 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s3"
  raftGroupId {
    id: "{\355\333g\266\271J\312\235\275}\r\035h\374b"
  }
  callId: 7
  success: true
}
term: 3
nextIndex: 5
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:41,927 [s1@group-7D0D1D68FC62->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-7D0D1D68FC62->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:41,929 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-7D0D1D68FC62-StateMachineUpdater: set stopIndex = 4
2024-09-30 06:53:41,929 [s1@group-7D0D1D68FC62-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-7D0D1D68FC62-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:3, i:4)
2024-09-30 06:53:41,930 [s1@group-7D0D1D68FC62-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-7D0D1D68FC62-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:41,930 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-7D0D1D68FC62->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:41,930 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-7D0D1D68FC62->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:41,930 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-7D0D1D68FC62->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:41,930 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t3,previous=(t:3, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:3, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:41,930 [grpc-default-executor-10] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-7D0D1D68FC62->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:41,930 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:41,930 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:41,931 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "{\355\333g\266\271J\312\235\275}\r\035h\374b"
  }
  callId: 7
  success: true
}
term: 3
nextIndex: 5
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:41,931 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-7D0D1D68FC62->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:41,931 [grpc-default-executor-9] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-7D0D1D68FC62->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:41,931 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-7D0D1D68FC62->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:41,931 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-7D0D1D68FC62->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:41,931 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:41,932 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:41,932 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:41,932 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:41,932 [main] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:42,204 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:322967330ns, electionTimeout:199ms
2024-09-30 06:53:42,204 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:42,204 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:42,204 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:42,204 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection25
2024-09-30 06:53:42,204 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-7D0D1D68FC62: change Leader from s1 to null at term 3 for PRE_VOTE
2024-09-30 06:53:42,205 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection25 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:42,205 [s2@group-7D0D1D68FC62-LeaderElection25-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15152
2024-09-30 06:53:42,205 [s2@group-7D0D1D68FC62-LeaderElection25-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15156
2024-09-30 06:53:42,205 [s2@group-7D0D1D68FC62-LeaderElection25-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15140
2024-09-30 06:53:42,205 [s2@group-7D0D1D68FC62-LeaderElection25-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15144
2024-09-30 06:53:42,210 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection25 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,210 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection25 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,210 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection25 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,212 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:42,212 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:42,212 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:42,213 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection25: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:42,213 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:42,213 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,213 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,213 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,213 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection25 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:42,213 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:42,213 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection25
2024-09-30 06:53:42,213 [s2@group-7D0D1D68FC62-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:42,466 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:252459724ns, electionTimeout:252ms
2024-09-30 06:53:42,466 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:42,466 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:42,466 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:42,466 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection26
2024-09-30 06:53:42,466 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection26 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:42,467 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection26 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,467 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection26 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,468 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection26 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,468 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:42,468 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:42,468 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:42,469 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection26: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:42,469 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:42,469 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,469 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,469 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,469 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection26 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:42,469 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:42,469 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection26
2024-09-30 06:53:42,469 [s2@group-7D0D1D68FC62-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:42,647 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-7D0D1D68FC62-SegmentedRaftLogWorker close()
2024-09-30 06:53:42,647 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:53:42,647 [main] INFO  grpc.TestLeaderElectionWithGrpc (BaseTest.java:testFailureCase(180)) - run 'waitForLeader after killed a majority of servers'
2024-09-30 06:53:42,648 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:42,648 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:42,648 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:42,674 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205272491ns, electionTimeout:205ms
2024-09-30 06:53:42,675 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:42,675 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:42,675 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:42,675 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection27
2024-09-30 06:53:42,675 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection27 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:42,676 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection27 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,676 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection27 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,676 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection27 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,677 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:42,677 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:42,677 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:42,677 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection27: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:42,677 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:42,677 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,677 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,677 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,678 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection27 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:42,678 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:42,678 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection27
2024-09-30 06:53:42,678 [s2@group-7D0D1D68FC62-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:42,957 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:279277655ns, electionTimeout:279ms
2024-09-30 06:53:42,957 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:42,957 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:42,957 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:42,957 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection28
2024-09-30 06:53:42,958 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection28 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:42,959 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection28 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,959 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection28 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,959 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection28 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,959 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:42,959 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:42,959 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:42,960 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection28: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:42,960 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:42,960 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,960 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,960 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:42,960 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection28 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:42,960 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:42,960 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection28
2024-09-30 06:53:42,960 [s2@group-7D0D1D68FC62-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:43,099 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #2 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:43,229 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:268247997ns, electionTimeout:268ms
2024-09-30 06:53:43,229 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:43,229 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:43,229 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:43,229 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection29
2024-09-30 06:53:43,229 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection29 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:43,230 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection29 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,230 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection29 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,230 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection29 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,231 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:43,231 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:43,231 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:43,232 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection29: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:43,232 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:43,232 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,232 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,232 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,232 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection29 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:43,232 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:43,232 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection29
2024-09-30 06:53:43,232 [s2@group-7D0D1D68FC62-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:43,431 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s3@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:199946528ns, electionTimeout:165ms
2024-09-30 06:53:43,431 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:43,431 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:43,431 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:43,431 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-LeaderElection30
2024-09-30 06:53:43,432 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-7D0D1D68FC62: change Leader from s1 to null at term 3 for PRE_VOTE
2024-09-30 06:53:43,432 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s3@group-7D0D1D68FC62-LeaderElection30 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:43,432 [s3@group-7D0D1D68FC62-LeaderElection30-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15156
2024-09-30 06:53:43,432 [s3@group-7D0D1D68FC62-LeaderElection30-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15140
2024-09-30 06:53:43,432 [s3@group-7D0D1D68FC62-LeaderElection30-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15144
2024-09-30 06:53:43,432 [s3@group-7D0D1D68FC62-LeaderElection30-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15148
2024-09-30 06:53:43,439 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection30 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,440 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection30 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,440 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection30 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,441 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s3, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:43,441 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-09-30 06:53:43,441 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:43,442 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-7D0D1D68FC62-LeaderElection30: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:43,442 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s2#0:OK-t3
2024-09-30 06:53:43,442 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,442 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,442 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,442 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s3@group-7D0D1D68FC62-LeaderElection30 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:43,442 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:43,442 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s3: shutdown s3@group-7D0D1D68FC62-LeaderElection30
2024-09-30 06:53:43,442 [s3@group-7D0D1D68FC62-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:43,549 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #3 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:43,730 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s3@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:288298690ns, electionTimeout:288ms
2024-09-30 06:53:43,730 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:43,731 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:43,731 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:43,731 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-LeaderElection31
2024-09-30 06:53:43,731 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s3@group-7D0D1D68FC62-LeaderElection31 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:43,732 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection31 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,732 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection31 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,732 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection31 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,733 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s3, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:43,733 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-09-30 06:53:43,733 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:43,733 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-7D0D1D68FC62-LeaderElection31: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:43,734 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s2#0:OK-t3
2024-09-30 06:53:43,734 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,734 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,734 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,734 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s3@group-7D0D1D68FC62-LeaderElection31 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:43,734 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:43,734 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s3: shutdown s3@group-7D0D1D68FC62-LeaderElection31
2024-09-30 06:53:43,734 [s3@group-7D0D1D68FC62-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:43,891 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:157694043ns, electionTimeout:152ms
2024-09-30 06:53:43,891 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:43,891 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:43,891 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:43,891 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection32
2024-09-30 06:53:43,891 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection32 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:43,892 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection32 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,892 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection32 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,892 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection32 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,893 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:43,893 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:43,893 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:43,894 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection32: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:43,894 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:43,894 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,894 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,894 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:43,894 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection32 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:43,894 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:43,894 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection32
2024-09-30 06:53:43,894 [s2@group-7D0D1D68FC62-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:44,000 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #4 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:44,049 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:155343977ns, electionTimeout:155ms
2024-09-30 06:53:44,049 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:44,049 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:44,050 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:44,050 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection33
2024-09-30 06:53:44,050 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection33 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:44,051 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection33 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,051 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection33 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,051 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection33 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,052 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:44,052 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:44,052 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:44,052 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection33: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:44,052 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:44,052 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,052 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,053 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,053 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection33 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:44,053 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:44,053 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection33
2024-09-30 06:53:44,053 [s2@group-7D0D1D68FC62-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:44,311 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:258283386ns, electionTimeout:258ms
2024-09-30 06:53:44,311 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:44,311 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:44,311 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:44,311 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection34
2024-09-30 06:53:44,312 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection34 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:44,313 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection34 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,313 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection34 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,313 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection34 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,313 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:44,313 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:44,314 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:44,314 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection34: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:44,314 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:44,314 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,314 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,314 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,314 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection34 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:44,315 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:44,315 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection34
2024-09-30 06:53:44,315 [s2@group-7D0D1D68FC62-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:44,451 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #5 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:44,561 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:246286632ns, electionTimeout:246ms
2024-09-30 06:53:44,561 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:44,561 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:44,561 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:44,561 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection35
2024-09-30 06:53:44,562 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection35 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:44,562 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection35 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,563 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection35 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,563 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection35 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,563 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:44,563 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:44,563 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:44,564 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection35: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:44,564 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:44,564 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,564 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,564 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,564 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection35 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:44,564 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:44,564 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection35
2024-09-30 06:53:44,564 [s2@group-7D0D1D68FC62-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:44,779 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:214345285ns, electionTimeout:214ms
2024-09-30 06:53:44,779 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:44,779 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:44,779 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:44,779 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection36
2024-09-30 06:53:44,780 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection36 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:44,780 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection36 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,780 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection36 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,780 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection36 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,781 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:44,781 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:44,781 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:44,784 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection36: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:44,784 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:44,784 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,784 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,784 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:44,784 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection36 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:44,785 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:44,785 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection36
2024-09-30 06:53:44,785 [s2@group-7D0D1D68FC62-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:44,901 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #6 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:45,014 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s3@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:232410742ns, electionTimeout:174ms
2024-09-30 06:53:45,014 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:45,014 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:45,014 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:45,014 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-LeaderElection37
2024-09-30 06:53:45,014 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s3@group-7D0D1D68FC62-LeaderElection37 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:45,015 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection37 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,015 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection37 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,015 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection37 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,016 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s3, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:45,016 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-09-30 06:53:45,017 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:45,017 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-7D0D1D68FC62-LeaderElection37: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:45,017 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s2#0:OK-t3
2024-09-30 06:53:45,017 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,017 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,017 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,018 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s3@group-7D0D1D68FC62-LeaderElection37 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:45,018 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:45,018 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s3: shutdown s3@group-7D0D1D68FC62-LeaderElection37
2024-09-30 06:53:45,018 [s3@group-7D0D1D68FC62-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:45,185 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:168564491ns, electionTimeout:162ms
2024-09-30 06:53:45,185 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:45,185 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:45,185 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:45,185 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection38
2024-09-30 06:53:45,186 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection38 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:45,186 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection38 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,186 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection38 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,187 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection38 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,188 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:45,188 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:45,188 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:45,189 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection38: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:45,189 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:45,189 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,189 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,189 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,189 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection38 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:45,189 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:45,189 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection38
2024-09-30 06:53:45,189 [s2@group-7D0D1D68FC62-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:45,352 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #7 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:45,412 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:223282079ns, electionTimeout:223ms
2024-09-30 06:53:45,413 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:45,413 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:45,413 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:45,413 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection39
2024-09-30 06:53:45,413 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection39 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:45,414 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,414 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,414 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,415 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:45,415 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:45,415 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:45,415 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection39: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:45,415 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:45,415 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,416 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,416 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,416 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection39 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:45,416 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:45,416 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection39
2024-09-30 06:53:45,416 [s2@group-7D0D1D68FC62-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:45,689 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s3@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:274472966ns, electionTimeout:231ms
2024-09-30 06:53:45,689 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:45,689 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:45,690 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:45,690 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-LeaderElection40
2024-09-30 06:53:45,690 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s3@group-7D0D1D68FC62-LeaderElection40 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:45,691 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,691 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,691 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,692 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s3, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:45,692 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-09-30 06:53:45,692 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:45,692 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-7D0D1D68FC62-LeaderElection40: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:45,692 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s2#0:OK-t3
2024-09-30 06:53:45,693 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,693 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,693 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,693 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s3@group-7D0D1D68FC62-LeaderElection40 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:45,693 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:45,693 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s3: shutdown s3@group-7D0D1D68FC62-LeaderElection40
2024-09-30 06:53:45,693 [s3@group-7D0D1D68FC62-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:45,803 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #8 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:45,847 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s3@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:154095189ns, electionTimeout:153ms
2024-09-30 06:53:45,847 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:45,847 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:45,847 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:45,847 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-LeaderElection41
2024-09-30 06:53:45,848 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s3@group-7D0D1D68FC62-LeaderElection41 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:45,848 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,848 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,849 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,850 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s3, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:45,850 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-09-30 06:53:45,850 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:45,850 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-7D0D1D68FC62-LeaderElection41: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:45,850 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s2#0:OK-t3
2024-09-30 06:53:45,850 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,850 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,850 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,851 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s3@group-7D0D1D68FC62-LeaderElection41 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:45,851 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:45,851 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s3: shutdown s3@group-7D0D1D68FC62-LeaderElection41
2024-09-30 06:53:45,851 [s3@group-7D0D1D68FC62-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:45,890 [timer5] WARN  server.GrpcLogAppender (LogUtils.java:warn(121)) - s4@group-7D0D1D68FC62->s0-AppendLogResponseHandler: Failed appendEntries (Repeated 12 times in the last 5.000s): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:45,892 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s4@group-7D0D1D68FC62->s0-GrpcLogAppender: Follower failed (request=null, errorCount=2); keep nextIndex (1) unchanged and retry. (Repeated 2 times in the last 5.000s)
2024-09-30 06:53:45,904 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s4@group-7D0D1D68FC62->s0-GrpcLogAppender: Follower failed (request=null, errorCount=4); keep nextIndex (2) unchanged and retry. (Repeated 2 times in the last 5.000s)
2024-09-30 06:53:45,925 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s1@group-7D0D1D68FC62->s0-GrpcLogAppender: Follower failed (request=null, errorCount=1); keep nextIndex (3) unchanged and retry. (Repeated 9 times in the last 5.000s)
2024-09-30 06:53:46,073 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s3@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:222283031ns, electionTimeout:222ms
2024-09-30 06:53:46,073 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:46,073 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:46,073 [s3@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:46,073 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-LeaderElection42
2024-09-30 06:53:46,074 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s3@group-7D0D1D68FC62-LeaderElection42 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:46,074 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,074 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,075 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-7D0D1D68FC62-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,075 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s3, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:46,076 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-09-30 06:53:46,076 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:46,076 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-7D0D1D68FC62-LeaderElection42: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:46,076 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s2#0:OK-t3
2024-09-30 06:53:46,076 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,076 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,076 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,076 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s3@group-7D0D1D68FC62-LeaderElection42 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:46,076 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:46,077 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s3: shutdown s3@group-7D0D1D68FC62-LeaderElection42
2024-09-30 06:53:46,077 [s3@group-7D0D1D68FC62-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:46,254 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #9 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:46,280 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:204699662ns, electionTimeout:171ms
2024-09-30 06:53:46,280 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:46,281 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:46,281 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:46,281 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection43
2024-09-30 06:53:46,281 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection43 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:46,282 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,282 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,282 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,283 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:46,283 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:46,284 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:46,286 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection43: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:46,286 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:46,286 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,286 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,286 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,286 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection43 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:46,286 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:46,286 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection43
2024-09-30 06:53:46,286 [s2@group-7D0D1D68FC62-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:46,509 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-7D0D1D68FC62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:222304582ns, electionTimeout:222ms
2024-09-30 06:53:46,509 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:46,509 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:53:46,509 [s2@group-7D0D1D68FC62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:46,509 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-LeaderElection44
2024-09-30 06:53:46,509 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-7D0D1D68FC62-LeaderElection44 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:46,510 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,510 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,510 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s2@group-7D0D1D68FC62-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,511 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-7D0D1D68FC62: receive requestVote(PRE_VOTE, s2, group-7D0D1D68FC62, 3, (t:3, i:4))
2024-09-30 06:53:46,511 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-7D0D1D68FC62-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:46,512 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-7D0D1D68FC62 replies to PRE_VOTE vote request: s2<-s3#0:OK-t3. Peer's state: s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null}
2024-09-30 06:53:46,512 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-7D0D1D68FC62-LeaderElection44: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-09-30 06:53:46,512 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t3
2024-09-30 06:53:46,512 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,512 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,512 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,512 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-7D0D1D68FC62-LeaderElection44 PRE_VOTE round 0: result REJECTED
2024-09-30 06:53:46,512 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-7D0D1D68FC62: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-09-30 06:53:46,513 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-7D0D1D68FC62-LeaderElection44
2024-09-30 06:53:46,513 [s2@group-7D0D1D68FC62-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:46,595 [timer1] WARN  server.GrpcLogAppender (LogUtils.java:warn(121)) - s1@group-7D0D1D68FC62->s4-AppendLogResponseHandler: Failed appendEntries (Repeated 12 times in the last 5.000s): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,605 [timer5] WARN  server.GrpcLogAppender (LogUtils.java:warn(121)) - s1@group-7D0D1D68FC62->s0-AppendLogResponseHandler: Failed appendEntries (Repeated 12 times in the last 5.000s): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
2024-09-30 06:53:46,616 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s1@group-7D0D1D68FC62->s4-GrpcLogAppender: Follower failed (request=null, errorCount=6); keep nextIndex (4) unchanged and retry. (Repeated 5 times in the last 5.001s)
2024-09-30 06:53:46,617 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s1@group-7D0D1D68FC62->s0-GrpcLogAppender: Follower failed (request=null, errorCount=6); keep nextIndex (4) unchanged and retry. (Repeated 5 times in the last 5.000s)
2024-09-30 06:53:46,647 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s1@group-7D0D1D68FC62->s4-GrpcLogAppender: Follower failed (request=null, errorCount=12); keep nextIndex (5) unchanged and retry. (Repeated 6 times in the last 5.001s)
2024-09-30 06:53:46,651 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:lambda$resetClient$1(221)) - s1@group-7D0D1D68FC62->s0-GrpcLogAppender: Follower failed (request=null, errorCount=12); keep nextIndex (5) unchanged and retry. (Repeated 6 times in the last 5.000s)
2024-09-30 06:53:46,704 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #10 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:46,705 [main] INFO  grpc.TestLeaderElectionWithGrpc (BaseTest.java:assertThrowable(160)) - Expected the test "waitForLeader after killed a majority of servers" to throw IllegalStateException with cause(s) []
2024-09-30 06:53:46,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:46,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:46,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:46,706 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:46,706 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:46,706 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s3@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
  s4:   CLOSED    LEADER s4@group-7D0D1D68FC62:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 1, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s0:   CLOSED    LEADER s0@group-7D0D1D68FC62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-7D0D1D68FC62:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-7D0D1D68FC62-SegmentedRaftLog:CLOSED:c4, conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} CLOSED
  s2:  RUNNING  FOLLOWER s2@group-7D0D1D68FC62:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-7D0D1D68FC62-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s3|localhost:15152, s4|localhost:15156, s0|localhost:15140, s1|localhost:15144, s2|localhost:15148]|listeners:[], old=null} RUNNING
2024-09-30 06:53:46,706 [MiniRaftCluster-55] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s3: close
2024-09-30 06:53:46,707 [MiniRaftCluster-55] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:46,707 [MiniRaftCluster-59] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:53:46,707 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s3@group-7D0D1D68FC62: shutdown
2024-09-30 06:53:46,707 [MiniRaftCluster-59] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:46,707 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s3
2024-09-30 06:53:46,708 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:46,708 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s3@group-7D0D1D68FC62-StateMachineUpdater: set stopIndex = 4
2024-09-30 06:53:46,708 [s3@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s3@group-7D0D1D68FC62-FollowerState was interrupted
2024-09-30 06:53:46,707 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-7D0D1D68FC62: shutdown
2024-09-30 06:53:46,708 [Thread-1004] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-09-30 06:53:46,708 [s3@group-7D0D1D68FC62-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s3@group-7D0D1D68FC62-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:3, i:4)
2024-09-30 06:53:46,708 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D0D1D68FC62,id=s2
2024-09-30 06:53:46,708 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-7D0D1D68FC62-FollowerState
2024-09-30 06:53:46,709 [Thread-1006] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:46,709 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-7D0D1D68FC62-StateMachineUpdater: set stopIndex = 4
2024-09-30 06:53:46,710 [s2@group-7D0D1D68FC62-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-7D0D1D68FC62-FollowerState was interrupted
2024-09-30 06:53:46,710 [s2@group-7D0D1D68FC62-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-7D0D1D68FC62-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:3, i:4)
2024-09-30 06:53:46,710 [s2@group-7D0D1D68FC62-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-7D0D1D68FC62-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:46,710 [Thread-1007] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:46,711 [s3@group-7D0D1D68FC62-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-7D0D1D68FC62-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:46,711 [Thread-1010] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-09-30 06:53:46,711 [Thread-1011] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:46,714 [Thread-1005] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-09-30 06:53:46,714 [MiniRaftCluster-59] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:46,714 [Thread-1012] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:46,714 [Thread-1013] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:46,714 [MiniRaftCluster-59] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:46,715 [MiniRaftCluster-59] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:46,715 [MiniRaftCluster-59] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:46,715 [MiniRaftCluster-55] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:46,715 [MiniRaftCluster-55] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:46,715 [MiniRaftCluster-55] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:46,716 [MiniRaftCluster-55] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:46,716 [MiniRaftCluster-59] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:46,716 [MiniRaftCluster-55] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:47,653 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s3@group-7D0D1D68FC62-SegmentedRaftLogWorker close()
2024-09-30 06:53:47,653 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-7D0D1D68FC62-SegmentedRaftLogWorker close()
2024-09-30 06:53:47,655 [JvmPauseMonitor39] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:53:47,655 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-09-30 06:53:47,655 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:47,655 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:47,783 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:47,783 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testChangeFollowerToListener" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="1.917">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeFollowerToListener(LeaderElectionTests.java:465)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	Suppressed: java.lang.IllegalStateException: allLeaks.size = 2
		at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
		at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
		at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
		at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
		at org.apache.ratis.server.impl.MiniRaftCluster.close(MiniRaftCluster.java:833)
		at org.apache.ratis.server.impl.LeaderElectionTests.testChangeFollowerToListener(LeaderElectionTests.java:466)
		... 3 more
]]></error>
    <system-out><![CDATA[2024-09-30 06:53:47,784 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:53:47,784 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:53:47,784 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:53:47,785 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:53:47,786 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-0AF2BF00B2B7:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]
2024-09-30 06:53:47,786 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:53:47,786 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:53:47,786 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:53:47,786 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:53:47,786 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:53:47,786 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:53:47,787 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-0AF2BF00B2B7:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168], format? true
2024-09-30 06:53:47,787 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0
2024-09-30 06:53:47,787 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0 does not exist.
2024-09-30 06:53:47,787 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0
2024-09-30 06:53:47,787 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:47,787 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:47,788 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15161 (custom)
2024-09-30 06:53:47,788 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:47,788 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15162 (custom)
2024-09-30 06:53:47,788 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:47,788 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15160 (custom)
2024-09-30 06:53:47,788 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:47,788 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:47,789 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:47,789 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:47,789 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:47,789 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:47,789 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:47,789 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:47,791 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:47,792 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:47,792 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:47,792 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:47,792 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0] (custom)
2024-09-30 06:53:47,792 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:47,792 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:47,793 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-0AF2BF00B2B7:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] returns group-0AF2BF00B2B7:java.util.concurrent.CompletableFuture@6a95c2f6[Not completed]
2024-09-30 06:53:47,793 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-0AF2BF00B2B7:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] with BaseStateMachine:uninitialized
2024-09-30 06:53:47,793 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-0AF2BF00B2B7:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168], format? true
2024-09-30 06:53:47,793 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1
2024-09-30 06:53:47,793 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:47,793 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1 does not exist.
2024-09-30 06:53:47,793 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1
2024-09-30 06:53:47,793 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:47,793 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:47,794 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:47,794 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:47,794 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:47,794 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:47,794 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:47,794 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:47,794 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15165 (custom)
2024-09-30 06:53:47,794 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-0AF2BF00B2B7: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:47,794 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:47,794 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:47,794 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15166 (custom)
2024-09-30 06:53:47,795 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:47,794 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:47,795 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15164 (custom)
2024-09-30 06:53:47,795 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:47,795 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:47,795 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:47,795 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:47,795 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:47,795 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:47,795 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:47,795 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:47,796 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:47,796 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:47,796 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:47,796 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:47,796 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:47,796 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:47,796 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:47,796 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:47,797 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:47,797 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:47,798 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:47,798 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:47,798 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:47,798 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:47,798 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1] (custom)
2024-09-30 06:53:47,798 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:47,798 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:47,799 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-0AF2BF00B2B7:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] returns group-0AF2BF00B2B7:java.util.concurrent.CompletableFuture@3c04ddda[Not completed]
2024-09-30 06:53:47,799 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-0AF2BF00B2B7:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] with BaseStateMachine:uninitialized
2024-09-30 06:53:47,799 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-0AF2BF00B2B7:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168], format? true
2024-09-30 06:53:47,799 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2
2024-09-30 06:53:47,799 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:47,799 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2 does not exist.
2024-09-30 06:53:47,799 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2
2024-09-30 06:53:47,799 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:47,799 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:47,799 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:47,799 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:47,799 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:47,800 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:47,800 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:47,800 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:47,800 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15169 (custom)
2024-09-30 06:53:47,800 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-0AF2BF00B2B7: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:47,800 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:47,800 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:47,800 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15170 (custom)
2024-09-30 06:53:47,800 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:47,800 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:47,801 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15168 (custom)
2024-09-30 06:53:47,801 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:47,801 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:47,801 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:47,801 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:47,801 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:47,801 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:47,801 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:47,801 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:47,801 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:47,802 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:47,802 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:47,802 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:47,802 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:47,802 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:47,802 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:47,802 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:47,802 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:47,802 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:47,803 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:47,803 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:47,803 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:47,803 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:47,803 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2] (custom)
2024-09-30 06:53:47,804 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:47,804 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:47,804 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-0AF2BF00B2B7:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] returns group-0AF2BF00B2B7:java.util.concurrent.CompletableFuture@4f5bfbca[Not completed]
2024-09-30 06:53:47,804 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-0AF2BF00B2B7:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] with BaseStateMachine:uninitialized
2024-09-30 06:53:47,804 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:47,804 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:47,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:47,804 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:47,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:47,805 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:47,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0] (custom)
2024-09-30 06:53:47,805 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:47,805 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:47,805 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:47,805 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-0AF2BF00B2B7: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:47,805 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:47,805 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7 does not exist. Creating ...
2024-09-30 06:53:47,805 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:47,805 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:47,805 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:47,805 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:47,805 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:47,805 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7
2024-09-30 06:53:47,806 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:47,806 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:47,806 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:47,806 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:47,806 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:47,806 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:47,809 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:47,809 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current
2024-09-30 06:53:47,809 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/sm
2024-09-30 06:53:47,809 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@82ef1b7
2024-09-30 06:53:47,810 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:47,810 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7 has been successfully formatted.
2024-09-30 06:53:47,810 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:47,810 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:47,810 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:47,810 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:47,810 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-0AF2BF00B2B7-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-0AF2BF00B2B7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:47,811 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:47,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:47,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:47,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:47,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:47,812 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:47,812 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-0AF2BF00B2B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:47,812 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-0AF2BF00B2B7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:47,813 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-0AF2BF00B2B7: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}
2024-09-30 06:53:47,813 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-0AF2BF00B2B7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:47,813 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-0AF2BF00B2B7-FollowerState
2024-09-30 06:53:47,813 [s0@group-0AF2BF00B2B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:47,813 [s0@group-0AF2BF00B2B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:47,813 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AF2BF00B2B7,id=s0
2024-09-30 06:53:47,813 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-0AF2BF00B2B7,id=s0
2024-09-30 06:53:47,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:47,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:47,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:47,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:47,814 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:47,814 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:53:47,815 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15162
2024-09-30 06:53:47,816 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15160
2024-09-30 06:53:47,816 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15161
2024-09-30 06:53:47,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:47,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:47,817 [JvmPauseMonitor40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:53:47,817 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1] (custom)
2024-09-30 06:53:47,817 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7 does not exist. Creating ...
2024-09-30 06:53:47,817 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7
2024-09-30 06:53:47,818 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:47,818 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current
2024-09-30 06:53:47,818 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/sm
2024-09-30 06:53:47,818 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7dddc388
2024-09-30 06:53:47,819 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:47,819 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7 has been successfully formatted.
2024-09-30 06:53:47,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:47,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:47,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:47,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:47,819 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-0AF2BF00B2B7-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-0AF2BF00B2B7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:47,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:47,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:47,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:47,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:47,821 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:47,821 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-0AF2BF00B2B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:47,821 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-0AF2BF00B2B7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:47,821 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-0AF2BF00B2B7: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}
2024-09-30 06:53:47,821 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-0AF2BF00B2B7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:47,821 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-0AF2BF00B2B7-FollowerState
2024-09-30 06:53:47,822 [s1@group-0AF2BF00B2B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:47,822 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AF2BF00B2B7,id=s1
2024-09-30 06:53:47,822 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-0AF2BF00B2B7,id=s1
2024-09-30 06:53:47,822 [s1@group-0AF2BF00B2B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:47,822 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:47,822 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:47,822 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:47,822 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:47,822 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:47,822 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:53:47,823 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15166
2024-09-30 06:53:47,823 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15164
2024-09-30 06:53:47,823 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15165
2024-09-30 06:53:47,823 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:47,823 [JvmPauseMonitor41] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:53:47,823 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:47,823 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2] (custom)
2024-09-30 06:53:47,824 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7 does not exist. Creating ...
2024-09-30 06:53:47,824 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7
2024-09-30 06:53:47,824 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:47,825 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current
2024-09-30 06:53:47,825 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/sm
2024-09-30 06:53:47,825 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@282afe2f
2024-09-30 06:53:47,826 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:47,826 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7 has been successfully formatted.
2024-09-30 06:53:47,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:47,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:47,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:47,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:47,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:47,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:47,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:47,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:47,826 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-0AF2BF00B2B7-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-0AF2BF00B2B7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:47,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:47,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:47,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:47,828 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-0AF2BF00B2B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:47,828 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-0AF2BF00B2B7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:47,828 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-0AF2BF00B2B7: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}
2024-09-30 06:53:47,828 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-0AF2BF00B2B7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:47,828 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-0AF2BF00B2B7-FollowerState
2024-09-30 06:53:47,828 [s2@group-0AF2BF00B2B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:47,828 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AF2BF00B2B7,id=s2
2024-09-30 06:53:47,828 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-0AF2BF00B2B7,id=s2
2024-09-30 06:53:47,828 [s2@group-0AF2BF00B2B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:47,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:47,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:47,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:47,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:47,829 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:47,829 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:53:47,829 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15170
2024-09-30 06:53:47,830 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15168
2024-09-30 06:53:47,830 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15169
2024-09-30 06:53:47,830 [JvmPauseMonitor42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:53:47,830 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:47,831 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AF2BF00B2B7:t0, leader=null, voted=, raftlog=Memoized:s0@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AF2BF00B2B7:t0, leader=null, voted=, raftlog=Memoized:s1@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AF2BF00B2B7:t0, leader=null, voted=, raftlog=Memoized:s2@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null} RUNNING
2024-09-30 06:53:47,831 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AF2BF00B2B7:t0, leader=null, voted=, raftlog=Memoized:s0@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AF2BF00B2B7:t0, leader=null, voted=, raftlog=Memoized:s1@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0AF2BF00B2B7:t0, leader=null, voted=, raftlog=Memoized:s2@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null} RUNNING
2024-09-30 06:53:48,047 [s2@group-0AF2BF00B2B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-0AF2BF00B2B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:218549922ns, electionTimeout:218ms
2024-09-30 06:53:48,047 [s2@group-0AF2BF00B2B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-0AF2BF00B2B7-FollowerState
2024-09-30 06:53:48,047 [s2@group-0AF2BF00B2B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-0AF2BF00B2B7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:48,047 [s2@group-0AF2BF00B2B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:48,047 [s2@group-0AF2BF00B2B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-0AF2BF00B2B7-LeaderElection45
2024-09-30 06:53:48,048 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-0AF2BF00B2B7-LeaderElection45 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}
2024-09-30 06:53:48,048 [s2@group-0AF2BF00B2B7-LeaderElection45-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15160
2024-09-30 06:53:48,048 [s2@group-0AF2BF00B2B7-LeaderElection45-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15164
2024-09-30 06:53:48,048 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:48,048 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:48,054 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-0AF2BF00B2B7: receive requestVote(PRE_VOTE, s2, group-0AF2BF00B2B7, 0, (t:0, i:0))
2024-09-30 06:53:48,054 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0AF2BF00B2B7-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:48,054 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-0AF2BF00B2B7 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-0AF2BF00B2B7:t0, leader=null, voted=, raftlog=Memoized:s0@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}
2024-09-30 06:53:48,056 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-0AF2BF00B2B7-LeaderElection45: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:48,056 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2024-09-30 06:53:48,056 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-0AF2BF00B2B7-LeaderElection45 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:48,056 [s2@group-0AF2BF00B2B7-LeaderElection45] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@63d3a1b
2024-09-30 06:53:48,057 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-0AF2BF00B2B7: receive requestVote(PRE_VOTE, s2, group-0AF2BF00B2B7, 0, (t:0, i:0))
2024-09-30 06:53:48,057 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0AF2BF00B2B7-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:48,057 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-0AF2BF00B2B7 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-0AF2BF00B2B7:t0, leader=null, voted=, raftlog=Memoized:s1@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}
2024-09-30 06:53:48,057 [s2@group-0AF2BF00B2B7-LeaderElection45] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:48,057 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-0AF2BF00B2B7-LeaderElection45 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}
2024-09-30 06:53:48,058 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:48,058 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:48,058 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-0AF2BF00B2B7: receive requestVote(ELECTION, s2, group-0AF2BF00B2B7, 1, (t:0, i:0))
2024-09-30 06:53:48,059 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0AF2BF00B2B7-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:48,059 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-0AF2BF00B2B7: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:53:48,059 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-0AF2BF00B2B7: receive requestVote(ELECTION, s2, group-0AF2BF00B2B7, 1, (t:0, i:0))
2024-09-30 06:53:48,059 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-0AF2BF00B2B7-FollowerState
2024-09-30 06:53:48,059 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0AF2BF00B2B7-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:48,059 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-0AF2BF00B2B7: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:53:48,059 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-0AF2BF00B2B7-FollowerState
2024-09-30 06:53:48,059 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-0AF2BF00B2B7-FollowerState
2024-09-30 06:53:48,059 [s1@group-0AF2BF00B2B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-0AF2BF00B2B7-FollowerState was interrupted
2024-09-30 06:53:48,059 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-0AF2BF00B2B7: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:53:48,059 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-0AF2BF00B2B7-FollowerState
2024-09-30 06:53:48,059 [s0@group-0AF2BF00B2B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-0AF2BF00B2B7-FollowerState was interrupted
2024-09-30 06:53:48,059 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-0AF2BF00B2B7: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:53:48,060 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@61f5579f
2024-09-30 06:53:48,060 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5648bec1
2024-09-30 06:53:48,060 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:48,061 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-0AF2BF00B2B7 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-0AF2BF00B2B7:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}
2024-09-30 06:53:48,061 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:48,061 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-0AF2BF00B2B7 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-0AF2BF00B2B7:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}
2024-09-30 06:53:48,061 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-0AF2BF00B2B7-LeaderElection45: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:48,061 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2024-09-30 06:53:48,061 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-0AF2BF00B2B7-LeaderElection45 ELECTION round 0: result PASSED
2024-09-30 06:53:48,061 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-0AF2BF00B2B7-LeaderElection45
2024-09-30 06:53:48,061 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-0AF2BF00B2B7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:48,062 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:48,063 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:48,064 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:48,064 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-0AF2BF00B2B7-LeaderStateImpl
2024-09-30 06:53:48,064 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-0AF2BF00B2B7: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:53:48,064 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-0AF2BF00B2B7: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 258ms
2024-09-30 06:53:48,064 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-0AF2BF00B2B7-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:48,064 [s2@group-0AF2BF00B2B7-LeaderElection45] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-0AF2BF00B2B7: set configuration conf: {index: 0, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}
2024-09-30 06:53:48,064 [s2@group-0AF2BF00B2B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:48,071 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-0AF2BF00B2B7: change Leader from null to s2 at term 1 for appendEntries, leader elected after 276ms
2024-09-30 06:53:48,074 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-0AF2BF00B2B7: change Leader from null to s2 at term 1 for appendEntries, leader elected after 273ms
2024-09-30 06:53:48,078 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0AF2BF00B2B7: appendEntries* s2->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15160"dataStreamAddress:"localhost:15163"clientAddress:"localhost:15162"adminAddress:"localhost:15161"startupRole:FOLLOWER, id:"s1"address:"localhost:15164"dataStreamAddress:"localhost:15167"clientAddress:"localhost:15166"adminAddress:"localhost:15165"startupRole:FOLLOWER, id:"s2"address:"localhost:15168"dataStreamAddress:"localhost:15171"clientAddress:"localhost:15170"adminAddress:"localhost:15169"startupRole:FOLLOWER, old:)
2024-09-30 06:53:48,079 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-0AF2BF00B2B7: set configuration conf: {index: 0, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}
2024-09-30 06:53:48,079 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-0AF2BF00B2B7-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:48,079 [s0@group-0AF2BF00B2B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:48,083 [s2@group-0AF2BF00B2B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-0AF2BF00B2B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/log_inprogress_0
2024-09-30 06:53:48,086 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0AF2BF00B2B7: appendEntries* s2->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15160"dataStreamAddress:"localhost:15163"clientAddress:"localhost:15162"adminAddress:"localhost:15161"startupRole:FOLLOWER, id:"s1"address:"localhost:15164"dataStreamAddress:"localhost:15167"clientAddress:"localhost:15166"adminAddress:"localhost:15165"startupRole:FOLLOWER, id:"s2"address:"localhost:15168"dataStreamAddress:"localhost:15171"clientAddress:"localhost:15170"adminAddress:"localhost:15169"startupRole:FOLLOWER, old:)
2024-09-30 06:53:48,086 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-0AF2BF00B2B7: set configuration conf: {index: 0, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null}
2024-09-30 06:53:48,086 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-0AF2BF00B2B7-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:48,086 [s1@group-0AF2BF00B2B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:48,089 [s0@group-0AF2BF00B2B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-0AF2BF00B2B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/log_inprogress_0
2024-09-30 06:53:48,090 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0AF2BF00B2B7: appendEntries* reply s2<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:48,090 [s2@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@370a04a0
2024-09-30 06:53:48,092 [s2@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:48,092 [s2@group-0AF2BF00B2B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s2@group-0AF2BF00B2B7-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:53:48,097 [s1@group-0AF2BF00B2B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-0AF2BF00B2B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/log_inprogress_0
2024-09-30 06:53:48,097 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0AF2BF00B2B7: appendEntries* reply s2<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:48,166 [s0@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2e831ea8
2024-09-30 06:53:48,168 [s0@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:48,174 [s1@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4c86400c
2024-09-30 06:53:48,176 [s1@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:48,281 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AF2BF00B2B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AF2BF00B2B7:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-0AF2BF00B2B7:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null} RUNNING
2024-09-30 06:53:48,281 [main] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:48,282 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-DDC1DEBD3527: get 13 returns []
2024-09-30 06:53:48,282 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-DDC1DEBD3527->s0@group-0AF2BF00B2B7, cid=13, seq=null, RW, message
2024-09-30 06:53:48,286 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s0@group-0AF2BF00B2B7: receive client request(RaftClientRequest:client-DDC1DEBD3527->s0@group-0AF2BF00B2B7, cid=13, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:48,287 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=13, null, reply=RaftClientReply:client-DDC1DEBD3527->s0@group-0AF2BF00B2B7, cid=13, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-0AF2BF00B2B7 is not the leader, suggested leader is: s2|localhost:15168, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2024-09-30 06:53:48,291 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(418)) - client-DDC1DEBD3527: suggested new leader: s2. Failed RaftClientRequest:client-DDC1DEBD3527->s0@group-0AF2BF00B2B7, cid=13, seq=null, RW, message
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-0AF2BF00B2B7 is not the leader, suggested leader is: s2|localhost:15168
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:48,291 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(436)) - client-DDC1DEBD3527: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-09-30 06:53:48,292 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(442)) - client-DDC1DEBD3527 changes Leader from s0 to s2 for group-0AF2BF00B2B7
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-0AF2BF00B2B7 is not the leader, suggested leader is: s2|localhost:15168
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:48,393 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-DDC1DEBD3527: get 13 returns []
2024-09-30 06:53:48,394 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #2, newRequest RaftClientRequest:client-DDC1DEBD3527->s2@group-0AF2BF00B2B7, cid=13, seq=null, RW, message
2024-09-30 06:53:48,398 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s2@group-0AF2BF00B2B7: receive client request(RaftClientRequest:client-DDC1DEBD3527->s2@group-0AF2BF00B2B7, cid=13, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:48,399 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s2@group-0AF2BF00B2B7-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-DDC1DEBD3527->s2@group-0AF2BF00B2B7, cid=13, seq=null, RW, Message:6d657373616765, entry=(t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:53:48,400 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0AF2BF00B2B7: appendEntries* s2->s0#7-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:13@client-DDC1DEBD3527
2024-09-30 06:53:48,400 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0AF2BF00B2B7: appendEntries* s2->s1#8-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:13@client-DDC1DEBD3527
2024-09-30 06:53:48,400 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0AF2BF00B2B7: appendEntries* reply s2<-s0#7:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:48,401 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0AF2BF00B2B7: appendEntries* reply s2<-s1#8:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:48,401 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0AF2BF00B2B7: appendEntries* s2->s1#10-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:48,402 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0AF2BF00B2B7: appendEntries* s2->s0#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:48,402 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0AF2BF00B2B7: appendEntries* reply s2<-s1#10:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:48,403 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-DDC1DEBD3527: add replied callId 13
2024-09-30 06:53:48,403 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0AF2BF00B2B7: appendEntries* reply s2<-s0#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:48,403 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest SetConfigurationRequest:client-DDC1DEBD3527->s2@group-0AF2BF00B2B7, cid=14, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|localhost:15160], listeners:[s1|localhost:15164]
2024-09-30 06:53:48,406 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1332)) - s2@group-0AF2BF00B2B7: receive setConfiguration SetConfigurationRequest:client-DDC1DEBD3527->s2@group-0AF2BF00B2B7, cid=14, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|localhost:15160], listeners:[s1|localhost:15164]
2024-09-30 06:53:48,406 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(486)) - s2@group-0AF2BF00B2B7-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-DDC1DEBD3527->s2@group-0AF2BF00B2B7, cid=14, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|localhost:15160], listeners:[s1|localhost:15164]
2024-09-30 06:53:48,406 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-0AF2BF00B2B7: set configuration conf: {index: 3, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[]}
2024-09-30 06:53:48,407 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0AF2BF00B2B7: appendEntries* s2->s1#13-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15160"dataStreamAddress:"localhost:15163"clientAddress:"localhost:15162"adminAddress:"localhost:15161"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15160"dataStreamAddress:"localhost:15163"clientAddress:"localhost:15162"adminAddress:"localhost:15161"startupRole:FOLLOWER, id:"s1"address:"localhost:15164"dataStreamAddress:"localhost:15167"clientAddress:"localhost:15166"adminAddress:"localhost:15165"startupRole:FOLLOWER, id:"s2"address:"localhost:15168"dataStreamAddress:"localhost:15171"clientAddress:"localhost:15170"adminAddress:"localhost:15169"startupRole:FOLLOWER)
2024-09-30 06:53:48,408 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0AF2BF00B2B7: appendEntries* s2->s0#11-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15160"dataStreamAddress:"localhost:15163"clientAddress:"localhost:15162"adminAddress:"localhost:15161"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15160"dataStreamAddress:"localhost:15163"clientAddress:"localhost:15162"adminAddress:"localhost:15161"startupRole:FOLLOWER, id:"s1"address:"localhost:15164"dataStreamAddress:"localhost:15167"clientAddress:"localhost:15166"adminAddress:"localhost:15165"startupRole:FOLLOWER, id:"s2"address:"localhost:15168"dataStreamAddress:"localhost:15171"clientAddress:"localhost:15170"adminAddress:"localhost:15169"startupRole:FOLLOWER)
2024-09-30 06:53:48,408 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-0AF2BF00B2B7: set configuration conf: {index: 3, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[]}
2024-09-30 06:53:48,408 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-0AF2BF00B2B7: set configuration conf: {index: 3, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=peers:[s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[]}
2024-09-30 06:53:48,408 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0AF2BF00B2B7: appendEntries* reply s2<-s1#13:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:48,409 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0AF2BF00B2B7: appendEntries* reply s2<-s0#11:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:48,410 [s2@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3df26fd0
2024-09-30 06:53:48,410 [s2@group-0AF2BF00B2B7-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-0AF2BF00B2B7: set configuration conf: {index: 5, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=null}
2024-09-30 06:53:48,410 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0AF2BF00B2B7: appendEntries* s2->s1#14-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=2, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:48,410 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-0AF2BF00B2B7: set configuration conf: {index: 5, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=null}
2024-09-30 06:53:48,411 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0AF2BF00B2B7: appendEntries* s2->s0#13-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=2, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:48,411 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-0AF2BF00B2B7: set configuration conf: {index: 5, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=null}
2024-09-30 06:53:48,412 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0AF2BF00B2B7: appendEntries* reply s2<-s1#14:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:53:48,412 [s1@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4241b7ec
2024-09-30 06:53:48,413 [s2@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:48,414 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0AF2BF00B2B7: appendEntries* reply s2<-s0#13:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:53:48,414 [s0@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2044e508
2024-09-30 06:53:48,414 [s1@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:48,414 [s2@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@78f0f60a
2024-09-30 06:53:48,415 [s2@group-0AF2BF00B2B7-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkAndUpdateConfiguration(998)) - s2@group-0AF2BF00B2B7-LeaderStateImpl is not included in the new configuration conf: {index: 5, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=null}. Will shutdown server...
2024-09-30 06:53:48,415 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0AF2BF00B2B7: appendEntries* s2->s1#15-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:48,415 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-DDC1DEBD3527: add replied callId 14
2024-09-30 06:53:48,416 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0AF2BF00B2B7: appendEntries* s2->s0#15-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:48,416 [main] DEBUG client.RaftClient (RaftClientImpl.java:close(465)) - close client-DDC1DEBD3527
2024-09-30 06:53:48,416 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0AF2BF00B2B7: appendEntries* reply s2<-s1#15:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:53:48,416 [s2@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s2/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:48,417 [s1@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@467e2b7c
2024-09-30 06:53:48,418 [s1@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s1/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:48,418 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:48,418 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:48,418 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:48,418 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:48,418 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:48,419 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0AF2BF00B2B7: appendEntries* reply s2<-s0#15:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:53:48,419 [s0@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:48,419 [s0@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@247b75d8
2024-09-30 06:53:48,419 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0AF2BF00B2B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c3:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0AF2BF00B2B7:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c5:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-0AF2BF00B2B7:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0AF2BF00B2B7-SegmentedRaftLog:OPENED:c5:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=null} RUNNING
2024-09-30 06:53:48,420 [MiniRaftCluster-60] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:53:48,420 [s0@group-0AF2BF00B2B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcf9b64e58/s0/f770f386-f034-4b94-a70d-0af2bf00b2b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:48,424 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-0AF2BF00B2B7: shutdown
2024-09-30 06:53:48,424 [MiniRaftCluster-60] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:48,424 [MiniRaftCluster-61] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:53:48,424 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AF2BF00B2B7,id=s0
2024-09-30 06:53:48,426 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-0AF2BF00B2B7-FollowerState
2024-09-30 06:53:48,426 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-0AF2BF00B2B7-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:53:48,425 [MiniRaftCluster-62] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:53:48,426 [s0@group-0AF2BF00B2B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-0AF2BF00B2B7-FollowerState was interrupted
2024-09-30 06:53:48,426 [MiniRaftCluster-61] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:48,426 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-0AF2BF00B2B7: shutdown
2024-09-30 06:53:48,426 [MiniRaftCluster-60] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:48,426 [MiniRaftCluster-60] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:48,426 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-0AF2BF00B2B7: shutdown
2024-09-30 06:53:48,426 [s0@group-0AF2BF00B2B7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-0AF2BF00B2B7-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:5)
2024-09-30 06:53:48,426 [MiniRaftCluster-62] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:48,427 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AF2BF00B2B7,id=s2
2024-09-30 06:53:48,427 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-0AF2BF00B2B7-LeaderStateImpl
2024-09-30 06:53:48,427 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0AF2BF00B2B7,id=s1
2024-09-30 06:53:48,427 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-0AF2BF00B2B7-FollowerState
2024-09-30 06:53:48,429 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-0AF2BF00B2B7-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:53:48,429 [s1@group-0AF2BF00B2B7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-0AF2BF00B2B7-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:5)
2024-09-30 06:53:48,429 [s1@group-0AF2BF00B2B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-0AF2BF00B2B7-FollowerState was interrupted
2024-09-30 06:53:48,429 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-0AF2BF00B2B7-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:48,429 [s2@group-0AF2BF00B2B7->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-0AF2BF00B2B7->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:48,429 [s2@group-0AF2BF00B2B7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-0AF2BF00B2B7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:48,430 [s0@group-0AF2BF00B2B7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-0AF2BF00B2B7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:48,431 [Thread-1068] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:48,431 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: s2->s0#15-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:48,431 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:48,431 [Thread-1069] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:48,431 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "\367p\363\206\3604K\224\247\r\n\362\277\000\262\267"
  }
  callId: 7
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:48,432 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-0AF2BF00B2B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:48,432 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s2@group-0AF2BF00B2B7->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:48,433 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#15-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:48,433 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:48,433 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-0AF2BF00B2B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:48,433 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s2@group-0AF2BF00B2B7->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:48,433 [s1@group-0AF2BF00B2B7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-0AF2BF00B2B7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:48,435 [MiniRaftCluster-60] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:48,435 [MiniRaftCluster-60] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:48,435 [MiniRaftCluster-62] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:48,435 [MiniRaftCluster-62] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:48,434 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s2@group-0AF2BF00B2B7->s0-GrpcLogAppender is already stopped
2024-09-30 06:53:48,434 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:48,434 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s2@group-0AF2BF00B2B7->s0-GrpcLogAppender is already stopped
2024-09-30 06:53:48,434 [s2@group-0AF2BF00B2B7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-0AF2BF00B2B7-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:5)
2024-09-30 06:53:48,434 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-0AF2BF00B2B7-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:53:48,434 [MiniRaftCluster-61] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:48,436 [MiniRaftCluster-61] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:48,436 [s2@group-0AF2BF00B2B7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-0AF2BF00B2B7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:48,435 [MiniRaftCluster-62] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:48,436 [MiniRaftCluster-62] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:48,435 [MiniRaftCluster-60] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:48,436 [MiniRaftCluster-61] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:48,436 [MiniRaftCluster-61] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:48,437 [MiniRaftCluster-62] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:48,437 [MiniRaftCluster-61] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:49,416 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-0AF2BF00B2B7-SegmentedRaftLogWorker close()
2024-09-30 06:53:49,417 [JvmPauseMonitor42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:53:49,417 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-0AF2BF00B2B7-SegmentedRaftLogWorker close()
2024-09-30 06:53:49,418 [JvmPauseMonitor41] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:53:49,420 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-0AF2BF00B2B7-SegmentedRaftLogWorker close()
2024-09-30 06:53:49,421 [JvmPauseMonitor40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:53:49,421 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:49,421 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:49,568 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:49,568 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:49,568 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:49,568 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:49,569 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:49,569 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:49,569 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:49,569 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-0AF2BF00B2B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0AF2BF00B2B7-SegmentedRaftLog:CLOSED:c5, conf=conf: {index: 5, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=null} CLOSED
  s1:   CLOSED  FOLLOWER s1@group-0AF2BF00B2B7:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0AF2BF00B2B7-SegmentedRaftLog:CLOSED:c5, conf=conf: {index: 5, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=null} CLOSED
  s2:   CLOSED    LEADER s2@group-0AF2BF00B2B7:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0AF2BF00B2B7-SegmentedRaftLog:CLOSED:c5, conf=conf: {index: 5, cur=peers:[s0|localhost:15160]|listeners:[s1|localhost:15164], old=null} CLOSED
2024-09-30 06:53:49,570 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:49,570 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:49,701 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:49,701 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testTransferLeader" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="2.379">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:200)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	Suppressed: java.lang.IllegalStateException: allLeaks.size = 2
		at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
		at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
		at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
		at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
		at org.apache.ratis.server.impl.MiniRaftCluster.close(MiniRaftCluster.java:833)
		at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:201)
		... 3 more
]]></error>
    <system-out><![CDATA[2024-09-30 06:53:49,702 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:53:49,703 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:53:49,703 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:53:49,703 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:53:49,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-8444ADFF8A05:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]
2024-09-30 06:53:49,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:53:49,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:53:49,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:53:49,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:53:49,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:53:49,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:53:49,706 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-8444ADFF8A05:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180], format? true
2024-09-30 06:53:49,706 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0
2024-09-30 06:53:49,706 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0 does not exist.
2024-09-30 06:53:49,706 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0
2024-09-30 06:53:49,706 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:49,706 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:49,707 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15173 (custom)
2024-09-30 06:53:49,707 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:49,707 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15174 (custom)
2024-09-30 06:53:49,707 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:49,707 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15172 (custom)
2024-09-30 06:53:49,707 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:49,707 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:49,707 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:49,708 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:49,708 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:49,708 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,708 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:49,708 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:49,710 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:49,710 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:49,710 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:49,710 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:49,710 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0] (custom)
2024-09-30 06:53:49,710 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:49,711 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:49,711 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-8444ADFF8A05:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180] returns group-8444ADFF8A05:java.util.concurrent.CompletableFuture@5655278d[Not completed]
2024-09-30 06:53:49,711 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-8444ADFF8A05:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180] with BaseStateMachine:uninitialized
2024-09-30 06:53:49,711 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:49,711 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:49,712 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:49,712 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:49,712 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:49,711 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-8444ADFF8A05:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180], format? true
2024-09-30 06:53:49,712 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1
2024-09-30 06:53:49,712 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:49,712 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:49,712 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1 does not exist.
2024-09-30 06:53:49,712 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1
2024-09-30 06:53:49,712 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-8444ADFF8A05: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:49,713 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:49,713 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:49,713 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:49,713 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:49,713 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:49,713 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:49,713 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:49,713 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:49,713 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:49,714 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:49,714 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:49,714 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:49,714 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:49,714 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:49,714 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15177 (custom)
2024-09-30 06:53:49,714 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:49,715 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15178 (custom)
2024-09-30 06:53:49,715 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:49,715 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15176 (custom)
2024-09-30 06:53:49,715 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:49,715 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:49,715 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:49,715 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:49,716 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:49,716 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,716 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:49,716 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:49,717 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:49,717 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:49,717 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:49,718 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:49,718 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1] (custom)
2024-09-30 06:53:49,718 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:49,718 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:49,718 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-8444ADFF8A05:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180] returns group-8444ADFF8A05:java.util.concurrent.CompletableFuture@eb1e868[Not completed]
2024-09-30 06:53:49,718 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-8444ADFF8A05:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180] with BaseStateMachine:uninitialized
2024-09-30 06:53:49,718 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-8444ADFF8A05:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180], format? true
2024-09-30 06:53:49,719 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2
2024-09-30 06:53:49,718 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:49,719 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2 does not exist.
2024-09-30 06:53:49,719 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2
2024-09-30 06:53:49,719 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:49,719 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:49,719 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:49,719 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:49,719 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:49,722 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:49,722 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:49,722 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:49,722 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15181 (custom)
2024-09-30 06:53:49,722 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-8444ADFF8A05: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:49,722 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:49,722 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:49,722 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15182 (custom)
2024-09-30 06:53:49,723 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:49,723 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:49,723 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:49,723 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15180 (custom)
2024-09-30 06:53:49,723 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:49,723 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:49,723 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:49,724 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:49,724 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:49,724 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:49,724 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:49,724 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:49,724 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:49,723 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:49,724 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:49,724 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:49,724 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:49,724 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:49,724 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,724 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:49,724 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:49,725 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:49,726 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:49,726 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:49,726 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:49,726 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2] (custom)
2024-09-30 06:53:49,726 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:49,726 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:49,726 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-8444ADFF8A05:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180] returns group-8444ADFF8A05:java.util.concurrent.CompletableFuture@5b29d699[Not completed]
2024-09-30 06:53:49,726 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-8444ADFF8A05:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180] with BaseStateMachine:uninitialized
2024-09-30 06:53:49,727 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:49,727 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:49,727 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:49,727 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:49,727 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:49,727 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:49,727 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:49,727 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0] (custom)
2024-09-30 06:53:49,727 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:49,727 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:49,727 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-8444ADFF8A05: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:49,727 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05 does not exist. Creating ...
2024-09-30 06:53:49,727 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:49,727 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:49,727 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:49,727 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:49,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:49,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:49,728 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05
2024-09-30 06:53:49,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:49,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:49,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:49,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:49,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:49,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:49,729 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:49,729 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current
2024-09-30 06:53:49,729 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/sm
2024-09-30 06:53:49,729 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@57f9cdab
2024-09-30 06:53:49,730 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:49,730 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05 has been successfully formatted.
2024-09-30 06:53:49,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:49,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:49,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:49,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:49,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-8444ADFF8A05-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-8444ADFF8A05-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:49,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:49,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:49,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:49,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:49,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:49,732 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-8444ADFF8A05-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:49,732 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-8444ADFF8A05-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:49,733 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-8444ADFF8A05: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,733 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8444ADFF8A05: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:49,733 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:49,733 [s0@group-8444ADFF8A05-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:49,733 [s0@group-8444ADFF8A05-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:49,733 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8444ADFF8A05,id=s0
2024-09-30 06:53:49,733 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8444ADFF8A05,id=s0
2024-09-30 06:53:49,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:49,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:49,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:49,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:49,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:49,734 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:53:49,734 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15174
2024-09-30 06:53:49,735 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15172
2024-09-30 06:53:49,735 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15173
2024-09-30 06:53:49,735 [JvmPauseMonitor43] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:53:49,735 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:49,735 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:49,735 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1] (custom)
2024-09-30 06:53:49,736 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05 does not exist. Creating ...
2024-09-30 06:53:49,736 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05
2024-09-30 06:53:49,736 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:49,737 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current
2024-09-30 06:53:49,737 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/sm
2024-09-30 06:53:49,737 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2f340c04
2024-09-30 06:53:49,738 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:49,738 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05 has been successfully formatted.
2024-09-30 06:53:49,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:49,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:49,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:49,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:49,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:49,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:49,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:49,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-8444ADFF8A05-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-8444ADFF8A05-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-8444ADFF8A05-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:49,739 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-8444ADFF8A05-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:49,740 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-8444ADFF8A05: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,740 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8444ADFF8A05: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:49,740 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:49,740 [s1@group-8444ADFF8A05-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:49,740 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8444ADFF8A05,id=s1
2024-09-30 06:53:49,740 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8444ADFF8A05,id=s1
2024-09-30 06:53:49,740 [s1@group-8444ADFF8A05-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:49,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:49,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:49,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:49,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:49,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:49,741 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:53:49,741 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15178
2024-09-30 06:53:49,741 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15176
2024-09-30 06:53:49,742 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15177
2024-09-30 06:53:49,742 [JvmPauseMonitor44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:53:49,742 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:49,742 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:49,742 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2] (custom)
2024-09-30 06:53:49,742 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05 does not exist. Creating ...
2024-09-30 06:53:49,742 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05
2024-09-30 06:53:49,743 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:49,743 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current
2024-09-30 06:53:49,743 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/sm
2024-09-30 06:53:49,743 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5411174e
2024-09-30 06:53:49,744 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:49,744 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05 has been successfully formatted.
2024-09-30 06:53:49,744 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:49,744 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:49,744 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,744 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:49,744 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-8444ADFF8A05-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-8444ADFF8A05-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:49,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:49,746 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,746 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:49,746 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:49,746 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:49,746 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-8444ADFF8A05-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:49,746 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-8444ADFF8A05-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:49,746 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-8444ADFF8A05: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,746 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8444ADFF8A05: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:49,746 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:49,746 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8444ADFF8A05,id=s2
2024-09-30 06:53:49,746 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8444ADFF8A05,id=s2
2024-09-30 06:53:49,746 [s2@group-8444ADFF8A05-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:49,746 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:49,747 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:49,747 [s2@group-8444ADFF8A05-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:49,747 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:49,747 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:49,747 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:49,747 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:53:49,747 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15182
2024-09-30 06:53:49,748 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15180
2024-09-30 06:53:49,748 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15181
2024-09-30 06:53:49,748 [JvmPauseMonitor45] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:53:49,748 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:49,749 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8444ADFF8A05:t0, leader=null, voted=, raftlog=Memoized:s0@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8444ADFF8A05:t0, leader=null, voted=, raftlog=Memoized:s1@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8444ADFF8A05:t0, leader=null, voted=, raftlog=Memoized:s2@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
2024-09-30 06:53:49,749 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8444ADFF8A05:t0, leader=null, voted=, raftlog=Memoized:s0@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8444ADFF8A05:t0, leader=null, voted=, raftlog=Memoized:s1@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8444ADFF8A05:t0, leader=null, voted=, raftlog=Memoized:s2@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
2024-09-30 06:53:49,909 [s1@group-8444ADFF8A05-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-8444ADFF8A05-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169763694ns, electionTimeout:169ms
2024-09-30 06:53:49,910 [s1@group-8444ADFF8A05-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:49,910 [s1@group-8444ADFF8A05-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8444ADFF8A05: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:49,910 [s2@group-8444ADFF8A05-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-8444ADFF8A05-FollowerState: change to CANDIDATE, lastRpcElapsedTime:163610748ns, electionTimeout:163ms
2024-09-30 06:53:49,910 [s2@group-8444ADFF8A05-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:49,910 [s1@group-8444ADFF8A05-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:49,910 [s1@group-8444ADFF8A05-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8444ADFF8A05-LeaderElection46
2024-09-30 06:53:49,910 [s2@group-8444ADFF8A05-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8444ADFF8A05: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:49,910 [s2@group-8444ADFF8A05-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:49,910 [s2@group-8444ADFF8A05-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8444ADFF8A05-LeaderElection47
2024-09-30 06:53:49,910 [s1@group-8444ADFF8A05-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-8444ADFF8A05-LeaderElection46 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,911 [s2@group-8444ADFF8A05-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-8444ADFF8A05-LeaderElection47 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,911 [s1@group-8444ADFF8A05-LeaderElection46-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15172
2024-09-30 06:53:49,911 [s2@group-8444ADFF8A05-LeaderElection47-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15172
2024-09-30 06:53:49,911 [s2@group-8444ADFF8A05-LeaderElection47] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:49,911 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:49,911 [s2@group-8444ADFF8A05-LeaderElection47-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15176
2024-09-30 06:53:49,911 [s2@group-8444ADFF8A05-LeaderElection47] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:49,911 [s1@group-8444ADFF8A05-LeaderElection46-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15180
2024-09-30 06:53:49,911 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:49,921 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8444ADFF8A05: receive requestVote(PRE_VOTE, s1, group-8444ADFF8A05, 0, (t:0, i:0))
2024-09-30 06:53:49,921 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8444ADFF8A05-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:49,921 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8444ADFF8A05 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-8444ADFF8A05:t0, leader=null, voted=, raftlog=Memoized:s2@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,922 [s1@group-8444ADFF8A05-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8444ADFF8A05-LeaderElection46: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:49,922 [s1@group-8444ADFF8A05-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t0
2024-09-30 06:53:49,922 [s1@group-8444ADFF8A05-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-8444ADFF8A05-LeaderElection46 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:49,922 [s1@group-8444ADFF8A05-LeaderElection46] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@75d06bd
2024-09-30 06:53:49,923 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8444ADFF8A05: receive requestVote(PRE_VOTE, s2, group-8444ADFF8A05, 0, (t:0, i:0))
2024-09-30 06:53:49,923 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8444ADFF8A05-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:49,923 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8444ADFF8A05 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-8444ADFF8A05:t0, leader=null, voted=, raftlog=Memoized:s0@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,923 [s1@group-8444ADFF8A05-LeaderElection46] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:49,923 [s1@group-8444ADFF8A05-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-8444ADFF8A05-LeaderElection46 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,926 [s2@group-8444ADFF8A05-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8444ADFF8A05-LeaderElection47: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:49,926 [s2@group-8444ADFF8A05-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2024-09-30 06:53:49,930 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:49,930 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:49,930 [s2@group-8444ADFF8A05-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-8444ADFF8A05-LeaderElection47 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:49,930 [s2@group-8444ADFF8A05-LeaderElection47] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2a7cb5fe
2024-09-30 06:53:49,931 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8444ADFF8A05: receive requestVote(ELECTION, s1, group-8444ADFF8A05, 1, (t:0, i:0))
2024-09-30 06:53:49,931 [s2@group-8444ADFF8A05-LeaderElection47] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:49,931 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8444ADFF8A05: receive requestVote(ELECTION, s1, group-8444ADFF8A05, 1, (t:0, i:0))
2024-09-30 06:53:49,931 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8444ADFF8A05-CANDIDATE: reject ELECTION from s1: already has voted for s2 at current term 1
2024-09-30 06:53:49,931 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8444ADFF8A05-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:49,931 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8444ADFF8A05 replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-8444ADFF8A05:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,931 [s2@group-8444ADFF8A05-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-8444ADFF8A05-LeaderElection47 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,932 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8444ADFF8A05: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s1
2024-09-30 06:53:49,932 [s2@group-8444ADFF8A05-LeaderElection47] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:49,932 [s2@group-8444ADFF8A05-LeaderElection47] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:49,933 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8444ADFF8A05: receive requestVote(ELECTION, s2, group-8444ADFF8A05, 1, (t:0, i:0))
2024-09-30 06:53:49,934 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:49,934 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:49,934 [s0@group-8444ADFF8A05-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-8444ADFF8A05-FollowerState was interrupted
2024-09-30 06:53:49,934 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-8444ADFF8A05: set firstElectionSinceStartup to false for candidate:s1
2024-09-30 06:53:49,934 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8444ADFF8A05: receive requestVote(ELECTION, s2, group-8444ADFF8A05, 1, (t:0, i:0))
2024-09-30 06:53:49,934 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8444ADFF8A05-CANDIDATE: reject ELECTION from s2: already has voted for s1 at current term 1
2024-09-30 06:53:49,934 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6742551c
2024-09-30 06:53:49,934 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8444ADFF8A05 replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-8444ADFF8A05:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,935 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:49,935 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8444ADFF8A05 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-8444ADFF8A05:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,935 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8444ADFF8A05-FOLLOWER: reject ELECTION from s2: already has voted for s1 at current term 1
2024-09-30 06:53:49,935 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8444ADFF8A05 replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-8444ADFF8A05:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,936 [s2@group-8444ADFF8A05-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8444ADFF8A05-LeaderElection47: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2024-09-30 06:53:49,936 [s2@group-8444ADFF8A05-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:FAIL-t1
2024-09-30 06:53:49,936 [s2@group-8444ADFF8A05-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:FAIL-t1
2024-09-30 06:53:49,936 [s2@group-8444ADFF8A05-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-8444ADFF8A05-LeaderElection47 ELECTION round 0: result REJECTED
2024-09-30 06:53:49,936 [s2@group-8444ADFF8A05-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8444ADFF8A05: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-09-30 06:53:49,936 [s2@group-8444ADFF8A05-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-8444ADFF8A05-LeaderElection47
2024-09-30 06:53:49,936 [s2@group-8444ADFF8A05-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:49,936 [s2@group-8444ADFF8A05-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-8444ADFF8A05: set firstElectionSinceStartup to false for REJECTED
2024-09-30 06:53:49,937 [s1@group-8444ADFF8A05-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8444ADFF8A05-LeaderElection46: ELECTION PASSED received 2 response(s) and 0 exception(s):
2024-09-30 06:53:49,937 [s1@group-8444ADFF8A05-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2024-09-30 06:53:49,937 [s1@group-8444ADFF8A05-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2024-09-30 06:53:49,937 [s1@group-8444ADFF8A05-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-8444ADFF8A05-LeaderElection46 ELECTION round 0: result PASSED
2024-09-30 06:53:49,937 [s1@group-8444ADFF8A05-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-8444ADFF8A05-LeaderElection46
2024-09-30 06:53:49,937 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8444ADFF8A05: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:53:49,937 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:49,937 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:49,937 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:49,937 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:49,937 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:49,938 [s1@group-8444ADFF8A05-LeaderElection46] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:49,939 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:49,940 [s1@group-8444ADFF8A05-LeaderElection46] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:49,940 [s1@group-8444ADFF8A05-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8444ADFF8A05-LeaderStateImpl
2024-09-30 06:53:49,940 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-8444ADFF8A05: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:53:49,940 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8444ADFF8A05: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 217ms
2024-09-30 06:53:49,940 [s1@group-8444ADFF8A05-LeaderElection46] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-8444ADFF8A05-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:49,940 [s1@group-8444ADFF8A05-LeaderElection46] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8444ADFF8A05: set configuration conf: {index: 0, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,940 [s1@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:49,949 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8444ADFF8A05: change Leader from null to s1 at term 1 for appendEntries, leader elected after 221ms
2024-09-30 06:53:49,950 [s1@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8444ADFF8A05-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/log_inprogress_0
2024-09-30 06:53:49,951 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* s1->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15172"dataStreamAddress:"localhost:15175"clientAddress:"localhost:15174"adminAddress:"localhost:15173"startupRole:FOLLOWER, id:"s1"address:"localhost:15176"dataStreamAddress:"localhost:15179"clientAddress:"localhost:15178"adminAddress:"localhost:15177"startupRole:FOLLOWER, id:"s2"address:"localhost:15180"dataStreamAddress:"localhost:15183"clientAddress:"localhost:15182"adminAddress:"localhost:15181"startupRole:FOLLOWER, old:)
2024-09-30 06:53:49,951 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8444ADFF8A05: set configuration conf: {index: 0, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,952 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-8444ADFF8A05-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:49,952 [s2@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:49,954 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8444ADFF8A05: change Leader from null to s1 at term 1 for appendEntries, leader elected after 241ms
2024-09-30 06:53:49,958 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8444ADFF8A05: appendEntries* s1->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15172"dataStreamAddress:"localhost:15175"clientAddress:"localhost:15174"adminAddress:"localhost:15173"startupRole:FOLLOWER, id:"s1"address:"localhost:15176"dataStreamAddress:"localhost:15179"clientAddress:"localhost:15178"adminAddress:"localhost:15177"startupRole:FOLLOWER, id:"s2"address:"localhost:15180"dataStreamAddress:"localhost:15183"clientAddress:"localhost:15182"adminAddress:"localhost:15181"startupRole:FOLLOWER, old:)
2024-09-30 06:53:49,958 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8444ADFF8A05: set configuration conf: {index: 0, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:49,958 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-8444ADFF8A05-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:49,959 [s0@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:49,967 [s2@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8444ADFF8A05-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/log_inprogress_0
2024-09-30 06:53:49,968 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* reply s1<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:49,968 [s0@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8444ADFF8A05-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/log_inprogress_0
2024-09-30 06:53:49,968 [s1@group-8444ADFF8A05-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@61cede0a
2024-09-30 06:53:49,968 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8444ADFF8A05: appendEntries* reply s1<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:49,970 [s1@group-8444ADFF8A05-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:49,970 [s1@group-8444ADFF8A05-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-8444ADFF8A05-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:53:50,045 [s2@group-8444ADFF8A05-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1b00735d
2024-09-30 06:53:50,046 [s0@group-8444ADFF8A05-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4168883f
2024-09-30 06:53:50,049 [s2@group-8444ADFF8A05-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:50,049 [s0@group-8444ADFF8A05-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:50,199 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8444ADFF8A05:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8444ADFF8A05:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8444ADFF8A05:t1, leader=s1, voted=s2, raftlog=Memoized:s2@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
2024-09-30 06:53:50,200 [main] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:50,200 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-6483882D0C72: get 15 returns []
2024-09-30 06:53:50,200 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-6483882D0C72->s1@group-8444ADFF8A05, cid=15, seq=null, RW, message
2024-09-30 06:53:50,204 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s1@group-8444ADFF8A05: receive client request(RaftClientRequest:client-6483882D0C72->s1@group-8444ADFF8A05, cid=15, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:50,205 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s1@group-8444ADFF8A05-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-6483882D0C72->s1@group-8444ADFF8A05, cid=15, seq=null, RW, Message:6d657373616765, entry=(t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:53:50,206 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8444ADFF8A05: appendEntries* s1->s0#8-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:15@client-6483882D0C72
2024-09-30 06:53:50,206 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* s1->s2#6-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:15@client-6483882D0C72
2024-09-30 06:53:50,206 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* reply s1<-s2#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:50,206 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8444ADFF8A05: appendEntries* reply s1<-s0#8:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:50,208 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* s1->s2#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:50,208 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8444ADFF8A05: appendEntries* s1->s0#9-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:50,208 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* reply s1<-s2#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:50,208 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8444ADFF8A05: appendEntries* reply s1<-s0#9:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:50,210 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-6483882D0C72: add replied callId 15
2024-09-30 06:53:50,210 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest TransferLeadershipRequest:client-6483882D0C72->s1@group-8444ADFF8A05, cid=16, seq=null, RO, null
2024-09-30 06:53:50,213 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1222)) - s1@group-8444ADFF8A05: receive transferLeadership TransferLeadershipRequest:client-6483882D0C72->s1@group-8444ADFF8A05, cid=16, seq=null, RO, null
2024-09-30 06:53:50,213 [s1-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(258)) - s1@group-8444ADFF8A05: start transferring leadership to s0
2024-09-30 06:53:50,213 [s1-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:sendStartLeaderElection(210)) - s1@group-8444ADFF8A05: sendStartLeaderElection to follower s0, lastEntry=(t:1, i:2)
2024-09-30 06:53:50,215 [s1-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(266)) - s1@group-8444ADFF8A05: SUCCESS sent StartLeaderElection to transferee s0 immediately as it already has up-to-date log
2024-09-30 06:53:50,216 [grpc-default-executor-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1744)) - s0@group-8444ADFF8A05: receive startLeaderElection from s1 with lastEntry (t:1, i:2)
2024-09-30 06:53:50,216 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:50,216 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8444ADFF8A05: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:53:50,216 [s0@group-8444ADFF8A05-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-8444ADFF8A05-FollowerState was interrupted
2024-09-30 06:53:50,216 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8444ADFF8A05: change Leader from s1 to null at term 1 for ELECTION
2024-09-30 06:53:50,216 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@20208784
2024-09-30 06:53:50,217 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:50,217 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8444ADFF8A05-LeaderElection48
2024-09-30 06:53:50,219 [s0@group-8444ADFF8A05-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-8444ADFF8A05-LeaderElection48 ELECTION round 0: submit vote requests at term 2 for conf: {index: 0, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:50,219 [s1-server-thread2] INFO  impl.TransferLeadership (TransferLeadership.java:lambda$sendStartLeaderElection$2(224)) - s1@group-8444ADFF8A05: Received startLeaderElection reply from s0: success? true
2024-09-30 06:53:50,219 [s0@group-8444ADFF8A05-LeaderElection48-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15180
2024-09-30 06:53:50,222 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8444ADFF8A05: receive requestVote(ELECTION, s0, group-8444ADFF8A05, 2, (t:1, i:2))
2024-09-30 06:53:50,222 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8444ADFF8A05-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:53:50,222 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8444ADFF8A05: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-09-30 06:53:50,222 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:50,223 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8444ADFF8A05: change Leader from s1 to null at term 2 for updateCurrentTerm
2024-09-30 06:53:50,223 [s2@group-8444ADFF8A05-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-8444ADFF8A05-FollowerState was interrupted
2024-09-30 06:53:50,223 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:50,223 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@73e2a3e7
2024-09-30 06:53:50,224 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:50,224 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8444ADFF8A05 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-8444ADFF8A05:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c1:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:50,224 [s0@group-8444ADFF8A05-LeaderElection48-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15176
2024-09-30 06:53:50,225 [s0@group-8444ADFF8A05-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-8444ADFF8A05-LeaderElection48: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:50,225 [s0@group-8444ADFF8A05-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2024-09-30 06:53:50,225 [s0@group-8444ADFF8A05-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-8444ADFF8A05-LeaderElection48 ELECTION round 0: result PASSED
2024-09-30 06:53:50,225 [s0@group-8444ADFF8A05-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-8444ADFF8A05-LeaderElection48
2024-09-30 06:53:50,225 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8444ADFF8A05: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-09-30 06:53:50,225 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:50,225 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:50,225 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:50,226 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:50,226 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:50,226 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:50,226 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:50,226 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:50,226 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:50,226 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:50,226 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:50,226 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:50,226 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:50,226 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:50,227 [s0@group-8444ADFF8A05-LeaderElection48] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:50,228 [s0@group-8444ADFF8A05-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8444ADFF8A05-LeaderStateImpl
2024-09-30 06:53:50,228 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8444ADFF8A05: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 11ms
2024-09-30 06:53:50,228 [s0@group-8444ADFF8A05-LeaderElection48] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-8444ADFF8A05-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2024-09-30 06:53:50,228 [s0@group-8444ADFF8A05-LeaderElection48] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8444ADFF8A05: set configuration conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:50,229 [s0@group-8444ADFF8A05-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/log_0-2
2024-09-30 06:53:50,229 [s0@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-8444ADFF8A05-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/log_0-2
2024-09-30 06:53:50,229 [s0@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_3 at position 0
2024-09-30 06:53:50,233 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8444ADFF8A05: change Leader from null to s0 at term 2 for appendEntries, leader elected after 9ms
2024-09-30 06:53:50,233 [s1-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8444ADFF8A05: changes role from    LEADER to FOLLOWER at term 1 for appendEntries
2024-09-30 06:53:50,233 [s1-server-thread2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-8444ADFF8A05-LeaderStateImpl
2024-09-30 06:53:50,238 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* s0->s2#1-t2,previous=(t:1, i:2),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15172"dataStreamAddress:"localhost:15175"clientAddress:"localhost:15174"adminAddress:"localhost:15173"startupRole:FOLLOWER, id:"s1"address:"localhost:15176"dataStreamAddress:"localhost:15179"clientAddress:"localhost:15178"adminAddress:"localhost:15177"startupRole:FOLLOWER, id:"s2"address:"localhost:15180"dataStreamAddress:"localhost:15183"clientAddress:"localhost:15182"adminAddress:"localhost:15181"startupRole:FOLLOWER, old:)
2024-09-30 06:53:50,238 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8444ADFF8A05: set configuration conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:50,238 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-8444ADFF8A05-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2024-09-30 06:53:50,241 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8444ADFF8A05: appendEntries* s0->s1#1-t2,previous=(t:1, i:2),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15172"dataStreamAddress:"localhost:15175"clientAddress:"localhost:15174"adminAddress:"localhost:15173"startupRole:FOLLOWER, id:"s1"address:"localhost:15176"dataStreamAddress:"localhost:15179"clientAddress:"localhost:15178"adminAddress:"localhost:15177"startupRole:FOLLOWER, id:"s2"address:"localhost:15180"dataStreamAddress:"localhost:15183"clientAddress:"localhost:15182"adminAddress:"localhost:15181"startupRole:FOLLOWER, old:)
2024-09-30 06:53:50,241 [s1@group-8444ADFF8A05->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-8444ADFF8A05->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:50,241 [s1-server-thread2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-8444ADFF8A05-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:50,242 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8444ADFF8A05: change Leader from s1 to null at term 1 for appendEntries
2024-09-30 06:53:50,242 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:50,242 [s1-server-thread2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:50,242 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:50,243 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8444ADFF8A05->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:50,244 [s0@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8444ADFF8A05-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/log_inprogress_3
2024-09-30 06:53:50,246 [s2@group-8444ADFF8A05-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/log_0-2
2024-09-30 06:53:50,246 [s2@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-8444ADFF8A05-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/log_0-2
2024-09-30 06:53:50,246 [s2@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_3 at position 0
2024-09-30 06:53:50,250 [s1@group-8444ADFF8A05->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-8444ADFF8A05->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:50,250 [s1-server-thread2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@13c0ebb5
2024-09-30 06:53:50,251 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:50,251 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:50,251 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "m\204s\257VmI&\276\225\204D\255\377\212\005"
  }
  callId: 7
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:50,251 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#9-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:50,251 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:50,251 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "m\204s\257VmI&\276\225\204D\255\377\212\005"
  }
  callId: 5
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:50,252 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8444ADFF8A05->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:50,253 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8444ADFF8A05->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:50,253 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8444ADFF8A05->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:50,253 [s1-server-thread2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:50,253 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8444ADFF8A05: change Leader from null to s0 at term 2 for appendEntries, leader elected after 11ms
2024-09-30 06:53:50,254 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:50,255 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8444ADFF8A05: set configuration conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null}
2024-09-30 06:53:50,255 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8444ADFF8A05:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c1:last(t:2, i:3), conf=conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8444ADFF8A05:t2, leader=s0, voted=null, raftlog=Memoized:s1@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c2:last(t:1, i:2), conf=conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8444ADFF8A05:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c1:last(t:2, i:3), conf=conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
2024-09-30 06:53:50,255 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: Leader: s0@group-8444ADFF8A05 not ready
2024-09-30 06:53:50,255 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-8444ADFF8A05-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2024-09-30 06:53:50,256 [s2@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8444ADFF8A05-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/log_inprogress_3
2024-09-30 06:53:50,257 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* reply s0<-s2#1:OK-t2,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2024-09-30 06:53:50,258 [s1@group-8444ADFF8A05-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/log_0-2
2024-09-30 06:53:50,258 [s1@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-8444ADFF8A05-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/log_0-2
2024-09-30 06:53:50,258 [s1@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_3 at position 0
2024-09-30 06:53:50,258 [s0@group-8444ADFF8A05-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4faf6e62
2024-09-30 06:53:50,259 [s1-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8444ADFF8A05: appendEntries* s0->s1#3-t2,previous=(t:2, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:2, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:50,259 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* s0->s2#2-t2,previous=(t:2, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:2, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:50,260 [s0@group-8444ADFF8A05-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s0/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:50,260 [s0@group-8444ADFF8A05-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-8444ADFF8A05-LeaderStateImpl is ready since appliedIndex == startIndex == 3
2024-09-30 06:53:50,261 [s2@group-8444ADFF8A05-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@15c78e4d
2024-09-30 06:53:50,261 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* reply s0<-s2#2:OK-t2,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:53:50,262 [s2@group-8444ADFF8A05-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s2/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:50,268 [s1@group-8444ADFF8A05-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8444ADFF8A05-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/log_inprogress_3
2024-09-30 06:53:50,268 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8444ADFF8A05: appendEntries* reply s0<-s1#3:OK-t2,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:53:50,268 [s1@group-8444ADFF8A05-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6b36b57a
2024-09-30 06:53:50,268 [s1-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8444ADFF8A05: appendEntries* reply s0<-s1#1:OK-t2,SUCCESS,nextIndex=4,followerCommit=3,matchIndex=3
2024-09-30 06:53:50,269 [s1@group-8444ADFF8A05-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpce61dc66a/s1/6d8473af-566d-4926-be95-8444adff8a05/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:50,706 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8444ADFF8A05:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c4:last(t:2, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8444ADFF8A05:t2, leader=s0, voted=null, raftlog=Memoized:s1@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c4:last(t:2, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8444ADFF8A05:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c4:last(t:2, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
2024-09-30 06:53:50,706 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-6483882D0C72: get 17 returns [15]
2024-09-30 06:53:50,706 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-6483882D0C72->s1@group-8444ADFF8A05, cid=17, seq=null, RW, message
2024-09-30 06:53:50,708 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s1@group-8444ADFF8A05: receive client request(RaftClientRequest:client-6483882D0C72->s1@group-8444ADFF8A05, cid=17, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:50,708 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=17, null, reply=RaftClientReply:client-6483882D0C72->s1@group-8444ADFF8A05, cid=17, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-8444ADFF8A05 is not the leader, suggested leader is: s0|localhost:15172, logIndex=0, commits[s1:c4, s0:c4, s2:c4]
2024-09-30 06:53:50,709 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(418)) - client-6483882D0C72: suggested new leader: s0. Failed RaftClientRequest:client-6483882D0C72->s1@group-8444ADFF8A05, cid=17, seq=null, RW, message
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-8444ADFF8A05 is not the leader, suggested leader is: s0|localhost:15172
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:50,710 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(436)) - client-6483882D0C72: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-09-30 06:53:50,710 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(442)) - client-6483882D0C72 changes Leader from s1 to s0 for group-8444ADFF8A05
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-8444ADFF8A05 is not the leader, suggested leader is: s0|localhost:15172
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:50,811 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-6483882D0C72: get 17 returns [15]
2024-09-30 06:53:50,811 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #2, newRequest RaftClientRequest:client-6483882D0C72->s0@group-8444ADFF8A05, cid=17, seq=null, RW, message
2024-09-30 06:53:50,815 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s0@group-8444ADFF8A05: receive client request(RaftClientRequest:client-6483882D0C72->s0@group-8444ADFF8A05, cid=17, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:50,815 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s0@group-8444ADFF8A05-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-6483882D0C72->s0@group-8444ADFF8A05, cid=17, seq=null, RW, Message:6d657373616765, entry=(t:2, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:53:50,816 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8444ADFF8A05: appendEntries* s0->s1#17-t2,previous=(t:2, i:4),leaderCommit=4,initializing? false,entries: size=1, first=(t:2, i:5), STATEMACHINELOGENTRY, StateMachineLogEntryProto:17@client-6483882D0C72
2024-09-30 06:53:50,816 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* s0->s2#13-t2,previous=(t:2, i:4),leaderCommit=4,initializing? false,entries: size=1, first=(t:2, i:5), STATEMACHINELOGENTRY, StateMachineLogEntryProto:17@client-6483882D0C72
2024-09-30 06:53:50,817 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8444ADFF8A05: appendEntries* reply s0<-s1#17:OK-t2,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2024-09-30 06:53:50,817 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* reply s0<-s2#13:OK-t2,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2024-09-30 06:53:50,818 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8444ADFF8A05: appendEntries* s0->s1#18-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:50,819 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* s0->s2#15-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:50,819 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-6483882D0C72: add replied callId 17
2024-09-30 06:53:50,819 [main] DEBUG client.RaftClient (RaftClientImpl.java:close(465)) - close client-6483882D0C72
2024-09-30 06:53:50,819 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8444ADFF8A05: appendEntries* reply s0<-s2#15:OK-t2,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:53:50,820 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8444ADFF8A05: appendEntries* reply s0<-s1#18:OK-t2,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:53:50,824 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:50,824 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:50,824 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:50,824 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:50,824 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:50,824 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8444ADFF8A05:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8444ADFF8A05:t2, leader=s0, voted=null, raftlog=Memoized:s1@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8444ADFF8A05:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-8444ADFF8A05-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} RUNNING
2024-09-30 06:53:50,825 [MiniRaftCluster-66] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:53:50,825 [MiniRaftCluster-67] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:53:50,825 [MiniRaftCluster-66] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:50,825 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-8444ADFF8A05: shutdown
2024-09-30 06:53:50,825 [MiniRaftCluster-68] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:53:50,825 [MiniRaftCluster-67] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:50,825 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-8444ADFF8A05: shutdown
2024-09-30 06:53:50,826 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8444ADFF8A05,id=s0
2024-09-30 06:53:50,826 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-8444ADFF8A05-LeaderStateImpl
2024-09-30 06:53:50,825 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8444ADFF8A05,id=s1
2024-09-30 06:53:50,826 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:50,826 [MiniRaftCluster-68] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:50,826 [s0@group-8444ADFF8A05->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-8444ADFF8A05->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:50,826 [s1@group-8444ADFF8A05-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-8444ADFF8A05-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:5)
2024-09-30 06:53:50,826 [Thread-1140] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:50,827 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#15-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:50,827 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:50,826 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-8444ADFF8A05-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:50,826 [s0@group-8444ADFF8A05->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-8444ADFF8A05->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:50,826 [s1@group-8444ADFF8A05-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-8444ADFF8A05-FollowerState was interrupted
2024-09-30 06:53:50,826 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-8444ADFF8A05-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:53:50,827 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-8444ADFF8A05->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:50,826 [Thread-1138] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:50,828 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:50,828 [Thread-1139] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:50,828 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "m\204s\257VmI&\276\225\204D\255\377\212\005"
  }
  callId: 16
  success: true
}
term: 2
nextIndex: 5
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:50,826 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-8444ADFF8A05: shutdown
2024-09-30 06:53:50,828 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8444ADFF8A05,id=s2
2024-09-30 06:53:50,828 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8444ADFF8A05-FollowerState
2024-09-30 06:53:50,827 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-8444ADFF8A05->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:50,827 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:50,829 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#18-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:50,829 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:50,829 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "m\204s\257VmI&\276\225\204D\255\377\212\005"
  }
  callId: 12
  success: true
}
term: 2
nextIndex: 5
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:50,829 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-8444ADFF8A05->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:50,829 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-8444ADFF8A05->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:50,830 [Thread-1141] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:50,830 [Thread-1144] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:50,830 [s2@group-8444ADFF8A05-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-8444ADFF8A05-FollowerState was interrupted
2024-09-30 06:53:50,830 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-8444ADFF8A05-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:53:50,830 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-8444ADFF8A05->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:50,831 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-8444ADFF8A05->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:50,831 [s2@group-8444ADFF8A05-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-8444ADFF8A05-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:5)
2024-09-30 06:53:50,834 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-8444ADFF8A05->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:50,834 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-8444ADFF8A05->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:50,834 [s1@group-8444ADFF8A05-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-8444ADFF8A05-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:50,835 [Thread-1143] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:50,835 [MiniRaftCluster-68] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:50,835 [MiniRaftCluster-68] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:50,835 [s2@group-8444ADFF8A05-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-8444ADFF8A05-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:50,836 [MiniRaftCluster-68] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:50,836 [MiniRaftCluster-68] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:50,836 [MiniRaftCluster-68] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:50,836 [MiniRaftCluster-66] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:50,838 [MiniRaftCluster-66] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:50,838 [MiniRaftCluster-67] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:50,838 [MiniRaftCluster-67] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:50,838 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-8444ADFF8A05-StateMachineUpdater: set stopIndex = 6
2024-09-30 06:53:50,838 [MiniRaftCluster-67] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:50,838 [MiniRaftCluster-67] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:50,838 [s0@group-8444ADFF8A05-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-8444ADFF8A05-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:6)
2024-09-30 06:53:50,838 [s0@group-8444ADFF8A05-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-8444ADFF8A05-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:50,838 [MiniRaftCluster-67] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:50,838 [MiniRaftCluster-66] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:50,839 [MiniRaftCluster-66] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:50,839 [MiniRaftCluster-66] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:51,819 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-8444ADFF8A05-SegmentedRaftLogWorker close()
2024-09-30 06:53:51,820 [JvmPauseMonitor43] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:53:51,820 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-8444ADFF8A05-SegmentedRaftLogWorker close()
2024-09-30 06:53:51,821 [JvmPauseMonitor45] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:53:51,822 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-8444ADFF8A05-SegmentedRaftLogWorker close()
2024-09-30 06:53:51,822 [JvmPauseMonitor44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:53:51,822 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:51,822 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:51,950 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:51,951 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:51,951 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:51,951 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:51,951 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:51,951 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:51,951 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:51,952 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-8444ADFF8A05:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-8444ADFF8A05-SegmentedRaftLog:CLOSED:c6, conf=conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} CLOSED
  s1:   CLOSED  FOLLOWER s1@group-8444ADFF8A05:t2, leader=s0, voted=null, raftlog=Memoized:s1@group-8444ADFF8A05-SegmentedRaftLog:CLOSED:c5, conf=conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} CLOSED
  s2:   CLOSED  FOLLOWER s2@group-8444ADFF8A05:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-8444ADFF8A05-SegmentedRaftLog:CLOSED:c5, conf=conf: {index: 3, cur=peers:[s0|localhost:15172, s1|localhost:15176, s2|localhost:15180]|listeners:[], old=null} CLOSED
2024-09-30 06:53:51,952 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:51,952 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:52,081 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:52,081 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testPauseResumeLeaderElection" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="2.142">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:605)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-09-30 06:53:52,083 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:53:52,083 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:53:52,083 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:53:52,083 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:53:52,085 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-09-30 06:53:52,085 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-0BE62126F449:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]
2024-09-30 06:53:52,085 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:53:52,086 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:53:52,086 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:53:52,086 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:53:52,086 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:53:52,086 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:53:52,086 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-0BE62126F449:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192], format? true
2024-09-30 06:53:52,086 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0
2024-09-30 06:53:52,087 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0 does not exist.
2024-09-30 06:53:52,087 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0
2024-09-30 06:53:52,087 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:52,087 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:52,087 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15185 (custom)
2024-09-30 06:53:52,088 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:52,088 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15186 (custom)
2024-09-30 06:53:52,088 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:52,088 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15184 (custom)
2024-09-30 06:53:52,088 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:52,088 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:52,089 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:52,089 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:52,089 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:52,089 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,089 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:52,090 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:52,091 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:52,092 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:52,092 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:52,092 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:52,092 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0] (custom)
2024-09-30 06:53:52,092 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:52,092 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:52,093 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-0BE62126F449:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192] returns group-0BE62126F449:java.util.concurrent.CompletableFuture@4cb91fa4[Not completed]
2024-09-30 06:53:52,093 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-0BE62126F449:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192] with BaseStateMachine:uninitialized
2024-09-30 06:53:52,093 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-0BE62126F449:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192], format? true
2024-09-30 06:53:52,093 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1
2024-09-30 06:53:52,093 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:52,093 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:52,093 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1 does not exist.
2024-09-30 06:53:52,093 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1
2024-09-30 06:53:52,093 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:52,094 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:52,094 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:52,094 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:52,094 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:52,094 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:52,094 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-0BE62126F449: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:52,094 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:52,094 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:52,094 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15189 (custom)
2024-09-30 06:53:52,094 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:52,094 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:52,094 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:52,095 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15190 (custom)
2024-09-30 06:53:52,095 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:52,095 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:52,095 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15188 (custom)
2024-09-30 06:53:52,095 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:52,095 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:52,095 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:52,095 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:52,095 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:52,096 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:52,095 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:52,096 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,096 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:52,096 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:52,097 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:52,097 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:52,097 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:52,097 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:52,097 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:52,097 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:52,097 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:52,097 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:52,097 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:52,098 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:52,098 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1] (custom)
2024-09-30 06:53:52,098 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:52,098 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:52,098 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-0BE62126F449:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192] returns group-0BE62126F449:java.util.concurrent.CompletableFuture@2823b7c5[Not completed]
2024-09-30 06:53:52,099 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-0BE62126F449:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192], format? true
2024-09-30 06:53:52,099 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2
2024-09-30 06:53:52,098 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-0BE62126F449:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192] with BaseStateMachine:uninitialized
2024-09-30 06:53:52,099 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2 does not exist.
2024-09-30 06:53:52,099 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2
2024-09-30 06:53:52,099 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:52,099 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:52,099 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:52,099 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:52,099 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:52,099 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:52,099 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:52,100 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15193 (custom)
2024-09-30 06:53:52,100 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:52,100 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:52,100 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:52,100 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-0BE62126F449: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:52,100 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15194 (custom)
2024-09-30 06:53:52,100 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:52,100 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:52,100 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:52,101 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15192 (custom)
2024-09-30 06:53:52,101 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:52,101 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:52,101 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:52,101 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:52,101 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:52,101 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:52,101 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:52,102 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:52,102 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:52,102 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:52,102 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,102 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:52,102 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:52,102 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:52,102 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:52,102 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:52,103 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:52,103 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:52,104 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:52,104 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:52,104 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:52,104 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:52,104 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2] (custom)
2024-09-30 06:53:52,104 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:52,104 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:52,105 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-0BE62126F449:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192] returns group-0BE62126F449:java.util.concurrent.CompletableFuture@75d95b67[Not completed]
2024-09-30 06:53:52,105 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-0BE62126F449:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192] with BaseStateMachine:uninitialized
2024-09-30 06:53:52,105 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:52,105 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:52,105 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:52,105 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:52,105 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:52,105 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:52,105 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0] (custom)
2024-09-30 06:53:52,105 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:52,105 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:52,105 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:52,106 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449 does not exist. Creating ...
2024-09-30 06:53:52,106 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-0BE62126F449: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:52,106 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:52,106 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:52,106 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:52,106 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:52,106 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:52,106 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:52,106 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449
2024-09-30 06:53:52,107 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:52,107 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:52,107 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:52,107 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:52,107 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:52,107 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:52,107 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:52,107 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current
2024-09-30 06:53:52,107 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/sm
2024-09-30 06:53:52,107 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@130a924d
2024-09-30 06:53:52,108 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:52,108 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449 has been successfully formatted.
2024-09-30 06:53:52,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:52,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:52,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:52,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:52,108 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-0BE62126F449-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-0BE62126F449-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:52,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:52,110 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,110 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:52,110 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:52,110 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:52,110 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-0BE62126F449-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:52,110 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-0BE62126F449-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:52,110 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-0BE62126F449: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}
2024-09-30 06:53:52,110 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-0BE62126F449: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:52,110 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-0BE62126F449-FollowerState
2024-09-30 06:53:52,111 [s0@group-0BE62126F449-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:52,111 [s0@group-0BE62126F449-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:52,111 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0BE62126F449,id=s0
2024-09-30 06:53:52,111 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-0BE62126F449,id=s0
2024-09-30 06:53:52,111 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:52,111 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:52,111 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:52,111 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:52,111 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:52,111 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:53:52,112 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15186
2024-09-30 06:53:52,113 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15184
2024-09-30 06:53:52,113 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15185
2024-09-30 06:53:52,113 [JvmPauseMonitor46] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:53:52,113 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:52,113 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:52,113 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1] (custom)
2024-09-30 06:53:52,114 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449 does not exist. Creating ...
2024-09-30 06:53:52,114 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449
2024-09-30 06:53:52,114 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:52,115 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current
2024-09-30 06:53:52,115 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/sm
2024-09-30 06:53:52,115 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7f078959
2024-09-30 06:53:52,115 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449 has been successfully formatted.
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-0BE62126F449-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-0BE62126F449-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:52,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:52,117 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:52,117 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:52,117 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:52,117 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:52,117 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:52,117 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:52,117 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:52,117 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,117 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:52,117 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:52,117 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:52,118 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-0BE62126F449-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:52,118 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-0BE62126F449-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:52,118 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-0BE62126F449: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}
2024-09-30 06:53:52,118 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-0BE62126F449: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:52,118 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-0BE62126F449-FollowerState
2024-09-30 06:53:52,118 [s1@group-0BE62126F449-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:52,118 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0BE62126F449,id=s1
2024-09-30 06:53:52,118 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-0BE62126F449,id=s1
2024-09-30 06:53:52,118 [s1@group-0BE62126F449-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:52,118 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:52,118 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:52,118 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:52,118 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:52,118 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:52,119 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:53:52,119 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15190
2024-09-30 06:53:52,119 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15188
2024-09-30 06:53:52,120 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15189
2024-09-30 06:53:52,120 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:52,120 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:52,120 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2] (custom)
2024-09-30 06:53:52,120 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449 does not exist. Creating ...
2024-09-30 06:53:52,120 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449
2024-09-30 06:53:52,121 [JvmPauseMonitor47] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:53:52,121 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:52,121 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current
2024-09-30 06:53:52,121 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/sm
2024-09-30 06:53:52,121 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@aa435e4
2024-09-30 06:53:52,123 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:52,123 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449 has been successfully formatted.
2024-09-30 06:53:52,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:52,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:52,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:52,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:52,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:52,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:52,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:52,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,124 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-0BE62126F449-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:52,124 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-0BE62126F449-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449
2024-09-30 06:53:52,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:52,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:52,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:52,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:52,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:52,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:52,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:52,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:52,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:52,125 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,125 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:52,125 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:52,125 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:52,125 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-0BE62126F449-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:52,125 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-0BE62126F449-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:52,125 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-0BE62126F449: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}
2024-09-30 06:53:52,125 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-0BE62126F449: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:52,125 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-0BE62126F449-FollowerState
2024-09-30 06:53:52,126 [s2@group-0BE62126F449-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:52,126 [s2@group-0BE62126F449-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:52,126 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0BE62126F449,id=s2
2024-09-30 06:53:52,126 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-0BE62126F449,id=s2
2024-09-30 06:53:52,126 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:52,126 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:52,126 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:52,126 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:52,126 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:52,126 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:53:52,127 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15194
2024-09-30 06:53:52,127 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15192
2024-09-30 06:53:52,127 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15193
2024-09-30 06:53:52,128 [JvmPauseMonitor48] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:53:52,128 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:52,128 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0BE62126F449:t0, leader=null, voted=, raftlog=Memoized:s0@group-0BE62126F449-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0BE62126F449:t0, leader=null, voted=, raftlog=Memoized:s1@group-0BE62126F449-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0BE62126F449:t0, leader=null, voted=, raftlog=Memoized:s2@group-0BE62126F449-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null} RUNNING
2024-09-30 06:53:52,128 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0BE62126F449:t0, leader=null, voted=, raftlog=Memoized:s0@group-0BE62126F449-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0BE62126F449:t0, leader=null, voted=, raftlog=Memoized:s1@group-0BE62126F449-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0BE62126F449:t0, leader=null, voted=, raftlog=Memoized:s2@group-0BE62126F449-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null} RUNNING
2024-09-30 06:53:52,315 [s2@group-0BE62126F449-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-0BE62126F449-FollowerState: change to CANDIDATE, lastRpcElapsedTime:189423023ns, electionTimeout:189ms
2024-09-30 06:53:52,315 [s2@group-0BE62126F449-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-0BE62126F449-FollowerState
2024-09-30 06:53:52,315 [s2@group-0BE62126F449-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-0BE62126F449: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:52,315 [s2@group-0BE62126F449-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:52,315 [s2@group-0BE62126F449-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-0BE62126F449-LeaderElection49
2024-09-30 06:53:52,316 [s2@group-0BE62126F449-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-0BE62126F449-LeaderElection49 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}
2024-09-30 06:53:52,316 [s2@group-0BE62126F449-LeaderElection49-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15184
2024-09-30 06:53:52,316 [s2@group-0BE62126F449-LeaderElection49-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15188
2024-09-30 06:53:52,316 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:52,316 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:52,322 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-0BE62126F449: receive requestVote(PRE_VOTE, s2, group-0BE62126F449, 0, (t:0, i:0))
2024-09-30 06:53:52,322 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0BE62126F449-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:52,322 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-0BE62126F449 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-0BE62126F449:t0, leader=null, voted=, raftlog=Memoized:s0@group-0BE62126F449-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}
2024-09-30 06:53:52,323 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-0BE62126F449: receive requestVote(PRE_VOTE, s2, group-0BE62126F449, 0, (t:0, i:0))
2024-09-30 06:53:52,323 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0BE62126F449-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:52,323 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-0BE62126F449 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-0BE62126F449:t0, leader=null, voted=, raftlog=Memoized:s1@group-0BE62126F449-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}
2024-09-30 06:53:52,323 [s2@group-0BE62126F449-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-0BE62126F449-LeaderElection49: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:52,323 [s2@group-0BE62126F449-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2024-09-30 06:53:52,323 [s2@group-0BE62126F449-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-0BE62126F449-LeaderElection49 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:52,323 [s2@group-0BE62126F449-LeaderElection49] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2c2511c7
2024-09-30 06:53:52,324 [s2@group-0BE62126F449-LeaderElection49] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:52,324 [s2@group-0BE62126F449-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-0BE62126F449-LeaderElection49 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}
2024-09-30 06:53:52,325 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:52,325 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:52,329 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-0BE62126F449: receive requestVote(ELECTION, s2, group-0BE62126F449, 1, (t:0, i:0))
2024-09-30 06:53:52,330 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0BE62126F449-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:52,330 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-0BE62126F449: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:53:52,330 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-0BE62126F449: receive requestVote(ELECTION, s2, group-0BE62126F449, 1, (t:0, i:0))
2024-09-30 06:53:52,330 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-0BE62126F449-FollowerState
2024-09-30 06:53:52,330 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-0BE62126F449-FollowerState
2024-09-30 06:53:52,330 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0BE62126F449-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:52,330 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-0BE62126F449: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:53:52,330 [s0@group-0BE62126F449-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-0BE62126F449-FollowerState was interrupted
2024-09-30 06:53:52,330 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-0BE62126F449: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:53:52,330 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-0BE62126F449-FollowerState
2024-09-30 06:53:52,330 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2f926862
2024-09-30 06:53:52,330 [s1@group-0BE62126F449-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-0BE62126F449-FollowerState was interrupted
2024-09-30 06:53:52,330 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-0BE62126F449-FollowerState
2024-09-30 06:53:52,331 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-0BE62126F449: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:53:52,331 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7a214563
2024-09-30 06:53:52,331 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:52,331 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-0BE62126F449 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-0BE62126F449:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-0BE62126F449-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}
2024-09-30 06:53:52,332 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:52,332 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-0BE62126F449 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-0BE62126F449:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-0BE62126F449-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}
2024-09-30 06:53:52,332 [s2@group-0BE62126F449-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-0BE62126F449-LeaderElection49: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:52,332 [s2@group-0BE62126F449-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t1
2024-09-30 06:53:52,332 [s2@group-0BE62126F449-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-0BE62126F449-LeaderElection49 ELECTION round 0: result PASSED
2024-09-30 06:53:52,332 [s2@group-0BE62126F449-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-0BE62126F449-LeaderElection49
2024-09-30 06:53:52,332 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-0BE62126F449: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:53:52,332 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,333 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:52,334 [s2@group-0BE62126F449-LeaderElection49] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:52,335 [s2@group-0BE62126F449-LeaderElection49] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:52,335 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:52,335 [s2@group-0BE62126F449-LeaderElection49] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:52,335 [s2@group-0BE62126F449-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-0BE62126F449-LeaderStateImpl
2024-09-30 06:53:52,335 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-0BE62126F449: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:53:52,335 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-0BE62126F449: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 229ms
2024-09-30 06:53:52,335 [s2@group-0BE62126F449-LeaderElection49] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-0BE62126F449-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:52,335 [s2@group-0BE62126F449-LeaderElection49] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-0BE62126F449: set configuration conf: {index: 0, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}
2024-09-30 06:53:52,335 [s2@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:52,340 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-0BE62126F449: change Leader from null to s2 at term 1 for appendEntries, leader elected after 246ms
2024-09-30 06:53:52,341 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-0BE62126F449: change Leader from null to s2 at term 1 for appendEntries, leader elected after 240ms
2024-09-30 06:53:52,342 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0BE62126F449: appendEntries* s2->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15184"dataStreamAddress:"localhost:15187"clientAddress:"localhost:15186"adminAddress:"localhost:15185"startupRole:FOLLOWER, id:"s1"address:"localhost:15188"dataStreamAddress:"localhost:15191"clientAddress:"localhost:15190"adminAddress:"localhost:15189"startupRole:FOLLOWER, id:"s2"address:"localhost:15192"dataStreamAddress:"localhost:15195"clientAddress:"localhost:15194"adminAddress:"localhost:15193"startupRole:FOLLOWER, old:)
2024-09-30 06:53:52,342 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-0BE62126F449: set configuration conf: {index: 0, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}
2024-09-30 06:53:52,342 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-0BE62126F449-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:52,342 [s0@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:52,345 [s2@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-0BE62126F449-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/log_inprogress_0
2024-09-30 06:53:52,346 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* s2->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15184"dataStreamAddress:"localhost:15187"clientAddress:"localhost:15186"adminAddress:"localhost:15185"startupRole:FOLLOWER, id:"s1"address:"localhost:15188"dataStreamAddress:"localhost:15191"clientAddress:"localhost:15190"adminAddress:"localhost:15189"startupRole:FOLLOWER, id:"s2"address:"localhost:15192"dataStreamAddress:"localhost:15195"clientAddress:"localhost:15194"adminAddress:"localhost:15193"startupRole:FOLLOWER, old:)
2024-09-30 06:53:52,346 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-0BE62126F449: set configuration conf: {index: 0, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null}
2024-09-30 06:53:52,346 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-0BE62126F449-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:52,346 [s1@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:52,355 [s0@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-0BE62126F449-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/log_inprogress_0
2024-09-30 06:53:52,356 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0BE62126F449: appendEntries* reply s2<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:52,356 [s1@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-0BE62126F449-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/log_inprogress_0
2024-09-30 06:53:52,356 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* reply s2<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:52,356 [s2@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@164720d5
2024-09-30 06:53:52,358 [s2@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:52,358 [s2@group-0BE62126F449-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s2@group-0BE62126F449-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:53:52,433 [s0@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6e65cd16
2024-09-30 06:53:52,434 [s1@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@f19758d
2024-09-30 06:53:52,435 [s0@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:52,436 [s1@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:52,578 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0BE62126F449:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0BE62126F449-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0BE62126F449:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0BE62126F449-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-0BE62126F449:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0BE62126F449-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[], old=null} RUNNING
2024-09-30 06:53:52,579 [main] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:52,581 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest LeaderElectionManagementRequest:client-807364334B4B->s0@group-0BE62126F449, cid=18, seq=null, RO, null, Pause:
2024-09-30 06:53:52,589 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1296)) - s0@group-0BE62126F449 receive leaderElectionManagement request LeaderElectionManagementRequest:client-807364334B4B->s0@group-0BE62126F449, cid=18, seq=null, RO, null, Pause:
2024-09-30 06:53:52,590 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-807364334B4B: get 19 returns []
2024-09-30 06:53:52,590 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-807364334B4B->s0@group-0BE62126F449, cid=19, seq=null, RW, message
2024-09-30 06:53:52,592 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s0@group-0BE62126F449: receive client request(RaftClientRequest:client-807364334B4B->s0@group-0BE62126F449, cid=19, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:52,592 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=19, null, reply=RaftClientReply:client-807364334B4B->s0@group-0BE62126F449, cid=19, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-0BE62126F449 is not the leader, suggested leader is: s2|localhost:15192, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2024-09-30 06:53:52,593 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(418)) - client-807364334B4B: suggested new leader: s2. Failed RaftClientRequest:client-807364334B4B->s0@group-0BE62126F449, cid=19, seq=null, RW, message
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-0BE62126F449 is not the leader, suggested leader is: s2|localhost:15192
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:52,594 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(436)) - client-807364334B4B: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-09-30 06:53:52,594 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(442)) - client-807364334B4B changes Leader from s0 to s2 for group-0BE62126F449
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-0BE62126F449 is not the leader, suggested leader is: s2|localhost:15192
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:52,695 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-807364334B4B: get 19 returns []
2024-09-30 06:53:52,695 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #2, newRequest RaftClientRequest:client-807364334B4B->s2@group-0BE62126F449, cid=19, seq=null, RW, message
2024-09-30 06:53:52,698 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s2@group-0BE62126F449: receive client request(RaftClientRequest:client-807364334B4B->s2@group-0BE62126F449, cid=19, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:52,699 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s2@group-0BE62126F449-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-807364334B4B->s2@group-0BE62126F449, cid=19, seq=null, RW, Message:6d657373616765, entry=(t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:53:52,700 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0BE62126F449: appendEntries* s2->s0#7-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:19@client-807364334B4B
2024-09-30 06:53:52,700 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* s2->s1#8-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:19@client-807364334B4B
2024-09-30 06:53:52,700 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0BE62126F449: appendEntries* reply s2<-s0#7:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:52,700 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* reply s2<-s1#8:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:52,701 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0BE62126F449: appendEntries* s2->s0#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:52,701 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* s2->s1#10-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:52,702 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* reply s2<-s1#10:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:52,702 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-807364334B4B: add replied callId 19
2024-09-30 06:53:52,703 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0BE62126F449: appendEntries* reply s2<-s0#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:52,703 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest SetConfigurationRequest:client-807364334B4B->s2@group-0BE62126F449, cid=20, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192], listeners:[]
2024-09-30 06:53:52,705 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1332)) - s2@group-0BE62126F449: receive setConfiguration SetConfigurationRequest:client-807364334B4B->s2@group-0BE62126F449, cid=20, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192], listeners:[]
2024-09-30 06:53:52,705 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(486)) - s2@group-0BE62126F449-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-807364334B4B->s2@group-0BE62126F449, cid=20, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192], listeners:[]
2024-09-30 06:53:52,706 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-0BE62126F449: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[]}
2024-09-30 06:53:52,707 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0BE62126F449: appendEntries* s2->s0#12-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15184"priority:2clientAddress:"0.0.0.0:15186"adminAddress:"0.0.0.0:15185"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15188"priority:1clientAddress:"0.0.0.0:15190"adminAddress:"0.0.0.0:15189"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15192"priority:1clientAddress:"0.0.0.0:15194"adminAddress:"0.0.0.0:15193"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15184"dataStreamAddress:"localhost:15187"clientAddress:"localhost:15186"adminAddress:"localhost:15185"startupRole:FOLLOWER, id:"s1"address:"localhost:15188"dataStreamAddress:"localhost:15191"clientAddress:"localhost:15190"adminAddress:"localhost:15189"startupRole:FOLLOWER, id:"s2"address:"localhost:15192"dataStreamAddress:"localhost:15195"clientAddress:"localhost:15194"adminAddress:"localhost:15193"startupRole:FOLLOWER)
2024-09-30 06:53:52,707 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* s2->s1#13-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15184"priority:2clientAddress:"0.0.0.0:15186"adminAddress:"0.0.0.0:15185"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15188"priority:1clientAddress:"0.0.0.0:15190"adminAddress:"0.0.0.0:15189"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15192"priority:1clientAddress:"0.0.0.0:15194"adminAddress:"0.0.0.0:15193"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15184"dataStreamAddress:"localhost:15187"clientAddress:"localhost:15186"adminAddress:"localhost:15185"startupRole:FOLLOWER, id:"s1"address:"localhost:15188"dataStreamAddress:"localhost:15191"clientAddress:"localhost:15190"adminAddress:"localhost:15189"startupRole:FOLLOWER, id:"s2"address:"localhost:15192"dataStreamAddress:"localhost:15195"clientAddress:"localhost:15194"adminAddress:"localhost:15193"startupRole:FOLLOWER)
2024-09-30 06:53:52,707 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-0BE62126F449: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[]}
2024-09-30 06:53:52,707 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-0BE62126F449: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=peers:[s0|localhost:15184, s1|localhost:15188, s2|localhost:15192]|listeners:[]}
2024-09-30 06:53:52,707 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0BE62126F449: appendEntries* reply s2<-s0#12:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:52,707 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* reply s2<-s1#13:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:52,708 [s2@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1cbf4ba5
2024-09-30 06:53:52,708 [s2@group-0BE62126F449-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-0BE62126F449: set configuration conf: {index: 5, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=null}
2024-09-30 06:53:52,709 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0BE62126F449: appendEntries* s2->s0#13-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=2, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:52,709 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-0BE62126F449: set configuration conf: {index: 5, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=null}
2024-09-30 06:53:52,709 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* s2->s1#15-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=2, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:52,709 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-0BE62126F449: set configuration conf: {index: 5, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=null}
2024-09-30 06:53:52,710 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0BE62126F449: appendEntries* reply s2<-s0#13:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:53:52,710 [s0@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@60a23eaa
2024-09-30 06:53:52,710 [s2@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:52,712 [s2@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@59bdd656
2024-09-30 06:53:52,712 [s0@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:52,712 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0BE62126F449: appendEntries* s2->s0#14-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:52,713 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* reply s2<-s1#15:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:53:52,713 [s1@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1de9a1e
2024-09-30 06:53:52,713 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-807364334B4B: add replied callId 20
2024-09-30 06:53:52,713 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* s2->s1#17-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:52,714 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* reply s2<-s1#17:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:53:52,714 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-0BE62126F449: appendEntries* reply s2<-s0#14:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:53:52,714 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest LeaderElectionManagementRequest:client-807364334B4B->s0@group-0BE62126F449, cid=21, seq=null, RO, null, Resume:
2024-09-30 06:53:52,715 [s1@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:52,715 [s1@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5e11efd
2024-09-30 06:53:52,716 [s1@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:52,718 [s0@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@649da666
2024-09-30 06:53:52,719 [s2@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:52,719 [s0@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:52,719 [s0-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1296)) - s0@group-0BE62126F449 receive leaderElectionManagement request LeaderElectionManagementRequest:client-807364334B4B->s0@group-0BE62126F449, cid=21, seq=null, RO, null, Resume:
2024-09-30 06:53:52,722 [main] WARN  grpc.TestLeaderElectionWithGrpc (JavaUtils.java:attempt(231)) - FAILED "check new leader", attempt #1/20, sleep 100ms and then retry: org.opentest4j.AssertionFailedError: expected: <s0> but was: <s2>
2024-09-30 06:53:52,822 [main] WARN  grpc.TestLeaderElectionWithGrpc (JavaUtils.java:attempt(231)) - FAILED "check new leader", attempt #2/20, sleep 100ms and then retry: org.opentest4j.AssertionFailedError: expected: <s0> but was: <s2>
2024-09-30 06:53:52,923 [main] WARN  grpc.TestLeaderElectionWithGrpc (JavaUtils.java:attempt(231)) - FAILED "check new leader", attempt #3/20, sleep 100ms and then retry: org.opentest4j.AssertionFailedError: expected: <s0> but was: <s2>
2024-09-30 06:53:53,019 [s2@group-0BE62126F449-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(258)) - s2@group-0BE62126F449: start transferring leadership to s0
2024-09-30 06:53:53,020 [s2@group-0BE62126F449-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:sendStartLeaderElection(210)) - s2@group-0BE62126F449: sendStartLeaderElection to follower s0, lastEntry=(t:1, i:6)
2024-09-30 06:53:53,020 [s2@group-0BE62126F449-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(266)) - s2@group-0BE62126F449: SUCCESS sent StartLeaderElection to transferee s0 immediately as it already has up-to-date log
2024-09-30 06:53:53,021 [grpc-default-executor-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1744)) - s0@group-0BE62126F449: receive startLeaderElection from s2 with lastEntry (t:1, i:6)
2024-09-30 06:53:53,021 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-0BE62126F449-FollowerState
2024-09-30 06:53:53,021 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-0BE62126F449: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:53:53,021 [s0@group-0BE62126F449-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-0BE62126F449-FollowerState was interrupted
2024-09-30 06:53:53,021 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-0BE62126F449: change Leader from s2 to null at term 1 for ELECTION
2024-09-30 06:53:53,021 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6cafd605
2024-09-30 06:53:53,022 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:53,022 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-0BE62126F449-LeaderElection50
2024-09-30 06:53:53,023 [s0@group-0BE62126F449-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-0BE62126F449-LeaderElection50 ELECTION round 0: submit vote requests at term 2 for conf: {index: 5, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=null}
2024-09-30 06:53:53,023 [s0@group-0BE62126F449-LeaderElection50-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15188
2024-09-30 06:53:53,023 [s0@group-0BE62126F449-LeaderElection50-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15192
2024-09-30 06:53:53,023 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-0BE62126F449: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:53,023 [s2-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:lambda$sendStartLeaderElection$2(224)) - s2@group-0BE62126F449: Received startLeaderElection reply from s0: success? true
2024-09-30 06:53:53,023 [main] WARN  grpc.TestLeaderElectionWithGrpc (JavaUtils.java:attempt(231)) - FAILED "check new leader", attempt #4/20, sleep 100ms and then retry: org.opentest4j.AssertionFailedError: expected: <s0> but was: <s2>
2024-09-30 06:53:53,024 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-0BE62126F449->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:53,024 [s2@group-0BE62126F449-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-0BE62126F449: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:HIGHER_TERM
2024-09-30 06:53:53,025 [s2@group-0BE62126F449-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-0BE62126F449-LeaderStateImpl
2024-09-30 06:53:53,025 [s2@group-0BE62126F449->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-0BE62126F449->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:53,025 [s2@group-0BE62126F449-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-0BE62126F449-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:53,025 [s2@group-0BE62126F449->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-0BE62126F449->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:53,025 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:53,025 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#17-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:53,026 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:53,025 [s2@group-0BE62126F449-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-0BE62126F449: change Leader from s2 to null at term 1 for StepDownReason:HIGHER_TERM
2024-09-30 06:53:53,026 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "Ym\317bdbL\021\241A\v\346!&\364I"
  }
  callId: 24
  success: true
}
term: 1
nextIndex: 7
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:53,026 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:53,026 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: "Ym\317bdbL\021\241A\v\346!&\364I"
  }
  callId: 23
}
term: 2
nextIndex: 7
result: NOT_LEADER
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:53,027 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-0BE62126F449->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:53,027 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#14-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:53,027 [s2@group-0BE62126F449-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-0BE62126F449-FollowerState
2024-09-30 06:53:53,027 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-0BE62126F449->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:53,027 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:53,027 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-0BE62126F449->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:53,028 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-0BE62126F449->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:53,029 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-0BE62126F449: receive requestVote(ELECTION, s0, group-0BE62126F449, 2, (t:1, i:6))
2024-09-30 06:53:53,030 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-0BE62126F449: receive requestVote(ELECTION, s0, group-0BE62126F449, 2, (t:1, i:6))
2024-09-30 06:53:53,030 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0BE62126F449-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2024-09-30 06:53:53,030 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-0BE62126F449: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-09-30 06:53:53,030 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-0BE62126F449-FollowerState
2024-09-30 06:53:53,031 [s1@group-0BE62126F449-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-0BE62126F449-FollowerState was interrupted
2024-09-30 06:53:53,031 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-0BE62126F449: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-09-30 06:53:53,031 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-0BE62126F449-FollowerState
2024-09-30 06:53:53,033 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5f0f0fe5
2024-09-30 06:53:53,033 [s2@group-0BE62126F449-LeaderStateImpl] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1011677c
2024-09-30 06:53:53,034 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:53,034 [s2@group-0BE62126F449-LeaderStateImpl] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:53,034 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-0BE62126F449-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2024-09-30 06:53:53,035 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-0BE62126F449: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2024-09-30 06:53:53,035 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-0BE62126F449-FollowerState
2024-09-30 06:53:53,034 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-0BE62126F449 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-0BE62126F449:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-0BE62126F449-SegmentedRaftLog:OPENED:c6:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=null}
2024-09-30 06:53:53,035 [s2@group-0BE62126F449-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-0BE62126F449-FollowerState was interrupted
2024-09-30 06:53:53,035 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-0BE62126F449-FollowerState
2024-09-30 06:53:53,035 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@30c18a15
2024-09-30 06:53:53,036 [s0@group-0BE62126F449-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-0BE62126F449-LeaderElection50: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:53,036 [s0@group-0BE62126F449-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t2
2024-09-30 06:53:53,036 [s0@group-0BE62126F449-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-0BE62126F449-LeaderElection50 ELECTION round 0: result PASSED
2024-09-30 06:53:53,036 [s0@group-0BE62126F449-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-0BE62126F449-LeaderElection50
2024-09-30 06:53:53,036 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-0BE62126F449: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-09-30 06:53:53,036 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:53,036 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:53,036 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:53,037 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:53,038 [s0@group-0BE62126F449-LeaderElection50] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:53,038 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:53,038 [s0@group-0BE62126F449-LeaderElection50] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:53,038 [s0@group-0BE62126F449-LeaderElection50] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:53,038 [s0@group-0BE62126F449-LeaderElection50] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:53,038 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:53,038 [s0@group-0BE62126F449-LeaderElection50] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:53,038 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:53,038 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:53,038 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:53,038 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-0BE62126F449 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-0BE62126F449:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-0BE62126F449-SegmentedRaftLog:OPENED:c6:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=null}
2024-09-30 06:53:53,038 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:53,039 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:53,039 [s0@group-0BE62126F449-LeaderElection50] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:53,039 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:53,039 [s0@group-0BE62126F449-LeaderElection50] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:53,039 [s0@group-0BE62126F449-LeaderElection50] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:53,039 [s0@group-0BE62126F449-LeaderElection50] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:53,039 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:53,039 [s0@group-0BE62126F449-LeaderElection50] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:53,039 [s0@group-0BE62126F449-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-0BE62126F449-LeaderStateImpl
2024-09-30 06:53:53,039 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-0BE62126F449: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 18ms
2024-09-30 06:53:53,039 [s0@group-0BE62126F449-LeaderElection50] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-0BE62126F449-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2024-09-30 06:53:53,040 [s0@group-0BE62126F449-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-0BE62126F449: set configuration conf: {index: 7, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=null}
2024-09-30 06:53:53,041 [s0@group-0BE62126F449-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/log_0-6
2024-09-30 06:53:53,041 [s0@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-0BE62126F449-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/log_0-6
2024-09-30 06:53:53,041 [s0@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_7 at position 0
2024-09-30 06:53:53,048 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-0BE62126F449: change Leader from null to s0 at term 2 for appendEntries, leader elected after 17ms
2024-09-30 06:53:53,050 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* s0->s1#1-t2,previous=(t:1, i:6),leaderCommit=6,initializing? false,entries: size=1, first=(t:2, i:7), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15184"priority:2clientAddress:"0.0.0.0:15186"adminAddress:"0.0.0.0:15185"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15188"priority:1clientAddress:"0.0.0.0:15190"adminAddress:"0.0.0.0:15189"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15192"priority:1clientAddress:"0.0.0.0:15194"adminAddress:"0.0.0.0:15193"startupRole:FOLLOWER, old:)
2024-09-30 06:53:53,050 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-0BE62126F449: set configuration conf: {index: 7, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=null}
2024-09-30 06:53:53,050 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-0BE62126F449-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2024-09-30 06:53:53,052 [s1@group-0BE62126F449-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/log_0-6
2024-09-30 06:53:53,052 [s1@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-0BE62126F449-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/log_0-6
2024-09-30 06:53:53,052 [s1@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_7 at position 0
2024-09-30 06:53:53,052 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-0BE62126F449: appendEntries* s0->s2#1-t2,previous=(t:1, i:6),leaderCommit=6,initializing? false,entries: size=1, first=(t:2, i:7), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15184"priority:2clientAddress:"0.0.0.0:15186"adminAddress:"0.0.0.0:15185"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15188"priority:1clientAddress:"0.0.0.0:15190"adminAddress:"0.0.0.0:15189"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15192"priority:1clientAddress:"0.0.0.0:15194"adminAddress:"0.0.0.0:15193"startupRole:FOLLOWER, old:)
2024-09-30 06:53:53,052 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-0BE62126F449: change Leader from null to s0 at term 2 for appendEntries, leader elected after 26ms
2024-09-30 06:53:53,053 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-0BE62126F449: set configuration conf: {index: 7, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=null}
2024-09-30 06:53:53,053 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-0BE62126F449-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2024-09-30 06:53:53,054 [s2@group-0BE62126F449-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/log_0-6
2024-09-30 06:53:53,054 [s2@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-0BE62126F449-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/log_0-6
2024-09-30 06:53:53,054 [s2@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_7 at position 0
2024-09-30 06:53:53,065 [s0@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-0BE62126F449-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/log_inprogress_7
2024-09-30 06:53:53,068 [s1@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-0BE62126F449-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/log_inprogress_7
2024-09-30 06:53:53,070 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* reply s0<-s1#1:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2024-09-30 06:53:53,071 [s0@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@219f3491
2024-09-30 06:53:53,072 [s0@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s0/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:53,072 [s0@group-0BE62126F449-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-0BE62126F449-LeaderStateImpl is ready since appliedIndex == startIndex == 7
2024-09-30 06:53:53,072 [s2@group-0BE62126F449-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-0BE62126F449-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/log_inprogress_7
2024-09-30 06:53:53,073 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* s0->s1#2-t2,previous=(t:2, i:7),leaderCommit=7,initializing? false,entries: size=1, first=(t:2, i:8), METADATAENTRY(c:7)
2024-09-30 06:53:53,073 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-0BE62126F449: appendEntries* reply s0<-s2#1:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2024-09-30 06:53:53,073 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-0BE62126F449: appendEntries* reply s0<-s1#2:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2024-09-30 06:53:53,073 [s1@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@40e39025
2024-09-30 06:53:53,073 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-0BE62126F449: appendEntries* s0->s2#2-t2,previous=(t:2, i:7),leaderCommit=7,initializing? false,entries: size=1, first=(t:2, i:8), METADATAENTRY(c:7)
2024-09-30 06:53:53,074 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-0BE62126F449: appendEntries* reply s0<-s2#2:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2024-09-30 06:53:53,074 [s2@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@76d3043c
2024-09-30 06:53:53,075 [s1@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s1/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:53,076 [s2@group-0BE62126F449-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb85688dd/s2/596dcf62-6462-4c11-a141-0be62126f449/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:53,124 [main] DEBUG client.RaftClient (RaftClientImpl.java:close(465)) - close client-807364334B4B
2024-09-30 06:53:53,125 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:53,126 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:53,126 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:53,126 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:53,126 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:53,126 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0BE62126F449:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-0BE62126F449-SegmentedRaftLog:OPENED:c8:last(t:2, i:8), conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0BE62126F449:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-0BE62126F449-SegmentedRaftLog:OPENED:c7:last(t:2, i:8), conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0BE62126F449:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-0BE62126F449-SegmentedRaftLog:OPENED:c7:last(t:2, i:8), conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15184, s1|0.0.0.0:15188, s2|0.0.0.0:15192]|listeners:[], old=null} RUNNING
2024-09-30 06:53:53,126 [MiniRaftCluster-72] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:53:53,126 [MiniRaftCluster-73] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:53:53,130 [MiniRaftCluster-74] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:53:53,130 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-0BE62126F449: shutdown
2024-09-30 06:53:53,130 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-0BE62126F449: shutdown
2024-09-30 06:53:53,130 [MiniRaftCluster-72] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:53,131 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0BE62126F449,id=s2
2024-09-30 06:53:53,131 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-0BE62126F449-FollowerState
2024-09-30 06:53:53,131 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-0BE62126F449-StateMachineUpdater: set stopIndex = 7
2024-09-30 06:53:53,131 [s2@group-0BE62126F449-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-0BE62126F449-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:7)
2024-09-30 06:53:53,130 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0BE62126F449,id=s0
2024-09-30 06:53:53,130 [MiniRaftCluster-74] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:53,130 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-0BE62126F449: shutdown
2024-09-30 06:53:53,130 [MiniRaftCluster-73] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:53,131 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0BE62126F449,id=s1
2024-09-30 06:53:53,131 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-0BE62126F449-FollowerState
2024-09-30 06:53:53,131 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-0BE62126F449-StateMachineUpdater: set stopIndex = 7
2024-09-30 06:53:53,131 [s1@group-0BE62126F449-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-0BE62126F449-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:7)
2024-09-30 06:53:53,132 [Thread-1209] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:53,131 [Thread-1208] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:53,131 [s2@group-0BE62126F449-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-0BE62126F449-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:53,131 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-0BE62126F449-LeaderStateImpl
2024-09-30 06:53:53,131 [Thread-1207] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:53,131 [s2@group-0BE62126F449-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-0BE62126F449-FollowerState was interrupted
2024-09-30 06:53:53,131 [s1@group-0BE62126F449-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-0BE62126F449-FollowerState was interrupted
2024-09-30 06:53:53,132 [Thread-1211] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:53,132 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-0BE62126F449-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:53,133 [s0@group-0BE62126F449->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-0BE62126F449->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:53,133 [s0@group-0BE62126F449->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-0BE62126F449->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:53,133 [s1@group-0BE62126F449-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-0BE62126F449-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:53,133 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:53,133 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "Ym\317bdbL\021\241A\v\346!&\364I"
  }
  success: true
}
term: 2
nextIndex: 8
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:53,134 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:53,135 [MiniRaftCluster-73] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:53,135 [MiniRaftCluster-73] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:53,135 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "Ym\317bdbL\021\241A\v\346!&\364I"
  }
  success: true
}
term: 2
nextIndex: 7
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:53,138 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#2-t2,previous=(t:2, i:7),leaderCommit=7,initializing? false,entries: size=1, first=(t:2, i:8), METADATAENTRY(c:7)
2024-09-30 06:53:53,138 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:53,138 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#2-t2,previous=(t:2, i:7),leaderCommit=7,initializing? false,entries: size=1, first=(t:2, i:8), METADATAENTRY(c:7)
2024-09-30 06:53:53,138 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:53,140 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-0BE62126F449-StateMachineUpdater: set stopIndex = 8
2024-09-30 06:53:53,140 [s0@group-0BE62126F449-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-0BE62126F449-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:8)
2024-09-30 06:53:53,140 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-0BE62126F449->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:53,140 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-0BE62126F449->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:53,140 [MiniRaftCluster-73] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:53,140 [MiniRaftCluster-73] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:53,140 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-0BE62126F449->s1-GrpcLogAppender is already stopped
2024-09-30 06:53:53,142 [MiniRaftCluster-72] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:53,142 [MiniRaftCluster-72] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:53,142 [MiniRaftCluster-73] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:53,140 [s0@group-0BE62126F449-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-0BE62126F449-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:53,142 [MiniRaftCluster-72] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:53,142 [MiniRaftCluster-72] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:53,141 [MiniRaftCluster-74] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:53,142 [MiniRaftCluster-74] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:53,142 [MiniRaftCluster-72] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:53,143 [MiniRaftCluster-74] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:53,143 [MiniRaftCluster-74] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:53,141 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-0BE62126F449->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:53,140 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-0BE62126F449->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:53,143 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-0BE62126F449->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:53,143 [MiniRaftCluster-74] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:53,143 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-0BE62126F449->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:54,073 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-0BE62126F449-SegmentedRaftLogWorker close()
2024-09-30 06:53:54,074 [JvmPauseMonitor46] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:53:54,074 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-0BE62126F449-SegmentedRaftLogWorker close()
2024-09-30 06:53:54,075 [JvmPauseMonitor47] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:53:54,075 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-0BE62126F449-SegmentedRaftLogWorker close()
2024-09-30 06:53:54,076 [JvmPauseMonitor48] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:53:54,076 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:54,076 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:54,224 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:54,225 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testYieldLeaderToHigherPriority" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="2.907">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.LeaderElectionTests.testYieldLeaderToHigherPriority(LeaderElectionTests.java:234)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	Suppressed: java.lang.IllegalStateException: allLeaks.size = 2
		at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
		at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
		at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
		at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
		at org.apache.ratis.server.impl.MiniRaftCluster.close(MiniRaftCluster.java:833)
		at org.apache.ratis.server.impl.LeaderElectionTests.testYieldLeaderToHigherPriority(LeaderElectionTests.java:235)
		... 3 more
]]></error>
    <system-out><![CDATA[2024-09-30 06:53:54,226 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:53:54,226 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:53:54,226 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:53:54,226 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:53:54,228 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-9650DCAB627A:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]
2024-09-30 06:53:54,228 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:53:54,228 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:53:54,228 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:53:54,228 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:53:54,228 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:53:54,228 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:53:54,228 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-9650DCAB627A:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204], format? true
2024-09-30 06:53:54,229 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0
2024-09-30 06:53:54,229 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0 does not exist.
2024-09-30 06:53:54,229 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0
2024-09-30 06:53:54,229 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:54,229 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:54,229 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15197 (custom)
2024-09-30 06:53:54,230 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:54,230 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15198 (custom)
2024-09-30 06:53:54,230 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:54,230 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15196 (custom)
2024-09-30 06:53:54,230 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:54,230 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:54,230 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:54,230 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:54,230 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:54,231 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,231 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:54,231 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:54,233 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:54,233 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:54,233 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:54,233 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:54,233 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0] (custom)
2024-09-30 06:53:54,233 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:54,233 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:54,234 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-9650DCAB627A:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204] returns group-9650DCAB627A:java.util.concurrent.CompletableFuture@54eb2bf6[Not completed]
2024-09-30 06:53:54,234 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-9650DCAB627A:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204] with BaseStateMachine:uninitialized
2024-09-30 06:53:54,234 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-9650DCAB627A:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204], format? true
2024-09-30 06:53:54,234 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1
2024-09-30 06:53:54,234 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:54,234 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1 does not exist.
2024-09-30 06:53:54,234 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1
2024-09-30 06:53:54,234 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:54,235 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:54,235 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:54,235 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:54,235 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:54,235 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:54,235 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:54,235 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15201 (custom)
2024-09-30 06:53:54,235 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:54,235 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:54,235 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-9650DCAB627A: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:54,235 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15202 (custom)
2024-09-30 06:53:54,235 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:54,236 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:54,236 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:54,236 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15200 (custom)
2024-09-30 06:53:54,236 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:54,236 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:54,236 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:54,236 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:54,236 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:54,236 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:54,236 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:54,236 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:54,236 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:54,237 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,237 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:54,237 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:54,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:54,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:54,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:54,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:54,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:54,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:54,238 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:54,238 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:54,239 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:54,239 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:54,239 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1] (custom)
2024-09-30 06:53:54,239 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:54,239 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:54,239 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-9650DCAB627A:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204] returns group-9650DCAB627A:java.util.concurrent.CompletableFuture@3a7d6976[Not completed]
2024-09-30 06:53:54,239 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-9650DCAB627A:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204] with BaseStateMachine:uninitialized
2024-09-30 06:53:54,240 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-9650DCAB627A:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204], format? true
2024-09-30 06:53:54,240 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2
2024-09-30 06:53:54,240 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:54,240 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:54,240 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2 does not exist.
2024-09-30 06:53:54,240 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2
2024-09-30 06:53:54,240 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:54,240 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:54,240 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:54,240 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:54,240 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:54,240 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:54,240 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:54,241 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15205 (custom)
2024-09-30 06:53:54,241 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-9650DCAB627A: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:54,241 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:54,241 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:54,241 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15206 (custom)
2024-09-30 06:53:54,241 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:54,241 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:54,241 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15204 (custom)
2024-09-30 06:53:54,241 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:54,241 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:54,241 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:54,242 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:54,242 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:54,241 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:54,242 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:54,242 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,242 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:54,242 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:54,242 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:54,242 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:54,243 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:54,243 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:54,243 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:54,243 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:54,243 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:54,243 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:54,243 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:54,243 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:54,244 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:54,244 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:54,244 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2] (custom)
2024-09-30 06:53:54,244 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:54,244 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:54,244 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-9650DCAB627A:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204] returns group-9650DCAB627A:java.util.concurrent.CompletableFuture@123426a9[Not completed]
2024-09-30 06:53:54,245 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-9650DCAB627A:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204] with BaseStateMachine:uninitialized
2024-09-30 06:53:54,245 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:54,245 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:54,245 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:54,245 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:54,245 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:54,245 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:54,245 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:54,245 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0] (custom)
2024-09-30 06:53:54,245 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:54,245 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:54,245 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-9650DCAB627A: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:54,245 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a does not exist. Creating ...
2024-09-30 06:53:54,245 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:54,245 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:54,246 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:54,246 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:54,246 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:54,246 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:54,246 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a
2024-09-30 06:53:54,247 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:54,247 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:54,247 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current
2024-09-30 06:53:54,247 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:54,247 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/sm
2024-09-30 06:53:54,247 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:54,247 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:54,247 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5337a30
2024-09-30 06:53:54,248 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:54,248 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:54,248 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:54,248 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a has been successfully formatted.
2024-09-30 06:53:54,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:54,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:54,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:54,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:54,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:54,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:54,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:54,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,250 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-9650DCAB627A-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:54,250 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-9650DCAB627A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a
2024-09-30 06:53:54,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:54,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:54,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:54,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:54,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:54,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:54,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:54,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:54,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:54,251 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,251 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:54,251 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:54,251 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:54,251 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-9650DCAB627A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:54,251 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-9650DCAB627A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:54,252 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-9650DCAB627A: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,252 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-9650DCAB627A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:54,252 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-9650DCAB627A-FollowerState
2024-09-30 06:53:54,252 [s0@group-9650DCAB627A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:54,252 [s0@group-9650DCAB627A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:54,252 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9650DCAB627A,id=s0
2024-09-30 06:53:54,252 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-9650DCAB627A,id=s0
2024-09-30 06:53:54,252 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:54,252 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:54,252 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:54,252 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:54,253 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:54,253 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:53:54,255 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15198
2024-09-30 06:53:54,256 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15196
2024-09-30 06:53:54,256 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15197
2024-09-30 06:53:54,256 [JvmPauseMonitor49] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:53:54,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:54,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:54,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1] (custom)
2024-09-30 06:53:54,257 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a does not exist. Creating ...
2024-09-30 06:53:54,257 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a
2024-09-30 06:53:54,257 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:54,258 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current
2024-09-30 06:53:54,258 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/sm
2024-09-30 06:53:54,258 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@d28ab87
2024-09-30 06:53:54,259 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:54,259 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a has been successfully formatted.
2024-09-30 06:53:54,259 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:54,259 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:54,259 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,259 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:54,259 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:54,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:54,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:54,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:54,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,260 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-9650DCAB627A-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:54,260 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-9650DCAB627A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a
2024-09-30 06:53:54,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:54,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:54,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:54,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:54,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:54,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:54,261 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:54,261 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:54,261 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:54,261 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,261 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:54,261 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:54,261 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:54,262 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-9650DCAB627A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:54,262 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-9650DCAB627A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:54,262 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-9650DCAB627A: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,262 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-9650DCAB627A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:54,262 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-9650DCAB627A-FollowerState
2024-09-30 06:53:54,262 [s1@group-9650DCAB627A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:54,262 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9650DCAB627A,id=s1
2024-09-30 06:53:54,262 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-9650DCAB627A,id=s1
2024-09-30 06:53:54,262 [s1@group-9650DCAB627A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:54,262 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:54,262 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:54,263 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:54,263 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:54,263 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:54,263 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:53:54,264 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15202
2024-09-30 06:53:54,264 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15200
2024-09-30 06:53:54,264 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15201
2024-09-30 06:53:54,265 [JvmPauseMonitor50] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:53:54,265 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:54,265 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:54,265 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2] (custom)
2024-09-30 06:53:54,266 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a does not exist. Creating ...
2024-09-30 06:53:54,266 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a
2024-09-30 06:53:54,266 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:54,267 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current
2024-09-30 06:53:54,267 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/sm
2024-09-30 06:53:54,267 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@477198ea
2024-09-30 06:53:54,267 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:54,268 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a has been successfully formatted.
2024-09-30 06:53:54,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:54,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:54,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:54,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:54,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:54,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:54,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:54,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-9650DCAB627A-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-9650DCAB627A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:54,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:54,270 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:54,270 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-9650DCAB627A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:54,270 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-9650DCAB627A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:54,270 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-9650DCAB627A: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,270 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-9650DCAB627A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:54,270 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-9650DCAB627A-FollowerState
2024-09-30 06:53:54,270 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9650DCAB627A,id=s2
2024-09-30 06:53:54,270 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-9650DCAB627A,id=s2
2024-09-30 06:53:54,270 [s2@group-9650DCAB627A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:54,270 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:54,270 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:54,270 [s2@group-9650DCAB627A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:54,270 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:54,270 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:54,271 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:54,274 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:53:54,274 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15206
2024-09-30 06:53:54,274 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15204
2024-09-30 06:53:54,275 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15205
2024-09-30 06:53:54,275 [JvmPauseMonitor51] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:53:54,278 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:54,278 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9650DCAB627A:t0, leader=null, voted=, raftlog=Memoized:s0@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9650DCAB627A:t0, leader=null, voted=, raftlog=Memoized:s1@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9650DCAB627A:t0, leader=null, voted=, raftlog=Memoized:s2@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null} RUNNING
2024-09-30 06:53:54,278 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9650DCAB627A:t0, leader=null, voted=, raftlog=Memoized:s0@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9650DCAB627A:t0, leader=null, voted=, raftlog=Memoized:s1@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9650DCAB627A:t0, leader=null, voted=, raftlog=Memoized:s2@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null} RUNNING
2024-09-30 06:53:54,445 [s2@group-9650DCAB627A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-9650DCAB627A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:174588879ns, electionTimeout:174ms
2024-09-30 06:53:54,445 [s2@group-9650DCAB627A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-9650DCAB627A-FollowerState
2024-09-30 06:53:54,445 [s2@group-9650DCAB627A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-9650DCAB627A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:54,445 [s2@group-9650DCAB627A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:54,445 [s2@group-9650DCAB627A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-9650DCAB627A-LeaderElection51
2024-09-30 06:53:54,445 [s2@group-9650DCAB627A-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-9650DCAB627A-LeaderElection51 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,445 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:54,446 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:54,445 [s2@group-9650DCAB627A-LeaderElection51-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15200
2024-09-30 06:53:54,445 [s2@group-9650DCAB627A-LeaderElection51-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15196
2024-09-30 06:53:54,450 [s1@group-9650DCAB627A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-9650DCAB627A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:188490054ns, electionTimeout:188ms
2024-09-30 06:53:54,450 [s1@group-9650DCAB627A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-9650DCAB627A-FollowerState
2024-09-30 06:53:54,451 [s1@group-9650DCAB627A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-9650DCAB627A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:54,451 [s1@group-9650DCAB627A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:54,451 [s1@group-9650DCAB627A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-9650DCAB627A-LeaderElection52
2024-09-30 06:53:54,452 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-9650DCAB627A: receive requestVote(PRE_VOTE, s2, group-9650DCAB627A, 0, (t:0, i:0))
2024-09-30 06:53:54,452 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-9650DCAB627A-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:54,452 [s1@group-9650DCAB627A-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-9650DCAB627A-LeaderElection52 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,453 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-9650DCAB627A replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-9650DCAB627A:t0, leader=null, voted=, raftlog=Memoized:s1@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,453 [s1@group-9650DCAB627A-LeaderElection52-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15196
2024-09-30 06:53:54,453 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-9650DCAB627A: receive requestVote(PRE_VOTE, s2, group-9650DCAB627A, 0, (t:0, i:0))
2024-09-30 06:53:54,453 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9650DCAB627A-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:54,453 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-9650DCAB627A replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-9650DCAB627A:t0, leader=null, voted=, raftlog=Memoized:s0@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,454 [s1@group-9650DCAB627A-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:54,454 [s1@group-9650DCAB627A-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:54,454 [s2@group-9650DCAB627A-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-9650DCAB627A-LeaderElection51: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:54,454 [s2@group-9650DCAB627A-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2024-09-30 06:53:54,454 [s2@group-9650DCAB627A-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-9650DCAB627A-LeaderElection51 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:54,455 [s2@group-9650DCAB627A-LeaderElection51] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7d14dcb3
2024-09-30 06:53:54,455 [s1@group-9650DCAB627A-LeaderElection52-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15204
2024-09-30 06:53:54,456 [s2@group-9650DCAB627A-LeaderElection51] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:54,456 [s2@group-9650DCAB627A-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-9650DCAB627A-LeaderElection51 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,457 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:54,457 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:54,457 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-9650DCAB627A: receive requestVote(PRE_VOTE, s1, group-9650DCAB627A, 0, (t:0, i:0))
2024-09-30 06:53:54,460 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-9650DCAB627A: receive requestVote(ELECTION, s2, group-9650DCAB627A, 1, (t:0, i:0))
2024-09-30 06:53:54,462 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9650DCAB627A-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:54,462 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-9650DCAB627A replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-9650DCAB627A:t0, leader=null, voted=, raftlog=Memoized:s0@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,462 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9650DCAB627A-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:54,462 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-9650DCAB627A: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:53:54,462 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-9650DCAB627A-FollowerState
2024-09-30 06:53:54,463 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-9650DCAB627A-FollowerState
2024-09-30 06:53:54,463 [s0@group-9650DCAB627A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-9650DCAB627A-FollowerState was interrupted
2024-09-30 06:53:54,463 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-9650DCAB627A: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:53:54,463 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@100d148d
2024-09-30 06:53:54,463 [s1@group-9650DCAB627A-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-9650DCAB627A-LeaderElection52: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:54,463 [s1@group-9650DCAB627A-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2024-09-30 06:53:54,463 [s1@group-9650DCAB627A-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-9650DCAB627A-LeaderElection52 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:54,463 [s1@group-9650DCAB627A-LeaderElection52] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@10fccf32
2024-09-30 06:53:54,464 [s1@group-9650DCAB627A-LeaderElection52] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:54,464 [s1@group-9650DCAB627A-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-9650DCAB627A-LeaderElection52 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,465 [s1@group-9650DCAB627A-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:54,465 [s1@group-9650DCAB627A-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:54,465 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:54,465 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-9650DCAB627A replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-9650DCAB627A:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,466 [s2@group-9650DCAB627A-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-9650DCAB627A-LeaderElection51: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:54,466 [s2@group-9650DCAB627A-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2024-09-30 06:53:54,466 [s2@group-9650DCAB627A-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-9650DCAB627A-LeaderElection51 ELECTION round 0: result PASSED
2024-09-30 06:53:54,466 [s2@group-9650DCAB627A-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-9650DCAB627A-LeaderElection51
2024-09-30 06:53:54,466 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-9650DCAB627A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:53:54,466 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:54,466 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:54,466 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:54,466 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:54,466 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:54,467 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:54,467 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-9650DCAB627A: receive requestVote(ELECTION, s2, group-9650DCAB627A, 1, (t:0, i:0))
2024-09-30 06:53:54,467 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:54,467 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-9650DCAB627A-CANDIDATE: reject ELECTION from s2: already has voted for s1 at current term 1
2024-09-30 06:53:54,467 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:54,467 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-9650DCAB627A replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-9650DCAB627A:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,467 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:54,467 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:54,467 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:54,467 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:54,467 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:54,467 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,467 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:54,468 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:54,468 [s2@group-9650DCAB627A-LeaderElection51] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:54,468 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:54,468 [s2@group-9650DCAB627A-LeaderElection51] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:54,468 [s2@group-9650DCAB627A-LeaderElection51] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:54,468 [s2@group-9650DCAB627A-LeaderElection51] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:54,468 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:54,468 [s2@group-9650DCAB627A-LeaderElection51] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:54,468 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:54,468 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:54,468 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:54,469 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:54,469 [s2@group-9650DCAB627A-LeaderElection51] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:54,469 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:54,469 [s2@group-9650DCAB627A-LeaderElection51] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:54,469 [s2@group-9650DCAB627A-LeaderElection51] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:54,469 [s2@group-9650DCAB627A-LeaderElection51] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:54,469 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:54,469 [s2@group-9650DCAB627A-LeaderElection51] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:54,469 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-9650DCAB627A: receive requestVote(ELECTION, s1, group-9650DCAB627A, 1, (t:0, i:0))
2024-09-30 06:53:54,469 [s2@group-9650DCAB627A-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-9650DCAB627A-LeaderStateImpl
2024-09-30 06:53:54,469 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-9650DCAB627A: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:53:54,469 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-9650DCAB627A: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 224ms
2024-09-30 06:53:54,469 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-9650DCAB627A: receive requestVote(ELECTION, s1, group-9650DCAB627A, 1, (t:0, i:0))
2024-09-30 06:53:54,470 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9650DCAB627A-FOLLOWER: reject ELECTION from s1: already has voted for s2 at current term 1
2024-09-30 06:53:54,470 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-9650DCAB627A replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-9650DCAB627A:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,470 [s2@group-9650DCAB627A-LeaderElection51] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-9650DCAB627A-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:54,470 [s2@group-9650DCAB627A-LeaderElection51] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-9650DCAB627A: set configuration conf: {index: 0, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,471 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-9650DCAB627A-LEADER: reject ELECTION from s1: already has voted for s2 at current term 1
2024-09-30 06:53:54,471 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-9650DCAB627A replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-9650DCAB627A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9650DCAB627A-SegmentedRaftLog:OPENED:c-1:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,472 [s1@group-9650DCAB627A-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-9650DCAB627A-LeaderElection52: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2024-09-30 06:53:54,472 [s1@group-9650DCAB627A-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2024-09-30 06:53:54,472 [s1@group-9650DCAB627A-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t1
2024-09-30 06:53:54,472 [s1@group-9650DCAB627A-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-9650DCAB627A-LeaderElection52 ELECTION round 0: result REJECTED
2024-09-30 06:53:54,472 [s1@group-9650DCAB627A-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-9650DCAB627A: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-09-30 06:53:54,472 [s1@group-9650DCAB627A-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-9650DCAB627A-LeaderElection52
2024-09-30 06:53:54,472 [s1@group-9650DCAB627A-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-9650DCAB627A-FollowerState
2024-09-30 06:53:54,473 [s1@group-9650DCAB627A-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-9650DCAB627A: set firstElectionSinceStartup to false for REJECTED
2024-09-30 06:53:54,474 [s2@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:54,477 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-9650DCAB627A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 235ms
2024-09-30 06:53:54,480 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* s2->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15196"dataStreamAddress:"localhost:15199"clientAddress:"localhost:15198"adminAddress:"localhost:15197"startupRole:FOLLOWER, id:"s1"address:"localhost:15200"dataStreamAddress:"localhost:15203"clientAddress:"localhost:15202"adminAddress:"localhost:15201"startupRole:FOLLOWER, id:"s2"address:"localhost:15204"dataStreamAddress:"localhost:15207"clientAddress:"localhost:15206"adminAddress:"localhost:15205"startupRole:FOLLOWER, old:)
2024-09-30 06:53:54,480 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-9650DCAB627A: set configuration conf: {index: 0, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,480 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-9650DCAB627A-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:54,480 [s1@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:54,482 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-9650DCAB627A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 246ms
2024-09-30 06:53:54,484 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* s2->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15196"dataStreamAddress:"localhost:15199"clientAddress:"localhost:15198"adminAddress:"localhost:15197"startupRole:FOLLOWER, id:"s1"address:"localhost:15200"dataStreamAddress:"localhost:15203"clientAddress:"localhost:15202"adminAddress:"localhost:15201"startupRole:FOLLOWER, id:"s2"address:"localhost:15204"dataStreamAddress:"localhost:15207"clientAddress:"localhost:15206"adminAddress:"localhost:15205"startupRole:FOLLOWER, old:)
2024-09-30 06:53:54,484 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-9650DCAB627A: set configuration conf: {index: 0, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null}
2024-09-30 06:53:54,484 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-9650DCAB627A-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:54,484 [s0@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:54,488 [s2@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-9650DCAB627A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/log_inprogress_0
2024-09-30 06:53:54,491 [s1@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-9650DCAB627A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/log_inprogress_0
2024-09-30 06:53:54,491 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* reply s2<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:54,492 [s2@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@17d96fb5
2024-09-30 06:53:54,495 [s2@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:54,495 [s0@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-9650DCAB627A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/log_inprogress_0
2024-09-30 06:53:54,495 [s2@group-9650DCAB627A-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s2@group-9650DCAB627A-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:53:54,498 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* reply s2<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:54,568 [s1@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@34afc84e
2024-09-30 06:53:54,569 [s1@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:54,575 [s0@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6548ee9c
2024-09-30 06:53:54,576 [s0@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:54,729 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9650DCAB627A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9650DCAB627A-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9650DCAB627A:t1, leader=s2, voted=s1, raftlog=Memoized:s1@group-9650DCAB627A-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-9650DCAB627A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9650DCAB627A-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[], old=null} RUNNING
2024-09-30 06:53:54,729 [main] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:54,729 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-C48F59D89E5B: get 22 returns []
2024-09-30 06:53:54,730 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-C48F59D89E5B->s2@group-9650DCAB627A, cid=22, seq=null, RW, message
2024-09-30 06:53:54,733 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s2@group-9650DCAB627A: receive client request(RaftClientRequest:client-C48F59D89E5B->s2@group-9650DCAB627A, cid=22, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:54,734 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s2@group-9650DCAB627A-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C48F59D89E5B->s2@group-9650DCAB627A, cid=22, seq=null, RW, Message:6d657373616765, entry=(t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:53:54,734 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* s2->s0#8-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:22@client-C48F59D89E5B
2024-09-30 06:53:54,734 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* s2->s1#6-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:22@client-C48F59D89E5B
2024-09-30 06:53:54,735 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* reply s2<-s0#8:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:54,735 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* reply s2<-s1#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:54,736 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* s2->s0#10-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:54,736 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* reply s2<-s0#10:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:54,737 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* s2->s1#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:54,737 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* reply s2<-s1#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:54,737 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-C48F59D89E5B: add replied callId 22
2024-09-30 06:53:54,739 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest SetConfigurationRequest:client-C48F59D89E5B->s2@group-9650DCAB627A, cid=23, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204], listeners:[]
2024-09-30 06:53:54,742 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1332)) - s2@group-9650DCAB627A: receive setConfiguration SetConfigurationRequest:client-C48F59D89E5B->s2@group-9650DCAB627A, cid=23, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204], listeners:[]
2024-09-30 06:53:54,742 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(486)) - s2@group-9650DCAB627A-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-C48F59D89E5B->s2@group-9650DCAB627A, cid=23, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204], listeners:[]
2024-09-30 06:53:54,742 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-9650DCAB627A: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[]}
2024-09-30 06:53:54,743 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* s2->s1#11-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15196"priority:2clientAddress:"0.0.0.0:15198"adminAddress:"0.0.0.0:15197"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15200"priority:1clientAddress:"0.0.0.0:15202"adminAddress:"0.0.0.0:15201"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15204"priority:1clientAddress:"0.0.0.0:15206"adminAddress:"0.0.0.0:15205"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15196"dataStreamAddress:"localhost:15199"clientAddress:"localhost:15198"adminAddress:"localhost:15197"startupRole:FOLLOWER, id:"s1"address:"localhost:15200"dataStreamAddress:"localhost:15203"clientAddress:"localhost:15202"adminAddress:"localhost:15201"startupRole:FOLLOWER, id:"s2"address:"localhost:15204"dataStreamAddress:"localhost:15207"clientAddress:"localhost:15206"adminAddress:"localhost:15205"startupRole:FOLLOWER)
2024-09-30 06:53:54,743 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-9650DCAB627A: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[]}
2024-09-30 06:53:54,743 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* reply s2<-s1#11:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:54,744 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* s2->s0#12-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15196"priority:2clientAddress:"0.0.0.0:15198"adminAddress:"0.0.0.0:15197"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15200"priority:1clientAddress:"0.0.0.0:15202"adminAddress:"0.0.0.0:15201"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15204"priority:1clientAddress:"0.0.0.0:15206"adminAddress:"0.0.0.0:15205"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15196"dataStreamAddress:"localhost:15199"clientAddress:"localhost:15198"adminAddress:"localhost:15197"startupRole:FOLLOWER, id:"s1"address:"localhost:15200"dataStreamAddress:"localhost:15203"clientAddress:"localhost:15202"adminAddress:"localhost:15201"startupRole:FOLLOWER, id:"s2"address:"localhost:15204"dataStreamAddress:"localhost:15207"clientAddress:"localhost:15206"adminAddress:"localhost:15205"startupRole:FOLLOWER)
2024-09-30 06:53:54,744 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-9650DCAB627A: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=peers:[s0|localhost:15196, s1|localhost:15200, s2|localhost:15204]|listeners:[]}
2024-09-30 06:53:54,744 [s2@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1d2104c5
2024-09-30 06:53:54,744 [s2@group-9650DCAB627A-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-9650DCAB627A: set configuration conf: {index: 5, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null}
2024-09-30 06:53:54,745 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* s2->s1#12-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=2, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:54,745 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-9650DCAB627A: set configuration conf: {index: 5, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null}
2024-09-30 06:53:54,745 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* reply s2<-s1#12:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:53:54,745 [s1@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3a6820ab
2024-09-30 06:53:54,746 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* reply s2<-s0#12:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:54,746 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* s2->s0#14-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:53:54,747 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* reply s2<-s0#14:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:53:54,747 [s0@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6b8f1c45
2024-09-30 06:53:54,748 [s2@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:54,748 [s2@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@58238905
2024-09-30 06:53:54,749 [s0@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:54,749 [s1@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:54,749 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* s2->s0#15-t1,previous=(t:1, i:4),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:5), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15196"priority:2clientAddress:"0.0.0.0:15198"adminAddress:"0.0.0.0:15197"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15200"priority:1clientAddress:"0.0.0.0:15202"adminAddress:"0.0.0.0:15201"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15204"priority:1clientAddress:"0.0.0.0:15206"adminAddress:"0.0.0.0:15205"startupRole:FOLLOWER, old:)
2024-09-30 06:53:54,749 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-9650DCAB627A: set configuration conf: {index: 5, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null}
2024-09-30 06:53:54,749 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-C48F59D89E5B: add replied callId 23
2024-09-30 06:53:54,750 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* s2->s0#17-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:54,750 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* s2->s1#13-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:54,750 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* reply s2<-s0#15:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:53:54,750 [s2@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:54,750 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* reply s2<-s1#13:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:53:54,751 [s1@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3e57a33e
2024-09-30 06:53:54,751 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-9650DCAB627A: appendEntries* reply s2<-s0#17:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:53:54,751 [s0@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6fb085ec
2024-09-30 06:53:54,752 [s1@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:54,752 [s0@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:55,052 [s2@group-9650DCAB627A-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(258)) - s2@group-9650DCAB627A: start transferring leadership to s0
2024-09-30 06:53:55,052 [s2@group-9650DCAB627A-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:sendStartLeaderElection(210)) - s2@group-9650DCAB627A: sendStartLeaderElection to follower s0, lastEntry=(t:1, i:6)
2024-09-30 06:53:55,052 [s2@group-9650DCAB627A-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(266)) - s2@group-9650DCAB627A: SUCCESS sent StartLeaderElection to transferee s0 immediately as it already has up-to-date log
2024-09-30 06:53:55,053 [grpc-default-executor-3] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1744)) - s0@group-9650DCAB627A: receive startLeaderElection from s2 with lastEntry (t:1, i:6)
2024-09-30 06:53:55,053 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-9650DCAB627A-FollowerState
2024-09-30 06:53:55,053 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-9650DCAB627A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:53:55,054 [s0@group-9650DCAB627A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-9650DCAB627A-FollowerState was interrupted
2024-09-30 06:53:55,054 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-9650DCAB627A: change Leader from s2 to null at term 1 for ELECTION
2024-09-30 06:53:55,054 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@35619971
2024-09-30 06:53:55,055 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:55,055 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-9650DCAB627A-LeaderElection53
2024-09-30 06:53:55,055 [s0@group-9650DCAB627A-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-9650DCAB627A-LeaderElection53 ELECTION round 0: submit vote requests at term 2 for conf: {index: 5, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null}
2024-09-30 06:53:55,055 [s2-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:lambda$sendStartLeaderElection$2(224)) - s2@group-9650DCAB627A: Received startLeaderElection reply from s0: success? true
2024-09-30 06:53:55,056 [s0@group-9650DCAB627A-LeaderElection53-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15204
2024-09-30 06:53:55,056 [s0@group-9650DCAB627A-LeaderElection53-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15200
2024-09-30 06:53:55,059 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-9650DCAB627A: receive requestVote(ELECTION, s0, group-9650DCAB627A, 2, (t:1, i:6))
2024-09-30 06:53:55,059 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-9650DCAB627A: receive requestVote(ELECTION, s0, group-9650DCAB627A, 2, (t:1, i:6))
2024-09-30 06:53:55,059 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-9650DCAB627A-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2024-09-30 06:53:55,059 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-9650DCAB627A: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:55,059 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-9650DCAB627A-LEADER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2024-09-30 06:53:55,060 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-9650DCAB627A: changes role from    LEADER to FOLLOWER at term 1 for candidate:s0
2024-09-30 06:53:55,060 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-9650DCAB627A-LeaderStateImpl
2024-09-30 06:53:55,060 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-9650DCAB627A->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:55,060 [s2@group-9650DCAB627A->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-9650DCAB627A->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:55,060 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-9650DCAB627A-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:55,059 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-9650DCAB627A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-09-30 06:53:55,061 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-9650DCAB627A-FollowerState
2024-09-30 06:53:55,062 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-9650DCAB627A: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-09-30 06:53:55,061 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#17-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:55,062 [s1@group-9650DCAB627A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-9650DCAB627A-FollowerState was interrupted
2024-09-30 06:53:55,062 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-9650DCAB627A: change Leader from s2 to null at term 1 for candidate:s0
2024-09-30 06:53:55,062 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:55,062 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-9650DCAB627A-FollowerState
2024-09-30 06:53:55,062 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-9650DCAB627A-FollowerState
2024-09-30 06:53:55,062 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-9650DCAB627A->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:55,062 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:55,062 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7685e10
2024-09-30 06:53:55,063 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: "8\022\257Q\223\022Bz\211\036\226P\334\253bz"
  }
  callId: 26
}
term: 2
nextIndex: 7
result: NOT_LEADER
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:55,062 [s2@group-9650DCAB627A->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-9650DCAB627A->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:55,063 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:55,063 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#13-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:53:55,063 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:55,063 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5366dde2
2024-09-30 06:53:55,063 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "8\022\257Q\223\022Bz\211\036\226P\334\253bz"
  }
  callId: 20
  success: true
}
term: 1
nextIndex: 7
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:55,064 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-9650DCAB627A->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:55,064 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-9650DCAB627A->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:55,064 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:55,064 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-9650DCAB627A replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-9650DCAB627A:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-9650DCAB627A-SegmentedRaftLog:OPENED:c6:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null}
2024-09-30 06:53:55,064 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:55,065 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-9650DCAB627A replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-9650DCAB627A:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-9650DCAB627A-SegmentedRaftLog:OPENED:c6:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null}
2024-09-30 06:53:55,065 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-9650DCAB627A->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:55,065 [s0@group-9650DCAB627A-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-9650DCAB627A-LeaderElection53: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:55,065 [s0@group-9650DCAB627A-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t2
2024-09-30 06:53:55,065 [s0@group-9650DCAB627A-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-9650DCAB627A-LeaderElection53 ELECTION round 0: result PASSED
2024-09-30 06:53:55,065 [s0@group-9650DCAB627A-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-9650DCAB627A-LeaderElection53
2024-09-30 06:53:55,065 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-9650DCAB627A: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-09-30 06:53:55,065 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:55,066 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:55,067 [s0@group-9650DCAB627A-LeaderElection53] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:55,068 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:55,068 [s0@group-9650DCAB627A-LeaderElection53] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:55,068 [s0@group-9650DCAB627A-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-9650DCAB627A-LeaderStateImpl
2024-09-30 06:53:55,068 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-9650DCAB627A: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 14ms
2024-09-30 06:53:55,068 [s0@group-9650DCAB627A-LeaderElection53] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-9650DCAB627A-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2024-09-30 06:53:55,068 [s0@group-9650DCAB627A-LeaderElection53] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-9650DCAB627A: set configuration conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null}
2024-09-30 06:53:55,069 [s0@group-9650DCAB627A-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/log_0-6
2024-09-30 06:53:55,070 [s0@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-9650DCAB627A-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/log_0-6
2024-09-30 06:53:55,070 [s0@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_7 at position 0
2024-09-30 06:53:55,073 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-9650DCAB627A: change Leader from null to s0 at term 2 for appendEntries, leader elected after 11ms
2024-09-30 06:53:55,074 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-9650DCAB627A: change Leader from null to s0 at term 2 for appendEntries, leader elected after 11ms
2024-09-30 06:53:55,075 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* s0->s1#1-t2,previous=(t:1, i:6),leaderCommit=6,initializing? false,entries: size=1, first=(t:2, i:7), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15196"priority:2clientAddress:"0.0.0.0:15198"adminAddress:"0.0.0.0:15197"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15200"priority:1clientAddress:"0.0.0.0:15202"adminAddress:"0.0.0.0:15201"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15204"priority:1clientAddress:"0.0.0.0:15206"adminAddress:"0.0.0.0:15205"startupRole:FOLLOWER, old:)
2024-09-30 06:53:55,075 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-9650DCAB627A: set configuration conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null}
2024-09-30 06:53:55,075 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-9650DCAB627A-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2024-09-30 06:53:55,077 [s1@group-9650DCAB627A-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/log_0-6
2024-09-30 06:53:55,077 [s1@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-9650DCAB627A-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/log_0-6
2024-09-30 06:53:55,077 [s1@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_7 at position 0
2024-09-30 06:53:55,080 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-9650DCAB627A: appendEntries* s0->s2#1-t2,previous=(t:1, i:6),leaderCommit=6,initializing? false,entries: size=1, first=(t:2, i:7), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15196"priority:2clientAddress:"0.0.0.0:15198"adminAddress:"0.0.0.0:15197"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15200"priority:1clientAddress:"0.0.0.0:15202"adminAddress:"0.0.0.0:15201"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15204"priority:1clientAddress:"0.0.0.0:15206"adminAddress:"0.0.0.0:15205"startupRole:FOLLOWER, old:)
2024-09-30 06:53:55,080 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-9650DCAB627A: set configuration conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null}
2024-09-30 06:53:55,080 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-9650DCAB627A-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2024-09-30 06:53:55,082 [s2@group-9650DCAB627A-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/log_0-6
2024-09-30 06:53:55,082 [s2@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-9650DCAB627A-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/log_0-6
2024-09-30 06:53:55,082 [s2@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_7 at position 0
2024-09-30 06:53:55,089 [s0@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-9650DCAB627A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/log_inprogress_7
2024-09-30 06:53:55,090 [s1@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-9650DCAB627A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/log_inprogress_7
2024-09-30 06:53:55,090 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* reply s0<-s1#1:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2024-09-30 06:53:55,091 [s0@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2ab2167e
2024-09-30 06:53:55,092 [s0@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s0/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:55,092 [s0@group-9650DCAB627A-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-9650DCAB627A-LeaderStateImpl is ready since appliedIndex == startIndex == 7
2024-09-30 06:53:55,092 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* s0->s1#2-t2,previous=(t:2, i:7),leaderCommit=7,initializing? false,entries: size=1, first=(t:2, i:8), METADATAENTRY(c:7)
2024-09-30 06:53:55,092 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-9650DCAB627A: appendEntries* s0->s2#3-t2,previous=(t:2, i:7),leaderCommit=7,initializing? false,entries: size=1, first=(t:2, i:8), METADATAENTRY(c:7)
2024-09-30 06:53:55,092 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* reply s0<-s1#2:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2024-09-30 06:53:55,093 [s1@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7b552a90
2024-09-30 06:53:55,096 [s1@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s1/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:55,098 [s2@group-9650DCAB627A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-9650DCAB627A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/log_inprogress_7
2024-09-30 06:53:55,098 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-9650DCAB627A: appendEntries* reply s0<-s2#1:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2024-09-30 06:53:55,098 [s2-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-9650DCAB627A: appendEntries* reply s0<-s2#3:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2024-09-30 06:53:55,098 [s2@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4dbe173
2024-09-30 06:53:55,100 [s2@group-9650DCAB627A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcea8565fb/s2/3812af51-9312-427a-891e-9650dcab627a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:55,750 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:55,750 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9650DCAB627A:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-9650DCAB627A-SegmentedRaftLog:OPENED:c8:last(t:2, i:8), conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9650DCAB627A:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-9650DCAB627A-SegmentedRaftLog:OPENED:c8:last(t:2, i:8), conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9650DCAB627A:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-9650DCAB627A-SegmentedRaftLog:OPENED:c8:last(t:2, i:8), conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null} RUNNING
2024-09-30 06:53:55,750 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9650DCAB627A:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-9650DCAB627A-SegmentedRaftLog:OPENED:c8:last(t:2, i:8), conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9650DCAB627A:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-9650DCAB627A-SegmentedRaftLog:OPENED:c8:last(t:2, i:8), conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9650DCAB627A:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-9650DCAB627A-SegmentedRaftLog:OPENED:c8:last(t:2, i:8), conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null} RUNNING
2024-09-30 06:53:55,751 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-C48F59D89E5B: get 24 returns [22, 23]
2024-09-30 06:53:55,751 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-C48F59D89E5B->s2@group-9650DCAB627A, cid=24, seq=null, RW, message
2024-09-30 06:53:55,752 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s2@group-9650DCAB627A: receive client request(RaftClientRequest:client-C48F59D89E5B->s2@group-9650DCAB627A, cid=24, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:55,753 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=24, null, reply=RaftClientReply:client-C48F59D89E5B->s2@group-9650DCAB627A, cid=24, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-9650DCAB627A is not the leader, suggested leader is: s0|0.0.0.0:15196, logIndex=0, commits[s2:c8, s0:c8, s1:c8]
2024-09-30 06:53:55,754 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(418)) - client-C48F59D89E5B: suggested new leader: s0. Failed RaftClientRequest:client-C48F59D89E5B->s2@group-9650DCAB627A, cid=24, seq=null, RW, message
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-9650DCAB627A is not the leader, suggested leader is: s0|0.0.0.0:15196
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:55,754 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(436)) - client-C48F59D89E5B: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-09-30 06:53:55,755 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(442)) - client-C48F59D89E5B changes Leader from s2 to s0 for group-9650DCAB627A
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-9650DCAB627A is not the leader, suggested leader is: s0|0.0.0.0:15196
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:55,856 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-C48F59D89E5B: get 24 returns [22, 23]
2024-09-30 06:53:55,856 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #2, newRequest RaftClientRequest:client-C48F59D89E5B->s0@group-9650DCAB627A, cid=24, seq=null, RW, message
2024-09-30 06:53:55,861 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s0@group-9650DCAB627A: receive client request(RaftClientRequest:client-C48F59D89E5B->s0@group-9650DCAB627A, cid=24, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:55,861 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s0@group-9650DCAB627A-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C48F59D89E5B->s0@group-9650DCAB627A, cid=24, seq=null, RW, Message:6d657373616765, entry=(t:2, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:53:55,862 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* s0->s1#16-t2,previous=(t:2, i:8),leaderCommit=8,initializing? false,entries: size=1, first=(t:2, i:9), STATEMACHINELOGENTRY, StateMachineLogEntryProto:24@client-C48F59D89E5B
2024-09-30 06:53:55,862 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-9650DCAB627A: appendEntries* s0->s2#19-t2,previous=(t:2, i:8),leaderCommit=8,initializing? false,entries: size=1, first=(t:2, i:9), STATEMACHINELOGENTRY, StateMachineLogEntryProto:24@client-C48F59D89E5B
2024-09-30 06:53:55,866 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* reply s0<-s1#16:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2024-09-30 06:53:55,866 [s2-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-9650DCAB627A: appendEntries* reply s0<-s2#19:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2024-09-30 06:53:55,867 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* s0->s1#17-t2,previous=(t:2, i:9),leaderCommit=9,initializing? false,entries: size=1, first=(t:2, i:10), METADATAENTRY(c:9)
2024-09-30 06:53:55,867 [s2-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-9650DCAB627A: appendEntries* s0->s2#21-t2,previous=(t:2, i:9),leaderCommit=9,initializing? false,entries: size=1, first=(t:2, i:10), METADATAENTRY(c:9)
2024-09-30 06:53:55,868 [s2-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-9650DCAB627A: appendEntries* reply s0<-s2#21:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2024-09-30 06:53:55,868 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-9650DCAB627A: appendEntries* reply s0<-s1#17:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2024-09-30 06:53:55,868 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-C48F59D89E5B: add replied callId 24
2024-09-30 06:53:55,869 [main] DEBUG client.RaftClient (RaftClientImpl.java:close(465)) - close client-C48F59D89E5B
2024-09-30 06:53:55,870 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:55,870 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:55,870 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:55,870 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:55,870 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:55,870 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9650DCAB627A:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-9650DCAB627A-SegmentedRaftLog:OPENED:c10:last(t:2, i:10), conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9650DCAB627A:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-9650DCAB627A-SegmentedRaftLog:OPENED:c9:last(t:2, i:10), conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9650DCAB627A:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-9650DCAB627A-SegmentedRaftLog:OPENED:c9:last(t:2, i:10), conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null} RUNNING
2024-09-30 06:53:55,871 [MiniRaftCluster-75] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:53:55,871 [MiniRaftCluster-76] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:53:55,874 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-9650DCAB627A: shutdown
2024-09-30 06:53:55,874 [MiniRaftCluster-75] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:55,874 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9650DCAB627A,id=s0
2024-09-30 06:53:55,876 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-9650DCAB627A-LeaderStateImpl
2024-09-30 06:53:55,874 [MiniRaftCluster-77] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:53:55,876 [MiniRaftCluster-76] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:55,876 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-9650DCAB627A: shutdown
2024-09-30 06:53:55,876 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9650DCAB627A,id=s1
2024-09-30 06:53:55,876 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-9650DCAB627A-FollowerState
2024-09-30 06:53:55,877 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-9650DCAB627A-StateMachineUpdater: set stopIndex = 9
2024-09-30 06:53:55,877 [s1@group-9650DCAB627A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-9650DCAB627A-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:9)
2024-09-30 06:53:55,877 [MiniRaftCluster-77] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:55,877 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-9650DCAB627A-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:55,877 [s1@group-9650DCAB627A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-9650DCAB627A-FollowerState was interrupted
2024-09-30 06:53:55,877 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-9650DCAB627A: shutdown
2024-09-30 06:53:55,877 [s0@group-9650DCAB627A->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-9650DCAB627A->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:55,877 [Thread-1280] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:55,878 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:55,878 [Thread-1282] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:55,877 [s0@group-9650DCAB627A->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-9650DCAB627A->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:55,878 [Thread-1281] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:55,877 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9650DCAB627A,id=s2
2024-09-30 06:53:55,878 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-9650DCAB627A-FollowerState
2024-09-30 06:53:55,878 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "8\022\257Q\223\022Bz\211\036\226P\334\253bz"
  }
  callId: 20
  success: true
}
term: 2
nextIndex: 10
followerCommit: 8
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:55,879 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#17-t2,previous=(t:2, i:9),leaderCommit=9,initializing? false,entries: size=1, first=(t:2, i:10), METADATAENTRY(c:9)
2024-09-30 06:53:55,879 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:55,879 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#21-t2,previous=(t:2, i:9),leaderCommit=9,initializing? false,entries: size=1, first=(t:2, i:10), METADATAENTRY(c:9)
2024-09-30 06:53:55,879 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:55,879 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:55,879 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "8\022\257Q\223\022Bz\211\036\226P\334\253bz"
  }
  callId: 15
  success: true
}
term: 2
nextIndex: 9
followerCommit: 8
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:55,879 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-9650DCAB627A->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:55,879 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-9650DCAB627A->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:55,886 [s1@group-9650DCAB627A-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-9650DCAB627A-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:55,886 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-9650DCAB627A-StateMachineUpdater: set stopIndex = 10
2024-09-30 06:53:55,886 [s0@group-9650DCAB627A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-9650DCAB627A-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:10)
2024-09-30 06:53:55,886 [s0@group-9650DCAB627A-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-9650DCAB627A-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:55,887 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-9650DCAB627A->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:55,887 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-9650DCAB627A->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:55,887 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-9650DCAB627A->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:55,887 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-9650DCAB627A->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:55,889 [Thread-1285] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:55,889 [Thread-1283] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:55,889 [Thread-1286] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:55,890 [MiniRaftCluster-75] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:55,890 [s2@group-9650DCAB627A-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-9650DCAB627A-FollowerState was interrupted
2024-09-30 06:53:55,890 [s2@group-9650DCAB627A-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-9650DCAB627A-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:9)
2024-09-30 06:53:55,890 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-9650DCAB627A-StateMachineUpdater: set stopIndex = 9
2024-09-30 06:53:55,891 [s2@group-9650DCAB627A-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-9650DCAB627A-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:55,890 [MiniRaftCluster-76] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:55,891 [MiniRaftCluster-77] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:55,891 [MiniRaftCluster-77] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:55,890 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-9650DCAB627A->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:55,892 [MiniRaftCluster-77] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:55,892 [MiniRaftCluster-77] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:55,891 [MiniRaftCluster-76] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:55,891 [MiniRaftCluster-75] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:55,892 [MiniRaftCluster-77] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:55,892 [MiniRaftCluster-76] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:55,892 [MiniRaftCluster-76] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:55,892 [MiniRaftCluster-76] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:55,892 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-9650DCAB627A->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:55,892 [MiniRaftCluster-75] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:55,893 [MiniRaftCluster-75] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:55,894 [MiniRaftCluster-75] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:56,868 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-9650DCAB627A-SegmentedRaftLogWorker close()
2024-09-30 06:53:56,869 [JvmPauseMonitor49] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:53:56,869 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-9650DCAB627A-SegmentedRaftLogWorker close()
2024-09-30 06:53:56,869 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-9650DCAB627A-SegmentedRaftLogWorker close()
2024-09-30 06:53:56,870 [JvmPauseMonitor51] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:53:56,870 [JvmPauseMonitor50] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:53:56,871 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:56,871 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:57,000 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:57,000 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:57,000 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:57,000 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:57,000 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:57,000 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:57,001 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:57,001 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-9650DCAB627A:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-9650DCAB627A-SegmentedRaftLog:CLOSED:c10, conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null} CLOSED
  s1:   CLOSED  FOLLOWER s1@group-9650DCAB627A:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-9650DCAB627A-SegmentedRaftLog:CLOSED:c9, conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null} CLOSED
  s2:   CLOSED  FOLLOWER s2@group-9650DCAB627A:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-9650DCAB627A-SegmentedRaftLog:CLOSED:c9, conf=conf: {index: 7, cur=peers:[s0|0.0.0.0:15196, s1|0.0.0.0:15200, s2|0.0.0.0:15204]|listeners:[], old=null} CLOSED
2024-09-30 06:53:57,001 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:57,001 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:57,133 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:57,133 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testLeaderLeaseDuringReconfiguration" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="1.697">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderLeaseDuringReconfiguration(LeaderElectionTests.java:675)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-09-30 06:53:57,134 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:53:57,134 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:53:57,134 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:53:57,134 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:53:57,136 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-09-30 06:53:57,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-CCDA48B79DB9:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]
2024-09-30 06:53:57,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:53:57,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:53:57,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:53:57,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:53:57,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:53:57,137 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:53:57,138 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-CCDA48B79DB9:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216], format? true
2024-09-30 06:53:57,138 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0
2024-09-30 06:53:57,138 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0 does not exist.
2024-09-30 06:53:57,138 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0
2024-09-30 06:53:57,138 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:57,138 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:57,139 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15209 (custom)
2024-09-30 06:53:57,139 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:57,139 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15210 (custom)
2024-09-30 06:53:57,139 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:57,139 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15208 (custom)
2024-09-30 06:53:57,139 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:57,139 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:57,139 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,140 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:57,140 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:57,140 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,140 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:57,140 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:57,142 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:57,142 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:57,142 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:57,142 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:57,143 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0] (custom)
2024-09-30 06:53:57,143 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:57,143 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:57,143 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-CCDA48B79DB9:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216] returns group-CCDA48B79DB9:java.util.concurrent.CompletableFuture@2041c9a3[Not completed]
2024-09-30 06:53:57,143 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-CCDA48B79DB9:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216] with BaseStateMachine:uninitialized
2024-09-30 06:53:57,143 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-CCDA48B79DB9:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216], format? true
2024-09-30 06:53:57,144 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1
2024-09-30 06:53:57,143 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:57,144 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1 does not exist.
2024-09-30 06:53:57,144 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1
2024-09-30 06:53:57,144 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:57,144 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:57,144 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:57,144 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:57,144 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:57,144 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:57,144 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:57,144 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:57,144 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15213 (custom)
2024-09-30 06:53:57,144 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-CCDA48B79DB9: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:57,145 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:57,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:57,145 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15214 (custom)
2024-09-30 06:53:57,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:57,145 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:57,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:57,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:57,145 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15212 (custom)
2024-09-30 06:53:57,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:57,145 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:57,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:57,145 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:57,146 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,146 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:57,146 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:57,146 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,146 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:57,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:57,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:57,146 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:57,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:57,147 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:57,147 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:57,147 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:57,148 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:57,148 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:57,148 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:57,148 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1] (custom)
2024-09-30 06:53:57,148 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:57,148 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:57,149 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-CCDA48B79DB9:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216] returns group-CCDA48B79DB9:java.util.concurrent.CompletableFuture@52a2e2fb[Not completed]
2024-09-30 06:53:57,149 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-CCDA48B79DB9:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216] with BaseStateMachine:uninitialized
2024-09-30 06:53:57,149 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-CCDA48B79DB9:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216], format? true
2024-09-30 06:53:57,149 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2
2024-09-30 06:53:57,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:57,149 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2 does not exist.
2024-09-30 06:53:57,149 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2
2024-09-30 06:53:57,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:57,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:57,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:57,149 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:57,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:57,150 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:57,150 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:57,150 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15217 (custom)
2024-09-30 06:53:57,150 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:57,150 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:57,150 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15218 (custom)
2024-09-30 06:53:57,150 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:57,150 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-CCDA48B79DB9: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:57,150 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15216 (custom)
2024-09-30 06:53:57,151 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:57,151 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:57,151 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,151 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:57,151 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:57,151 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,150 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:57,151 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:57,151 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:57,151 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:57,152 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:57,152 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:57,152 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:57,152 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:57,152 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,152 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:57,152 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:57,152 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:57,152 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:57,152 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:57,152 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:57,153 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:57,153 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:57,153 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:57,153 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2] (custom)
2024-09-30 06:53:57,153 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:57,153 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:57,154 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-CCDA48B79DB9:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216] returns group-CCDA48B79DB9:java.util.concurrent.CompletableFuture@1164990a[Not completed]
2024-09-30 06:53:57,154 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-CCDA48B79DB9:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216] with BaseStateMachine:uninitialized
2024-09-30 06:53:57,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:57,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:57,154 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:57,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0] (custom)
2024-09-30 06:53:57,154 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:57,154 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:57,154 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:57,154 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:57,154 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:57,154 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9 does not exist. Creating ...
2024-09-30 06:53:57,154 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:57,155 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-CCDA48B79DB9: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:57,155 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:57,155 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:57,155 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:57,155 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:57,155 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9
2024-09-30 06:53:57,155 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:57,155 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:57,155 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,155 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:57,156 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:57,156 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:57,156 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:57,156 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:57,156 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:57,156 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/current
2024-09-30 06:53:57,156 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/sm
2024-09-30 06:53:57,156 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4b07abfe
2024-09-30 06:53:57,157 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:57,157 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9 has been successfully formatted.
2024-09-30 06:53:57,157 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:57,157 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:57,157 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,157 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:57,157 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-CCDA48B79DB9-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-CCDA48B79DB9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:57,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:57,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:57,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:57,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:57,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:57,159 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-CCDA48B79DB9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:57,159 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-CCDA48B79DB9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:57,159 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-CCDA48B79DB9: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,159 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-CCDA48B79DB9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:57,159 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:57,160 [s0@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:57,160 [s0@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:57,160 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s0
2024-09-30 06:53:57,160 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s0
2024-09-30 06:53:57,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:57,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:57,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:57,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:57,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:57,160 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:53:57,161 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15210
2024-09-30 06:53:57,161 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15208
2024-09-30 06:53:57,162 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15209
2024-09-30 06:53:57,162 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:57,162 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:57,162 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1] (custom)
2024-09-30 06:53:57,162 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9 does not exist. Creating ...
2024-09-30 06:53:57,162 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9
2024-09-30 06:53:57,162 [JvmPauseMonitor52] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:53:57,163 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:57,163 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/current
2024-09-30 06:53:57,163 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/sm
2024-09-30 06:53:57,163 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@32cb63bc
2024-09-30 06:53:57,164 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:57,164 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9 has been successfully formatted.
2024-09-30 06:53:57,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:57,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-CCDA48B79DB9-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-CCDA48B79DB9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:57,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:57,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:57,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:57,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:57,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:57,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:57,166 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-CCDA48B79DB9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:57,166 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-CCDA48B79DB9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:57,166 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-CCDA48B79DB9: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,167 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-CCDA48B79DB9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:57,167 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:57,167 [s1@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:57,167 [s1@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:57,167 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s1
2024-09-30 06:53:57,167 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s1
2024-09-30 06:53:57,167 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:57,167 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:57,167 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:57,167 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:57,167 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:57,167 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:53:57,168 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15214
2024-09-30 06:53:57,168 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15212
2024-09-30 06:53:57,168 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15213
2024-09-30 06:53:57,168 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:57,168 [JvmPauseMonitor53] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:53:57,168 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:57,169 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2] (custom)
2024-09-30 06:53:57,169 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9 does not exist. Creating ...
2024-09-30 06:53:57,169 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9
2024-09-30 06:53:57,169 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:57,170 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/current
2024-09-30 06:53:57,170 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/sm
2024-09-30 06:53:57,170 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@67dd8ea4
2024-09-30 06:53:57,170 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9 has been successfully formatted.
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-CCDA48B79DB9-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-CCDA48B79DB9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:57,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:57,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:57,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:57,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:57,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:57,172 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-CCDA48B79DB9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:57,172 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-CCDA48B79DB9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:57,172 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-CCDA48B79DB9: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,172 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-CCDA48B79DB9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:57,172 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:57,173 [s2@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:57,173 [s2@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:57,173 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s2
2024-09-30 06:53:57,173 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s2
2024-09-30 06:53:57,173 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:57,173 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:57,173 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:57,173 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:57,173 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:57,173 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:53:57,173 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15218
2024-09-30 06:53:57,174 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15216
2024-09-30 06:53:57,174 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15217
2024-09-30 06:53:57,174 [JvmPauseMonitor54] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:53:57,175 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:53:57,175 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:57,175 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:57,175 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CCDA48B79DB9:t0, leader=null, voted=, raftlog=Memoized:s0@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CCDA48B79DB9:t0, leader=null, voted=, raftlog=Memoized:s1@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CCDA48B79DB9:t0, leader=null, voted=, raftlog=Memoized:s2@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null} RUNNING
2024-09-30 06:53:57,176 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CCDA48B79DB9:t0, leader=null, voted=, raftlog=Memoized:s0@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CCDA48B79DB9:t0, leader=null, voted=, raftlog=Memoized:s1@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CCDA48B79DB9:t0, leader=null, voted=, raftlog=Memoized:s2@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null} RUNNING
2024-09-30 06:53:57,346 [s1@group-CCDA48B79DB9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-CCDA48B79DB9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:179380839ns, electionTimeout:179ms
2024-09-30 06:53:57,346 [s1@group-CCDA48B79DB9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:57,346 [s1@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-CCDA48B79DB9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:57,346 [s1@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:57,346 [s1@group-CCDA48B79DB9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-CCDA48B79DB9-LeaderElection54
2024-09-30 06:53:57,347 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-CCDA48B79DB9-LeaderElection54 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,347 [s1@group-CCDA48B79DB9-LeaderElection54-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15208
2024-09-30 06:53:57,347 [s1@group-CCDA48B79DB9-LeaderElection54-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15216
2024-09-30 06:53:57,347 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:57,347 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:57,353 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-CCDA48B79DB9: receive requestVote(PRE_VOTE, s1, group-CCDA48B79DB9, 0, (t:0, i:0))
2024-09-30 06:53:57,353 [s0@group-CCDA48B79DB9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-CCDA48B79DB9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:193337478ns, electionTimeout:193ms
2024-09-30 06:53:57,353 [s0@group-CCDA48B79DB9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:57,353 [s0@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-CCDA48B79DB9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:57,353 [s0@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:57,353 [s0@group-CCDA48B79DB9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-CCDA48B79DB9-LeaderElection55
2024-09-30 06:53:57,353 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-CCDA48B79DB9: receive requestVote(PRE_VOTE, s1, group-CCDA48B79DB9, 0, (t:0, i:0))
2024-09-30 06:53:57,353 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-CCDA48B79DB9-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:57,353 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-CCDA48B79DB9-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:57,353 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-CCDA48B79DB9 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-CCDA48B79DB9:t0, leader=null, voted=, raftlog=Memoized:s0@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,353 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-CCDA48B79DB9 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-CCDA48B79DB9:t0, leader=null, voted=, raftlog=Memoized:s2@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,353 [s0@group-CCDA48B79DB9-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-CCDA48B79DB9-LeaderElection55 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,354 [s0@group-CCDA48B79DB9-LeaderElection55-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15212
2024-09-30 06:53:57,354 [s0@group-CCDA48B79DB9-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:57,354 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-CCDA48B79DB9-LeaderElection54: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:57,354 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2024-09-30 06:53:57,354 [s0@group-CCDA48B79DB9-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:57,354 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-CCDA48B79DB9-LeaderElection54 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:57,355 [s1@group-CCDA48B79DB9-LeaderElection54] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6491626d
2024-09-30 06:53:57,355 [s0@group-CCDA48B79DB9-LeaderElection55-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15216
2024-09-30 06:53:57,356 [s1@group-CCDA48B79DB9-LeaderElection54] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:57,356 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-CCDA48B79DB9-LeaderElection54 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,356 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:57,356 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:57,358 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-CCDA48B79DB9: receive requestVote(PRE_VOTE, s0, group-CCDA48B79DB9, 0, (t:0, i:0))
2024-09-30 06:53:57,358 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-CCDA48B79DB9-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:53:57,358 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-CCDA48B79DB9 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-CCDA48B79DB9:t0, leader=null, voted=, raftlog=Memoized:s2@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,358 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-CCDA48B79DB9: receive requestVote(ELECTION, s1, group-CCDA48B79DB9, 1, (t:0, i:0))
2024-09-30 06:53:57,358 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-CCDA48B79DB9-CANDIDATE: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:57,358 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-CCDA48B79DB9: changes role from CANDIDATE to FOLLOWER at term 0 for candidate:s1
2024-09-30 06:53:57,358 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-CCDA48B79DB9-LeaderElection55
2024-09-30 06:53:57,358 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:57,358 [s0@group-CCDA48B79DB9-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-CCDA48B79DB9-LeaderElection55: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:57,358 [s0@group-CCDA48B79DB9-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2024-09-30 06:53:57,359 [s0@group-CCDA48B79DB9-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-CCDA48B79DB9-LeaderElection55 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:57,358 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-CCDA48B79DB9: receive requestVote(ELECTION, s1, group-CCDA48B79DB9, 1, (t:0, i:0))
2024-09-30 06:53:57,359 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-CCDA48B79DB9-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:57,358 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-CCDA48B79DB9: set firstElectionSinceStartup to false for candidate:s1
2024-09-30 06:53:57,359 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-CCDA48B79DB9: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s1
2024-09-30 06:53:57,359 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@10d56f6d
2024-09-30 06:53:57,359 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:57,359 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:57,359 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-CCDA48B79DB9: set firstElectionSinceStartup to false for candidate:s1
2024-09-30 06:53:57,360 [s2@group-CCDA48B79DB9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-CCDA48B79DB9-FollowerState was interrupted
2024-09-30 06:53:57,360 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:57,360 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@28be1dd4
2024-09-30 06:53:57,360 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-CCDA48B79DB9 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-CCDA48B79DB9:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,361 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:57,361 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-CCDA48B79DB9 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-CCDA48B79DB9:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,361 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-CCDA48B79DB9-LeaderElection54: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:57,361 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2024-09-30 06:53:57,361 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-CCDA48B79DB9-LeaderElection54 ELECTION round 0: result PASSED
2024-09-30 06:53:57,362 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-CCDA48B79DB9-LeaderElection54
2024-09-30 06:53:57,362 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-CCDA48B79DB9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:53:57,362 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:57,362 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:57,362 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:57,362 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:57,362 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:57,362 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:57,362 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:53:57,362 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:53:57,362 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:57,362 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:57,363 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-CCDA48B79DB9-LeaderStateImpl
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-CCDA48B79DB9: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-CCDA48B79DB9: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 213ms
2024-09-30 06:53:57,364 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-CCDA48B79DB9-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:57,365 [s1@group-CCDA48B79DB9-LeaderElection54] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-CCDA48B79DB9: set configuration conf: {index: 0, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,365 [s1@group-CCDA48B79DB9-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:57,371 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-CCDA48B79DB9: change Leader from null to s1 at term 1 for appendEntries, leader elected after 225ms
2024-09-30 06:53:57,372 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-CCDA48B79DB9: change Leader from null to s1 at term 1 for appendEntries, leader elected after 217ms
2024-09-30 06:53:57,373 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-CCDA48B79DB9: appendEntries* s1->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER, old:)
2024-09-30 06:53:57,373 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-CCDA48B79DB9: set configuration conf: {index: 0, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,373 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-CCDA48B79DB9-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:57,374 [s2@group-CCDA48B79DB9-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:57,374 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-CCDA48B79DB9: appendEntries* s1->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER, old:)
2024-09-30 06:53:57,374 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-CCDA48B79DB9: set configuration conf: {index: 0, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,374 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-CCDA48B79DB9-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:57,374 [s0@group-CCDA48B79DB9-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:57,375 [s1@group-CCDA48B79DB9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-CCDA48B79DB9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/log_inprogress_0
2024-09-30 06:53:57,387 [s2@group-CCDA48B79DB9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-CCDA48B79DB9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/log_inprogress_0
2024-09-30 06:53:57,387 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-CCDA48B79DB9: appendEntries* reply s1<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:57,387 [s0@group-CCDA48B79DB9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-CCDA48B79DB9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/log_inprogress_0
2024-09-30 06:53:57,388 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-CCDA48B79DB9: appendEntries* reply s1<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:57,388 [s1@group-CCDA48B79DB9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@644bfa05
2024-09-30 06:53:57,390 [s1@group-CCDA48B79DB9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s1/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:57,390 [s1@group-CCDA48B79DB9-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-CCDA48B79DB9-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:53:57,465 [s2@group-CCDA48B79DB9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2fef8845
2024-09-30 06:53:57,466 [s0@group-CCDA48B79DB9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4b426ce8
2024-09-30 06:53:57,467 [s2@group-CCDA48B79DB9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s2/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:57,467 [s0@group-CCDA48B79DB9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s0/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:57,626 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-CCDA48B79DB9:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-CCDA48B79DB9:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CCDA48B79DB9:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null} RUNNING
2024-09-30 06:53:57,627 [main] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:57,627 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-C06E2EDD7308: get 25 returns []
2024-09-30 06:53:57,627 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-C06E2EDD7308->s1@group-CCDA48B79DB9, cid=25, seq=null, RW, message
2024-09-30 06:53:57,631 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s1@group-CCDA48B79DB9: receive client request(RaftClientRequest:client-C06E2EDD7308->s1@group-CCDA48B79DB9, cid=25, seq=null, RW, Message:6d657373616765)
2024-09-30 06:53:57,632 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s1@group-CCDA48B79DB9-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C06E2EDD7308->s1@group-CCDA48B79DB9, cid=25, seq=null, RW, Message:6d657373616765, entry=(t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:53:57,632 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-CCDA48B79DB9: appendEntries* s1->s2#6-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:25@client-C06E2EDD7308
2024-09-30 06:53:57,632 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-CCDA48B79DB9: appendEntries* s1->s0#6-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:25@client-C06E2EDD7308
2024-09-30 06:53:57,633 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-CCDA48B79DB9: appendEntries* reply s1<-s2#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:57,633 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-CCDA48B79DB9: appendEntries* reply s1<-s0#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:57,634 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-CCDA48B79DB9: appendEntries* s1->s0#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:57,634 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-CCDA48B79DB9: appendEntries* s1->s2#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:57,635 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-CCDA48B79DB9: appendEntries* reply s1<-s2#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:57,635 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-C06E2EDD7308: add replied callId 25
2024-09-30 06:53:57,637 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(468)) - Add new peers [s3, s4]
2024-09-30 06:53:57,637 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s3, group-CCDA48B79DB9:[s3|localhost:15220, s4|localhost:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216], format? true
2024-09-30 06:53:57,637 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3
2024-09-30 06:53:57,637 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3 does not exist.
2024-09-30 06:53:57,637 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3
2024-09-30 06:53:57,638 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-CCDA48B79DB9: appendEntries* reply s1<-s0#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:57,638 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:57,638 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:57,638 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15221 (custom)
2024-09-30 06:53:57,639 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:57,639 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15222 (custom)
2024-09-30 06:53:57,639 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:57,639 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15220 (custom)
2024-09-30 06:53:57,639 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:57,639 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:57,639 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,640 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:57,640 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:57,640 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,640 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:57,640 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:57,641 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:57,641 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:57,641 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:57,641 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:57,642 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3] (custom)
2024-09-30 06:53:57,642 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:57,642 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:57,642 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-CCDA48B79DB9:[s3|localhost:15220, s4|localhost:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216] returns group-CCDA48B79DB9:java.util.concurrent.CompletableFuture@1e34840f[Not completed]
2024-09-30 06:53:57,642 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s3: new RaftServerImpl for group-CCDA48B79DB9:[s3|localhost:15220, s4|localhost:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216] with BaseStateMachine:uninitialized
2024-09-30 06:53:57,642 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s4, group-CCDA48B79DB9:[s3|localhost:15220, s4|localhost:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216], format? true
2024-09-30 06:53:57,643 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4
2024-09-30 06:53:57,643 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:57,643 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4 does not exist.
2024-09-30 06:53:57,643 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4
2024-09-30 06:53:57,643 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:57,643 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:57,643 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:57,643 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:57,643 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:57,643 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:57,643 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:57,644 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:57,644 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15225 (custom)
2024-09-30 06:53:57,644 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s3@group-CCDA48B79DB9: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15220, s4|localhost:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:57,644 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:57,644 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:57,644 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15226 (custom)
2024-09-30 06:53:57,644 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:57,644 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:57,644 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15224 (custom)
2024-09-30 06:53:57,644 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:57,644 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:57,644 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:57,645 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:57,645 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:57,645 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,645 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:57,645 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:57,645 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:57,645 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,645 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,646 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:57,646 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:57,646 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:57,646 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:57,646 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:57,646 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:57,646 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:57,647 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:57,647 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:57,647 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:57,647 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:57,647 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4] (custom)
2024-09-30 06:53:57,647 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:57,648 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:57,648 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-CCDA48B79DB9:[s3|localhost:15220, s4|localhost:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216] returns group-CCDA48B79DB9:java.util.concurrent.CompletableFuture@530e08a7[Not completed]
2024-09-30 06:53:57,648 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:57,648 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:57,648 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s4: new RaftServerImpl for group-CCDA48B79DB9:[s3|localhost:15220, s4|localhost:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216] with BaseStateMachine:uninitialized
2024-09-30 06:53:57,648 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3] (custom)
2024-09-30 06:53:57,648 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:57,649 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9 does not exist. Creating ...
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s4@group-CCDA48B79DB9: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15220, s4|localhost:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:57,649 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:57,649 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:57,650 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,650 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:57,650 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:57,650 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:57,650 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/current
2024-09-30 06:53:57,650 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/sm
2024-09-30 06:53:57,650 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@56192835
2024-09-30 06:53:57,650 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:57,651 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:57,651 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:57,651 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:57,651 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9 has been successfully formatted.
2024-09-30 06:53:57,651 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:57,651 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:57,652 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,652 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:57,652 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:57,652 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:57,652 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:57,652 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:57,652 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,652 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-CCDA48B79DB9-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:57,652 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-CCDA48B79DB9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9
2024-09-30 06:53:57,652 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:57,652 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:57,652 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:57,653 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:57,653 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:57,653 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:57,653 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:57,653 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:57,653 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:57,654 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,654 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:57,654 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-CCDA48B79DB9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-CCDA48B79DB9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s3@group-CCDA48B79DB9: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15220, s4|localhost:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-CCDA48B79DB9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:57,655 [s3@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s3
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s3
2024-09-30 06:53:57,655 [s3@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:57,655 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:57,656 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s3: start RPC server
2024-09-30 06:53:57,656 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15222
2024-09-30 06:53:57,656 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15220
2024-09-30 06:53:57,657 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15221
2024-09-30 06:53:57,657 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:57,657 [JvmPauseMonitor55] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-09-30 06:53:57,657 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:57,657 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4] (custom)
2024-09-30 06:53:57,657 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9 does not exist. Creating ...
2024-09-30 06:53:57,657 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9
2024-09-30 06:53:57,658 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:57,658 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/current
2024-09-30 06:53:57,658 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/sm
2024-09-30 06:53:57,658 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2cc8effe
2024-09-30 06:53:57,660 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:57,660 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9 has been successfully formatted.
2024-09-30 06:53:57,660 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:57,660 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-CCDA48B79DB9-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-CCDA48B79DB9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:57,661 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:57,662 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:57,662 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,662 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:57,662 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:57,662 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:57,662 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-CCDA48B79DB9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:57,662 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-CCDA48B79DB9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:57,662 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s4@group-CCDA48B79DB9: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15220, s4|localhost:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,662 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-CCDA48B79DB9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:57,663 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:57,663 [s4@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:57,663 [s4@group-CCDA48B79DB9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:57,663 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s4
2024-09-30 06:53:57,663 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s4
2024-09-30 06:53:57,663 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:57,663 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:57,663 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:57,663 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:57,663 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:57,663 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s4: start RPC server
2024-09-30 06:53:57,664 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15226
2024-09-30 06:53:57,664 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15224
2024-09-30 06:53:57,664 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15225
2024-09-30 06:53:57,664 [JvmPauseMonitor56] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-09-30 06:53:57,665 [Thread-1346] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest SetConfigurationRequest:client-C06E2EDD7308->s1@group-CCDA48B79DB9, cid=26, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3|0.0.0.0:15220, s4|0.0.0.0:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216], listeners:[]
2024-09-30 06:53:57,668 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1332)) - s1@group-CCDA48B79DB9: receive setConfiguration SetConfigurationRequest:client-C06E2EDD7308->s1@group-CCDA48B79DB9, cid=26, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3|0.0.0.0:15220, s4|0.0.0.0:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216], listeners:[]
2024-09-30 06:53:57,668 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(486)) - s1@group-CCDA48B79DB9-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-C06E2EDD7308->s1@group-CCDA48B79DB9, cid=26, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3|0.0.0.0:15220, s4|0.0.0.0:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216], listeners:[]
2024-09-30 06:53:57,668 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:57,668 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,669 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:57,669 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:57,669 [s1-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:57,669 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,669 [s1-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:57,669 [s1-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:57,669 [s1-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:57,669 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:57,669 [s1-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:57,669 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:57,669 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:57,670 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:57,670 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:57,670 [s1-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:57,670 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:57,670 [s1-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:57,670 [s1-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:57,670 [s1-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:57,670 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:57,670 [s1-server-thread1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:57,670 [s1@group-CCDA48B79DB9->s3-GrpcLogAppender-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:setAttemptedToInstallSnapshot(154)) - Follower s1@group-CCDA48B79DB9->s3 acknowledged installing snapshot
2024-09-30 06:53:57,671 [s1@group-CCDA48B79DB9->s4-GrpcLogAppender-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:setAttemptedToInstallSnapshot(154)) - Follower s1@group-CCDA48B79DB9->s4 acknowledged installing snapshot
2024-09-30 06:53:57,671 [s1@group-CCDA48B79DB9->s3-GrpcLogAppender-LogAppenderDaemon] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|0.0.0.0:15220
2024-09-30 06:53:57,671 [s1@group-CCDA48B79DB9->s4-GrpcLogAppender-LogAppenderDaemon] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|0.0.0.0:15224
2024-09-30 06:53:57,677 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-CCDA48B79DB9: appendEntries* s1->s4#1-t1,previous=(t:0, i:0),leaderCommit=2,initializing? true,entries: size=3, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER, old:)
2024-09-30 06:53:57,677 [s4-server-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@627f4094
2024-09-30 06:53:57,677 [s3-server-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@14b77596
2024-09-30 06:53:57,678 [s4-server-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:57,678 [s4-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s4@group-CCDA48B79DB9: set firstElectionSinceStartup to false for appendEntries
2024-09-30 06:53:57,678 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-CCDA48B79DB9: change Leader from null to s1 at term 1 for appendEntries, leader elected after 28ms
2024-09-30 06:53:57,678 [s3-server-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:57,678 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-CCDA48B79DB9: set configuration conf: {index: 0, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,678 [s3-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s3@group-CCDA48B79DB9: set firstElectionSinceStartup to false for appendEntries
2024-09-30 06:53:57,678 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-CCDA48B79DB9: change Leader from null to s1 at term 1 for appendEntries, leader elected after 34ms
2024-09-30 06:53:57,678 [s4-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s4@group-CCDA48B79DB9-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:57,679 [s4@group-CCDA48B79DB9-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:57,679 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-CCDA48B79DB9: appendEntries* s1->s3#1-t1,previous=(t:0, i:0),leaderCommit=2,initializing? true,entries: size=3, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER, old:)
2024-09-30 06:53:57,679 [s3-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-CCDA48B79DB9: set configuration conf: {index: 0, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null}
2024-09-30 06:53:57,679 [s3-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s3@group-CCDA48B79DB9-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:57,682 [s3@group-CCDA48B79DB9-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:57,693 [s4@group-CCDA48B79DB9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s4@group-CCDA48B79DB9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/log_inprogress_0
2024-09-30 06:53:57,693 [s3@group-CCDA48B79DB9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-CCDA48B79DB9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/log_inprogress_0
2024-09-30 06:53:57,693 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-CCDA48B79DB9: appendEntries* reply s1<-s4#1:OK-t0,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2024-09-30 06:53:57,693 [s4@group-CCDA48B79DB9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4c8b4932
2024-09-30 06:53:57,694 [s3@group-CCDA48B79DB9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@142f9c39
2024-09-30 06:53:57,694 [s1@group-CCDA48B79DB9-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-CCDA48B79DB9: set configuration conf: {index: 3, cur=peers:[s3|0.0.0.0:15220, s4|0.0.0.0:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[]}
2024-09-30 06:53:57,694 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-CCDA48B79DB9: appendEntries* reply s1<-s3#1:OK-t1,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2024-09-30 06:53:57,695 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2024-09-30 06:53:57,695 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:53:57,696 [s4@group-CCDA48B79DB9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s4/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:57,696 [s3@group-CCDA48B79DB9-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9859f0ff/s3/3fd51e50-72fe-49a3-8592-ccda48b79db9/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:57,697 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-CCDA48B79DB9: appendEntries* s1->s3#3-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15220"clientAddress:"0.0.0.0:15222"adminAddress:"0.0.0.0:15221"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15224"clientAddress:"0.0.0.0:15226"adminAddress:"0.0.0.0:15225"startupRole:FOLLOWER, id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER)
2024-09-30 06:53:57,697 [s3-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-CCDA48B79DB9: set configuration conf: {index: 3, cur=peers:[s3|0.0.0.0:15220, s4|0.0.0.0:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[]}
2024-09-30 06:53:57,697 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-CCDA48B79DB9: appendEntries* s1->s4#3-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15220"clientAddress:"0.0.0.0:15222"adminAddress:"0.0.0.0:15221"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15224"clientAddress:"0.0.0.0:15226"adminAddress:"0.0.0.0:15225"startupRole:FOLLOWER, id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER)
2024-09-30 06:53:57,698 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-CCDA48B79DB9: appendEntries* reply s1<-s3#3:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:57,698 [s4-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-CCDA48B79DB9: set configuration conf: {index: 3, cur=peers:[s3|0.0.0.0:15220, s4|0.0.0.0:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[]}
2024-09-30 06:53:57,698 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-CCDA48B79DB9: appendEntries* reply s1<-s4#3:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:53:57,712 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2024-09-30 06:53:57,714 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:53:57,740 [main] DEBUG client.RaftClient (RaftClientImpl.java:close(465)) - close client-C06E2EDD7308
2024-09-30 06:53:57,999 [s1@group-CCDA48B79DB9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1117)) - s1@group-CCDA48B79DB9-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 637ms. Conf: conf: {index: 3, cur=peers:[s3|0.0.0.0:15220, s4|0.0.0.0:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[]}
2024-09-30 06:53:57,999 [s1@group-CCDA48B79DB9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s1@group-CCDA48B79DB9->s0(c1,m2,n4, caughtUp=true, lastRpcSendTime=22, lastRpcResponseTime=360)
2024-09-30 06:53:57,999 [s1@group-CCDA48B79DB9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s1@group-CCDA48B79DB9->s2(c1,m2,n4, caughtUp=true, lastRpcSendTime=22, lastRpcResponseTime=363)
2024-09-30 06:53:57,999 [s1@group-CCDA48B79DB9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s1@group-CCDA48B79DB9->s3(c2,m3,n4, caughtUp=true, lastRpcSendTime=71, lastRpcResponseTime=71)
2024-09-30 06:53:57,999 [s1@group-CCDA48B79DB9-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s1@group-CCDA48B79DB9->s4(c2,m3,n4, caughtUp=true, lastRpcSendTime=72, lastRpcResponseTime=72)
2024-09-30 06:53:57,999 [s1@group-CCDA48B79DB9-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-CCDA48B79DB9: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:53:57,999 [s1@group-CCDA48B79DB9-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-CCDA48B79DB9-LeaderStateImpl
2024-09-30 06:53:57,999 [s1@group-CCDA48B79DB9->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-CCDA48B79DB9->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:57,999 [s1@group-CCDA48B79DB9->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-CCDA48B79DB9->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:57,999 [s1@group-CCDA48B79DB9->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-CCDA48B79DB9->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:57,999 [s1@group-CCDA48B79DB9->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-CCDA48B79DB9->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:58,000 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:58,001 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s4"
  raftGroupId {
    id: "?\325\036Pr\376I\243\205\222\314\332H\267\235\271"
  }
  callId: 6
  success: true
}
term: 1
nextIndex: 4
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:57,999 [s1@group-CCDA48B79DB9-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-CCDA48B79DB9-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:58,001 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: s1->s4#3-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15220"clientAddress:"0.0.0.0:15222"adminAddress:"0.0.0.0:15221"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15224"clientAddress:"0.0.0.0:15226"adminAddress:"0.0.0.0:15225"startupRole:FOLLOWER, id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER)
2024-09-30 06:53:58,002 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:58,002 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:58,001 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: s1->s3#3-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15220"clientAddress:"0.0.0.0:15222"adminAddress:"0.0.0.0:15221"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15224"clientAddress:"0.0.0.0:15226"adminAddress:"0.0.0.0:15225"startupRole:FOLLOWER, id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER)
2024-09-30 06:53:58,002 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:58,002 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-CCDA48B79DB9->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:58,003 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-CCDA48B79DB9->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:58,002 [s1@group-CCDA48B79DB9-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-CCDA48B79DB9: change Leader from s1 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:53:58,003 [s1@group-CCDA48B79DB9-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:58,006 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s3"
  raftGroupId {
    id: "?\325\036Pr\376I\243\205\222\314\332H\267\235\271"
  }
  callId: 6
  success: true
}
term: 1
nextIndex: 4
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:58,007 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-CCDA48B79DB9->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:58,007 [Thread-1346] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(418)) - client-C06E2EDD7308: suggested new leader: null. Failed SetConfigurationRequest:client-C06E2EDD7308->s1@group-CCDA48B79DB9, cid=26, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3|0.0.0.0:15220, s4|0.0.0.0:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216], listeners:[]
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-CCDA48B79DB9 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:102)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:147)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:697)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,008 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-CCDA48B79DB9->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:58,008 [Thread-1346] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(436)) - client-C06E2EDD7308: oldLeader=s1,  curLeader=s1, newLeader=s4
2024-09-30 06:53:58,008 [Thread-1346] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(442)) - client-C06E2EDD7308 changes Leader from s1 to s4 for group-CCDA48B79DB9
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-CCDA48B79DB9 is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequest(GrpcClientRpc.java:102)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:147)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:697)
	at java.lang.Thread.run(Thread.java:750)
as expected: org.apache.ratis.client.impl.BlockingImpl@23e23be2 is closed.
2024-09-30 06:53:58,008 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:53:58,008 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:53:58,008 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:53:58,008 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:53:58,009 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:53:58,009 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-CCDA48B79DB9:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c2:last(t:1, i:3), conf=conf: {index: 3, cur=peers:[s3|0.0.0.0:15220, s4|0.0.0.0:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[]} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-CCDA48B79DB9:t1, leader=s1, voted=null, raftlog=Memoized:s4@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c2:last(t:1, i:3), conf=conf: {index: 3, cur=peers:[s3|0.0.0.0:15220, s4|0.0.0.0:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[]} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-CCDA48B79DB9:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c1:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-CCDA48B79DB9:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c2:last(t:1, i:3), conf=conf: {index: 3, cur=peers:[s3|0.0.0.0:15220, s4|0.0.0.0:15224, s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[]} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-CCDA48B79DB9:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-CCDA48B79DB9-SegmentedRaftLog:OPENED:c1:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15208, s1|localhost:15212, s2|localhost:15216]|listeners:[], old=null} RUNNING
2024-09-30 06:53:58,009 [MiniRaftCluster-81] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s3: close
2024-09-30 06:53:58,009 [MiniRaftCluster-82] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s4: close
2024-09-30 06:53:58,010 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s3@group-CCDA48B79DB9: shutdown
2024-09-30 06:53:58,010 [MiniRaftCluster-81] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:58,010 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s4@group-CCDA48B79DB9: shutdown
2024-09-30 06:53:58,010 [MiniRaftCluster-82] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:58,010 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s3
2024-09-30 06:53:58,011 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:58,011 [MiniRaftCluster-84] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:53:58,010 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s4
2024-09-30 06:53:58,011 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:58,010 [MiniRaftCluster-85] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:53:58,011 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s3@group-CCDA48B79DB9-StateMachineUpdater: set stopIndex = 2
2024-09-30 06:53:58,011 [MiniRaftCluster-83] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:53:58,012 [s3@group-CCDA48B79DB9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s3@group-CCDA48B79DB9-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:2)
2024-09-30 06:53:58,012 [MiniRaftCluster-85] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:58,012 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-CCDA48B79DB9: shutdown
2024-09-30 06:53:58,012 [s3@group-CCDA48B79DB9-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-CCDA48B79DB9-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:58,011 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-CCDA48B79DB9: shutdown
2024-09-30 06:53:58,011 [MiniRaftCluster-84] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:58,011 [s3@group-CCDA48B79DB9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s3@group-CCDA48B79DB9-FollowerState was interrupted
2024-09-30 06:53:58,011 [s4@group-CCDA48B79DB9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s4@group-CCDA48B79DB9-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:2)
2024-09-30 06:53:58,011 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s4@group-CCDA48B79DB9-StateMachineUpdater: set stopIndex = 2
2024-09-30 06:53:58,011 [s4@group-CCDA48B79DB9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s4@group-CCDA48B79DB9-FollowerState was interrupted
2024-09-30 06:53:58,012 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2024-09-30 06:53:58,013 [Thread-1378] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-09-30 06:53:58,013 [s2-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-CCDA48B79DB9: Failed appendEntries* s1->s2#13-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,013 [Thread-1382] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:58,012 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s1
2024-09-30 06:53:58,013 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:58,013 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-CCDA48B79DB9-StateMachineUpdater: set stopIndex = 2
2024-09-30 06:53:58,012 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s2
2024-09-30 06:53:58,014 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:58,014 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-CCDA48B79DB9-StateMachineUpdater: set stopIndex = 1
2024-09-30 06:53:58,012 [MiniRaftCluster-81] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:58,014 [MiniRaftCluster-81] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:58,014 [s2@group-CCDA48B79DB9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-CCDA48B79DB9-FollowerState was interrupted
2024-09-30 06:53:58,014 [s2@group-CCDA48B79DB9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-CCDA48B79DB9-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:1)
2024-09-30 06:53:58,014 [s2-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-CCDA48B79DB9: Failed appendEntries* s1->s2#14-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,013 [s1@group-CCDA48B79DB9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-CCDA48B79DB9-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:2)
2024-09-30 06:53:58,015 [s1@group-CCDA48B79DB9-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-CCDA48B79DB9-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:58,013 [s1@group-CCDA48B79DB9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-CCDA48B79DB9-FollowerState was interrupted
2024-09-30 06:53:58,013 [Thread-1380] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:53:58,013 [Thread-1377] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-09-30 06:53:58,015 [s2@group-CCDA48B79DB9-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-CCDA48B79DB9-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:58,015 [s2-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-CCDA48B79DB9: Failed appendEntries* s1->s2#15-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,014 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-CCDA48B79DB9: shutdown
2024-09-30 06:53:58,014 [MiniRaftCluster-83] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:53:58,014 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:53:58,015 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-CCDA48B79DB9,id=s0
2024-09-30 06:53:58,016 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-CCDA48B79DB9-FollowerState
2024-09-30 06:53:58,016 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-CCDA48B79DB9-StateMachineUpdater: set stopIndex = 1
2024-09-30 06:53:58,016 [MiniRaftCluster-81] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:58,016 [MiniRaftCluster-81] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:58,016 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-CCDA48B79DB9: Failed appendEntries* s1->s0#16-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,016 [MiniRaftCluster-81] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:58,016 [s0@group-CCDA48B79DB9-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-CCDA48B79DB9-FollowerState was interrupted
2024-09-30 06:53:58,016 [s0@group-CCDA48B79DB9-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-CCDA48B79DB9-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:1)
2024-09-30 06:53:58,016 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-CCDA48B79DB9: Failed appendEntries* s1->s0#17-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,016 [s2-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-CCDA48B79DB9: Failed appendEntries* s1->s2#16-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,017 [s2-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-CCDA48B79DB9: Failed appendEntries* s1->s2#17-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,017 [s4@group-CCDA48B79DB9-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-CCDA48B79DB9-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:58,017 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-CCDA48B79DB9: Failed appendEntries* s1->s0#18-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,017 [s2-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-CCDA48B79DB9: Failed appendEntries* s1->s2#18-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,017 [MiniRaftCluster-82] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:58,018 [MiniRaftCluster-82] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:58,018 [Thread-1384] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:53:58,018 [MiniRaftCluster-82] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:58,018 [MiniRaftCluster-82] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:58,018 [s2-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-CCDA48B79DB9: Failed appendEntries* s1->s2#19-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,018 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-CCDA48B79DB9: Failed appendEntries* s1->s0#19-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,018 [s2-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-CCDA48B79DB9: Failed appendEntries* s1->s2#20-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,019 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-CCDA48B79DB9: Failed appendEntries* s1->s0#20-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,018 [MiniRaftCluster-82] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:58,019 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:58,019 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-CCDA48B79DB9: Failed appendEntries* s1->s0#21-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,019 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-CCDA48B79DB9: Failed appendEntries* s1->s0#22-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,020 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-CCDA48B79DB9: Failed appendEntries* s1->s0#23-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,020 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:58,023 [s0@group-CCDA48B79DB9-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-CCDA48B79DB9-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:53:58,023 [MiniRaftCluster-85] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:58,023 [MiniRaftCluster-85] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:58,023 [Thread-1385] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:53:58,024 [MiniRaftCluster-85] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:58,024 [MiniRaftCluster-85] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:58,024 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-CCDA48B79DB9->s2-GrpcLogAppender is already stopped
2024-09-30 06:53:58,025 [MiniRaftCluster-83] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:58,025 [MiniRaftCluster-83] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:58,025 [MiniRaftCluster-85] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:58,025 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-CCDA48B79DB9->s2-GrpcLogAppender is already stopped
2024-09-30 06:53:58,025 [MiniRaftCluster-83] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:58,025 [MiniRaftCluster-83] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:58,025 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-CCDA48B79DB9->s0-GrpcLogAppender is already stopped
2024-09-30 06:53:58,026 [MiniRaftCluster-83] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:58,026 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-CCDA48B79DB9->s0-GrpcLogAppender is already stopped
2024-09-30 06:53:58,026 [MiniRaftCluster-84] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:53:58,026 [MiniRaftCluster-84] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:53:58,026 [MiniRaftCluster-84] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:53:58,026 [MiniRaftCluster-84] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:53:58,026 [MiniRaftCluster-84] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:53:58,295 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2024-09-30 06:53:58,296 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:53:58,296 [s2-server-thread1] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-CCDA48B79DB9: Failed appendEntries* s1->s2#11-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15220"clientAddress:"0.0.0.0:15222"adminAddress:"0.0.0.0:15221"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15224"clientAddress:"0.0.0.0:15226"adminAddress:"0.0.0.0:15225"startupRole:FOLLOWER, id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER)
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,296 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s2: Failed APPEND_ENTRIES request cid=11, isHeartbeat? false
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:122)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	... 5 more
2024-09-30 06:53:58,298 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:58,296 [s0-server-thread1] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-CCDA48B79DB9: Failed appendEntries* s1->s0#14-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15220"clientAddress:"0.0.0.0:15222"adminAddress:"0.0.0.0:15221"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15224"clientAddress:"0.0.0.0:15226"adminAddress:"0.0.0.0:15225"startupRole:FOLLOWER, id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15208"dataStreamAddress:"localhost:15211"clientAddress:"localhost:15210"adminAddress:"localhost:15209"startupRole:FOLLOWER, id:"s1"address:"localhost:15212"dataStreamAddress:"localhost:15215"clientAddress:"localhost:15214"adminAddress:"localhost:15213"startupRole:FOLLOWER, id:"s2"address:"localhost:15216"dataStreamAddress:"localhost:15219"clientAddress:"localhost:15218"adminAddress:"localhost:15217"startupRole:FOLLOWER)
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:53:58,298 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s0: Failed APPEND_ENTRIES request cid=14, isHeartbeat? false
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:122)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-CCDA48B79DB9 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	... 5 more
2024-09-30 06:53:58,299 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:53:58,636 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-CCDA48B79DB9-SegmentedRaftLogWorker close()
2024-09-30 06:53:58,637 [JvmPauseMonitor54] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:53:58,639 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-CCDA48B79DB9-SegmentedRaftLogWorker close()
2024-09-30 06:53:58,639 [JvmPauseMonitor52] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:53:58,697 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-CCDA48B79DB9-SegmentedRaftLogWorker close()
2024-09-30 06:53:58,697 [JvmPauseMonitor53] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:53:58,699 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s3@group-CCDA48B79DB9-SegmentedRaftLogWorker close()
2024-09-30 06:53:58,699 [JvmPauseMonitor55] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-09-30 06:53:58,699 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s4@group-CCDA48B79DB9-SegmentedRaftLogWorker close()
2024-09-30 06:53:58,700 [JvmPauseMonitor56] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-09-30 06:53:58,700 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:53:58,700 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:53:58,831 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:53:58,831 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testChangeLeader" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="7.029">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:113)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-09-30 06:53:58,832 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:53:58,832 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:53:58,832 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:53:58,833 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:53:58,834 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to TRACE
2024-09-30 06:53:58,834 [main] INFO  grpc.TestLeaderElectionWithGrpc (LeaderElectionTests.java:testChangeLeader(103)) - Running testChangeLeader
2024-09-30 06:53:58,835 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-8D00B31B31B7:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]
2024-09-30 06:53:58,835 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:53:58,835 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:53:58,835 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:53:58,835 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:53:58,835 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:53:58,835 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:53:58,836 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-8D00B31B31B7:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], format? true
2024-09-30 06:53:58,836 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0
2024-09-30 06:53:58,836 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0 does not exist.
2024-09-30 06:53:58,836 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0
2024-09-30 06:53:58,836 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:58,836 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:58,837 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15229 (custom)
2024-09-30 06:53:58,837 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:58,837 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15230 (custom)
2024-09-30 06:53:58,837 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:58,837 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15228 (custom)
2024-09-30 06:53:58,837 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:58,837 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:58,837 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:58,837 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:58,838 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:58,838 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:58,838 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:58,838 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:58,839 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:58,840 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:58,840 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:58,840 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:58,840 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0] (custom)
2024-09-30 06:53:58,840 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:58,840 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:58,841 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-8D00B31B31B7:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] returns group-8D00B31B31B7:java.util.concurrent.CompletableFuture@7da6d695[Not completed]
2024-09-30 06:53:58,841 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-8D00B31B31B7:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] with BaseStateMachine:uninitialized
2024-09-30 06:53:58,841 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-8D00B31B31B7:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], format? true
2024-09-30 06:53:58,841 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1
2024-09-30 06:53:58,841 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:58,841 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:58,841 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1 does not exist.
2024-09-30 06:53:58,841 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1
2024-09-30 06:53:58,841 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:58,841 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:58,841 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:58,841 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:58,841 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:58,841 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:58,842 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-8D00B31B31B7: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:58,842 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:58,842 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:58,842 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15233 (custom)
2024-09-30 06:53:58,842 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:58,842 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:58,842 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:58,842 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:58,842 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15234 (custom)
2024-09-30 06:53:58,843 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:58,843 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:58,843 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15232 (custom)
2024-09-30 06:53:58,843 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:58,843 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:58,843 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:58,843 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:58,843 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:58,843 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:58,844 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:58,844 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:58,844 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:58,844 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:58,844 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:58,844 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:58,844 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:58,844 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:58,844 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:58,845 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:58,845 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:58,845 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:58,845 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:58,845 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1] (custom)
2024-09-30 06:53:58,845 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:58,846 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:58,846 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-8D00B31B31B7:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] returns group-8D00B31B31B7:java.util.concurrent.CompletableFuture@5507584d[Not completed]
2024-09-30 06:53:58,846 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-8D00B31B31B7:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] with BaseStateMachine:uninitialized
2024-09-30 06:53:58,846 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-8D00B31B31B7:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], format? true
2024-09-30 06:53:58,846 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2
2024-09-30 06:53:58,846 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:58,846 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2 does not exist.
2024-09-30 06:53:58,847 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2
2024-09-30 06:53:58,846 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:58,847 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:58,847 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:58,847 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:58,847 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:53:58,847 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:58,847 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:58,847 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:58,847 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15237 (custom)
2024-09-30 06:53:58,847 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:53:58,847 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-8D00B31B31B7: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:58,847 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15238 (custom)
2024-09-30 06:53:58,848 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:53:58,847 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:58,848 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15236 (custom)
2024-09-30 06:53:58,848 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:53:58,848 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:53:58,848 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:58,848 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:58,848 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:58,848 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:53:58,848 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:58,848 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:58,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:58,848 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:53:58,849 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:53:58,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:58,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:58,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:58,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:58,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:58,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:58,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:58,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:58,850 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:53:58,850 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:58,850 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:53:58,850 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:58,850 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2] (custom)
2024-09-30 06:53:58,850 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:53:58,850 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:53:58,851 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-8D00B31B31B7:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] returns group-8D00B31B31B7:java.util.concurrent.CompletableFuture@79982bcc[Not completed]
2024-09-30 06:53:58,851 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-8D00B31B31B7:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] with BaseStateMachine:uninitialized
2024-09-30 06:53:58,851 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:58,851 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:58,851 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:58,851 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:58,851 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:53:58,851 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:53:58,851 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:53:58,851 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0] (custom)
2024-09-30 06:53:58,851 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:53:58,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:53:58,852 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-8D00B31B31B7: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:53:58,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:53:58,852 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7 does not exist. Creating ...
2024-09-30 06:53:58,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:53:58,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:53:58,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:53:58,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:53:58,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:53:58,852 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7
2024-09-30 06:53:58,853 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:58,853 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:58,853 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:53:58,853 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:53:58,853 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:53:58,853 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:53:58,853 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:58,854 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current
2024-09-30 06:53:58,854 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/sm
2024-09-30 06:53:58,854 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1c7b39a4
2024-09-30 06:53:58,855 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:58,855 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7 has been successfully formatted.
2024-09-30 06:53:58,855 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:58,855 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:58,855 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:58,855 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:58,855 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:58,855 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-8D00B31B31B7-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-8D00B31B31B7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:58,856 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:58,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:58,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:58,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:58,857 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:58,857 [s0-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(233)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2024-09-30 06:53:58,857 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:58,857 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:58,857 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-8D00B31B31B7: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:58,857 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:58,857 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:58,858 [s0@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:58,858 [s0@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:58,858 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D00B31B31B7,id=s0
2024-09-30 06:53:58,858 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8D00B31B31B7,id=s0
2024-09-30 06:53:58,858 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:58,858 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:58,858 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:58,858 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:58,858 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:58,859 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:53:58,859 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15230
2024-09-30 06:53:58,859 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15228
2024-09-30 06:53:58,860 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15229
2024-09-30 06:53:58,860 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:58,860 [JvmPauseMonitor57] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:53:58,860 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:58,860 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1] (custom)
2024-09-30 06:53:58,860 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7 does not exist. Creating ...
2024-09-30 06:53:58,861 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7
2024-09-30 06:53:58,861 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:58,861 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current
2024-09-30 06:53:58,862 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/sm
2024-09-30 06:53:58,862 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4eb72cb6
2024-09-30 06:53:58,863 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:58,863 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7 has been successfully formatted.
2024-09-30 06:53:58,863 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:58,863 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:58,863 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:58,863 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:58,863 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:58,863 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:58,863 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:58,863 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:58,863 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:58,864 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-8D00B31B31B7-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:58,864 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-8D00B31B31B7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7
2024-09-30 06:53:58,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:58,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:58,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:58,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:58,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:58,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:58,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:58,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:58,864 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:58,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:58,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:58,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:58,865 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:58,865 [s1-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(233)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2024-09-30 06:53:58,865 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:58,865 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:58,865 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-8D00B31B31B7: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:58,865 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:58,865 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:58,866 [s1@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:58,866 [s1@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:58,866 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D00B31B31B7,id=s1
2024-09-30 06:53:58,866 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8D00B31B31B7,id=s1
2024-09-30 06:53:58,866 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:58,866 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:58,866 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:58,866 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:58,866 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:58,866 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:53:58,867 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15234
2024-09-30 06:53:58,867 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15232
2024-09-30 06:53:58,867 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15233
2024-09-30 06:53:58,868 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:53:58,868 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:53:58,868 [JvmPauseMonitor58] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:53:58,868 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2] (custom)
2024-09-30 06:53:58,868 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7 does not exist. Creating ...
2024-09-30 06:53:58,868 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7
2024-09-30 06:53:58,869 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:53:58,869 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current
2024-09-30 06:53:58,869 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/sm
2024-09-30 06:53:58,869 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4746f65e
2024-09-30 06:53:58,870 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:58,870 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7 has been successfully formatted.
2024-09-30 06:53:58,870 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:53:58,870 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:53:58,870 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:58,870 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:53:58,870 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:53:58,870 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-8D00B31B31B7-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-8D00B31B31B7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:53:58,871 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:53:58,872 [s2-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(233)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-8D00B31B31B7: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:58,872 [s2@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D00B31B31B7,id=s2
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8D00B31B31B7,id=s2
2024-09-30 06:53:58,872 [s2@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:53:58,872 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:53:58,873 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:53:58,874 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:53:58,874 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15238
2024-09-30 06:53:58,874 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15236
2024-09-30 06:53:58,875 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15237
2024-09-30 06:53:58,877 [JvmPauseMonitor59] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:53:58,878 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:58,878 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t0, leader=null, voted=, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t0, leader=null, voted=, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t0, leader=null, voted=, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:58,878 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t0, leader=null, voted=, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t0, leader=null, voted=, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t0, leader=null, voted=, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,050 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-8D00B31B31B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:178482311ns, electionTimeout:178ms
2024-09-30 06:53:59,051 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:59,051 [s2@group-8D00B31B31B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:53:59,051 [s2@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:59,051 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-LeaderElection56
2024-09-30 06:53:59,051 [s2@group-8D00B31B31B7-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-8D00B31B31B7-LeaderElection56 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,052 [s2@group-8D00B31B31B7-LeaderElection56-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15228
2024-09-30 06:53:59,052 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:59,052 [s2@group-8D00B31B31B7-LeaderElection56-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15232
2024-09-30 06:53:59,052 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:59,055 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s2, group-8D00B31B31B7, 0, (t:0, i:0))
2024-09-30 06:53:59,055 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:59,055 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8D00B31B31B7 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-8D00B31B31B7:t0, leader=null, voted=, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,056 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s2, group-8D00B31B31B7, 0, (t:0, i:0))
2024-09-30 06:53:59,056 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:59,056 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-8D00B31B31B7:t0, leader=null, voted=, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,056 [s2@group-8D00B31B31B7-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8D00B31B31B7-LeaderElection56: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:59,056 [s2@group-8D00B31B31B7-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t0
2024-09-30 06:53:59,056 [s2@group-8D00B31B31B7-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-8D00B31B31B7-LeaderElection56 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:59,057 [s2@group-8D00B31B31B7-LeaderElection56] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@578686e
2024-09-30 06:53:59,058 [s2@group-8D00B31B31B7-LeaderElection56] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:59,058 [s2@group-8D00B31B31B7-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-8D00B31B31B7-LeaderElection56 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,058 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:53:59,058 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:53:59,059 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(ELECTION, s2, group-8D00B31B31B7, 1, (t:0, i:0))
2024-09-30 06:53:59,059 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:59,059 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:53:59,059 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:59,059 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:59,059 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:53:59,059 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-8D00B31B31B7: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:53:59,059 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@21af856c
2024-09-30 06:53:59,060 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8D00B31B31B7: receive requestVote(ELECTION, s2, group-8D00B31B31B7, 1, (t:0, i:0))
2024-09-30 06:53:59,060 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:53:59,060 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:53:59,060 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:59,060 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:59,060 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:53:59,060 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-8D00B31B31B7: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:53:59,060 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:59,060 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-8D00B31B31B7:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,060 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@24c83178
2024-09-30 06:53:59,061 [s2@group-8D00B31B31B7-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8D00B31B31B7-LeaderElection56: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:59,061 [s2@group-8D00B31B31B7-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2024-09-30 06:53:59,061 [s2@group-8D00B31B31B7-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-8D00B31B31B7-LeaderElection56 ELECTION round 0: result PASSED
2024-09-30 06:53:59,061 [s2@group-8D00B31B31B7-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-8D00B31B31B7-LeaderElection56
2024-09-30 06:53:59,061 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:53:59,061 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:59,061 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:59,061 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:59,062 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:53:59,062 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8D00B31B31B7 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-8D00B31B31B7:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:59,062 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-8D00B31B31B7: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:53:59,063 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 211ms
2024-09-30 06:53:59,064 [s2@group-8D00B31B31B7-LeaderElection56] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:59,064 [s2@group-8D00B31B31B7-LeaderElection56] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2024-09-30 06:53:59,064 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:59,064 [s2@group-8D00B31B31B7-LeaderElection56] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:53:59,064 [s2@group-8D00B31B31B7-LeaderElection56] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8D00B31B31B7: set configuration conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,071 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from null to s2 at term 1 for appendEntries, leader elected after 228ms
2024-09-30 06:53:59,072 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* s2->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:53:59,073 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from null to s2 at term 1 for appendEntries, leader elected after 225ms
2024-09-30 06:53:59,073 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8D00B31B31B7: set configuration conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,073 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:59,073 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2024-09-30 06:53:59,073 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:53:59,073 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:59,074 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s2->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:53:59,075 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8D00B31B31B7: set configuration conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,075 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:53:59,075 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2024-09-30 06:53:59,075 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:53:59,075 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:53:59,080 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_0
2024-09-30 06:53:59,080 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_0)
2024-09-30 06:53:59,082 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2024-09-30 06:53:59,086 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_0
2024-09-30 06:53:59,086 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_0)
2024-09-30 06:53:59,086 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2024-09-30 06:53:59,086 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* reply s2<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:59,087 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_0
2024-09-30 06:53:59,087 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1277e3a3
2024-09-30 06:53:59,088 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_0)
2024-09-30 06:53:59,088 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2024-09-30 06:53:59,088 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s2<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:53:59,088 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:59,088 [s2@group-8D00B31B31B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s2@group-8D00B31B31B7-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:53:59,164 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@47b9f08b
2024-09-30 06:53:59,165 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4367b188
2024-09-30 06:53:59,166 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:59,166 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:59,329 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,329 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s2
2024-09-30 06:53:59,330 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:59,330 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,330 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,330 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:53:59,393 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s2
2024-09-30 06:53:59,395 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2024-09-30 06:53:59,431 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:59,431 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,431 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,431 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:53:59,532 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:59,532 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,532 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,532 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:53:59,633 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:59,633 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,633 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,633 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #4/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:53:59,641 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-8D00B31B31B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:323667140ns, electionTimeout:155ms
2024-09-30 06:53:59,641 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:59,641 [s1@group-8D00B31B31B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:53:59,641 [s1@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:53:59,641 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-LeaderElection57
2024-09-30 06:53:59,641 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from s2 to null at term 1 for PRE_VOTE
2024-09-30 06:53:59,641 [s1@group-8D00B31B31B7-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-8D00B31B31B7-LeaderElection57 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,642 [s1@group-8D00B31B31B7-LeaderElection57-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15228
2024-09-30 06:53:59,642 [s1@group-8D00B31B31B7-LeaderElection57-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15236
2024-09-30 06:53:59,645 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s1, group-8D00B31B31B7, 1, (t:1, i:0))
2024-09-30 06:53:59,645 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s1, group-8D00B31B31B7, 1, (t:1, i:0))
2024-09-30 06:53:59,645 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:59,645 [grpc-default-executor-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1117)) - s2@group-8D00B31B31B7-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 583ms. Conf: conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,645 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-8D00B31B31B7:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,645 [grpc-default-executor-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s2@group-8D00B31B31B7->s0(c0,m0,n1, caughtUp=true, lastRpcSendTime=27, lastRpcResponseTime=326)
2024-09-30 06:53:59,645 [grpc-default-executor-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s2@group-8D00B31B31B7->s1(c0,m0,n1, caughtUp=true, lastRpcSendTime=26, lastRpcResponseTime=327)
2024-09-30 06:53:59,645 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:53:59,645 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:53:59,646 [s2@group-8D00B31B31B7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-8D00B31B31B7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:59,646 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-8D00B31B31B7-PendingRequests: sendNotLeaderResponses
2024-09-30 06:53:59,646 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from s2 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:53:59,646 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:59,646 [s2@group-8D00B31B31B7->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-8D00B31B31B7->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:53:59,646 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:59,647 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8D00B31B31B7 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-8D00B31B31B7:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,647 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:53:59,647 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:59,647 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:53:59,647 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:53:59,647 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:59,648 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:59,649 [s1@group-8D00B31B31B7-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8D00B31B31B7-LeaderElection57: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:59,649 [s1@group-8D00B31B31B7-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2024-09-30 06:53:59,649 [s1@group-8D00B31B31B7-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-8D00B31B31B7-LeaderElection57 PRE_VOTE round 0: result PASSED
2024-09-30 06:53:59,649 [s1@group-8D00B31B31B7-LeaderElection57] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6e442f5c
2024-09-30 06:53:59,650 [s1@group-8D00B31B31B7-LeaderElection57] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:59,650 [s1@group-8D00B31B31B7-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-8D00B31B31B7-LeaderElection57 ELECTION round 0: submit vote requests at term 2 for conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,651 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(ELECTION, s1, group-8D00B31B31B7, 2, (t:1, i:0))
2024-09-30 06:53:59,651 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8D00B31B31B7: receive requestVote(ELECTION, s1, group-8D00B31B31B7, 2, (t:1, i:0))
2024-09-30 06:53:59,651 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:59,651 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:53:59,651 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-09-30 06:53:59,651 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:59,651 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:59,651 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-09-30 06:53:59,652 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:59,652 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-09-30 06:53:59,652 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:53:59,651 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:53:59,652 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:53:59,652 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@374981e7
2024-09-30 06:53:59,652 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6be406f3
2024-09-30 06:53:59,653 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:59,653 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:53:59,653 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-8D00B31B31B7:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,653 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8D00B31B31B7 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-8D00B31B31B7:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,653 [s1@group-8D00B31B31B7-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8D00B31B31B7-LeaderElection57: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:53:59,653 [s1@group-8D00B31B31B7-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t2
2024-09-30 06:53:59,653 [s1@group-8D00B31B31B7-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-8D00B31B31B7-LeaderElection57 ELECTION round 0: result PASSED
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-8D00B31B31B7-LeaderElection57
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:53:59,654 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:53:59,655 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 14ms
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2024-09-30 06:53:59,656 [s1@group-8D00B31B31B7-LeaderElection57] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2024-09-30 06:53:59,657 [s1@group-8D00B31B31B7-LeaderElection57] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:53:59,657 [s1@group-8D00B31B31B7-LeaderElection57] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8D00B31B31B7: set configuration conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,660 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from null to s1 at term 2 for appendEntries, leader elected after 14ms
2024-09-30 06:53:59,661 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_0-0
2024-09-30 06:53:59,661 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_0-0
2024-09-30 06:53:59,661 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2024-09-30 06:53:59,662 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_1 at position 0
2024-09-30 06:53:59,662 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* s1->s2#1-t2,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:2, i:1), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:53:59,662 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8D00B31B31B7: set configuration conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,662 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-09-30 06:53:59,662 [s2-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2024-09-30 06:53:59,662 [s2-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2024-09-30 06:53:59,663 [s2-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:53:59,664 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from null to s1 at term 2 for appendEntries, leader elected after 11ms
2024-09-30 06:53:59,666 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s1->s0#1-t2,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:2, i:1), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:53:59,666 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8D00B31B31B7: set configuration conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:53:59,666 [s0-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-09-30 06:53:59,667 [s0-server-thread3] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2024-09-30 06:53:59,667 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_0-0
2024-09-30 06:53:59,667 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_0-0
2024-09-30 06:53:59,667 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2024-09-30 06:53:59,667 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_1 at position 0
2024-09-30 06:53:59,668 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_0-0
2024-09-30 06:53:59,668 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_0-0
2024-09-30 06:53:59,668 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2024-09-30 06:53:59,668 [s0-server-thread3] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2024-09-30 06:53:59,668 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_1 at position 0
2024-09-30 06:53:59,670 [s0-server-thread3] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:53:59,684 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_1
2024-09-30 06:53:59,684 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_1)
2024-09-30 06:53:59,684 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2024-09-30 06:53:59,684 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_1
2024-09-30 06:53:59,685 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_1)
2024-09-30 06:53:59,685 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2024-09-30 06:53:59,685 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* reply s1<-s2#1:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:59,685 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_1
2024-09-30 06:53:59,685 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_1)
2024-09-30 06:53:59,685 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2024-09-30 06:53:59,686 [s1@group-8D00B31B31B7-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:59,686 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_1)
2024-09-30 06:53:59,686 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@497e160c
2024-09-30 06:53:59,686 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2024-09-30 06:53:59,686 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s1->s0#2-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:59,686 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* s1->s2#2-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:59,686 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:59,687 [s2-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:53:59,687 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s1<-s0#1:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:53:59,687 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_1)
2024-09-30 06:53:59,687 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2024-09-30 06:53:59,687 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_1)
2024-09-30 06:53:59,688 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2024-09-30 06:53:59,688 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:59,688 [s1@group-8D00B31B31B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-8D00B31B31B7-LeaderStateImpl is ready since appliedIndex == startIndex == 1
2024-09-30 06:53:59,688 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* reply s1<-s2#2:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:59,688 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1cb01f9d
2024-09-30 06:53:59,689 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:59,690 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s1<-s0#2:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:53:59,690 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4da05794
2024-09-30 06:53:59,691 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:53:59,734 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:59,734 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,734 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,734 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$14(482)) - Changed leader from s2 to s1
2024-09-30 06:53:59,735 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s2
2024-09-30 06:53:59,735 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2024-09-30 06:53:59,735 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:59,735 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,735 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,735 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:53:59,765 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2024-09-30 06:53:59,766 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:53:59,836 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:59,836 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,836 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,837 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:53:59,937 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:53:59,937 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,937 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:53:59,938 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:53:59,994 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s2
2024-09-30 06:53:59,994 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:59,994 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:59,994 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:59,994 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:59,994 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:59,995 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:59,995 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:59,995 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:59,995 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:59,995 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2024-09-30 06:53:59,995 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:59,995 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:59,995 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:59,996 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:59,996 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:59,996 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:59,996 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:53:59,996 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:59,996 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 12
}
term: 2
nextIndex: 3
result: NOT_LEADER
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:53:59,997 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:53:59,997 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:59,997 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:59,997 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:59,997 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:59,998 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:59,998 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:53:59,998 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:53:59,998 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:54:00,000 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:54:00,001 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:54:00,001 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:54:00,001 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:00,001 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:54:00,001 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 13
}
term: 2
nextIndex: 3
result: NOT_LEADER
followerCommit: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:00,002 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:00,038 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:00,038 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,038 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,039 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #4/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:00,091 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-8D00B31B31B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:401308533ns, electionTimeout:275ms
2024-09-30 06:54:00,091 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:00,091 [s0@group-8D00B31B31B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2024-09-30 06:54:00,091 [s0@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:00,091 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-LeaderElection58
2024-09-30 06:54:00,092 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from s1 to null at term 2 for PRE_VOTE
2024-09-30 06:54:00,092 [s0@group-8D00B31B31B7-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-8D00B31B31B7-LeaderElection58 PRE_VOTE round 0: submit vote requests at term 2 for conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,092 [s0@group-8D00B31B31B7-LeaderElection58-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15232
2024-09-30 06:54:00,092 [s0@group-8D00B31B31B7-LeaderElection58-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15236
2024-09-30 06:54:00,098 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s0, group-8D00B31B31B7, 2, (t:2, i:2))
2024-09-30 06:54:00,098 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s0, group-8D00B31B31B7, 2, (t:2, i:2))
2024-09-30 06:54:00,098 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:00,098 [grpc-default-executor-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1117)) - s1@group-8D00B31B31B7-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 300ms. In charge for: 444ms. Conf: conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,098 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8D00B31B31B7 replies to PRE_VOTE vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-8D00B31B31B7:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,098 [grpc-default-executor-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s1@group-8D00B31B31B7->s0(c1,m2,n3, caughtUp=true, lastRpcSendTime=29, lastRpcResponseTime=408)
2024-09-30 06:54:00,098 [grpc-default-executor-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s1@group-8D00B31B31B7->s2(c1,m2,n3, caughtUp=true, lastRpcSendTime=34, lastRpcResponseTime=410)
2024-09-30 06:54:00,099 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:00,099 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:00,099 [s1@group-8D00B31B31B7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-8D00B31B31B7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:00,099 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-8D00B31B31B7-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:00,099 [s1@group-8D00B31B31B7->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-8D00B31B31B7->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:00,099 [s0@group-8D00B31B31B7-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-8D00B31B31B7-LeaderElection58: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:00,099 [s0@group-8D00B31B31B7-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2024-09-30 06:54:00,100 [s0@group-8D00B31B31B7-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-8D00B31B31B7-LeaderElection58 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:00,100 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from s1 to null at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:00,100 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:00,100 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:00,100 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#2-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:00,100 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:00,100 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:00,100 [s0@group-8D00B31B31B7-LeaderElection58] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1067887b
2024-09-30 06:54:00,100 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:00,100 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:00,100 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:00,101 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8D00B31B31B7 replies to PRE_VOTE vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-8D00B31B31B7:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,101 [s0@group-8D00B31B31B7-LeaderElection58] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:00,101 [s0@group-8D00B31B31B7-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-8D00B31B31B7-LeaderElection58 ELECTION round 0: submit vote requests at term 3 for conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,102 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8D00B31B31B7: receive requestVote(ELECTION, s0, group-8D00B31B31B7, 3, (t:2, i:2))
2024-09-30 06:54:00,102 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8D00B31B31B7: receive requestVote(ELECTION, s0, group-8D00B31B31B7, 3, (t:2, i:2))
2024-09-30 06:54:00,102 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:00,102 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:00,102 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2024-09-30 06:54:00,102 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:00,102 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2024-09-30 06:54:00,102 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:00,102 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:00,102 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from s1 to null at term 3 for updateCurrentTerm
2024-09-30 06:54:00,103 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:00,103 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:00,103 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:00,103 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@875c184
2024-09-30 06:54:00,103 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6c6ea524
2024-09-30 06:54:00,104 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:00,104 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:00,104 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8D00B31B31B7 replies to ELECTION vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-8D00B31B31B7:t3, leader=null, voted=s0, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,104 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8D00B31B31B7 replies to ELECTION vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-8D00B31B31B7:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c1:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,105 [s0@group-8D00B31B31B7-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-8D00B31B31B7-LeaderElection58: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:00,105 [s0@group-8D00B31B31B7-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t3
2024-09-30 06:54:00,105 [s0@group-8D00B31B31B7-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-8D00B31B31B7-LeaderElection58 ELECTION round 0: result PASSED
2024-09-30 06:54:00,105 [s0@group-8D00B31B31B7-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-8D00B31B31B7-LeaderElection58
2024-09-30 06:54:00,105 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2024-09-30 06:54:00,105 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:00,105 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:00,105 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:00,105 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:00,105 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:00,105 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:00,106 [s0@group-8D00B31B31B7-LeaderElection58] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:00,107 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from null to s0 at term 3 for becomeLeader, leader elected after 15ms
2024-09-30 06:54:00,108 [s0@group-8D00B31B31B7-LeaderElection58] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2024-09-30 06:54:00,108 [s0@group-8D00B31B31B7-LeaderElection58] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2024-09-30 06:54:00,108 [s0@group-8D00B31B31B7-LeaderElection58] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2024-09-30 06:54:00,108 [s0@group-8D00B31B31B7-LeaderElection58] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:00,108 [s0@group-8D00B31B31B7-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8D00B31B31B7: set configuration conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,109 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_1-2
2024-09-30 06:54:00,109 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_1-2
2024-09-30 06:54:00,109 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2024-09-30 06:54:00,109 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_3 at position 0
2024-09-30 06:54:00,113 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* s0->s2#1-t3,previous=(t:2, i:2),leaderCommit=1,initializing? false,entries: size=1, first=(t:3, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:00,113 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from null to s0 at term 3 for appendEntries, leader elected after 10ms
2024-09-30 06:54:00,113 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8D00B31B31B7: set configuration conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,113 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2024-09-30 06:54:00,113 [s2-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2024-09-30 06:54:00,113 [s2-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2024-09-30 06:54:00,114 [s2-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:00,115 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_1-2
2024-09-30 06:54:00,115 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_1-2
2024-09-30 06:54:00,115 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2024-09-30 06:54:00,115 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_3 at position 0
2024-09-30 06:54:00,115 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from null to s0 at term 3 for appendEntries, leader elected after 15ms
2024-09-30 06:54:00,122 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* s0->s1#1-t3,previous=(t:2, i:2),leaderCommit=1,initializing? false,entries: size=1, first=(t:3, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:00,123 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8D00B31B31B7: set configuration conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,123 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2024-09-30 06:54:00,123 [s1-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2024-09-30 06:54:00,123 [s1-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2024-09-30 06:54:00,123 [s1-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:00,124 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_1-2
2024-09-30 06:54:00,124 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_1-2
2024-09-30 06:54:00,124 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2024-09-30 06:54:00,124 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_3 at position 0
2024-09-30 06:54:00,127 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_3
2024-09-30 06:54:00,127 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_3)
2024-09-30 06:54:00,127 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2024-09-30 06:54:00,128 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_3
2024-09-30 06:54:00,128 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_3)
2024-09-30 06:54:00,128 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2024-09-30 06:54:00,130 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* reply s0<-s2#1:OK-t3,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2024-09-30 06:54:00,130 [s0@group-8D00B31B31B7-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:00,131 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@499fdaf8
2024-09-30 06:54:00,132 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_3)
2024-09-30 06:54:00,132 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* s0->s1#2-t3,previous=(t:3, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:3, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:00,132 [s1-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:00,132 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* s0->s2#2-t3,previous=(t:3, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:3, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:00,133 [s2-server-thread3] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:00,133 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_3)
2024-09-30 06:54:00,135 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2024-09-30 06:54:00,135 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2024-09-30 06:54:00,135 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* reply s0<-s2#2:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:54:00,135 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@188f88d3
2024-09-30 06:54:00,135 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:00,135 [s0@group-8D00B31B31B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-8D00B31B31B7-LeaderStateImpl is ready since appliedIndex == startIndex == 3
2024-09-30 06:54:00,136 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_3
2024-09-30 06:54:00,136 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_3)
2024-09-30 06:54:00,136 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 4
2024-09-30 06:54:00,137 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* reply s0<-s1#1:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:54:00,137 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:00,137 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* reply s0<-s1#2:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:54:00,137 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4d419bfb
2024-09-30 06:54:00,138 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:00,139 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:00,139 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,139 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,139 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$14(482)) - Changed leader from s1 to s0
2024-09-30 06:54:00,139 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2024-09-30 06:54:00,140 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2024-09-30 06:54:00,140 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:00,140 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,140 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,140 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
2024-09-30 06:54:00,212 [s2-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:54:00,213 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:54:00,240 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:00,241 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,241 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,241 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
2024-09-30 06:54:00,341 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:00,342 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,342 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,342 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
2024-09-30 06:54:00,365 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2024-09-30 06:54:00,365 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,365 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,365 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,366 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,366 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,366 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,366 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,367 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,367 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,367 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:54:00,367 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,367 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,367 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,367 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,367 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,367 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,367 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,367 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,367 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,368 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,368 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,368 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,368 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,368 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,368 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,368 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:00,368 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,368 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,368 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 13
}
term: 3
nextIndex: 5
result: NOT_LEADER
followerCommit: 3
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:00,369 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,369 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,369 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,369 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:00,369 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,369 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,370 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,370 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,370 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,370 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 2 < currentTerm = 3
2024-09-30 06:54:00,370 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:00,370 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 15
}
term: 3
nextIndex: 5
result: NOT_LEADER
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:00,371 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 3
2024-09-30 06:54:00,371 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:00,442 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:00,442 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,443 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,443 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #4/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
2024-09-30 06:54:00,510 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-8D00B31B31B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:373116000ns, electionTimeout:167ms
2024-09-30 06:54:00,510 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:00,510 [s1@group-8D00B31B31B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-09-30 06:54:00,510 [s1@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:00,510 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-LeaderElection59
2024-09-30 06:54:00,511 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from s0 to null at term 3 for PRE_VOTE
2024-09-30 06:54:00,511 [s1@group-8D00B31B31B7-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-8D00B31B31B7-LeaderElection59 PRE_VOTE round 0: submit vote requests at term 3 for conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,512 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s1, group-8D00B31B31B7, 3, (t:3, i:4))
2024-09-30 06:54:00,512 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s1, group-8D00B31B31B7, 3, (t:3, i:4))
2024-09-30 06:54:00,512 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:00,512 [grpc-default-executor-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1117)) - s0@group-8D00B31B31B7-LeaderStateImpl: Lost leadership on term: 3. Election timeout: 300ms. In charge for: 406ms. Conf: conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,512 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8D00B31B31B7 replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-8D00B31B31B7:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,512 [grpc-default-executor-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s0@group-8D00B31B31B7->s1(c3,m4,n5, caughtUp=true, lastRpcSendTime=35, lastRpcResponseTime=373)
2024-09-30 06:54:00,512 [grpc-default-executor-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s0@group-8D00B31B31B7->s2(c3,m4,n5, caughtUp=true, lastRpcSendTime=34, lastRpcResponseTime=377)
2024-09-30 06:54:00,512 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from    LEADER to FOLLOWER at term 3 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:00,512 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:00,512 [s1@group-8D00B31B31B7-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8D00B31B31B7-LeaderElection59: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:00,513 [s1@group-8D00B31B31B7-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2024-09-30 06:54:00,513 [s0@group-8D00B31B31B7->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-8D00B31B31B7->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:00,513 [s0@group-8D00B31B31B7->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-8D00B31B31B7->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:00,513 [grpc-default-executor-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-8D00B31B31B7-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:00,513 [s1@group-8D00B31B31B7-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-8D00B31B31B7-LeaderElection59 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:00,513 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#2-t3,previous=(t:3, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:3, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:00,513 [s1@group-8D00B31B31B7-LeaderElection59] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2499313c
2024-09-30 06:54:00,513 [grpc-default-executor-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from s0 to null at term 3 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:00,513 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:00,513 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:00,513 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:00,514 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-8D00B31B31B7:t3, leader=null, voted=s0, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,514 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-8D00B31B31B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:00,514 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#2-t3,previous=(t:3, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:3, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:00,514 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:00,514 [s1@group-8D00B31B31B7-LeaderElection59] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:00,514 [s1@group-8D00B31B31B7-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-8D00B31B31B7-LeaderElection59 ELECTION round 0: submit vote requests at term 4 for conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,516 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-8D00B31B31B7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:00,517 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8D00B31B31B7: receive requestVote(ELECTION, s1, group-8D00B31B31B7, 4, (t:3, i:4))
2024-09-30 06:54:00,517 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(ELECTION, s1, group-8D00B31B31B7, 4, (t:3, i:4))
2024-09-30 06:54:00,517 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:00,517 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2024-09-30 06:54:00,517 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:00,517 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from s0 to null at term 4 for updateCurrentTerm
2024-09-30 06:54:00,517 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:00,517 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2024-09-30 06:54:00,517 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:00,517 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:00,517 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:00,517 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:00,517 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:00,518 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1a9e8694
2024-09-30 06:54:00,518 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@20cd1574
2024-09-30 06:54:00,519 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:00,519 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8D00B31B31B7 replies to ELECTION vote request: s1<-s2#0:OK-t4. Peer's state: s2@group-8D00B31B31B7:t4, leader=null, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,519 [s1@group-8D00B31B31B7-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8D00B31B31B7-LeaderElection59: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:00,519 [s1@group-8D00B31B31B7-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t4
2024-09-30 06:54:00,519 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:00,519 [s1@group-8D00B31B31B7-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-8D00B31B31B7-LeaderElection59 ELECTION round 0: result PASSED
2024-09-30 06:54:00,519 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to ELECTION vote request: s1<-s0#0:OK-t4. Peer's state: s0@group-8D00B31B31B7:t4, leader=null, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:3, i:4), conf=conf: {index: 3, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,520 [s1@group-8D00B31B31B7-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-8D00B31B31B7-LeaderElection59
2024-09-30 06:54:00,520 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2024-09-30 06:54:00,520 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:00,520 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:00,520 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:00,520 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:00,520 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:00,520 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:00,520 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:00,520 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:00,521 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:00,522 [s1@group-8D00B31B31B7-LeaderElection59] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:00,522 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:00,522 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:00,522 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:00,522 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:00,522 [s1@group-8D00B31B31B7-LeaderElection59] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:00,522 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:00,522 [s1@group-8D00B31B31B7-LeaderElection59] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:00,522 [s1@group-8D00B31B31B7-LeaderElection59] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:00,522 [s1@group-8D00B31B31B7-LeaderElection59] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:00,522 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:00,522 [s1@group-8D00B31B31B7-LeaderElection59] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:00,523 [s1@group-8D00B31B31B7-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:00,523 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from null to s1 at term 4 for becomeLeader, leader elected after 12ms
2024-09-30 06:54:00,523 [s1@group-8D00B31B31B7-LeaderElection59] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2024-09-30 06:54:00,523 [s1@group-8D00B31B31B7-LeaderElection59] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2024-09-30 06:54:00,524 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_3-4
2024-09-30 06:54:00,524 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_3-4
2024-09-30 06:54:00,524 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2024-09-30 06:54:00,524 [s1@group-8D00B31B31B7-LeaderElection59] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2024-09-30 06:54:00,525 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2024-09-30 06:54:00,525 [s1@group-8D00B31B31B7-LeaderElection59] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:00,525 [s1@group-8D00B31B31B7-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8D00B31B31B7: set configuration conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,526 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from null to s1 at term 4 for appendEntries, leader elected after 9ms
2024-09-30 06:54:00,530 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from null to s1 at term 4 for appendEntries, leader elected after 17ms
2024-09-30 06:54:00,531 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* s1->s2#1-t4,previous=(t:3, i:4),leaderCommit=3,initializing? false,entries: size=1, first=(t:4, i:5), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:00,531 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8D00B31B31B7: set configuration conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,531 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2024-09-30 06:54:00,531 [s2-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2024-09-30 06:54:00,531 [s2-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2024-09-30 06:54:00,532 [s2-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:00,532 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s1->s0#1-t4,previous=(t:3, i:4),leaderCommit=3,initializing? false,entries: size=1, first=(t:4, i:5), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:00,532 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8D00B31B31B7: set configuration conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:00,532 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2024-09-30 06:54:00,532 [s0-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2024-09-30 06:54:00,532 [s0-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2024-09-30 06:54:00,532 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_3-4
2024-09-30 06:54:00,532 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_3-4
2024-09-30 06:54:00,532 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2024-09-30 06:54:00,532 [s0-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:00,533 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2024-09-30 06:54:00,533 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_3-4
2024-09-30 06:54:00,533 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_3-4
2024-09-30 06:54:00,533 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2024-09-30 06:54:00,534 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_5 at position 0
2024-09-30 06:54:00,534 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_5
2024-09-30 06:54:00,534 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_5)
2024-09-30 06:54:00,534 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2024-09-30 06:54:00,543 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:00,543 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c4:last(t:4, i:5), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:4, i:5), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c3:last(t:4, i:5), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,543 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: Leader: s1@group-8D00B31B31B7 not ready
2024-09-30 06:54:00,546 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_5
2024-09-30 06:54:00,546 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_5)
2024-09-30 06:54:00,546 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2024-09-30 06:54:00,546 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* reply s1<-s2#1:OK-t4,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:54:00,546 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_5
2024-09-30 06:54:00,547 [s1@group-8D00B31B31B7-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:00,547 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@8431c37
2024-09-30 06:54:00,547 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_5)
2024-09-30 06:54:00,547 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2024-09-30 06:54:00,547 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_5)
2024-09-30 06:54:00,547 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s1->s0#2-t4,previous=(t:4, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:4, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:00,547 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* s1->s2#2-t4,previous=(t:4, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:4, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:00,548 [s0-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:00,548 [s2-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:00,548 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2024-09-30 06:54:00,548 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_5)
2024-09-30 06:54:00,548 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s1<-s0#1:OK-t4,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2024-09-30 06:54:00,548 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:00,548 [s1@group-8D00B31B31B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-8D00B31B31B7-LeaderStateImpl is ready since appliedIndex == startIndex == 5
2024-09-30 06:54:00,548 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_5)
2024-09-30 06:54:00,549 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2024-09-30 06:54:00,549 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2024-09-30 06:54:00,549 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* reply s1<-s2#2:OK-t4,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:54:00,549 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5d8d15a6
2024-09-30 06:54:00,550 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s1<-s0#2:OK-t4,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:54:00,550 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@c9d5daf
2024-09-30 06:54:00,551 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:00,551 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:00,695 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s0-GrpcLogAppender: Timed out appendEntries, errorCount=1, request=AppendEntriesRequest:cid=14,entriesCount=1,entry=(t:1, i:3)
2024-09-30 06:54:00,695 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s2-GrpcLogAppender: Timed out appendEntries, errorCount=1, request=AppendEntriesRequest:cid=11,entriesCount=1,entry=(t:1, i:3)
2024-09-30 06:54:00,712 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=2, request=AppendEntriesRequest:cid=13,entriesCount=0
2024-09-30 06:54:00,714 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=2, request=AppendEntriesRequest:cid=16,entriesCount=0
2024-09-30 06:54:00,750 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=3, request=AppendEntriesRequest:cid=14,entriesCount=0
2024-09-30 06:54:00,751 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=3, request=AppendEntriesRequest:cid=17,entriesCount=0
2024-09-30 06:54:00,787 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=4, request=AppendEntriesRequest:cid=15,entriesCount=0
2024-09-30 06:54:00,788 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=4, request=AppendEntriesRequest:cid=18,entriesCount=0
2024-09-30 06:54:00,826 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=5, request=AppendEntriesRequest:cid=16,entriesCount=0
2024-09-30 06:54:00,827 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=5, request=AppendEntriesRequest:cid=19,entriesCount=0
2024-09-30 06:54:00,863 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=6, request=AppendEntriesRequest:cid=20,entriesCount=0
2024-09-30 06:54:00,864 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=6, request=AppendEntriesRequest:cid=17,entriesCount=0
2024-09-30 06:54:00,901 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=7, request=AppendEntriesRequest:cid=21,entriesCount=0
2024-09-30 06:54:00,901 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=7, request=AppendEntriesRequest:cid=18,entriesCount=0
2024-09-30 06:54:00,938 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=8, request=AppendEntriesRequest:cid=22,entriesCount=0
2024-09-30 06:54:00,938 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=8, request=AppendEntriesRequest:cid=19,entriesCount=0
2024-09-30 06:54:00,976 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=9, request=AppendEntriesRequest:cid=23,entriesCount=0
2024-09-30 06:54:00,976 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-CCDA48B79DB9->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=9, request=AppendEntriesRequest:cid=20,entriesCount=0
2024-09-30 06:54:00,994 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,994 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$14(482)) - Changed leader from s0 to s1
2024-09-30 06:54:00,994 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2024-09-30 06:54:00,994 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2024-09-30 06:54:00,994 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:00,994 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,995 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:00,995 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:01,007 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2024-09-30 06:54:01,009 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:54:01,095 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:01,095 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,096 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,096 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:01,112 [s2-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:54:01,112 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,113 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,113 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,113 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,113 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,114 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,114 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:54:01,114 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,114 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,114 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,114 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,114 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,115 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,115 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,115 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,115 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,115 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,115 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,115 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,115 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,115 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,116 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,116 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,116 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,116 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,116 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,116 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,116 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,116 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:01,117 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 12
}
term: 4
nextIndex: 7
result: NOT_LEADER
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:01,117 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s0 as leader for APPEND_ENTRIES since peerTerm = 3 < currentTerm = 4
2024-09-30 06:54:01,117 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:01,117 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,117 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 13
}
term: 4
nextIndex: 7
result: NOT_LEADER
followerCommit: 6
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:01,118 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,118 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,118 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-8D00B31B31B7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:01,119 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s0@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 4
2024-09-30 06:54:01,119 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-8D00B31B31B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:01,188 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-8D00B31B31B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:256896484ns, electionTimeout:219ms
2024-09-30 06:54:01,188 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:01,188 [s2@group-8D00B31B31B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2024-09-30 06:54:01,188 [s2@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:01,189 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-LeaderElection60
2024-09-30 06:54:01,189 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from s1 to null at term 4 for PRE_VOTE
2024-09-30 06:54:01,189 [s2@group-8D00B31B31B7-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-8D00B31B31B7-LeaderElection60 PRE_VOTE round 0: submit vote requests at term 4 for conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,190 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s2, group-8D00B31B31B7, 4, (t:4, i:6))
2024-09-30 06:54:01,190 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s2, group-8D00B31B31B7, 4, (t:4, i:6))
2024-09-30 06:54:01,190 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:01,191 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8D00B31B31B7-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2024-09-30 06:54:01,191 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to PRE_VOTE vote request: s2<-s0#0:OK-t4. Peer's state: s0@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,191 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8D00B31B31B7 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t4. Peer's state: s1@group-8D00B31B31B7:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,191 [s2@group-8D00B31B31B7-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8D00B31B31B7-LeaderElection60: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-09-30 06:54:01,191 [s2@group-8D00B31B31B7-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t4
2024-09-30 06:54:01,191 [s2@group-8D00B31B31B7-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:FAIL-t4
2024-09-30 06:54:01,192 [s2@group-8D00B31B31B7-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-8D00B31B31B7-LeaderElection60 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:01,192 [s2@group-8D00B31B31B7-LeaderElection60] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5f497866
2024-09-30 06:54:01,193 [s2@group-8D00B31B31B7-LeaderElection60] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:01,193 [s2@group-8D00B31B31B7-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-8D00B31B31B7-LeaderElection60 ELECTION round 0: submit vote requests at term 5 for conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,194 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(ELECTION, s2, group-8D00B31B31B7, 5, (t:4, i:6))
2024-09-30 06:54:01,194 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8D00B31B31B7: receive requestVote(ELECTION, s2, group-8D00B31B31B7, 5, (t:4, i:6))
2024-09-30 06:54:01,194 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:01,194 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8D00B31B31B7-LEADER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:01,194 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s2
2024-09-30 06:54:01,194 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:01,194 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from    LEADER to FOLLOWER at term 4 for candidate:s2
2024-09-30 06:54:01,194 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:01,194 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:01,194 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from s1 to null at term 5 for updateCurrentTerm
2024-09-30 06:54:01,194 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:01,194 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-8D00B31B31B7-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:01,194 [s1@group-8D00B31B31B7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-8D00B31B31B7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:01,195 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3f10b928
2024-09-30 06:54:01,195 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#2-t4,previous=(t:4, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:4, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:01,195 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:01,194 [s1@group-8D00B31B31B7->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-8D00B31B31B7->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:01,195 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from s1 to null at term 4 for candidate:s2
2024-09-30 06:54:01,195 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:01,195 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:01,195 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t4,previous=(t:4, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:4, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:01,195 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:01,195 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@486eb715
2024-09-30 06:54:01,196 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:01,196 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:01,196 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:01,196 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to ELECTION vote request: s2<-s0#0:OK-t5. Peer's state: s0@group-8D00B31B31B7:t5, leader=null, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,196 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t5, leader=null, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t5, leader=null, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING CANDIDATE s2@group-8D00B31B31B7:t5, leader=null, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,197 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t5, leader=null, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t5, leader=null, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING CANDIDATE s2@group-8D00B31B31B7:t5, leader=null, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,197 [s2@group-8D00B31B31B7-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8D00B31B31B7-LeaderElection60: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:01,197 [s2@group-8D00B31B31B7-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t5
2024-09-30 06:54:01,197 [s2@group-8D00B31B31B7-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-8D00B31B31B7-LeaderElection60 ELECTION round 0: result PASSED
2024-09-30 06:54:01,197 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:01,197 [s2@group-8D00B31B31B7-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-8D00B31B31B7-LeaderElection60
2024-09-30 06:54:01,197 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8D00B31B31B7 replies to ELECTION vote request: s2<-s1#0:OK-t5. Peer's state: s1@group-8D00B31B31B7:t5, leader=null, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c6:last(t:4, i:6), conf=conf: {index: 5, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,197 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2024-09-30 06:54:01,197 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:01,197 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:01,198 [s2@group-8D00B31B31B7-LeaderElection60] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:01,199 [s2@group-8D00B31B31B7-LeaderElection60] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:01,200 [s2@group-8D00B31B31B7-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:01,200 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from null to s2 at term 5 for becomeLeader, leader elected after 10ms
2024-09-30 06:54:01,200 [s2@group-8D00B31B31B7-LeaderElection60] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2024-09-30 06:54:01,200 [s2@group-8D00B31B31B7-LeaderElection60] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2024-09-30 06:54:01,200 [s2@group-8D00B31B31B7-LeaderElection60] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2024-09-30 06:54:01,200 [s2@group-8D00B31B31B7-LeaderElection60] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:01,200 [s2@group-8D00B31B31B7-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8D00B31B31B7: set configuration conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,201 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_5-6
2024-09-30 06:54:01,201 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_5-6
2024-09-30 06:54:01,201 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2024-09-30 06:54:01,201 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_7 at position 0
2024-09-30 06:54:01,202 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from null to s2 at term 5 for appendEntries, leader elected after 8ms
2024-09-30 06:54:01,203 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from null to s2 at term 5 for appendEntries, leader elected after 8ms
2024-09-30 06:54:01,204 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s2->s0#1-t5,previous=(t:4, i:6),leaderCommit=6,initializing? false,entries: size=1, first=(t:5, i:7), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:01,204 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8D00B31B31B7: set configuration conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,204 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2024-09-30 06:54:01,204 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2024-09-30 06:54:01,204 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2024-09-30 06:54:01,204 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:01,206 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_5-6
2024-09-30 06:54:01,206 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_5-6
2024-09-30 06:54:01,206 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2024-09-30 06:54:01,206 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_7 at position 0
2024-09-30 06:54:01,213 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* s2->s1#1-t5,previous=(t:4, i:6),leaderCommit=6,initializing? false,entries: size=1, first=(t:5, i:7), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:01,213 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8D00B31B31B7: set configuration conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,213 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2024-09-30 06:54:01,213 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2024-09-30 06:54:01,213 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2024-09-30 06:54:01,213 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:01,213 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_7
2024-09-30 06:54:01,214 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_7)
2024-09-30 06:54:01,214 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_5-6
2024-09-30 06:54:01,214 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_5-6
2024-09-30 06:54:01,214 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2024-09-30 06:54:01,214 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_7 at position 0
2024-09-30 06:54:01,215 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2024-09-30 06:54:01,216 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_7
2024-09-30 06:54:01,216 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_7)
2024-09-30 06:54:01,216 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2024-09-30 06:54:01,216 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s2<-s0#1:OK-t5,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2024-09-30 06:54:01,217 [s2@group-8D00B31B31B7-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2024-09-30 06:54:01,217 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@704a9f4f
2024-09-30 06:54:01,218 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_7)
2024-09-30 06:54:01,218 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2024-09-30 06:54:01,219 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* s2->s1#2-t5,previous=(t:5, i:7),leaderCommit=7,initializing? false,entries: size=1, first=(t:5, i:8), METADATAENTRY(c:7)
2024-09-30 06:54:01,219 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:01,219 [s2@group-8D00B31B31B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s2@group-8D00B31B31B7-LeaderStateImpl is ready since appliedIndex == startIndex == 7
2024-09-30 06:54:01,219 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2024-09-30 06:54:01,219 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s2->s0#2-t5,previous=(t:5, i:7),leaderCommit=7,initializing? false,entries: size=1, first=(t:5, i:8), METADATAENTRY(c:7)
2024-09-30 06:54:01,219 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2024-09-30 06:54:01,221 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_7)
2024-09-30 06:54:01,224 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2024-09-30 06:54:01,225 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s2<-s0#2:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2024-09-30 06:54:01,225 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@72884645
2024-09-30 06:54:01,225 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_7
2024-09-30 06:54:01,225 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_7)
2024-09-30 06:54:01,226 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 8
2024-09-30 06:54:01,226 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* reply s2<-s1#1:OK-t5,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2024-09-30 06:54:01,226 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* reply s2<-s1#2:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2024-09-30 06:54:01,226 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@76881c
2024-09-30 06:54:01,226 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:01,228 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:01,647 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,647 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$14(482)) - Changed leader from s1 to s2
2024-09-30 06:54:01,647 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2024-09-30 06:54:01,648 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s2
2024-09-30 06:54:01,648 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:01,648 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,648 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,648 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:54:01,685 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s2
2024-09-30 06:54:01,685 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2024-09-30 06:54:01,748 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:01,749 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,749 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,749 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:54:01,849 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:01,850 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,850 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,850 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:54:01,905 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-8D00B31B31B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:296600530ns, electionTimeout:205ms
2024-09-30 06:54:01,905 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:01,905 [s1@group-8D00B31B31B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2024-09-30 06:54:01,905 [s1@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:01,905 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-LeaderElection61
2024-09-30 06:54:01,905 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from s2 to null at term 5 for PRE_VOTE
2024-09-30 06:54:01,905 [s1@group-8D00B31B31B7-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-8D00B31B31B7-LeaderElection61 PRE_VOTE round 0: submit vote requests at term 5 for conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,907 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s1, group-8D00B31B31B7, 5, (t:5, i:8))
2024-09-30 06:54:01,907 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s1, group-8D00B31B31B7, 5, (t:5, i:8))
2024-09-30 06:54:01,907 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8D00B31B31B7-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2024-09-30 06:54:01,907 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:01,907 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8D00B31B31B7 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t5. Peer's state: s2@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,907 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to PRE_VOTE vote request: s1<-s0#0:OK-t5. Peer's state: s0@group-8D00B31B31B7:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,907 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2024-09-30 06:54:01,907 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 4 < currentTerm = 5
2024-09-30 06:54:01,908 [s1@group-8D00B31B31B7-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8D00B31B31B7-LeaderElection61: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:01,908 [s1@group-8D00B31B31B7-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t5
2024-09-30 06:54:01,908 [s1@group-8D00B31B31B7-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-8D00B31B31B7-LeaderElection61 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:01,908 [s1@group-8D00B31B31B7-LeaderElection61] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6f046880
2024-09-30 06:54:01,909 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:54:01,909 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 4 < currentTerm = 5
2024-09-30 06:54:01,909 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 4 < currentTerm = 5
2024-09-30 06:54:01,909 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 5
2024-09-30 06:54:01,910 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 4 < currentTerm = 5
2024-09-30 06:54:01,910 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 4 < currentTerm = 5
2024-09-30 06:54:01,910 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 4 < currentTerm = 5
2024-09-30 06:54:01,910 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:01,911 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 4 < currentTerm = 5
2024-09-30 06:54:01,911 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 17
}
term: 5
nextIndex: 9
result: NOT_LEADER
followerCommit: 8
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:01,911 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 5
2024-09-30 06:54:01,911 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 4 < currentTerm = 5
2024-09-30 06:54:01,911 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 4 < currentTerm = 5
2024-09-30 06:54:01,911 [s1@group-8D00B31B31B7-LeaderElection61] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:01,912 [s1@group-8D00B31B31B7-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-8D00B31B31B7-LeaderElection61 ELECTION round 0: submit vote requests at term 6 for conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,912 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 5
2024-09-30 06:54:01,912 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 5
2024-09-30 06:54:01,912 [s2-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 4 < currentTerm = 5
2024-09-30 06:54:01,912 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 5
2024-09-30 06:54:01,913 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 5
2024-09-30 06:54:01,913 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 5
2024-09-30 06:54:01,913 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:01,913 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8D00B31B31B7: receive requestVote(ELECTION, s1, group-8D00B31B31B7, 6, (t:5, i:8))
2024-09-30 06:54:01,912 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 5
2024-09-30 06:54:01,913 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8D00B31B31B7-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:01,913 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:01,913 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(ELECTION, s1, group-8D00B31B31B7, 6, (t:5, i:8))
2024-09-30 06:54:01,913 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:01,914 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s1
2024-09-30 06:54:01,914 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:01,914 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from s2 to null at term 6 for updateCurrentTerm
2024-09-30 06:54:01,913 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from    LEADER to FOLLOWER at term 5 for candidate:s1
2024-09-30 06:54:01,914 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:01,913 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 5
2024-09-30 06:54:01,914 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:01,914 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 5
2024-09-30 06:54:01,914 [s2@group-8D00B31B31B7->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-8D00B31B31B7->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:01,914 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:01,914 [s2@group-8D00B31B31B7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-8D00B31B31B7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:01,914 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@79d545c
2024-09-30 06:54:01,915 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#2-t5,previous=(t:5, i:7),leaderCommit=7,initializing? false,entries: size=1, first=(t:5, i:8), METADATAENTRY(c:7)
2024-09-30 06:54:01,915 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:01,914 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 14
}
term: 5
nextIndex: 9
result: NOT_LEADER
followerCommit: 8
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:01,914 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#2-t5,previous=(t:5, i:7),leaderCommit=7,initializing? false,entries: size=1, first=(t:5, i:8), METADATAENTRY(c:7)
2024-09-30 06:54:01,915 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:01,914 [grpc-default-executor-6] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-8D00B31B31B7-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:01,915 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:01,915 [grpc-default-executor-6] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from s2 to null at term 5 for candidate:s1
2024-09-30 06:54:01,915 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:01,916 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:01,916 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to ELECTION vote request: s1<-s0#0:OK-t6. Peer's state: s0@group-8D00B31B31B7:t6, leader=null, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,916 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3e9d945e
2024-09-30 06:54:01,916 [s1@group-8D00B31B31B7-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8D00B31B31B7-LeaderElection61: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:01,916 [s1@group-8D00B31B31B7-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t6
2024-09-30 06:54:01,916 [s1@group-8D00B31B31B7-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-8D00B31B31B7-LeaderElection61 ELECTION round 0: result PASSED
2024-09-30 06:54:01,916 [s1@group-8D00B31B31B7-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-8D00B31B31B7-LeaderElection61
2024-09-30 06:54:01,916 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2024-09-30 06:54:01,916 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:01,916 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:01,917 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:01,917 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:01,917 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:01,917 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:01,917 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:01,917 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8D00B31B31B7 replies to ELECTION vote request: s1<-s2#0:OK-t6. Peer's state: s2@group-8D00B31B31B7:t6, leader=null, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c8:last(t:5, i:8), conf=conf: {index: 7, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,917 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:01,917 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:01,917 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:01,917 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:01,917 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:01,917 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:01,918 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:01,918 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:01,918 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:01,918 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:01,918 [s1@group-8D00B31B31B7-LeaderElection61] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:01,918 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:01,918 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:01,918 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:01,918 [s1@group-8D00B31B31B7-LeaderElection61] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:01,918 [s1@group-8D00B31B31B7-LeaderElection61] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:01,918 [s1@group-8D00B31B31B7-LeaderElection61] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:01,918 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:01,918 [s1@group-8D00B31B31B7-LeaderElection61] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:01,919 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from null to s1 at term 6 for becomeLeader, leader elected after 14ms
2024-09-30 06:54:01,920 [s1@group-8D00B31B31B7-LeaderElection61] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2024-09-30 06:54:01,920 [s1@group-8D00B31B31B7-LeaderElection61] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2024-09-30 06:54:01,920 [s1@group-8D00B31B31B7-LeaderElection61] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2024-09-30 06:54:01,920 [s1@group-8D00B31B31B7-LeaderElection61] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:01,920 [s1@group-8D00B31B31B7-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8D00B31B31B7: set configuration conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,921 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_7-8
2024-09-30 06:54:01,921 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_7-8
2024-09-30 06:54:01,921 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2024-09-30 06:54:01,921 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_9 at position 0
2024-09-30 06:54:01,923 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from null to s1 at term 6 for appendEntries, leader elected after 7ms
2024-09-30 06:54:01,923 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from null to s1 at term 6 for appendEntries, leader elected after 9ms
2024-09-30 06:54:01,928 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* s1->s2#1-t6,previous=(t:5, i:8),leaderCommit=8,initializing? false,entries: size=1, first=(t:6, i:9), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:01,928 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8D00B31B31B7: set configuration conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,928 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2024-09-30 06:54:01,928 [s2-server-thread3] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2024-09-30 06:54:01,928 [s2-server-thread3] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2024-09-30 06:54:01,929 [s2-server-thread3] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:01,930 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_7-8
2024-09-30 06:54:01,930 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_7-8
2024-09-30 06:54:01,930 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2024-09-30 06:54:01,930 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_9 at position 0
2024-09-30 06:54:01,934 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s1->s0#1-t6,previous=(t:5, i:8),leaderCommit=8,initializing? false,entries: size=1, first=(t:6, i:9), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:01,934 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8D00B31B31B7: set configuration conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:01,934 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2024-09-30 06:54:01,935 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2024-09-30 06:54:01,935 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2024-09-30 06:54:01,935 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:01,935 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_9
2024-09-30 06:54:01,936 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_9)
2024-09-30 06:54:01,936 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_7-8
2024-09-30 06:54:01,936 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_7-8
2024-09-30 06:54:01,936 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2024-09-30 06:54:01,936 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_9 at position 0
2024-09-30 06:54:01,937 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2024-09-30 06:54:01,941 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_9
2024-09-30 06:54:01,941 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_9)
2024-09-30 06:54:01,942 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2024-09-30 06:54:01,942 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* reply s1<-s2#1:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2024-09-30 06:54:01,943 [s1@group-8D00B31B31B7-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2024-09-30 06:54:01,943 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@39013068
2024-09-30 06:54:01,943 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_9)
2024-09-30 06:54:01,944 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* s1->s2#2-t6,previous=(t:6, i:9),leaderCommit=9,initializing? false,entries: size=1, first=(t:6, i:10), METADATAENTRY(c:9)
2024-09-30 06:54:01,944 [s2-server-thread3] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2024-09-30 06:54:01,944 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_9)
2024-09-30 06:54:01,944 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s1->s0#2-t6,previous=(t:6, i:9),leaderCommit=9,initializing? false,entries: size=1, first=(t:6, i:10), METADATAENTRY(c:9)
2024-09-30 06:54:01,944 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2024-09-30 06:54:01,944 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2024-09-30 06:54:01,945 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2024-09-30 06:54:01,945 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* reply s1<-s2#2:OK-t6,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2024-09-30 06:54:01,945 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6c1a2a2c
2024-09-30 06:54:01,945 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:01,945 [s1@group-8D00B31B31B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-8D00B31B31B7-LeaderStateImpl is ready since appliedIndex == startIndex == 9
2024-09-30 06:54:01,946 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_9
2024-09-30 06:54:01,946 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_9)
2024-09-30 06:54:01,946 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 10
2024-09-30 06:54:01,946 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:01,946 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s1<-s0#2:OK-t6,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2024-09-30 06:54:01,946 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s1<-s0#1:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2024-09-30 06:54:01,946 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3ddbb377
2024-09-30 06:54:01,948 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:01,950 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:01,950 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,951 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,951 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$14(482)) - Changed leader from s2 to s1
2024-09-30 06:54:01,951 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s2
2024-09-30 06:54:01,951 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2024-09-30 06:54:01,951 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:01,952 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,952 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:01,952 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:01,985 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s2
2024-09-30 06:54:01,985 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,985 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2024-09-30 06:54:01,985 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,985 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,985 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,985 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,985 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,986 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,986 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,986 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,986 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,986 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,986 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,986 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,986 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,986 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,986 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,987 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,987 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,987 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,987 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,987 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,987 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,987 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,987 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,987 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:01,988 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,988 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 5 < currentTerm = 6
2024-09-30 06:54:01,988 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,988 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 19
}
term: 6
nextIndex: 11
result: NOT_LEADER
followerCommit: 10
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:01,988 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:01,988 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 6
2024-09-30 06:54:01,988 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 16
}
term: 6
nextIndex: 11
result: NOT_LEADER
followerCommit: 9
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:01,988 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:01,988 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:02,022 [s2-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2024-09-30 06:54:02,023 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:54:02,052 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:02,053 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,053 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,053 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:02,153 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:02,153 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,154 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,154 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:02,254 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:02,255 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,255 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,255 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #4/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:02,355 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:02,356 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,356 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,356 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #5/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:02,378 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-8D00B31B31B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:432801918ns, electionTimeout:184ms
2024-09-30 06:54:02,378 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:02,378 [s2@group-8D00B31B31B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2024-09-30 06:54:02,378 [s2@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:02,378 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-LeaderElection62
2024-09-30 06:54:02,378 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from s1 to null at term 6 for PRE_VOTE
2024-09-30 06:54:02,378 [s2@group-8D00B31B31B7-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-8D00B31B31B7-LeaderElection62 PRE_VOTE round 0: submit vote requests at term 6 for conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,379 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s2, group-8D00B31B31B7, 6, (t:6, i:10))
2024-09-30 06:54:02,379 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s2, group-8D00B31B31B7, 6, (t:6, i:10))
2024-09-30 06:54:02,379 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:02,380 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1117)) - s1@group-8D00B31B31B7-LeaderStateImpl: Lost leadership on term: 6. Election timeout: 300ms. In charge for: 463ms. Conf: conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,380 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to PRE_VOTE vote request: s2<-s0#0:OK-t6. Peer's state: s0@group-8D00B31B31B7:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,380 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s1@group-8D00B31B31B7->s0(c9,m10,n11, caughtUp=true, lastRpcSendTime=17, lastRpcResponseTime=432)
2024-09-30 06:54:02,380 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s1@group-8D00B31B31B7->s2(c9,m10,n11, caughtUp=true, lastRpcSendTime=21, lastRpcResponseTime=434)
2024-09-30 06:54:02,380 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from    LEADER to FOLLOWER at term 6 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:02,380 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:02,380 [s2@group-8D00B31B31B7-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8D00B31B31B7-LeaderElection62: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:02,380 [s2@group-8D00B31B31B7-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t6
2024-09-30 06:54:02,380 [grpc-default-executor-3] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-8D00B31B31B7-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:02,380 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from s1 to null at term 6 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:02,381 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:02,380 [s1@group-8D00B31B31B7->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-8D00B31B31B7->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:02,380 [s1@group-8D00B31B31B7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-8D00B31B31B7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:02,380 [s2@group-8D00B31B31B7-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-8D00B31B31B7-LeaderElection62 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:02,381 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:02,381 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8D00B31B31B7 replies to PRE_VOTE vote request: s2<-s1#0:OK-t6. Peer's state: s1@group-8D00B31B31B7:t6, leader=null, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,381 [s2@group-8D00B31B31B7-LeaderElection62] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6a6bebc1
2024-09-30 06:54:02,381 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t6,previous=(t:6, i:9),leaderCommit=9,initializing? false,entries: size=1, first=(t:6, i:10), METADATAENTRY(c:9)
2024-09-30 06:54:02,381 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:02,381 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#2-t6,previous=(t:6, i:9),leaderCommit=9,initializing? false,entries: size=1, first=(t:6, i:10), METADATAENTRY(c:9)
2024-09-30 06:54:02,381 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:02,382 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:02,382 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:02,382 [s2@group-8D00B31B31B7-LeaderElection62] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:02,382 [s2@group-8D00B31B31B7-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-8D00B31B31B7-LeaderElection62 ELECTION round 0: submit vote requests at term 7 for conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,383 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(ELECTION, s2, group-8D00B31B31B7, 7, (t:6, i:10))
2024-09-30 06:54:02,383 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:02,383 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8D00B31B31B7: receive requestVote(ELECTION, s2, group-8D00B31B31B7, 7, (t:6, i:10))
2024-09-30 06:54:02,383 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s2
2024-09-30 06:54:02,383 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:02,383 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from s1 to null at term 7 for updateCurrentTerm
2024-09-30 06:54:02,383 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:02,383 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:02,383 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:02,384 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s2
2024-09-30 06:54:02,384 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:02,384 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@53c9a133
2024-09-30 06:54:02,384 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:02,384 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:02,384 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2b09f4a4
2024-09-30 06:54:02,385 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:02,385 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to ELECTION vote request: s2<-s0#0:OK-t7. Peer's state: s0@group-8D00B31B31B7:t7, leader=null, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c9:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,385 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:02,385 [s2@group-8D00B31B31B7-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8D00B31B31B7-LeaderElection62: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:02,385 [s2@group-8D00B31B31B7-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t7
2024-09-30 06:54:02,385 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8D00B31B31B7 replies to ELECTION vote request: s2<-s1#0:OK-t7. Peer's state: s1@group-8D00B31B31B7:t7, leader=null, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c10:last(t:6, i:10), conf=conf: {index: 9, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,385 [s2@group-8D00B31B31B7-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-8D00B31B31B7-LeaderElection62 ELECTION round 0: result PASSED
2024-09-30 06:54:02,385 [s2@group-8D00B31B31B7-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-8D00B31B31B7-LeaderElection62
2024-09-30 06:54:02,385 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2024-09-30 06:54:02,385 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:02,386 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:02,387 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:02,387 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:02,387 [s2@group-8D00B31B31B7-LeaderElection62] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:02,387 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:02,387 [s2@group-8D00B31B31B7-LeaderElection62] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:02,387 [s2@group-8D00B31B31B7-LeaderElection62] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:02,387 [s2@group-8D00B31B31B7-LeaderElection62] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:02,387 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:02,387 [s2@group-8D00B31B31B7-LeaderElection62] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:02,387 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:02,387 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:02,387 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from null to s2 at term 7 for becomeLeader, leader elected after 9ms
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2024-09-30 06:54:02,388 [s2@group-8D00B31B31B7-LeaderElection62] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2024-09-30 06:54:02,389 [s2@group-8D00B31B31B7-LeaderElection62] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:02,389 [s2@group-8D00B31B31B7-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8D00B31B31B7: set configuration conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,389 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_9-10
2024-09-30 06:54:02,390 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_9-10
2024-09-30 06:54:02,390 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2024-09-30 06:54:02,390 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_11 at position 0
2024-09-30 06:54:02,390 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from null to s2 at term 7 for appendEntries, leader elected after 9ms
2024-09-30 06:54:02,391 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from null to s2 at term 7 for appendEntries, leader elected after 7ms
2024-09-30 06:54:02,392 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s2->s0#1-t7,previous=(t:6, i:10),leaderCommit=9,initializing? false,entries: size=1, first=(t:7, i:11), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:02,392 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8D00B31B31B7: set configuration conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,392 [s0-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2024-09-30 06:54:02,392 [s0-server-thread3] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2024-09-30 06:54:02,392 [s0-server-thread3] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2024-09-30 06:54:02,393 [s0-server-thread3] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:02,393 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* s2->s1#1-t7,previous=(t:6, i:10),leaderCommit=9,initializing? false,entries: size=1, first=(t:7, i:11), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:02,393 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8D00B31B31B7: set configuration conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,393 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2024-09-30 06:54:02,393 [s1-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2024-09-30 06:54:02,393 [s1-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2024-09-30 06:54:02,393 [s1-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:02,394 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_9-10
2024-09-30 06:54:02,394 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_9-10
2024-09-30 06:54:02,394 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2024-09-30 06:54:02,394 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_11 at position 0
2024-09-30 06:54:02,394 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_9-10
2024-09-30 06:54:02,394 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_9-10
2024-09-30 06:54:02,394 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2024-09-30 06:54:02,395 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_11 at position 0
2024-09-30 06:54:02,407 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_11
2024-09-30 06:54:02,407 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_11)
2024-09-30 06:54:02,407 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2024-09-30 06:54:02,408 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_11
2024-09-30 06:54:02,408 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_11)
2024-09-30 06:54:02,408 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2024-09-30 06:54:02,408 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s2<-s0#1:OK-t7,SUCCESS,nextIndex=12,followerCommit=9,matchIndex=11
2024-09-30 06:54:02,409 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_11
2024-09-30 06:54:02,409 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_11)
2024-09-30 06:54:02,409 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@837fe6c
2024-09-30 06:54:02,409 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2024-09-30 06:54:02,409 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* reply s2<-s1#1:OK-t7,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2024-09-30 06:54:02,410 [s2@group-8D00B31B31B7-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2024-09-30 06:54:02,410 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_11)
2024-09-30 06:54:02,411 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s2->s0#3-t7,previous=(t:7, i:11),leaderCommit=11,initializing? false,entries: size=1, first=(t:7, i:12), METADATAENTRY(c:11)
2024-09-30 06:54:02,410 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:02,410 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* s2->s1#2-t7,previous=(t:7, i:11),leaderCommit=11,initializing? false,entries: size=1, first=(t:7, i:12), METADATAENTRY(c:11)
2024-09-30 06:54:02,411 [s2@group-8D00B31B31B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s2@group-8D00B31B31B7-LeaderStateImpl is ready since appliedIndex == startIndex == 11
2024-09-30 06:54:02,411 [s1-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2024-09-30 06:54:02,411 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_11)
2024-09-30 06:54:02,411 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2024-09-30 06:54:02,411 [s0-server-thread3] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2024-09-30 06:54:02,411 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2024-09-30 06:54:02,411 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_11)
2024-09-30 06:54:02,412 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* reply s2<-s1#2:OK-t7,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2024-09-30 06:54:02,412 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@78defaf0
2024-09-30 06:54:02,412 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2024-09-30 06:54:02,412 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s2<-s0#3:OK-t7,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2024-09-30 06:54:02,412 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@a24f62e
2024-09-30 06:54:02,413 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:02,413 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:02,456 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:02,456 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c12:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,457 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c12:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,457 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$14(482)) - Changed leader from s1 to s2
2024-09-30 06:54:02,457 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2024-09-30 06:54:02,457 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s2
2024-09-30 06:54:02,457 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:02,457 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c12:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,457 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c12:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,458 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:54:02,488 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2024-09-30 06:54:02,488 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s2
2024-09-30 06:54:02,558 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:02,558 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c12:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,558 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c12:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,558 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:54:02,623 [s2-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2024-09-30 06:54:02,623 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,623 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,623 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,623 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:54:02,623 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,623 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,623 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,624 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,624 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,624 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,624 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,624 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,624 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,624 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,624 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,624 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,624 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,625 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,625 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,625 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,625 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,625 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,625 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,625 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,625 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,625 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,625 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,626 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,626 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,626 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,626 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,626 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,626 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,626 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,626 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,626 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,627 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:02,626 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,627 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,627 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 6 < currentTerm = 7
2024-09-30 06:54:02,627 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 15
}
term: 7
nextIndex: 13
result: NOT_LEADER
followerCommit: 12
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:02,627 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:02,627 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 16
}
term: 7
nextIndex: 13
result: NOT_LEADER
followerCommit: 11
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:02,627 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:02,627 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,627 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 7
2024-09-30 06:54:02,628 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:02,659 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:02,659 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c12:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,659 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c12:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,659 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:54:02,713 [s2@group-8D00B31B31B7-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1117)) - s2@group-8D00B31B31B7-LeaderStateImpl: Lost leadership on term: 7. Election timeout: 300ms. In charge for: 327ms. Conf: conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,713 [s2@group-8D00B31B31B7-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s2@group-8D00B31B31B7->s0(c11,m12,n13, caughtUp=true, lastRpcSendTime=36, lastRpcResponseTime=301)
2024-09-30 06:54:02,714 [s2@group-8D00B31B31B7-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s2@group-8D00B31B31B7->s1(c11,m12,n13, caughtUp=true, lastRpcSendTime=36, lastRpcResponseTime=301)
2024-09-30 06:54:02,714 [s2@group-8D00B31B31B7-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from    LEADER to FOLLOWER at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:02,714 [s2@group-8D00B31B31B7-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:02,714 [s2@group-8D00B31B31B7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-8D00B31B31B7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:02,714 [s2@group-8D00B31B31B7-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-8D00B31B31B7-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:02,714 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#2-t7,previous=(t:7, i:11),leaderCommit=11,initializing? false,entries: size=1, first=(t:7, i:12), METADATAENTRY(c:11)
2024-09-30 06:54:02,714 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:02,714 [s2@group-8D00B31B31B7-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from s2 to null at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:02,714 [s2@group-8D00B31B31B7-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:02,715 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:02,715 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#3-t7,previous=(t:7, i:11),leaderCommit=11,initializing? false,entries: size=1, first=(t:7, i:12), METADATAENTRY(c:11)
2024-09-30 06:54:02,715 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:02,715 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:02,759 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:02,760 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t7, leader=null, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c12:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,760 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t7, leader=null, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c12:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:02,862 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-8D00B31B31B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:450687738ns, electionTimeout:189ms
2024-09-30 06:54:02,862 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:02,862 [s1@group-8D00B31B31B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2024-09-30 06:54:02,863 [s1@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:02,863 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-LeaderElection63
2024-09-30 06:54:02,863 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from s2 to null at term 7 for PRE_VOTE
2024-09-30 06:54:02,863 [s1@group-8D00B31B31B7-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-8D00B31B31B7-LeaderElection63 PRE_VOTE round 0: submit vote requests at term 7 for conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,864 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s1, group-8D00B31B31B7, 7, (t:7, i:12))
2024-09-30 06:54:02,864 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s1, group-8D00B31B31B7, 7, (t:7, i:12))
2024-09-30 06:54:02,865 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:02,865 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:02,865 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to PRE_VOTE vote request: s1<-s0#0:OK-t7. Peer's state: s0@group-8D00B31B31B7:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,865 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8D00B31B31B7 replies to PRE_VOTE vote request: s1<-s2#0:OK-t7. Peer's state: s2@group-8D00B31B31B7:t7, leader=null, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c12:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,865 [s1@group-8D00B31B31B7-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8D00B31B31B7-LeaderElection63: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:02,865 [s1@group-8D00B31B31B7-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t7
2024-09-30 06:54:02,865 [s1@group-8D00B31B31B7-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-8D00B31B31B7-LeaderElection63 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:02,866 [s1@group-8D00B31B31B7-LeaderElection63] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@68f98433
2024-09-30 06:54:02,867 [s1@group-8D00B31B31B7-LeaderElection63] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:02,867 [s1@group-8D00B31B31B7-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-8D00B31B31B7-LeaderElection63 ELECTION round 0: submit vote requests at term 8 for conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,867 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(ELECTION, s1, group-8D00B31B31B7, 8, (t:7, i:12))
2024-09-30 06:54:02,868 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:02,868 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s1
2024-09-30 06:54:02,868 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8D00B31B31B7: receive requestVote(ELECTION, s1, group-8D00B31B31B7, 8, (t:7, i:12))
2024-09-30 06:54:02,868 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:02,868 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from s2 to null at term 8 for updateCurrentTerm
2024-09-30 06:54:02,868 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:02,868 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:02,868 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:02,868 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s1
2024-09-30 06:54:02,868 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:02,868 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@14c7617c
2024-09-30 06:54:02,868 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:02,869 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:02,869 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to ELECTION vote request: s1<-s0#0:OK-t8. Peer's state: s0@group-8D00B31B31B7:t8, leader=null, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c11:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,870 [s1@group-8D00B31B31B7-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8D00B31B31B7-LeaderElection63: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:02,870 [s1@group-8D00B31B31B7-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t8
2024-09-30 06:54:02,870 [s1@group-8D00B31B31B7-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-8D00B31B31B7-LeaderElection63 ELECTION round 0: result PASSED
2024-09-30 06:54:02,870 [s1@group-8D00B31B31B7-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-8D00B31B31B7-LeaderElection63
2024-09-30 06:54:02,870 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
2024-09-30 06:54:02,870 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:02,870 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:02,870 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:02,870 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:02,870 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:02,870 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:02,871 [s1@group-8D00B31B31B7-LeaderElection63] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:02,872 [s1@group-8D00B31B31B7-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:02,873 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from null to s1 at term 8 for becomeLeader, leader elected after 9ms
2024-09-30 06:54:02,873 [s1@group-8D00B31B31B7-LeaderElection63] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2024-09-30 06:54:02,873 [s1@group-8D00B31B31B7-LeaderElection63] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2024-09-30 06:54:02,873 [s1@group-8D00B31B31B7-LeaderElection63] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2024-09-30 06:54:02,873 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:02,873 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3db0cbe1
2024-09-30 06:54:02,873 [s1@group-8D00B31B31B7-LeaderElection63] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:02,873 [s1@group-8D00B31B31B7-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8D00B31B31B7: set configuration conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,874 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_11-12
2024-09-30 06:54:02,874 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_11-12
2024-09-30 06:54:02,874 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2024-09-30 06:54:02,874 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:02,874 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_13 at position 0
2024-09-30 06:54:02,875 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8D00B31B31B7 replies to ELECTION vote request: s1<-s2#0:OK-t8. Peer's state: s2@group-8D00B31B31B7:t8, leader=null, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c12:last(t:7, i:12), conf=conf: {index: 11, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,878 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from null to s1 at term 8 for appendEntries, leader elected after 164ms
2024-09-30 06:54:02,880 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* s1->s2#1-t8,previous=(t:7, i:12),leaderCommit=11,initializing? false,entries: size=1, first=(t:8, i:13), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:02,880 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8D00B31B31B7: set configuration conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,881 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2024-09-30 06:54:02,881 [s2-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2024-09-30 06:54:02,881 [s2-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2024-09-30 06:54:02,881 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from null to s1 at term 8 for appendEntries, leader elected after 12ms
2024-09-30 06:54:02,881 [s2-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:02,882 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_11-12
2024-09-30 06:54:02,882 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_11-12
2024-09-30 06:54:02,882 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2024-09-30 06:54:02,882 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_13 at position 0
2024-09-30 06:54:02,886 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s1->s0#1-t8,previous=(t:7, i:12),leaderCommit=11,initializing? false,entries: size=1, first=(t:8, i:13), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:02,886 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8D00B31B31B7: set configuration conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:02,887 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2024-09-30 06:54:02,887 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2024-09-30 06:54:02,887 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2024-09-30 06:54:02,887 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:02,888 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_11-12
2024-09-30 06:54:02,888 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_11-12
2024-09-30 06:54:02,888 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2024-09-30 06:54:02,888 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_13 at position 0
2024-09-30 06:54:02,903 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_13
2024-09-30 06:54:02,903 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_13)
2024-09-30 06:54:02,904 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2024-09-30 06:54:02,904 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_13
2024-09-30 06:54:02,904 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_13)
2024-09-30 06:54:02,904 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2024-09-30 06:54:02,905 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* reply s1<-s2#1:OK-t8,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2024-09-30 06:54:02,905 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_13
2024-09-30 06:54:02,905 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_13)
2024-09-30 06:54:02,905 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2024-09-30 06:54:02,905 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s1<-s0#1:OK-t8,SUCCESS,nextIndex=14,followerCommit=11,matchIndex=13
2024-09-30 06:54:02,905 [s1@group-8D00B31B31B7-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2024-09-30 06:54:02,905 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@686ce378
2024-09-30 06:54:02,906 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_13)
2024-09-30 06:54:02,906 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s1->s0#2-t8,previous=(t:8, i:13),leaderCommit=13,initializing? false,entries: size=1, first=(t:8, i:14), METADATAENTRY(c:13)
2024-09-30 06:54:02,906 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2024-09-30 06:54:02,906 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* s1->s2#2-t8,previous=(t:8, i:13),leaderCommit=13,initializing? false,entries: size=1, first=(t:8, i:14), METADATAENTRY(c:13)
2024-09-30 06:54:02,906 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2024-09-30 06:54:02,906 [s2-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2024-09-30 06:54:02,907 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_13)
2024-09-30 06:54:02,907 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2024-09-30 06:54:02,907 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:02,907 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_13)
2024-09-30 06:54:02,907 [s1@group-8D00B31B31B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-8D00B31B31B7-LeaderStateImpl is ready since appliedIndex == startIndex == 13
2024-09-30 06:54:02,907 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s1<-s0#2:OK-t8,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2024-09-30 06:54:02,907 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2024-09-30 06:54:02,907 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6cb2a2e0
2024-09-30 06:54:02,907 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3da2eae9
2024-09-30 06:54:02,907 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* reply s1<-s2#2:OK-t8,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2024-09-30 06:54:02,909 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:02,909 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:03,210 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:03,211 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$14(482)) - Changed leader from s2 to s1
2024-09-30 06:54:03,211 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s2
2024-09-30 06:54:03,211 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2024-09-30 06:54:03,211 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:03,211 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:03,211 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:03,211 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:03,213 [s2-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2024-09-30 06:54:03,215 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:54:03,312 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:03,312 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:03,312 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:03,312 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:03,388 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2024-09-30 06:54:03,388 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 7 < currentTerm = 8
2024-09-30 06:54:03,388 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s2
2024-09-30 06:54:03,388 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 7 < currentTerm = 8
2024-09-30 06:54:03,389 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 8
2024-09-30 06:54:03,389 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 7 < currentTerm = 8
2024-09-30 06:54:03,389 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 8
2024-09-30 06:54:03,389 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 7 < currentTerm = 8
2024-09-30 06:54:03,389 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 8
2024-09-30 06:54:03,389 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 7 < currentTerm = 8
2024-09-30 06:54:03,389 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 8
2024-09-30 06:54:03,389 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 7 < currentTerm = 8
2024-09-30 06:54:03,389 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 8
2024-09-30 06:54:03,389 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 7 < currentTerm = 8
2024-09-30 06:54:03,390 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 8
2024-09-30 06:54:03,390 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 7 < currentTerm = 8
2024-09-30 06:54:03,390 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 8
2024-09-30 06:54:03,390 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 7 < currentTerm = 8
2024-09-30 06:54:03,390 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 8
2024-09-30 06:54:03,390 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 7 < currentTerm = 8
2024-09-30 06:54:03,390 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 8
2024-09-30 06:54:03,390 [s0-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 7 < currentTerm = 8
2024-09-30 06:54:03,390 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:03,390 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 7 < currentTerm = 8
2024-09-30 06:54:03,390 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:03,391 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 11
}
term: 8
nextIndex: 15
result: NOT_LEADER
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:03,391 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 9
}
term: 8
nextIndex: 15
result: NOT_LEADER
followerCommit: 14
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:03,391 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 8
2024-09-30 06:54:03,391 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 8
2024-09-30 06:54:03,391 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 8
2024-09-30 06:54:03,391 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:03,391 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:03,413 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:03,413 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:03,413 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:03,413 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:03,509 [s1@group-8D00B31B31B7-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1117)) - s1@group-8D00B31B31B7-LeaderStateImpl: Lost leadership on term: 8. Election timeout: 300ms. In charge for: 638ms. Conf: conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:03,509 [s1@group-8D00B31B31B7-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s1@group-8D00B31B31B7->s0(c14,m14,n15, caughtUp=true, lastRpcSendTime=30, lastRpcResponseTime=370)
2024-09-30 06:54:03,509 [s1@group-8D00B31B31B7-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s1@group-8D00B31B31B7->s2(c14,m14,n15, caughtUp=true, lastRpcSendTime=31, lastRpcResponseTime=371)
2024-09-30 06:54:03,509 [s1@group-8D00B31B31B7-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from    LEADER to FOLLOWER at term 8 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:03,509 [s1@group-8D00B31B31B7-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:03,510 [s1@group-8D00B31B31B7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-8D00B31B31B7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:03,510 [s1@group-8D00B31B31B7-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-8D00B31B31B7-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:03,510 [s1@group-8D00B31B31B7->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-8D00B31B31B7->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:03,510 [s1@group-8D00B31B31B7-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from s1 to null at term 8 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:03,510 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#2-t8,previous=(t:8, i:13),leaderCommit=13,initializing? false,entries: size=1, first=(t:8, i:14), METADATAENTRY(c:13)
2024-09-30 06:54:03,510 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:03,510 [s1@group-8D00B31B31B7-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:03,510 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t8,previous=(t:8, i:13),leaderCommit=13,initializing? false,entries: size=1, first=(t:8, i:14), METADATAENTRY(c:13)
2024-09-30 06:54:03,510 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:03,511 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:03,511 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:03,513 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:03,514 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t8, leader=null, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:03,514 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t8, leader=null, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:03,515 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-8D00B31B31B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:377656896ns, electionTimeout:265ms
2024-09-30 06:54:03,515 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:03,515 [s2@group-8D00B31B31B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2024-09-30 06:54:03,515 [s2@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:03,515 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-LeaderElection64
2024-09-30 06:54:03,515 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from s1 to null at term 8 for PRE_VOTE
2024-09-30 06:54:03,515 [s2@group-8D00B31B31B7-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-8D00B31B31B7-LeaderElection64 PRE_VOTE round 0: submit vote requests at term 8 for conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:03,516 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s2, group-8D00B31B31B7, 8, (t:8, i:14))
2024-09-30 06:54:03,516 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s2, group-8D00B31B31B7, 8, (t:8, i:14))
2024-09-30 06:54:03,516 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:03,516 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:03,517 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to PRE_VOTE vote request: s2<-s0#0:OK-t8. Peer's state: s0@group-8D00B31B31B7:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:03,517 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8D00B31B31B7 replies to PRE_VOTE vote request: s2<-s1#0:OK-t8. Peer's state: s1@group-8D00B31B31B7:t8, leader=null, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:03,518 [s2@group-8D00B31B31B7-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8D00B31B31B7-LeaderElection64: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:03,518 [s2@group-8D00B31B31B7-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t8
2024-09-30 06:54:03,518 [s2@group-8D00B31B31B7-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-8D00B31B31B7-LeaderElection64 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:03,518 [s2@group-8D00B31B31B7-LeaderElection64] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3b4363b9
2024-09-30 06:54:03,519 [s2@group-8D00B31B31B7-LeaderElection64] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:03,520 [s2@group-8D00B31B31B7-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-8D00B31B31B7-LeaderElection64 ELECTION round 0: submit vote requests at term 9 for conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:03,520 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8D00B31B31B7: receive requestVote(ELECTION, s2, group-8D00B31B31B7, 9, (t:8, i:14))
2024-09-30 06:54:03,521 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:03,521 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s2
2024-09-30 06:54:03,521 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:03,521 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:03,521 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:03,521 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@73f25783
2024-09-30 06:54:03,522 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:03,522 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8D00B31B31B7 replies to ELECTION vote request: s2<-s1#0:OK-t9. Peer's state: s1@group-8D00B31B31B7:t9, leader=null, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c14:last(t:8, i:14), conf=conf: {index: 13, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:03,522 [s2@group-8D00B31B31B7-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8D00B31B31B7-LeaderElection64: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t9
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-8D00B31B31B7-LeaderElection64 ELECTION round 0: result PASSED
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-8D00B31B31B7-LeaderElection64
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from CANDIDATE to LEADER at term 9 for changeToLeader
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:03,523 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:03,524 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:03,525 [s2@group-8D00B31B31B7-LeaderElection64] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:03,525 [s2@group-8D00B31B31B7-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:03,525 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from null to s2 at term 9 for becomeLeader, leader elected after 9ms
2024-09-30 06:54:03,525 [s2@group-8D00B31B31B7-LeaderElection64] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2024-09-30 06:54:03,525 [s2@group-8D00B31B31B7-LeaderElection64] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2024-09-30 06:54:03,525 [s2@group-8D00B31B31B7-LeaderElection64] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2024-09-30 06:54:03,525 [s2@group-8D00B31B31B7-LeaderElection64] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:03,526 [s2@group-8D00B31B31B7-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8D00B31B31B7: set configuration conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:03,527 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from null to s2 at term 9 for appendEntries, leader elected after 17ms
2024-09-30 06:54:03,528 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from s1 to null at term 9 for updateCurrentTerm
2024-09-30 06:54:03,528 [s0-server-thread3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@618af7ea
2024-09-30 06:54:03,529 [s0-server-thread3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:03,529 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from null to s2 at term 9 for appendEntries, leader elected after 1ms
2024-09-30 06:54:03,529 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s2->s0#1-t9,previous=(t:8, i:14),leaderCommit=14,initializing? false,entries: size=1, first=(t:9, i:15), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:03,529 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_13-14
2024-09-30 06:54:03,529 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_13-14
2024-09-30 06:54:03,530 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2024-09-30 06:54:03,529 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8D00B31B31B7: set configuration conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:03,530 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2024-09-30 06:54:03,530 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2024-09-30 06:54:03,530 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2024-09-30 06:54:03,530 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* s2->s1#1-t9,previous=(t:8, i:14),leaderCommit=14,initializing? false,entries: size=1, first=(t:9, i:15), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:03,530 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8D00B31B31B7: set configuration conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:03,530 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2024-09-30 06:54:03,531 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2024-09-30 06:54:03,531 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2024-09-30 06:54:03,531 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:03,531 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_13-14
2024-09-30 06:54:03,531 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_13-14
2024-09-30 06:54:03,532 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2024-09-30 06:54:03,532 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_15 at position 0
2024-09-30 06:54:03,530 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:03,534 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_15 at position 0
2024-09-30 06:54:03,535 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_13-14
2024-09-30 06:54:03,535 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_13-14
2024-09-30 06:54:03,535 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2024-09-30 06:54:03,535 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_15 at position 0
2024-09-30 06:54:03,550 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_15
2024-09-30 06:54:03,550 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_15)
2024-09-30 06:54:03,551 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2024-09-30 06:54:03,551 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_15
2024-09-30 06:54:03,551 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_15)
2024-09-30 06:54:03,551 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2024-09-30 06:54:03,551 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* reply s2<-s1#1:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2024-09-30 06:54:03,551 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_15
2024-09-30 06:54:03,552 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_15)
2024-09-30 06:54:03,552 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2024-09-30 06:54:03,552 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1936baf5
2024-09-30 06:54:03,552 [s2@group-8D00B31B31B7-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2024-09-30 06:54:03,552 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s2<-s0#1:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2024-09-30 06:54:03,552 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_15)
2024-09-30 06:54:03,553 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2024-09-30 06:54:03,554 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s2->s0#2-t9,previous=(t:9, i:15),leaderCommit=15,initializing? false,entries: size=1, first=(t:9, i:16), METADATAENTRY(c:15)
2024-09-30 06:54:03,554 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* s2->s1#3-t9,previous=(t:9, i:15),leaderCommit=15,initializing? false,entries: size=1, first=(t:9, i:16), METADATAENTRY(c:15)
2024-09-30 06:54:03,554 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2024-09-30 06:54:03,554 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2024-09-30 06:54:03,554 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_15)
2024-09-30 06:54:03,554 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:03,554 [s2@group-8D00B31B31B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s2@group-8D00B31B31B7-LeaderStateImpl is ready since appliedIndex == startIndex == 15
2024-09-30 06:54:03,554 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2024-09-30 06:54:03,554 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_15)
2024-09-30 06:54:03,554 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5cb86b5d
2024-09-30 06:54:03,554 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s2<-s0#2:OK-t9,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2024-09-30 06:54:03,554 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2024-09-30 06:54:03,555 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* reply s2<-s1#3:OK-t9,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2024-09-30 06:54:03,555 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5ceea001
2024-09-30 06:54:03,556 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:03,556 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:03,964 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t9, leader=s2, voted=null, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:03,964 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$14(482)) - Changed leader from s1 to s2
2024-09-30 06:54:03,965 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2024-09-30 06:54:03,965 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s2
2024-09-30 06:54:03,965 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:03,965 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t9, leader=s2, voted=null, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:03,965 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t9, leader=s2, voted=null, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:03,965 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:54:04,013 [s0-server-thread4] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2024-09-30 06:54:04,014 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s2
2024-09-30 06:54:04,066 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:04,066 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t9, leader=s2, voted=null, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,066 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t9, leader=s2, voted=null, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,066 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:54:04,113 [s2-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2024-09-30 06:54:04,114 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,114 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,114 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,114 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,114 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,115 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,115 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,115 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,115 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,115 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:54:04,115 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,115 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,116 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,116 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,116 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,116 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,116 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,116 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,116 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,116 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,117 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,117 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,117 [s2-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,117 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:04,117 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,117 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,117 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 14
}
term: 9
nextIndex: 17
result: NOT_LEADER
followerCommit: 16
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:04,117 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,117 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,117 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,118 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:04,118 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,118 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,119 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,119 [s0-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 8 < currentTerm = 9
2024-09-30 06:54:04,119 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:04,119 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 15
}
term: 9
nextIndex: 17
result: NOT_LEADER
followerCommit: 16
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:04,119 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 9
2024-09-30 06:54:04,119 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:04,167 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:04,167 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t9, leader=s2, voted=null, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,167 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t9, leader=s2, voted=null, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,167 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
2024-09-30 06:54:04,201 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-8D00B31B31B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:263780716ns, electionTimeout:228ms
2024-09-30 06:54:04,201 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:04,201 [s1@group-8D00B31B31B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2024-09-30 06:54:04,202 [s1@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:04,202 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-LeaderElection65
2024-09-30 06:54:04,202 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from s2 to null at term 9 for PRE_VOTE
2024-09-30 06:54:04,202 [s1@group-8D00B31B31B7-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-8D00B31B31B7-LeaderElection65 PRE_VOTE round 0: submit vote requests at term 9 for conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,203 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s1, group-8D00B31B31B7, 9, (t:9, i:16))
2024-09-30 06:54:04,203 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8D00B31B31B7-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2024-09-30 06:54:04,204 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8D00B31B31B7 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t9. Peer's state: s2@group-8D00B31B31B7:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,204 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s1, group-8D00B31B31B7, 9, (t:9, i:16))
2024-09-30 06:54:04,204 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:04,204 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to PRE_VOTE vote request: s1<-s0#0:OK-t9. Peer's state: s0@group-8D00B31B31B7:t9, leader=s2, voted=null, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,204 [s1@group-8D00B31B31B7-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8D00B31B31B7-LeaderElection65: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:04,205 [s1@group-8D00B31B31B7-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t9
2024-09-30 06:54:04,205 [s1@group-8D00B31B31B7-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-8D00B31B31B7-LeaderElection65 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:04,205 [s1@group-8D00B31B31B7-LeaderElection65] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@343fd4e1
2024-09-30 06:54:04,206 [s1@group-8D00B31B31B7-LeaderElection65] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:04,206 [s1@group-8D00B31B31B7-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-8D00B31B31B7-LeaderElection65 ELECTION round 0: submit vote requests at term 10 for conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,206 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(ELECTION, s1, group-8D00B31B31B7, 10, (t:9, i:16))
2024-09-30 06:54:04,207 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:04,207 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s1
2024-09-30 06:54:04,207 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:04,207 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-8D00B31B31B7: receive requestVote(ELECTION, s1, group-8D00B31B31B7, 10, (t:9, i:16))
2024-09-30 06:54:04,207 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from s2 to null at term 10 for updateCurrentTerm
2024-09-30 06:54:04,207 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:04,207 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8D00B31B31B7-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:04,207 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from    LEADER to FOLLOWER at term 9 for candidate:s1
2024-09-30 06:54:04,207 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:04,207 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:04,207 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6698071e
2024-09-30 06:54:04,207 [s2@group-8D00B31B31B7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-8D00B31B31B7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:04,207 [grpc-default-executor-6] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-8D00B31B31B7-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:04,208 [s2@group-8D00B31B31B7->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-8D00B31B31B7->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:04,208 [grpc-default-executor-6] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from s2 to null at term 9 for candidate:s1
2024-09-30 06:54:04,208 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#3-t9,previous=(t:9, i:15),leaderCommit=15,initializing? false,entries: size=1, first=(t:9, i:16), METADATAENTRY(c:15)
2024-09-30 06:54:04,208 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:04,208 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:04,208 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4c1af4c9
2024-09-30 06:54:04,208 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#2-t9,previous=(t:9, i:15),leaderCommit=15,initializing? false,entries: size=1, first=(t:9, i:16), METADATAENTRY(c:15)
2024-09-30 06:54:04,209 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:04,208 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:04,209 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:04,209 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:04,208 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to ELECTION vote request: s1<-s0#0:OK-t10. Peer's state: s0@group-8D00B31B31B7:t10, leader=null, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,209 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:04,210 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-8D00B31B31B7 replies to ELECTION vote request: s1<-s2#0:OK-t10. Peer's state: s2@group-8D00B31B31B7:t10, leader=null, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c16:last(t:9, i:16), conf=conf: {index: 15, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,210 [s1@group-8D00B31B31B7-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-8D00B31B31B7-LeaderElection65: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:04,210 [s1@group-8D00B31B31B7-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t10
2024-09-30 06:54:04,210 [s1@group-8D00B31B31B7-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-8D00B31B31B7-LeaderElection65 ELECTION round 0: result PASSED
2024-09-30 06:54:04,210 [s1@group-8D00B31B31B7-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-8D00B31B31B7-LeaderElection65
2024-09-30 06:54:04,210 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from CANDIDATE to LEADER at term 10 for changeToLeader
2024-09-30 06:54:04,210 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:04,210 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:04,210 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:04,210 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:04,211 [s1@group-8D00B31B31B7-LeaderElection65] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:04,212 [s1@group-8D00B31B31B7-LeaderElection65] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:04,213 [s1@group-8D00B31B31B7-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:04,213 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from null to s1 at term 10 for becomeLeader, leader elected after 10ms
2024-09-30 06:54:04,213 [s1@group-8D00B31B31B7-LeaderElection65] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2024-09-30 06:54:04,213 [s1@group-8D00B31B31B7-LeaderElection65] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2024-09-30 06:54:04,213 [s1@group-8D00B31B31B7-LeaderElection65] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2024-09-30 06:54:04,213 [s1@group-8D00B31B31B7-LeaderElection65] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:04,213 [s1@group-8D00B31B31B7-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8D00B31B31B7: set configuration conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,214 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_15-16
2024-09-30 06:54:04,214 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_15-16
2024-09-30 06:54:04,214 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2024-09-30 06:54:04,214 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_17 at position 0
2024-09-30 06:54:04,216 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from null to s1 at term 10 for appendEntries, leader elected after 9ms
2024-09-30 06:54:04,217 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s1->s0#1-t10,previous=(t:9, i:16),leaderCommit=16,initializing? false,entries: size=1, first=(t:10, i:17), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:04,217 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from null to s1 at term 10 for appendEntries, leader elected after 9ms
2024-09-30 06:54:04,217 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8D00B31B31B7: set configuration conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,217 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2024-09-30 06:54:04,217 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2024-09-30 06:54:04,217 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2024-09-30 06:54:04,218 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:04,219 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_15-16
2024-09-30 06:54:04,219 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_15-16
2024-09-30 06:54:04,219 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2024-09-30 06:54:04,219 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_17 at position 0
2024-09-30 06:54:04,225 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* s1->s2#1-t10,previous=(t:9, i:16),leaderCommit=16,initializing? false,entries: size=1, first=(t:10, i:17), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:04,225 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8D00B31B31B7: set configuration conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,225 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2024-09-30 06:54:04,225 [s2-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2024-09-30 06:54:04,225 [s2-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2024-09-30 06:54:04,226 [s2-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:04,228 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_17
2024-09-30 06:54:04,228 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_17)
2024-09-30 06:54:04,228 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2024-09-30 06:54:04,229 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_17
2024-09-30 06:54:04,229 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_17)
2024-09-30 06:54:04,229 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_15-16
2024-09-30 06:54:04,229 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_15-16
2024-09-30 06:54:04,229 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2024-09-30 06:54:04,229 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2024-09-30 06:54:04,229 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s1<-s0#1:OK-t10,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2024-09-30 06:54:04,229 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_17 at position 0
2024-09-30 06:54:04,230 [s1@group-8D00B31B31B7-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2024-09-30 06:54:04,230 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6cdc5984
2024-09-30 06:54:04,230 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s1->s0#3-t10,previous=(t:10, i:17),leaderCommit=17,initializing? false,entries: size=1, first=(t:10, i:18), METADATAENTRY(c:17)
2024-09-30 06:54:04,231 [s0-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2024-09-30 06:54:04,231 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_17)
2024-09-30 06:54:04,230 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_17)
2024-09-30 06:54:04,231 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2024-09-30 06:54:04,231 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s1<-s0#3:OK-t10,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2024-09-30 06:54:04,231 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2024-09-30 06:54:04,231 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:04,231 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3c982bb6
2024-09-30 06:54:04,232 [s1@group-8D00B31B31B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-8D00B31B31B7-LeaderStateImpl is ready since appliedIndex == startIndex == 17
2024-09-30 06:54:04,233 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:04,234 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* s1->s2#2-t10,previous=(t:10, i:17),leaderCommit=17,initializing? false,entries: size=1, first=(t:10, i:18), METADATAENTRY(c:17)
2024-09-30 06:54:04,234 [s2-server-thread2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2024-09-30 06:54:04,239 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_17
2024-09-30 06:54:04,239 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_17)
2024-09-30 06:54:04,239 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 18
2024-09-30 06:54:04,240 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* reply s1<-s2#1:OK-t10,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2024-09-30 06:54:04,240 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-8D00B31B31B7: appendEntries* reply s1<-s2#2:OK-t10,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2024-09-30 06:54:04,240 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@24c0b8b5
2024-09-30 06:54:04,241 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:04,267 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:04,268 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,268 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,268 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$14(482)) - Changed leader from s2 to s1
2024-09-30 06:54:04,268 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s2
2024-09-30 06:54:04,268 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2024-09-30 06:54:04,268 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:04,268 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,269 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,269 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:04,308 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:54:04,313 [s0-server-thread4] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2024-09-30 06:54:04,313 [s0-server-thread4] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 9 < currentTerm = 10
2024-09-30 06:54:04,313 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 10
2024-09-30 06:54:04,313 [s0-server-thread4] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 9 < currentTerm = 10
2024-09-30 06:54:04,314 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 10
2024-09-30 06:54:04,314 [s0-server-thread4] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 9 < currentTerm = 10
2024-09-30 06:54:04,314 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 10
2024-09-30 06:54:04,314 [s0-server-thread4] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 9 < currentTerm = 10
2024-09-30 06:54:04,314 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s2
2024-09-30 06:54:04,314 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 9 < currentTerm = 10
2024-09-30 06:54:04,314 [s0-server-thread4] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 9 < currentTerm = 10
2024-09-30 06:54:04,315 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 9 < currentTerm = 10
2024-09-30 06:54:04,315 [s0-server-thread4] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 9 < currentTerm = 10
2024-09-30 06:54:04,315 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 10
2024-09-30 06:54:04,315 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:04,315 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 10
2024-09-30 06:54:04,315 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 16
}
term: 10
nextIndex: 19
result: NOT_LEADER
followerCommit: 17
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:04,315 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 10
2024-09-30 06:54:04,315 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 9 < currentTerm = 10
2024-09-30 06:54:04,316 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 10
2024-09-30 06:54:04,316 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 10
2024-09-30 06:54:04,316 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 10
2024-09-30 06:54:04,316 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:04,318 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2024-09-30 06:54:04,323 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 9 < currentTerm = 10
2024-09-30 06:54:04,324 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 10
2024-09-30 06:54:04,324 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 9 < currentTerm = 10
2024-09-30 06:54:04,324 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 10
2024-09-30 06:54:04,324 [s1-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-8D00B31B31B7: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 9 < currentTerm = 10
2024-09-30 06:54:04,324 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:04,324 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 10
2024-09-30 06:54:04,324 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  callId: 17
}
term: 10
nextIndex: 19
result: NOT_LEADER
followerCommit: 18
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:04,325 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:04,369 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:04,369 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,369 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,370 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:04,470 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:04,470 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,470 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,471 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:04,571 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:04,571 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,571 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,572 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #4/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:04,672 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:04,672 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,672 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,673 [main] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #5/20, sleep 100ms and then retry: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
2024-09-30 06:54:04,673 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-8D00B31B31B7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:433403020ns, electionTimeout:203ms
2024-09-30 06:54:04,673 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:04,673 [s2@group-8D00B31B31B7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2024-09-30 06:54:04,673 [s2@group-8D00B31B31B7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:04,673 [s2@group-8D00B31B31B7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-LeaderElection66
2024-09-30 06:54:04,674 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from s1 to null at term 10 for PRE_VOTE
2024-09-30 06:54:04,674 [s2@group-8D00B31B31B7-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-8D00B31B31B7-LeaderElection66 PRE_VOTE round 0: submit vote requests at term 10 for conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,675 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s2, group-8D00B31B31B7, 10, (t:10, i:18))
2024-09-30 06:54:04,675 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8D00B31B31B7: receive requestVote(PRE_VOTE, s2, group-8D00B31B31B7, 10, (t:10, i:18))
2024-09-30 06:54:04,675 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:04,675 [grpc-default-executor-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1117)) - s1@group-8D00B31B31B7-LeaderStateImpl: Lost leadership on term: 10. Election timeout: 300ms. In charge for: 464ms. Conf: conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,675 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to PRE_VOTE vote request: s2<-s0#0:OK-t10. Peer's state: s0@group-8D00B31B31B7:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,675 [grpc-default-executor-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s1@group-8D00B31B31B7->s0(c17,m18,n19, caughtUp=true, lastRpcSendTime=26, lastRpcResponseTime=443)
2024-09-30 06:54:04,675 [grpc-default-executor-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s1@group-8D00B31B31B7->s2(c17,m18,n19, caughtUp=true, lastRpcSendTime=17, lastRpcResponseTime=434)
2024-09-30 06:54:04,675 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from    LEADER to FOLLOWER at term 10 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:04,675 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:04,676 [s1@group-8D00B31B31B7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-8D00B31B31B7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:04,676 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-8D00B31B31B7-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:04,676 [s1@group-8D00B31B31B7->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-8D00B31B31B7->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:04,676 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from s1 to null at term 10 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:04,676 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:04,676 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t10,previous=(t:10, i:17),leaderCommit=17,initializing? false,entries: size=1, first=(t:10, i:18), METADATAENTRY(c:17)
2024-09-30 06:54:04,676 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8D00B31B31B7-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:04,676 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#3-t10,previous=(t:10, i:17),leaderCommit=17,initializing? false,entries: size=1, first=(t:10, i:18), METADATAENTRY(c:17)
2024-09-30 06:54:04,676 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:04,676 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8D00B31B31B7 replies to PRE_VOTE vote request: s2<-s1#0:OK-t10. Peer's state: s1@group-8D00B31B31B7:t10, leader=null, voted=s1, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,676 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:04,676 [s2@group-8D00B31B31B7-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8D00B31B31B7-LeaderElection66: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:04,677 [s2@group-8D00B31B31B7-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t10
2024-09-30 06:54:04,677 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:04,677 [s2@group-8D00B31B31B7-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-8D00B31B31B7-LeaderElection66 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:04,677 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-8D00B31B31B7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:04,677 [s2@group-8D00B31B31B7-LeaderElection66] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2cead315
2024-09-30 06:54:04,678 [s2@group-8D00B31B31B7-LeaderElection66] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:04,678 [s2@group-8D00B31B31B7-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-8D00B31B31B7-LeaderElection66 ELECTION round 0: submit vote requests at term 11 for conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,679 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-8D00B31B31B7: receive requestVote(ELECTION, s2, group-8D00B31B31B7, 11, (t:10, i:18))
2024-09-30 06:54:04,679 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-8D00B31B31B7: receive requestVote(ELECTION, s2, group-8D00B31B31B7, 11, (t:10, i:18))
2024-09-30 06:54:04,679 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:04,679 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8D00B31B31B7-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:04,679 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s2
2024-09-30 06:54:04,679 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:04,679 [grpc-default-executor-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from s1 to null at term 11 for updateCurrentTerm
2024-09-30 06:54:04,679 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:04,679 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-8D00B31B31B7: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s2
2024-09-30 06:54:04,680 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:04,679 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:04,680 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:04,680 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7a8eed36
2024-09-30 06:54:04,680 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:04,680 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@29cafaa0
2024-09-30 06:54:04,681 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:04,681 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-8D00B31B31B7 replies to ELECTION vote request: s2<-s0#0:OK-t11. Peer's state: s0@group-8D00B31B31B7:t11, leader=null, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c17:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,681 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:04,681 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-8D00B31B31B7 replies to ELECTION vote request: s2<-s1#0:OK-t11. Peer's state: s1@group-8D00B31B31B7:t11, leader=null, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c18:last(t:10, i:18), conf=conf: {index: 17, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,681 [s2@group-8D00B31B31B7-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-8D00B31B31B7-LeaderElection66: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:04,681 [s2@group-8D00B31B31B7-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t11
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-8D00B31B31B7-LeaderElection66 ELECTION round 0: result PASSED
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-8D00B31B31B7-LeaderElection66
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-8D00B31B31B7: changes role from CANDIDATE to LEADER at term 11 for changeToLeader
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:04,682 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:04,683 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:04,683 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:04,683 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:04,683 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:04,683 [s2@group-8D00B31B31B7-LeaderElection66] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:04,683 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:04,683 [s2@group-8D00B31B31B7-LeaderElection66] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:04,683 [s2@group-8D00B31B31B7-LeaderElection66] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:04,683 [s2@group-8D00B31B31B7-LeaderElection66] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:04,683 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:04,683 [s2@group-8D00B31B31B7-LeaderElection66] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:04,684 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:04,684 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:04,684 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:04,684 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:04,684 [s2@group-8D00B31B31B7-LeaderElection66] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:04,684 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:04,684 [s2@group-8D00B31B31B7-LeaderElection66] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:04,684 [s2@group-8D00B31B31B7-LeaderElection66] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:04,684 [s2@group-8D00B31B31B7-LeaderElection66] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:04,684 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:04,684 [s2@group-8D00B31B31B7-LeaderElection66] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:04,684 [s2@group-8D00B31B31B7-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:04,685 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-8D00B31B31B7: change Leader from null to s2 at term 11 for becomeLeader, leader elected after 11ms
2024-09-30 06:54:04,685 [s2@group-8D00B31B31B7-LeaderElection66] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2024-09-30 06:54:04,685 [s2@group-8D00B31B31B7-LeaderElection66] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2024-09-30 06:54:04,686 [s2@group-8D00B31B31B7-LeaderElection66] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2024-09-30 06:54:04,686 [s2@group-8D00B31B31B7-LeaderElection66] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:04,686 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_17-18
2024-09-30 06:54:04,686 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_17-18
2024-09-30 06:54:04,686 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2024-09-30 06:54:04,687 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_19 at position 0
2024-09-30 06:54:04,686 [s2@group-8D00B31B31B7-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8D00B31B31B7: set configuration conf: {index: 19, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,695 [s0-server-thread4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-8D00B31B31B7: change Leader from null to s2 at term 11 for appendEntries, leader elected after 15ms
2024-09-30 06:54:04,695 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-8D00B31B31B7: change Leader from null to s2 at term 11 for appendEntries, leader elected after 18ms
2024-09-30 06:54:04,697 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_19
2024-09-30 06:54:04,697 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_19)
2024-09-30 06:54:04,698 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2024-09-30 06:54:04,698 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* s2->s1#1-t11,previous=(t:10, i:18),leaderCommit=17,initializing? false,entries: size=1, first=(t:11, i:19), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:04,698 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s2->s0#1-t11,previous=(t:10, i:18),leaderCommit=17,initializing? false,entries: size=1, first=(t:11, i:19), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:04,698 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8D00B31B31B7: set configuration conf: {index: 19, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,698 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2024-09-30 06:54:04,698 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2024-09-30 06:54:04,698 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2024-09-30 06:54:04,699 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:04,698 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8D00B31B31B7: set configuration conf: {index: 19, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null}
2024-09-30 06:54:04,699 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2024-09-30 06:54:04,699 [s0-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2024-09-30 06:54:04,699 [s0-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2024-09-30 06:54:04,699 [s0-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15228"dataStreamAddress:"localhost:15231"clientAddress:"localhost:15230"adminAddress:"localhost:15229"startupRole:FOLLOWER, id:"s1"address:"localhost:15232"dataStreamAddress:"localhost:15235"clientAddress:"localhost:15234"adminAddress:"localhost:15233"startupRole:FOLLOWER, id:"s2"address:"localhost:15236"dataStreamAddress:"localhost:15239"clientAddress:"localhost:15238"adminAddress:"localhost:15237"startupRole:FOLLOWER, old:)
2024-09-30 06:54:04,700 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_17-18
2024-09-30 06:54:04,700 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_17-18
2024-09-30 06:54:04,700 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2024-09-30 06:54:04,700 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_19 at position 0
2024-09-30 06:54:04,700 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_17-18
2024-09-30 06:54:04,701 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_17-18
2024-09-30 06:54:04,701 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2024-09-30 06:54:04,701 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_19 at position 0
2024-09-30 06:54:04,712 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_19
2024-09-30 06:54:04,713 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_19)
2024-09-30 06:54:04,713 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2024-09-30 06:54:04,713 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* reply s2<-s1#1:OK-t11,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2024-09-30 06:54:04,713 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/log_inprogress_19
2024-09-30 06:54:04,713 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_19)
2024-09-30 06:54:04,714 [s2@group-8D00B31B31B7-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2024-09-30 06:54:04,714 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1333f6df
2024-09-30 06:54:04,714 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_19)
2024-09-30 06:54:04,715 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2024-09-30 06:54:04,715 [s2@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2024-09-30 06:54:04,715 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s2<-s0#1:OK-t11,SUCCESS,nextIndex=20,followerCommit=17,matchIndex=19
2024-09-30 06:54:04,715 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* s2->s1#2-t11,previous=(t:11, i:19),leaderCommit=19,initializing? false,entries: size=1, first=(t:11, i:20), METADATAENTRY(c:19)
2024-09-30 06:54:04,715 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* s2->s0#2-t11,previous=(t:11, i:19),leaderCommit=19,initializing? false,entries: size=1, first=(t:11, i:20), METADATAENTRY(c:19)
2024-09-30 06:54:04,715 [s1-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2024-09-30 06:54:04,715 [s0-server-thread1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(275)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2024-09-30 06:54:04,715 [s2@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s2/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:04,715 [s2@group-8D00B31B31B7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s2@group-8D00B31B31B7-LeaderStateImpl is ready since appliedIndex == startIndex == 19
2024-09-30 06:54:04,716 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_19)
2024-09-30 06:54:04,716 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(369)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_19)
2024-09-30 06:54:04,716 [s1@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2024-09-30 06:54:04,716 [s0@group-8D00B31B31B7-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(139)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2024-09-30 06:54:04,716 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-8D00B31B31B7: appendEntries* reply s2<-s1#2:OK-t11,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2024-09-30 06:54:04,716 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-8D00B31B31B7: appendEntries* reply s2<-s0#2:OK-t11,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2024-09-30 06:54:04,716 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@11203f8d
2024-09-30 06:54:04,716 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@63da3795
2024-09-30 06:54:04,717 [s0@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s0/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:04,718 [s1@group-8D00B31B31B7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc9b547c8c/s1/46af6ca0-bfa7-4fd1-bebf-8d00b31b31b7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:04,773 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:04,773 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t11, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c19:last(t:11, i:20), conf=conf: {index: 19, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t11, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c19:last(t:11, i:20), conf=conf: {index: 19, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t11, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c20:last(t:11, i:20), conf=conf: {index: 19, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,773 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t11, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c19:last(t:11, i:20), conf=conf: {index: 19, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t11, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c19:last(t:11, i:20), conf=conf: {index: 19, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t11, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c20:last(t:11, i:20), conf=conf: {index: 19, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,773 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$14(482)) - Changed leader from s1 to s2
2024-09-30 06:54:04,773 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2024-09-30 06:54:04,774 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to INFO
2024-09-30 06:54:04,774 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:54:04,774 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:54:04,774 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:54:04,774 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:54:04,774 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:54:04,774 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8D00B31B31B7:t11, leader=s2, voted=s2, raftlog=Memoized:s0@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c19:last(t:11, i:20), conf=conf: {index: 19, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8D00B31B31B7:t11, leader=s2, voted=s2, raftlog=Memoized:s1@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c19:last(t:11, i:20), conf=conf: {index: 19, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-8D00B31B31B7:t11, leader=s2, voted=s2, raftlog=Memoized:s2@group-8D00B31B31B7-SegmentedRaftLog:OPENED:c20:last(t:11, i:20), conf=conf: {index: 19, cur=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null} RUNNING
2024-09-30 06:54:04,775 [MiniRaftCluster-86] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:54:04,775 [MiniRaftCluster-87] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:54:04,778 [MiniRaftCluster-88] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:54:04,778 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-8D00B31B31B7: shutdown
2024-09-30 06:54:04,778 [MiniRaftCluster-86] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:04,779 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-8D00B31B31B7: shutdown
2024-09-30 06:54:04,779 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D00B31B31B7,id=s2
2024-09-30 06:54:04,779 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-8D00B31B31B7-LeaderStateImpl
2024-09-30 06:54:04,779 [MiniRaftCluster-88] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:04,779 [s2@group-8D00B31B31B7->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-8D00B31B31B7->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:04,780 [Thread-1538] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:54:04,780 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#2-t11,previous=(t:11, i:19),leaderCommit=19,initializing? false,entries: size=1, first=(t:11, i:20), METADATAENTRY(c:19)
2024-09-30 06:54:04,780 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:04,780 [Thread-1539] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:54:04,778 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D00B31B31B7,id=s0
2024-09-30 06:54:04,780 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:04,780 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-8D00B31B31B7-StateMachineUpdater: set stopIndex = 19
2024-09-30 06:54:04,781 [s0@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:04,778 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-8D00B31B31B7: shutdown
2024-09-30 06:54:04,781 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8D00B31B31B7,id=s1
2024-09-30 06:54:04,781 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-8D00B31B31B7-FollowerState
2024-09-30 06:54:04,781 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-8D00B31B31B7-StateMachineUpdater: set stopIndex = 19
2024-09-30 06:54:04,778 [MiniRaftCluster-87] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:04,781 [s1@group-8D00B31B31B7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-8D00B31B31B7-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:11, i:19)
2024-09-30 06:54:04,781 [s1@group-8D00B31B31B7-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-8D00B31B31B7-FollowerState was interrupted
2024-09-30 06:54:04,781 [s0@group-8D00B31B31B7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-8D00B31B31B7-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:11, i:19)
2024-09-30 06:54:04,780 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:04,781 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s2@group-8D00B31B31B7->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:04,779 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-8D00B31B31B7-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:04,779 [s2@group-8D00B31B31B7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-8D00B31B31B7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:04,782 [Thread-1541] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:54:04,781 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:04,782 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  success: true
}
term: 11
nextIndex: 19
followerCommit: 18
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:04,782 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:04,783 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:04,783 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: "F\257l\240\277\247O\321\276\277\215\000\263\0331\267"
  }
  success: true
}
term: 11
nextIndex: 19
followerCommit: 17
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:04,783 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s2@group-8D00B31B31B7->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:04,783 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#2-t11,previous=(t:11, i:19),leaderCommit=19,initializing? false,entries: size=1, first=(t:11, i:20), METADATAENTRY(c:19)
2024-09-30 06:54:04,783 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:04,783 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:04,783 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s2@group-8D00B31B31B7->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:04,783 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-8D00B31B31B7-StateMachineUpdater: set stopIndex = 20
2024-09-30 06:54:04,783 [s2@group-8D00B31B31B7-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-8D00B31B31B7-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:11, i:20)
2024-09-30 06:54:04,784 [s0@group-8D00B31B31B7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-8D00B31B31B7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:04,784 [s1@group-8D00B31B31B7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-8D00B31B31B7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:04,784 [s2@group-8D00B31B31B7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-8D00B31B31B7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:04,784 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-8D00B31B31B7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:04,784 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s2@group-8D00B31B31B7->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:04,785 [Thread-1544] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:54:04,786 [MiniRaftCluster-88] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:04,786 [MiniRaftCluster-88] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:04,789 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-8D00B31B31B7->s2-GrpcLogAppender is already stopped
2024-09-30 06:54:04,790 [MiniRaftCluster-88] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:04,790 [MiniRaftCluster-88] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:04,790 [Thread-1546] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:54:04,790 [Thread-1545] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:54:04,793 [MiniRaftCluster-88] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:04,794 [MiniRaftCluster-86] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:04,794 [MiniRaftCluster-86] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:04,795 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-8D00B31B31B7->s0-GrpcLogAppender is already stopped
2024-09-30 06:54:04,795 [MiniRaftCluster-87] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:04,795 [MiniRaftCluster-87] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:04,795 [MiniRaftCluster-86] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:04,795 [MiniRaftCluster-86] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:04,795 [MiniRaftCluster-87] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:04,795 [MiniRaftCluster-87] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:04,795 [MiniRaftCluster-86] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:04,795 [MiniRaftCluster-87] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:04,908 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:54:04,908 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-8D00B31B31B7: Failed appendEntries* s1->s0#6-t10,previous=(t:10, i:18),leaderCommit=18,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-8D00B31B31B7 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:04,909 [grpc-default-executor-4] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:54:04,918 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2024-09-30 06:54:04,918 [s2-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-8D00B31B31B7: Failed appendEntries* s1->s2#6-t10,previous=(t:10, i:18),leaderCommit=18,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-8D00B31B31B7 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:04,918 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:54:05,716 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-8D00B31B31B7-SegmentedRaftLogWorker close()
2024-09-30 06:54:05,717 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-8D00B31B31B7-SegmentedRaftLogWorker close()
2024-09-30 06:54:05,717 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-8D00B31B31B7-SegmentedRaftLogWorker close()
2024-09-30 06:54:05,718 [JvmPauseMonitor59] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:54:05,718 [JvmPauseMonitor58] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:54:05,718 [JvmPauseMonitor57] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:54:05,718 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:54:05,719 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:54:05,860 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:54:05,861 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testChangeListenerToFollower" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="1.815">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeListenerToFollower(LeaderElectionTests.java:484)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	Suppressed: java.lang.IllegalStateException: allLeaks.size = 2
		at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
		at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
		at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
		at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
		at org.apache.ratis.server.impl.MiniRaftCluster.close(MiniRaftCluster.java:833)
		at org.apache.ratis.server.impl.LeaderElectionTests.testChangeListenerToFollower(LeaderElectionTests.java:485)
		... 3 more
]]></error>
    <system-out><![CDATA[2024-09-30 06:54:05,862 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:54:05,862 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:54:05,862 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:54:05,863 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:54:05,864 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-6DCB2B3617D4:[s0|localhost:15240, s1|localhost:15244, s2|localhost:15248]
2024-09-30 06:54:05,864 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:54:05,864 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:54:05,864 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:54:05,864 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:54:05,864 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:54:05,865 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:54:05,865 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-6DCB2B3617D4:[s0|localhost:15240, s1|localhost:15244, s2|localhost:15248], format? true
2024-09-30 06:54:05,865 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0
2024-09-30 06:54:05,865 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0 does not exist.
2024-09-30 06:54:05,865 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0
2024-09-30 06:54:05,866 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:05,866 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:05,866 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15241 (custom)
2024-09-30 06:54:05,866 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:05,866 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15242 (custom)
2024-09-30 06:54:05,866 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:05,867 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15240 (custom)
2024-09-30 06:54:05,867 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:05,867 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:05,867 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:05,867 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:05,867 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:05,868 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:05,868 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:05,868 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:05,870 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:05,870 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:05,870 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:05,870 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:05,871 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0] (custom)
2024-09-30 06:54:05,871 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:05,871 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:05,871 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-6DCB2B3617D4:[s0|localhost:15240, s1|localhost:15244, s2|localhost:15248] returns group-6DCB2B3617D4:java.util.concurrent.CompletableFuture@11771fd6[Not completed]
2024-09-30 06:54:05,872 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-6DCB2B3617D4:[s0|localhost:15240, s1|localhost:15244, s2|localhost:15248], format? true
2024-09-30 06:54:05,872 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1
2024-09-30 06:54:05,872 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1 does not exist.
2024-09-30 06:54:05,872 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1
2024-09-30 06:54:05,872 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:05,873 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:05,873 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15245 (custom)
2024-09-30 06:54:05,873 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:05,873 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15246 (custom)
2024-09-30 06:54:05,873 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:05,873 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15244 (custom)
2024-09-30 06:54:05,873 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:05,874 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:05,874 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:05,874 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:05,874 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:05,874 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:05,875 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:05,875 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:05,876 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:05,876 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:05,877 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:05,877 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:05,877 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1] (custom)
2024-09-30 06:54:05,877 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:05,877 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:05,872 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-6DCB2B3617D4:[s0|localhost:15240, s1|localhost:15244, s2|localhost:15248] with BaseStateMachine:uninitialized
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-6DCB2B3617D4: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:05,878 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:05,879 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:05,879 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:05,879 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:05,879 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:05,880 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:05,880 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:05,880 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-6DCB2B3617D4:[s0|localhost:15240, s1|localhost:15244, s2|localhost:15248] returns group-6DCB2B3617D4:java.util.concurrent.CompletableFuture@3bac86a3[Not completed]
2024-09-30 06:54:05,880 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-6DCB2B3617D4:[s0|localhost:15240, s1|localhost:15244, s2|localhost:15248], format? true
2024-09-30 06:54:05,881 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2
2024-09-30 06:54:05,880 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-6DCB2B3617D4:[s0|localhost:15240, s1|localhost:15244, s2|localhost:15248] with BaseStateMachine:uninitialized
2024-09-30 06:54:05,881 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:05,881 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:05,881 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:05,881 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:05,881 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:05,881 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:05,881 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:05,881 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2 does not exist.
2024-09-30 06:54:05,881 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2
2024-09-30 06:54:05,882 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:05,882 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:05,882 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15249 (custom)
2024-09-30 06:54:05,882 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:05,882 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15250 (custom)
2024-09-30 06:54:05,883 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:05,883 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15248 (custom)
2024-09-30 06:54:05,883 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:05,883 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:05,883 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:05,883 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:05,884 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:05,884 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:05,884 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:05,884 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:05,886 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:05,886 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:05,886 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:05,886 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:05,886 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2] (custom)
2024-09-30 06:54:05,886 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:05,887 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:05,881 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-6DCB2B3617D4: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:05,887 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:05,887 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:05,887 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:05,887 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:05,887 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:05,887 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:05,888 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:05,888 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:05,888 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:05,888 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:05,888 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:05,888 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:05,888 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-6DCB2B3617D4:[s0|localhost:15240, s1|localhost:15244, s2|localhost:15248] returns group-6DCB2B3617D4:java.util.concurrent.CompletableFuture@57d7c511[Not completed]
2024-09-30 06:54:05,888 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-6DCB2B3617D4:[s0|localhost:15240, s1|localhost:15244, s2|localhost:15248] with BaseStateMachine:uninitialized
2024-09-30 06:54:05,889 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:05,889 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:05,889 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0] (custom)
2024-09-30 06:54:05,889 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4 does not exist. Creating ...
2024-09-30 06:54:05,890 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4
2024-09-30 06:54:05,890 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:05,890 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:05,890 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:05,890 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:05,890 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:05,890 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:05,890 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:05,890 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-6DCB2B3617D4: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:05,890 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:05,890 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:05,890 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:05,891 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:05,890 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:05,891 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current
2024-09-30 06:54:05,891 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/sm
2024-09-30 06:54:05,891 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3e765611
2024-09-30 06:54:05,891 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:05,891 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:05,892 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:05,892 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4 has been successfully formatted.
2024-09-30 06:54:05,892 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:05,892 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:05,892 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:05,892 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:05,892 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:05,892 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:05,892 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:05,892 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:05,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:05,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:05,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:05,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:05,893 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-6DCB2B3617D4-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:05,893 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-6DCB2B3617D4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4
2024-09-30 06:54:05,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:05,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:05,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:05,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:05,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:05,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:05,894 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:05,894 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:05,894 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:05,892 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:05,894 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:05,894 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:05,894 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:05,894 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:05,894 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:05,894 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:05,895 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-6DCB2B3617D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:05,895 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-6DCB2B3617D4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:05,895 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-6DCB2B3617D4: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}
2024-09-30 06:54:05,895 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-6DCB2B3617D4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:05,895 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-6DCB2B3617D4-FollowerState
2024-09-30 06:54:05,895 [s0@group-6DCB2B3617D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:05,896 [s0@group-6DCB2B3617D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:05,898 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DCB2B3617D4,id=s0
2024-09-30 06:54:05,898 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-6DCB2B3617D4,id=s0
2024-09-30 06:54:05,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:05,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:05,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:05,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:05,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:05,901 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:54:05,903 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15242
2024-09-30 06:54:05,903 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15240
2024-09-30 06:54:05,903 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15241
2024-09-30 06:54:05,904 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:05,904 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:05,904 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1] (custom)
2024-09-30 06:54:05,904 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4 does not exist. Creating ...
2024-09-30 06:54:05,904 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4
2024-09-30 06:54:05,904 [JvmPauseMonitor60] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:54:05,905 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:05,905 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current
2024-09-30 06:54:05,905 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/sm
2024-09-30 06:54:05,906 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@8b1af89
2024-09-30 06:54:05,907 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:05,907 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4 has been successfully formatted.
2024-09-30 06:54:05,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:05,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:05,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:05,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:05,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:05,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:05,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-6DCB2B3617D4-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-6DCB2B3617D4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:05,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:05,910 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:05,910 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:05,910 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:05,911 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:05,911 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-6DCB2B3617D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:05,911 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-6DCB2B3617D4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:05,911 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-6DCB2B3617D4: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}
2024-09-30 06:54:05,911 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-6DCB2B3617D4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:05,911 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-6DCB2B3617D4-FollowerState
2024-09-30 06:54:05,911 [s1@group-6DCB2B3617D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:05,911 [s1@group-6DCB2B3617D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:05,911 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DCB2B3617D4,id=s1
2024-09-30 06:54:05,911 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-6DCB2B3617D4,id=s1
2024-09-30 06:54:05,911 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:05,912 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:05,912 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:05,912 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:05,912 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:05,912 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:54:05,912 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15246
2024-09-30 06:54:05,913 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15244
2024-09-30 06:54:05,913 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15245
2024-09-30 06:54:05,914 [JvmPauseMonitor61] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:54:05,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:05,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:05,914 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2] (custom)
2024-09-30 06:54:05,915 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4 does not exist. Creating ...
2024-09-30 06:54:05,915 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4
2024-09-30 06:54:05,916 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:05,916 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current
2024-09-30 06:54:05,916 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/sm
2024-09-30 06:54:05,916 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@102b4e02
2024-09-30 06:54:05,917 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:05,917 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4 has been successfully formatted.
2024-09-30 06:54:05,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:05,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:05,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:05,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:05,917 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:05,918 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:05,918 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:05,918 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:05,918 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:05,918 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-6DCB2B3617D4-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:05,918 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-6DCB2B3617D4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4
2024-09-30 06:54:05,918 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:05,918 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:05,918 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:05,918 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:05,918 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:05,919 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:05,919 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:05,919 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:05,919 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:05,919 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:05,919 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:05,919 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:05,919 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:05,920 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-6DCB2B3617D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:05,920 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-6DCB2B3617D4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:05,920 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(395)) - s2@group-6DCB2B3617D4: start as a listener, conf=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}
2024-09-30 06:54:05,920 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-6DCB2B3617D4: changes role from      null to LISTENER at term 0 for startAsListener
2024-09-30 06:54:05,920 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-6DCB2B3617D4-FollowerState
2024-09-30 06:54:05,920 [s2@group-6DCB2B3617D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:05,920 [s2@group-6DCB2B3617D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:05,920 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DCB2B3617D4,id=s2
2024-09-30 06:54:05,920 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-6DCB2B3617D4,id=s2
2024-09-30 06:54:05,921 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:05,921 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:05,921 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:05,921 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:05,921 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:05,921 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:54:05,921 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15250
2024-09-30 06:54:05,922 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15248
2024-09-30 06:54:05,922 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15249
2024-09-30 06:54:05,922 [JvmPauseMonitor62] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:54:05,926 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:05,926 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6DCB2B3617D4:t0, leader=null, voted=, raftlog=Memoized:s0@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6DCB2B3617D4:t0, leader=null, voted=, raftlog=Memoized:s1@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null} RUNNING
  s2:  RUNNING  LISTENER s2@group-6DCB2B3617D4:t0, leader=null, voted=, raftlog=Memoized:s2@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null} RUNNING
2024-09-30 06:54:05,926 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6DCB2B3617D4:t0, leader=null, voted=, raftlog=Memoized:s0@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6DCB2B3617D4:t0, leader=null, voted=, raftlog=Memoized:s1@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null} RUNNING
  s2:  RUNNING  LISTENER s2@group-6DCB2B3617D4:t0, leader=null, voted=, raftlog=Memoized:s2@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null} RUNNING
2024-09-30 06:54:06,047 [s0@group-6DCB2B3617D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-6DCB2B3617D4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:151456602ns, electionTimeout:151ms
2024-09-30 06:54:06,047 [s0@group-6DCB2B3617D4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-6DCB2B3617D4-FollowerState
2024-09-30 06:54:06,047 [s0@group-6DCB2B3617D4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-6DCB2B3617D4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:54:06,047 [s0@group-6DCB2B3617D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:06,047 [s0@group-6DCB2B3617D4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-6DCB2B3617D4-LeaderElection67
2024-09-30 06:54:06,047 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-6DCB2B3617D4-LeaderElection67 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}
2024-09-30 06:54:06,048 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:06,048 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:06,048 [s0@group-6DCB2B3617D4-LeaderElection67-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15244
2024-09-30 06:54:06,051 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-6DCB2B3617D4: receive requestVote(PRE_VOTE, s0, group-6DCB2B3617D4, 0, (t:0, i:0))
2024-09-30 06:54:06,052 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-6DCB2B3617D4-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:06,052 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-6DCB2B3617D4 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-6DCB2B3617D4:t0, leader=null, voted=, raftlog=Memoized:s1@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}
2024-09-30 06:54:06,052 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6DCB2B3617D4-LeaderElection67: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:06,052 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2024-09-30 06:54:06,052 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-6DCB2B3617D4-LeaderElection67 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:06,052 [s0@group-6DCB2B3617D4-LeaderElection67] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@61c3bd30
2024-09-30 06:54:06,053 [s0@group-6DCB2B3617D4-LeaderElection67] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:06,053 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-6DCB2B3617D4-LeaderElection67 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}
2024-09-30 06:54:06,054 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:06,054 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:06,054 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-6DCB2B3617D4: receive requestVote(ELECTION, s0, group-6DCB2B3617D4, 1, (t:0, i:0))
2024-09-30 06:54:06,054 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-6DCB2B3617D4-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:06,054 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-6DCB2B3617D4: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:54:06,054 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-6DCB2B3617D4-FollowerState
2024-09-30 06:54:06,054 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-6DCB2B3617D4-FollowerState
2024-09-30 06:54:06,054 [s1@group-6DCB2B3617D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-6DCB2B3617D4-FollowerState was interrupted
2024-09-30 06:54:06,055 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-6DCB2B3617D4: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:54:06,055 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7cc6a5ef
2024-09-30 06:54:06,055 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:06,056 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-6DCB2B3617D4 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-6DCB2B3617D4:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}
2024-09-30 06:54:06,056 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-6DCB2B3617D4-LeaderElection67: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:06,056 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2024-09-30 06:54:06,056 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-6DCB2B3617D4-LeaderElection67 ELECTION round 0: result PASSED
2024-09-30 06:54:06,056 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-6DCB2B3617D4-LeaderElection67
2024-09-30 06:54:06,056 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-6DCB2B3617D4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:54:06,056 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:06,056 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:06,056 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:06,056 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:06,056 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:06,056 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:06,057 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:06,058 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-6DCB2B3617D4-LeaderStateImpl
2024-09-30 06:54:06,059 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-6DCB2B3617D4: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:54:06,059 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-6DCB2B3617D4: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 180ms
2024-09-30 06:54:06,059 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-6DCB2B3617D4-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:06,059 [s0@group-6DCB2B3617D4-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-6DCB2B3617D4: set configuration conf: {index: 0, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}
2024-09-30 06:54:06,059 [s0@group-6DCB2B3617D4-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:06,059 [s0@group-6DCB2B3617D4->s2-GrpcLogAppender-LogAppenderDaemon] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15248
2024-09-30 06:54:06,067 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-6DCB2B3617D4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 180ms
2024-09-30 06:54:06,068 [s2-server-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@57f65d4f
2024-09-30 06:54:06,069 [s0@group-6DCB2B3617D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-6DCB2B3617D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/log_inprogress_0
2024-09-30 06:54:06,069 [s2-server-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:06,070 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-6DCB2B3617D4: set firstElectionSinceStartup to false for appendEntries
2024-09-30 06:54:06,070 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-6DCB2B3617D4: change Leader from null to s0 at term 1 for appendEntries, leader elected after 179ms
2024-09-30 06:54:06,070 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-6DCB2B3617D4: appendEntries* s0->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15240"dataStreamAddress:"localhost:15243"clientAddress:"localhost:15242"adminAddress:"localhost:15241"startupRole:FOLLOWER, id:"s1"address:"localhost:15244"dataStreamAddress:"localhost:15247"clientAddress:"localhost:15246"adminAddress:"localhost:15245"startupRole:FOLLOWER, old:)
2024-09-30 06:54:06,070 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-6DCB2B3617D4: set configuration conf: {index: 0, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}
2024-09-30 06:54:06,070 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-6DCB2B3617D4: appendEntries* s0->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15240"dataStreamAddress:"localhost:15243"clientAddress:"localhost:15242"adminAddress:"localhost:15241"startupRole:FOLLOWER, id:"s1"address:"localhost:15244"dataStreamAddress:"localhost:15247"clientAddress:"localhost:15246"adminAddress:"localhost:15245"startupRole:FOLLOWER, old:)
2024-09-30 06:54:06,070 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-6DCB2B3617D4-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:06,070 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-6DCB2B3617D4: set configuration conf: {index: 0, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null}
2024-09-30 06:54:06,070 [s1@group-6DCB2B3617D4-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:06,074 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-6DCB2B3617D4-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:06,075 [s2@group-6DCB2B3617D4-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:06,084 [s1@group-6DCB2B3617D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-6DCB2B3617D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/log_inprogress_0
2024-09-30 06:54:06,084 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-6DCB2B3617D4: appendEntries* reply s0<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:06,085 [s0@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3cc3c013
2024-09-30 06:54:06,085 [s2@group-6DCB2B3617D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-6DCB2B3617D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/log_inprogress_0
2024-09-30 06:54:06,085 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-6DCB2B3617D4: appendEntries* reply s0<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:06,086 [s0@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:06,086 [s0@group-6DCB2B3617D4-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-6DCB2B3617D4-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:54:06,161 [s1@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@76e23e69
2024-09-30 06:54:06,162 [s2@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@334460d9
2024-09-30 06:54:06,163 [s1@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:06,164 [s2@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:06,377 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-6DCB2B3617D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6DCB2B3617D4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null} RUNNING
  s2:  RUNNING  LISTENER s2@group-6DCB2B3617D4:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248], old=null} RUNNING
2024-09-30 06:54:06,377 [main] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:06,377 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-BDBD8A0969C8: get 27 returns []
2024-09-30 06:54:06,378 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-BDBD8A0969C8->s0@group-6DCB2B3617D4, cid=27, seq=null, RW, message
2024-09-30 06:54:06,381 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s0@group-6DCB2B3617D4: receive client request(RaftClientRequest:client-BDBD8A0969C8->s0@group-6DCB2B3617D4, cid=27, seq=null, RW, Message:6d657373616765)
2024-09-30 06:54:06,382 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s0@group-6DCB2B3617D4-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-BDBD8A0969C8->s0@group-6DCB2B3617D4, cid=27, seq=null, RW, Message:6d657373616765, entry=(t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:54:06,383 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-6DCB2B3617D4: appendEntries* s0->s1#6-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:27@client-BDBD8A0969C8
2024-09-30 06:54:06,383 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-6DCB2B3617D4: appendEntries* reply s0<-s1#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:06,385 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-6DCB2B3617D4: appendEntries* s0->s2#8-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:27@client-BDBD8A0969C8
2024-09-30 06:54:06,385 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-6DCB2B3617D4: appendEntries* s0->s1#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:06,385 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-6DCB2B3617D4: appendEntries* reply s0<-s1#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:06,385 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-6DCB2B3617D4: appendEntries* reply s0<-s2#8:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:06,385 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-BDBD8A0969C8: add replied callId 27
2024-09-30 06:54:06,386 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest SetConfigurationRequest:client-BDBD8A0969C8->s0@group-6DCB2B3617D4, cid=28, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248], listeners:[]
2024-09-30 06:54:06,387 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-6DCB2B3617D4: appendEntries* s0->s2#9-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:06,388 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-6DCB2B3617D4: appendEntries* reply s0<-s2#9:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:06,389 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1332)) - s0@group-6DCB2B3617D4: receive setConfiguration SetConfigurationRequest:client-BDBD8A0969C8->s0@group-6DCB2B3617D4, cid=28, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248], listeners:[]
2024-09-30 06:54:06,389 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(486)) - s0@group-6DCB2B3617D4-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-BDBD8A0969C8->s0@group-6DCB2B3617D4, cid=28, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248], listeners:[]
2024-09-30 06:54:06,390 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-6DCB2B3617D4: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248]|listeners:[], old=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248]}
2024-09-30 06:54:06,391 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-6DCB2B3617D4: appendEntries* s0->s1#10-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15240"clientAddress:"0.0.0.0:15242"adminAddress:"0.0.0.0:15241"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15244"clientAddress:"0.0.0.0:15246"adminAddress:"0.0.0.0:15245"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15248"clientAddress:"0.0.0.0:15250"adminAddress:"0.0.0.0:15249"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15240"dataStreamAddress:"localhost:15243"clientAddress:"localhost:15242"adminAddress:"localhost:15241"startupRole:FOLLOWER, id:"s1"address:"localhost:15244"dataStreamAddress:"localhost:15247"clientAddress:"localhost:15246"adminAddress:"localhost:15245"startupRole:FOLLOWER)
2024-09-30 06:54:06,391 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-6DCB2B3617D4: appendEntries* s0->s2#12-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15240"clientAddress:"0.0.0.0:15242"adminAddress:"0.0.0.0:15241"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15244"clientAddress:"0.0.0.0:15246"adminAddress:"0.0.0.0:15245"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15248"clientAddress:"0.0.0.0:15250"adminAddress:"0.0.0.0:15249"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15240"dataStreamAddress:"localhost:15243"clientAddress:"localhost:15242"adminAddress:"localhost:15241"startupRole:FOLLOWER, id:"s1"address:"localhost:15244"dataStreamAddress:"localhost:15247"clientAddress:"localhost:15246"adminAddress:"localhost:15245"startupRole:FOLLOWER)
2024-09-30 06:54:06,391 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-6DCB2B3617D4: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248]|listeners:[], old=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248]}
2024-09-30 06:54:06,391 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-6DCB2B3617D4: set configuration conf: {index: 3, cur=peers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248]|listeners:[], old=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248]}
2024-09-30 06:54:06,391 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-6DCB2B3617D4: appendEntries* reply s0<-s1#10:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:54:06,392 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-6DCB2B3617D4: appendEntries* reply s0<-s2#12:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:54:06,392 [s0@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@363bab63
2024-09-30 06:54:06,392 [s0@group-6DCB2B3617D4-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-6DCB2B3617D4: set configuration conf: {index: 5, cur=peers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248]|listeners:[], old=null}
2024-09-30 06:54:06,392 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-6DCB2B3617D4: appendEntries* s0->s2#14-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:06,392 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-6DCB2B3617D4: appendEntries* s0->s1#11-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=2, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:06,392 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-6DCB2B3617D4: set configuration conf: {index: 5, cur=peers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248]|listeners:[], old=null}
2024-09-30 06:54:06,393 [s2@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3d8388c1
2024-09-30 06:54:06,393 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-6DCB2B3617D4: appendEntries* reply s0<-s1#11:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:54:06,393 [s1@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7825dec5
2024-09-30 06:54:06,395 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-BDBD8A0969C8: add replied callId 28
2024-09-30 06:54:06,395 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-6DCB2B3617D4: appendEntries* s0->s1#12-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:06,395 [main] DEBUG client.RaftClient (RaftClientImpl.java:close(465)) - close client-BDBD8A0969C8
2024-09-30 06:54:06,396 [s0@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:06,396 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-6DCB2B3617D4: appendEntries* reply s0<-s1#12:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:54:06,395 [s2@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s2/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:06,397 [s0@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@733923c0
2024-09-30 06:54:06,397 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:54:06,397 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:54:06,397 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:54:06,397 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:54:06,397 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:54:06,397 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-6DCB2B3617D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c6:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6DCB2B3617D4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c5:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248]|listeners:[], old=null} RUNNING
  s2:  RUNNING  LISTENER s2@group-6DCB2B3617D4:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-6DCB2B3617D4-SegmentedRaftLog:OPENED:c3:last(t:1, i:4), conf=conf: {index: 3, cur=peers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248]|listeners:[], old=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248]} RUNNING
2024-09-30 06:54:06,397 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-6DCB2B3617D4: appendEntries* reply s0<-s2#14:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:54:06,398 [s1@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:06,398 [s0@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s0/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:06,398 [MiniRaftCluster-91] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:54:06,398 [MiniRaftCluster-90] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:54:06,398 [MiniRaftCluster-89] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:54:06,399 [s2-server-thread3] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-6DCB2B3617D4: Failed appendEntries* s0->s2#15-t1,previous=(t:1, i:4),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:5), CONFIGURATIONENTRY(current:id:"s0"address:"0.0.0.0:15240"clientAddress:"0.0.0.0:15242"adminAddress:"0.0.0.0:15241"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15244"clientAddress:"0.0.0.0:15246"adminAddress:"0.0.0.0:15245"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15248"clientAddress:"0.0.0.0:15250"adminAddress:"0.0.0.0:15249"startupRole:FOLLOWER, old:)
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-6DCB2B3617D4 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:06,398 [MiniRaftCluster-91] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:06,398 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-6DCB2B3617D4: shutdown
2024-09-30 06:54:06,400 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DCB2B3617D4,id=s2
2024-09-30 06:54:06,400 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-6DCB2B3617D4-FollowerState
2024-09-30 06:54:06,398 [s1@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7c1a5519
2024-09-30 06:54:06,400 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-6DCB2B3617D4-StateMachineUpdater: set stopIndex = 3
2024-09-30 06:54:06,400 [s2@group-6DCB2B3617D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-6DCB2B3617D4-FollowerState was interrupted
2024-09-30 06:54:06,400 [s2@group-6DCB2B3617D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-6DCB2B3617D4-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:3)
2024-09-30 06:54:06,400 [grpc-default-executor-4] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s2: Failed APPEND_ENTRIES request cid=15, isHeartbeat? false
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-6DCB2B3617D4 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:122)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-6DCB2B3617D4 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	... 5 more
2024-09-30 06:54:06,399 [MiniRaftCluster-90] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:06,399 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-6DCB2B3617D4: shutdown
2024-09-30 06:54:06,401 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DCB2B3617D4,id=s1
2024-09-30 06:54:06,401 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-6DCB2B3617D4-FollowerState
2024-09-30 06:54:06,401 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-6DCB2B3617D4-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:54:06,399 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-6DCB2B3617D4: shutdown
2024-09-30 06:54:06,399 [MiniRaftCluster-89] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:06,401 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DCB2B3617D4,id=s0
2024-09-30 06:54:06,401 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-6DCB2B3617D4-LeaderStateImpl
2024-09-30 06:54:06,401 [s1@group-6DCB2B3617D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-6DCB2B3617D4-FollowerState was interrupted
2024-09-30 06:54:06,401 [s1@group-6DCB2B3617D4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb03f0968/s1/7217df06-a0ff-4371-94bf-6dcb2b3617d4/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:06,402 [s1@group-6DCB2B3617D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-6DCB2B3617D4-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:5)
2024-09-30 06:54:06,401 [MiniRaftCluster-91] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:06,402 [s0@group-6DCB2B3617D4->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-6DCB2B3617D4->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:06,401 [s2@group-6DCB2B3617D4-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-6DCB2B3617D4-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:06,402 [s1@group-6DCB2B3617D4-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-6DCB2B3617D4-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:06,402 [MiniRaftCluster-91] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:06,402 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:06,402 [s0@group-6DCB2B3617D4->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-6DCB2B3617D4->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:06,402 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "r\027\337\006\240\377Cq\224\277m\313+6\027\324"
  }
  callId: 7
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:06,402 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-6DCB2B3617D4-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:06,403 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-6DCB2B3617D4->s2-GrpcLogAppender is already stopped
2024-09-30 06:54:06,403 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#12-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:06,403 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:06,403 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:06,403 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "r\027\337\006\240\377Cq\224\277m\313+6\027\324"
  }
  callId: 5
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:06,403 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-6DCB2B3617D4->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:06,404 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-6DCB2B3617D4->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:06,404 [MiniRaftCluster-91] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:06,404 [MiniRaftCluster-91] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:06,405 [MiniRaftCluster-91] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:06,405 [Thread-1597] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:54:06,405 [Thread-1598] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:54:06,406 [MiniRaftCluster-89] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:06,406 [MiniRaftCluster-89] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:06,406 [MiniRaftCluster-89] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:06,406 [MiniRaftCluster-89] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:06,406 [MiniRaftCluster-89] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:06,410 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-6DCB2B3617D4->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:06,410 [MiniRaftCluster-90] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:06,410 [MiniRaftCluster-90] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:06,410 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-6DCB2B3617D4-StateMachineUpdater: set stopIndex = 6
2024-09-30 06:54:06,412 [s0@group-6DCB2B3617D4-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-6DCB2B3617D4-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:6)
2024-09-30 06:54:06,412 [s0@group-6DCB2B3617D4-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-6DCB2B3617D4-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:06,410 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-6DCB2B3617D4->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:06,410 [MiniRaftCluster-90] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:06,413 [MiniRaftCluster-90] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:06,413 [MiniRaftCluster-90] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:07,394 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-6DCB2B3617D4-SegmentedRaftLogWorker close()
2024-09-30 06:54:07,395 [JvmPauseMonitor62] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:54:07,396 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-6DCB2B3617D4-SegmentedRaftLogWorker close()
2024-09-30 06:54:07,396 [JvmPauseMonitor60] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:54:07,397 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-6DCB2B3617D4-SegmentedRaftLogWorker close()
2024-09-30 06:54:07,397 [JvmPauseMonitor61] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:54:07,397 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:54:07,398 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:54:07,542 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:54:07,543 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:54:07,543 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:54:07,543 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:54:07,543 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:54:07,543 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:54:07,543 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:54:07,543 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-6DCB2B3617D4:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6DCB2B3617D4-SegmentedRaftLog:CLOSED:c6, conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248]|listeners:[], old=null} CLOSED
  s1:   CLOSED  FOLLOWER s1@group-6DCB2B3617D4:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-6DCB2B3617D4-SegmentedRaftLog:CLOSED:c5, conf=conf: {index: 5, cur=peers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248]|listeners:[], old=null} CLOSED
  s2:   CLOSED  LISTENER s2@group-6DCB2B3617D4:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-6DCB2B3617D4-SegmentedRaftLog:CLOSED:c3, conf=conf: {index: 3, cur=peers:[s0|0.0.0.0:15240, s1|0.0.0.0:15244, s2|0.0.0.0:15248]|listeners:[], old=peers:[s0|localhost:15240, s1|localhost:15244]|listeners:[s2|localhost:15248]} CLOSED
2024-09-30 06:54:07,544 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:54:07,544 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:54:07,677 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:54:07,677 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testShutdownBeforeStart" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="1.362"/>
  <testcase name="testLeaderLease" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="1.824">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderLease(LeaderElectionTests.java:647)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-09-30 06:54:09,042 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:54:09,043 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:54:09,043 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:54:09,043 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:54:09,049 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-09-30 06:54:09,050 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-E28090DCAF84:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]
2024-09-30 06:54:09,051 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:54:09,051 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:54:09,051 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:54:09,051 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:54:09,052 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:54:09,052 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:54:09,052 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-E28090DCAF84:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260], format? true
2024-09-30 06:54:09,053 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0
2024-09-30 06:54:09,053 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0 does not exist.
2024-09-30 06:54:09,053 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0
2024-09-30 06:54:09,055 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:09,056 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:09,056 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15253 (custom)
2024-09-30 06:54:09,057 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:09,057 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15254 (custom)
2024-09-30 06:54:09,058 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:09,058 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15252 (custom)
2024-09-30 06:54:09,058 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:09,059 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:09,059 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:09,060 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:09,060 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:09,060 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,061 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:09,062 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:09,066 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:09,068 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:09,068 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:09,068 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:09,070 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0] (custom)
2024-09-30 06:54:09,071 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:09,071 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:09,078 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-E28090DCAF84:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260] returns group-E28090DCAF84:java.util.concurrent.CompletableFuture@4b02dc4e[Not completed]
2024-09-30 06:54:09,078 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-E28090DCAF84:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260], format? true
2024-09-30 06:54:09,078 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1
2024-09-30 06:54:09,079 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1 does not exist.
2024-09-30 06:54:09,079 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1
2024-09-30 06:54:09,080 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:09,080 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:09,081 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15257 (custom)
2024-09-30 06:54:09,081 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:09,081 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15258 (custom)
2024-09-30 06:54:09,082 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:09,082 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-E28090DCAF84:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260] with BaseStateMachine:uninitialized
2024-09-30 06:54:09,082 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15256 (custom)
2024-09-30 06:54:09,082 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:09,083 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:09,083 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:09,083 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:09,083 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:09,083 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:09,084 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:09,084 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:09,084 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:09,084 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:09,085 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:09,085 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,085 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:09,086 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-E28090DCAF84: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:09,086 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:09,086 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:09,086 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:09,086 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:09,087 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:09,085 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:09,087 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:09,087 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:09,094 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:09,106 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:09,106 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:09,106 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:09,107 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1] (custom)
2024-09-30 06:54:09,107 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:09,108 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:09,108 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:09,108 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:09,108 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-E28090DCAF84:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260] returns group-E28090DCAF84:java.util.concurrent.CompletableFuture@4eb69e8d[Not completed]
2024-09-30 06:54:09,109 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:09,109 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-E28090DCAF84:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260], format? true
2024-09-30 06:54:09,109 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2
2024-09-30 06:54:09,110 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2 does not exist.
2024-09-30 06:54:09,110 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2
2024-09-30 06:54:09,110 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:09,111 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:09,111 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15261 (custom)
2024-09-30 06:54:09,111 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:09,112 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15262 (custom)
2024-09-30 06:54:09,112 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:09,112 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15260 (custom)
2024-09-30 06:54:09,109 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:09,113 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:09,113 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:09,113 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:09,113 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:09,114 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:09,114 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:09,114 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-E28090DCAF84:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260] with BaseStateMachine:uninitialized
2024-09-30 06:54:09,114 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:09,115 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:09,115 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,115 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:09,115 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:09,115 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:09,116 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:09,118 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:09,119 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:09,119 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:09,119 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:09,120 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2] (custom)
2024-09-30 06:54:09,120 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:09,120 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:09,121 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-E28090DCAF84:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260] returns group-E28090DCAF84:java.util.concurrent.CompletableFuture@24b05292[Not completed]
2024-09-30 06:54:09,116 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:09,122 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:09,122 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:09,122 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:09,123 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-E28090DCAF84:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260] with BaseStateMachine:uninitialized
2024-09-30 06:54:09,123 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:09,123 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:09,123 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0] (custom)
2024-09-30 06:54:09,123 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:09,124 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84 does not exist. Creating ...
2024-09-30 06:54:09,124 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:09,124 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:09,124 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:09,124 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84
2024-09-30 06:54:09,124 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:09,125 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:09,125 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:09,125 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-E28090DCAF84: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:09,125 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-E28090DCAF84: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:09,125 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:09,125 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:09,126 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/current
2024-09-30 06:54:09,126 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:09,126 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/sm
2024-09-30 06:54:09,126 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:09,127 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@21476dc4
2024-09-30 06:54:09,127 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:09,127 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:09,127 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:09,128 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:09,128 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:09,128 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:09,129 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84 has been successfully formatted.
2024-09-30 06:54:09,129 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:09,129 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:09,129 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,129 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:09,130 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:09,131 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:09,131 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:09,131 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:09,132 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:09,132 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:09,132 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:09,132 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:09,131 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:09,133 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:09,133 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,131 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:09,133 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:09,133 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:09,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:09,137 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:09,137 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:09,137 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:09,137 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:09,137 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:09,137 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:09,138 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-E28090DCAF84-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:09,138 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-E28090DCAF84-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84
2024-09-30 06:54:09,138 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:09,138 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:09,138 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:09,139 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:09,139 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:09,139 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:09,139 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:09,139 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:09,140 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:09,140 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,140 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:09,141 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:09,141 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:09,141 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-E28090DCAF84-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:09,141 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-E28090DCAF84-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:09,146 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-E28090DCAF84: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,146 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-E28090DCAF84: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:09,146 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-E28090DCAF84-FollowerState
2024-09-30 06:54:09,148 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E28090DCAF84,id=s0
2024-09-30 06:54:09,148 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E28090DCAF84,id=s0
2024-09-30 06:54:09,148 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:09,148 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:09,148 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:09,148 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:09,149 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:09,149 [s0@group-E28090DCAF84-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:09,150 [s0@group-E28090DCAF84-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:09,150 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:54:09,152 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15254
2024-09-30 06:54:09,153 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15252
2024-09-30 06:54:09,154 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15253
2024-09-30 06:54:09,158 [JvmPauseMonitor63] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:54:09,158 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:09,158 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:09,159 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1] (custom)
2024-09-30 06:54:09,159 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84 does not exist. Creating ...
2024-09-30 06:54:09,159 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84
2024-09-30 06:54:09,161 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:09,161 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/current
2024-09-30 06:54:09,161 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/sm
2024-09-30 06:54:09,161 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@16b5eae1
2024-09-30 06:54:09,163 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:09,163 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84 has been successfully formatted.
2024-09-30 06:54:09,163 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:09,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:09,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:09,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:09,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:09,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:09,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:09,167 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,170 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-E28090DCAF84-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:09,170 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-E28090DCAF84-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84
2024-09-30 06:54:09,170 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:09,170 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:09,170 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:09,171 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:09,171 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:09,171 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:09,171 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:09,171 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:09,171 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:09,172 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,172 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:09,172 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:09,173 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:09,173 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-E28090DCAF84-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:09,173 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-E28090DCAF84-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:09,174 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-E28090DCAF84: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,174 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-E28090DCAF84: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:09,174 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-E28090DCAF84-FollowerState
2024-09-30 06:54:09,174 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E28090DCAF84,id=s1
2024-09-30 06:54:09,175 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E28090DCAF84,id=s1
2024-09-30 06:54:09,175 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:09,175 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:09,175 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:09,175 [s1@group-E28090DCAF84-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:09,175 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:09,175 [s1@group-E28090DCAF84-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:09,175 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:09,176 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:54:09,177 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15258
2024-09-30 06:54:09,178 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15256
2024-09-30 06:54:09,179 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15257
2024-09-30 06:54:09,179 [JvmPauseMonitor64] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:54:09,179 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:09,179 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:09,180 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2] (custom)
2024-09-30 06:54:09,180 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84 does not exist. Creating ...
2024-09-30 06:54:09,181 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84
2024-09-30 06:54:09,182 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:09,182 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/current
2024-09-30 06:54:09,182 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/sm
2024-09-30 06:54:09,182 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7a490b27
2024-09-30 06:54:09,184 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:09,184 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84 has been successfully formatted.
2024-09-30 06:54:09,185 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:09,185 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:09,185 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,185 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:09,185 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:09,187 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:09,187 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:09,187 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:09,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,188 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-E28090DCAF84-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:09,188 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-E28090DCAF84-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84
2024-09-30 06:54:09,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:09,188 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:09,189 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:09,189 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:09,189 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:09,189 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:09,189 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:09,189 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:09,190 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:09,190 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,190 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:09,191 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:09,191 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:09,191 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-E28090DCAF84-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:09,191 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-E28090DCAF84-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:09,194 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-E28090DCAF84: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,194 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-E28090DCAF84: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:09,194 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-E28090DCAF84-FollowerState
2024-09-30 06:54:09,195 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E28090DCAF84,id=s2
2024-09-30 06:54:09,195 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E28090DCAF84,id=s2
2024-09-30 06:54:09,195 [s2@group-E28090DCAF84-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:09,195 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:09,195 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:09,195 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:09,196 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:09,196 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:09,196 [s2@group-E28090DCAF84-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:09,198 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:54:09,199 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15262
2024-09-30 06:54:09,200 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15260
2024-09-30 06:54:09,201 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15261
2024-09-30 06:54:09,202 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:09,203 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:09,203 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:09,204 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E28090DCAF84:t0, leader=null, voted=, raftlog=Memoized:s0@group-E28090DCAF84-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E28090DCAF84:t0, leader=null, voted=, raftlog=Memoized:s1@group-E28090DCAF84-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E28090DCAF84:t0, leader=null, voted=, raftlog=Memoized:s2@group-E28090DCAF84-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null} RUNNING
2024-09-30 06:54:09,205 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E28090DCAF84:t0, leader=null, voted=, raftlog=Memoized:s0@group-E28090DCAF84-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E28090DCAF84:t0, leader=null, voted=, raftlog=Memoized:s1@group-E28090DCAF84-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E28090DCAF84:t0, leader=null, voted=, raftlog=Memoized:s2@group-E28090DCAF84-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null} RUNNING
2024-09-30 06:54:09,206 [JvmPauseMonitor65] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:54:09,354 [s0@group-E28090DCAF84-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-E28090DCAF84-FollowerState: change to CANDIDATE, lastRpcElapsedTime:207447543ns, electionTimeout:204ms
2024-09-30 06:54:09,354 [s0@group-E28090DCAF84-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-E28090DCAF84-FollowerState
2024-09-30 06:54:09,355 [s0@group-E28090DCAF84-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-E28090DCAF84: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:54:09,355 [s0@group-E28090DCAF84-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:09,355 [s0@group-E28090DCAF84-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-E28090DCAF84-LeaderElection69
2024-09-30 06:54:09,356 [s0@group-E28090DCAF84-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-E28090DCAF84-LeaderElection69 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,356 [s0@group-E28090DCAF84-LeaderElection69-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15256
2024-09-30 06:54:09,358 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:09,359 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:09,359 [s0@group-E28090DCAF84-LeaderElection69-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15260
2024-09-30 06:54:09,375 [s2@group-E28090DCAF84-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-E28090DCAF84-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180479374ns, electionTimeout:178ms
2024-09-30 06:54:09,375 [s2@group-E28090DCAF84-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-E28090DCAF84-FollowerState
2024-09-30 06:54:09,375 [s2@group-E28090DCAF84-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-E28090DCAF84: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:54:09,375 [s2@group-E28090DCAF84-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:09,375 [s2@group-E28090DCAF84-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-E28090DCAF84-LeaderElection70
2024-09-30 06:54:09,377 [s2@group-E28090DCAF84-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-E28090DCAF84-LeaderElection70 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,378 [s2@group-E28090DCAF84-LeaderElection70-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15252
2024-09-30 06:54:09,379 [s2@group-E28090DCAF84-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:09,380 [s2@group-E28090DCAF84-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:09,381 [s2@group-E28090DCAF84-LeaderElection70-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15256
2024-09-30 06:54:09,384 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-E28090DCAF84: receive requestVote(PRE_VOTE, s0, group-E28090DCAF84, 0, (t:0, i:0))
2024-09-30 06:54:09,385 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-E28090DCAF84-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:09,387 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-E28090DCAF84 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-E28090DCAF84:t0, leader=null, voted=, raftlog=Memoized:s2@group-E28090DCAF84-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,389 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-E28090DCAF84: receive requestVote(PRE_VOTE, s0, group-E28090DCAF84, 0, (t:0, i:0))
2024-09-30 06:54:09,389 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-E28090DCAF84-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:09,389 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-E28090DCAF84 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-E28090DCAF84:t0, leader=null, voted=, raftlog=Memoized:s1@group-E28090DCAF84-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,390 [s0@group-E28090DCAF84-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E28090DCAF84-LeaderElection69: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:09,390 [s0@group-E28090DCAF84-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2024-09-30 06:54:09,390 [s0@group-E28090DCAF84-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-E28090DCAF84-LeaderElection69 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:09,391 [s0@group-E28090DCAF84-LeaderElection69] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@fb7f27f
2024-09-30 06:54:09,393 [s0@group-E28090DCAF84-LeaderElection69] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:09,393 [s0@group-E28090DCAF84-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-E28090DCAF84-LeaderElection69 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,394 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-6DCB2B3617D4->s2-GrpcLogAppender: Timed out appendEntries, errorCount=1, request=AppendEntriesRequest:cid=15,entriesCount=1,entry=(t:1, i:5)
2024-09-30 06:54:09,395 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-6DCB2B3617D4->s2-GrpcLogAppender: Timed out appendEntries, errorCount=2, request=AppendEntriesRequest:cid=17,entriesCount=1,entry=(t:1, i:6)
2024-09-30 06:54:09,398 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:09,398 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:09,401 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-E28090DCAF84: receive requestVote(PRE_VOTE, s2, group-E28090DCAF84, 0, (t:0, i:0))
2024-09-30 06:54:09,401 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-E28090DCAF84-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:09,401 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-E28090DCAF84: receive requestVote(PRE_VOTE, s2, group-E28090DCAF84, 0, (t:0, i:0))
2024-09-30 06:54:09,401 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-E28090DCAF84 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-E28090DCAF84:t0, leader=null, voted=, raftlog=Memoized:s1@group-E28090DCAF84-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,401 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-E28090DCAF84-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:09,401 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-E28090DCAF84: receive requestVote(ELECTION, s0, group-E28090DCAF84, 1, (t:0, i:0))
2024-09-30 06:54:09,402 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-E28090DCAF84 replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-E28090DCAF84:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-E28090DCAF84-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,402 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-E28090DCAF84-CANDIDATE: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:09,402 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-E28090DCAF84: changes role from CANDIDATE to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:54:09,402 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-E28090DCAF84-LeaderElection70
2024-09-30 06:54:09,402 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-E28090DCAF84-FollowerState
2024-09-30 06:54:09,403 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-E28090DCAF84: receive requestVote(ELECTION, s0, group-E28090DCAF84, 1, (t:0, i:0))
2024-09-30 06:54:09,403 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-E28090DCAF84-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:09,403 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-E28090DCAF84: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:54:09,403 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-E28090DCAF84-FollowerState
2024-09-30 06:54:09,403 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-E28090DCAF84: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:54:09,403 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-E28090DCAF84-FollowerState
2024-09-30 06:54:09,404 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3d436049
2024-09-30 06:54:09,403 [s1@group-E28090DCAF84-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-E28090DCAF84-FollowerState was interrupted
2024-09-30 06:54:09,404 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-E28090DCAF84: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:54:09,405 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7e8bf7c1
2024-09-30 06:54:09,405 [s2@group-E28090DCAF84-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-E28090DCAF84-LeaderElection70: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:09,405 [s2@group-E28090DCAF84-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t0
2024-09-30 06:54:09,405 [s2@group-E28090DCAF84-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-E28090DCAF84-LeaderElection70 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:09,406 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:09,406 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-E28090DCAF84 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-E28090DCAF84:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-E28090DCAF84-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,407 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:09,407 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-E28090DCAF84 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-E28090DCAF84:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-E28090DCAF84-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,410 [s0@group-E28090DCAF84-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-E28090DCAF84-LeaderElection69: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:09,410 [s0@group-E28090DCAF84-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t1
2024-09-30 06:54:09,410 [s0@group-E28090DCAF84-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-E28090DCAF84-LeaderElection69 ELECTION round 0: result PASSED
2024-09-30 06:54:09,410 [s0@group-E28090DCAF84-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-E28090DCAF84-LeaderElection69
2024-09-30 06:54:09,410 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-E28090DCAF84: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:54:09,410 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:09,410 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:09,411 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:09,411 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:09,411 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:09,411 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:09,412 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:09,412 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:09,412 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:09,412 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:09,412 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:09,412 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:09,413 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:09,413 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,413 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:09,413 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:09,414 [s0@group-E28090DCAF84-LeaderElection69] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:09,414 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:09,414 [s0@group-E28090DCAF84-LeaderElection69] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:09,414 [s0@group-E28090DCAF84-LeaderElection69] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:09,414 [s0@group-E28090DCAF84-LeaderElection69] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:09,414 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:09,414 [s0@group-E28090DCAF84-LeaderElection69] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:09,415 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:09,415 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:09,415 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:09,416 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:09,416 [s0@group-E28090DCAF84-LeaderElection69] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:09,416 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:09,416 [s0@group-E28090DCAF84-LeaderElection69] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:09,416 [s0@group-E28090DCAF84-LeaderElection69] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:09,416 [s0@group-E28090DCAF84-LeaderElection69] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:09,416 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:09,416 [s0@group-E28090DCAF84-LeaderElection69] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:09,417 [s0@group-E28090DCAF84-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-E28090DCAF84-LeaderStateImpl
2024-09-30 06:54:09,417 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-E28090DCAF84: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:54:09,417 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-E28090DCAF84: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 331ms
2024-09-30 06:54:09,417 [s0@group-E28090DCAF84-LeaderElection69] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-E28090DCAF84-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:09,418 [s0@group-E28090DCAF84-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:09,418 [s0@group-E28090DCAF84-LeaderElection69] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-E28090DCAF84: set configuration conf: {index: 0, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,429 [s0@group-E28090DCAF84-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-E28090DCAF84-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/log_inprogress_0
2024-09-30 06:54:09,443 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-E28090DCAF84: change Leader from null to s0 at term 1 for appendEntries, leader elected after 315ms
2024-09-30 06:54:09,444 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-E28090DCAF84: change Leader from null to s0 at term 1 for appendEntries, leader elected after 318ms
2024-09-30 06:54:09,448 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-E28090DCAF84: appendEntries* s0->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15252"dataStreamAddress:"localhost:15255"clientAddress:"localhost:15254"adminAddress:"localhost:15253"startupRole:FOLLOWER, id:"s1"address:"localhost:15256"dataStreamAddress:"localhost:15259"clientAddress:"localhost:15258"adminAddress:"localhost:15257"startupRole:FOLLOWER, id:"s2"address:"localhost:15260"dataStreamAddress:"localhost:15263"clientAddress:"localhost:15262"adminAddress:"localhost:15261"startupRole:FOLLOWER, old:)
2024-09-30 06:54:09,449 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-E28090DCAF84: appendEntries* s0->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15252"dataStreamAddress:"localhost:15255"clientAddress:"localhost:15254"adminAddress:"localhost:15253"startupRole:FOLLOWER, id:"s1"address:"localhost:15256"dataStreamAddress:"localhost:15259"clientAddress:"localhost:15258"adminAddress:"localhost:15257"startupRole:FOLLOWER, id:"s2"address:"localhost:15260"dataStreamAddress:"localhost:15263"clientAddress:"localhost:15262"adminAddress:"localhost:15261"startupRole:FOLLOWER, old:)
2024-09-30 06:54:09,449 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-E28090DCAF84: set configuration conf: {index: 0, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,450 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-E28090DCAF84-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:09,455 [s2@group-E28090DCAF84-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:09,458 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-E28090DCAF84: set configuration conf: {index: 0, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null}
2024-09-30 06:54:09,458 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-E28090DCAF84-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:09,459 [s1@group-E28090DCAF84-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:09,470 [s2@group-E28090DCAF84-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-E28090DCAF84-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/log_inprogress_0
2024-09-30 06:54:09,471 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-E28090DCAF84: appendEntries* reply s0<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:09,474 [s0@group-E28090DCAF84-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@58aeb11d
2024-09-30 06:54:09,476 [s1@group-E28090DCAF84-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-E28090DCAF84-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/log_inprogress_0
2024-09-30 06:54:09,476 [s0@group-E28090DCAF84-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s0/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:09,477 [s0@group-E28090DCAF84-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-E28090DCAF84-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:54:09,478 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-E28090DCAF84: appendEntries* reply s0<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:09,553 [s2@group-E28090DCAF84-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2e6fe012
2024-09-30 06:54:09,555 [s2@group-E28090DCAF84-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s2/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:09,558 [s1@group-E28090DCAF84-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@38df7918
2024-09-30 06:54:09,560 [s1@group-E28090DCAF84-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc719e02cb/s1/f8076ab4-7bcc-4373-a279-e28090dcaf84/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:09,655 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E28090DCAF84:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E28090DCAF84-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E28090DCAF84:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-E28090DCAF84-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E28090DCAF84:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-E28090DCAF84-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null} RUNNING
2024-09-30 06:54:09,656 [main] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:09,656 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-01362948AA20: get 29 returns []
2024-09-30 06:54:09,657 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-01362948AA20->s0@group-E28090DCAF84, cid=29, seq=null, RW, message
2024-09-30 06:54:09,670 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s0@group-E28090DCAF84: receive client request(RaftClientRequest:client-01362948AA20->s0@group-E28090DCAF84, cid=29, seq=null, RW, Message:6d657373616765)
2024-09-30 06:54:09,671 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s0@group-E28090DCAF84-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-01362948AA20->s0@group-E28090DCAF84, cid=29, seq=null, RW, Message:6d657373616765, entry=(t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:54:09,674 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-E28090DCAF84: appendEntries* s0->s1#6-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:29@client-01362948AA20
2024-09-30 06:54:09,675 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-E28090DCAF84: appendEntries* s0->s2#5-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:29@client-01362948AA20
2024-09-30 06:54:09,676 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-E28090DCAF84: appendEntries* reply s0<-s2#5:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:09,676 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-E28090DCAF84: appendEntries* reply s0<-s1#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:09,678 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-E28090DCAF84: appendEntries* s0->s1#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:09,679 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-E28090DCAF84: appendEntries* reply s0<-s1#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:09,680 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-E28090DCAF84: appendEntries* s0->s2#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:09,681 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-E28090DCAF84: appendEntries* reply s0<-s2#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:09,689 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-01362948AA20: add replied callId 29
2024-09-30 06:54:09,689 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2024-09-30 06:54:09,762 [s2-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:54:09,765 [main] DEBUG client.RaftClient (RaftClientImpl.java:close(465)) - close client-01362948AA20
2024-09-30 06:54:09,765 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:54:09,767 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2024-09-30 06:54:09,767 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:54:09,767 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:54:09,767 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:54:09,767 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:54:09,767 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:54:09,768 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E28090DCAF84:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E28090DCAF84-SegmentedRaftLog:OPENED:c2:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E28090DCAF84:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-E28090DCAF84-SegmentedRaftLog:OPENED:c1:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E28090DCAF84:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-E28090DCAF84-SegmentedRaftLog:OPENED:c1:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15252, s1|localhost:15256, s2|localhost:15260]|listeners:[], old=null} RUNNING
2024-09-30 06:54:09,769 [MiniRaftCluster-95] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:54:09,769 [MiniRaftCluster-96] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:54:09,770 [MiniRaftCluster-97] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:54:09,770 [MiniRaftCluster-95] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:09,771 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-E28090DCAF84: shutdown
2024-09-30 06:54:09,771 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E28090DCAF84,id=s0
2024-09-30 06:54:09,771 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-E28090DCAF84-LeaderStateImpl
2024-09-30 06:54:09,770 [MiniRaftCluster-96] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:09,771 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-E28090DCAF84: shutdown
2024-09-30 06:54:09,771 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E28090DCAF84,id=s1
2024-09-30 06:54:09,771 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-E28090DCAF84-FollowerState
2024-09-30 06:54:09,772 [Thread-1653] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:54:09,772 [Thread-1655] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:54:09,773 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-E28090DCAF84-StateMachineUpdater: set stopIndex = 1
2024-09-30 06:54:09,773 [s1@group-E28090DCAF84-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-E28090DCAF84-FollowerState was interrupted
2024-09-30 06:54:09,773 [s1@group-E28090DCAF84-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-E28090DCAF84-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:1)
2024-09-30 06:54:09,774 [s0@group-E28090DCAF84->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-E28090DCAF84->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:09,774 [MiniRaftCluster-97] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:09,774 [s0@group-E28090DCAF84->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-E28090DCAF84->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:09,774 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-E28090DCAF84: shutdown
2024-09-30 06:54:09,775 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E28090DCAF84,id=s2
2024-09-30 06:54:09,775 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-E28090DCAF84-FollowerState
2024-09-30 06:54:09,775 [Thread-1658] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:54:09,774 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-E28090DCAF84-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:09,775 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:09,775 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:09,776 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:09,776 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:09,777 [Thread-1659] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:54:09,780 [s1@group-E28090DCAF84-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-E28090DCAF84-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:09,781 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-E28090DCAF84->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:09,781 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-E28090DCAF84->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:09,781 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-E28090DCAF84->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:09,781 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-E28090DCAF84->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:09,781 [MiniRaftCluster-96] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:09,782 [s2@group-E28090DCAF84-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-E28090DCAF84-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:1)
2024-09-30 06:54:09,782 [s2@group-E28090DCAF84-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-E28090DCAF84-FollowerState was interrupted
2024-09-30 06:54:09,782 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-E28090DCAF84-StateMachineUpdater: set stopIndex = 1
2024-09-30 06:54:09,782 [MiniRaftCluster-96] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:09,782 [s2@group-E28090DCAF84-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-E28090DCAF84-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:09,783 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-E28090DCAF84-StateMachineUpdater: set stopIndex = 2
2024-09-30 06:54:09,783 [s0@group-E28090DCAF84-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-E28090DCAF84-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:2)
2024-09-30 06:54:09,783 [s0@group-E28090DCAF84-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-E28090DCAF84-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:09,783 [MiniRaftCluster-97] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:09,784 [MiniRaftCluster-97] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:09,784 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-E28090DCAF84->s1-GrpcLogAppender is already stopped
2024-09-30 06:54:09,785 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-E28090DCAF84->s2-GrpcLogAppender is already stopped
2024-09-30 06:54:09,786 [MiniRaftCluster-97] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:09,786 [MiniRaftCluster-97] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:09,786 [MiniRaftCluster-96] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:09,786 [MiniRaftCluster-96] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:09,786 [MiniRaftCluster-96] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:09,787 [MiniRaftCluster-97] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:09,788 [MiniRaftCluster-95] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:09,788 [MiniRaftCluster-95] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:09,788 [MiniRaftCluster-95] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:09,788 [MiniRaftCluster-95] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:09,789 [MiniRaftCluster-95] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:10,062 [s2-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:54:10,063 [s2-server-thread3] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-E28090DCAF84: Failed appendEntries* s0->s2#11-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-E28090DCAF84 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:10,064 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:54:10,065 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:54:10,066 [s1-server-thread1] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s1@group-E28090DCAF84: Failed appendEntries* s0->s1#11-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-E28090DCAF84 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:10,066 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:54:10,680 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-E28090DCAF84-SegmentedRaftLogWorker close()
2024-09-30 06:54:10,681 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-E28090DCAF84-SegmentedRaftLogWorker close()
2024-09-30 06:54:10,687 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-E28090DCAF84-SegmentedRaftLogWorker close()
2024-09-30 06:54:10,687 [JvmPauseMonitor64] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:54:10,688 [JvmPauseMonitor63] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:54:10,688 [JvmPauseMonitor65] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:54:10,688 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:54:10,688 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:54:10,868 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:54:10,868 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testLeaderNotCountListenerForMajority" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="1.83">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:149)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:131)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderNotCountListenerForMajority(LeaderElectionTests.java:136)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-09-30 06:54:10,870 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:54:10,871 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:54:10,871 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:54:10,871 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:54:10,873 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-09-30 06:54:10,874 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]
2024-09-30 06:54:10,874 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:54:10,875 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:54:10,875 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:54:10,875 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:54:10,875 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:54:10,875 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:54:10,875 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s3, group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272], format? true
2024-09-30 06:54:10,876 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3
2024-09-30 06:54:10,876 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3 does not exist.
2024-09-30 06:54:10,876 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3
2024-09-30 06:54:10,877 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:10,877 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:10,877 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15277 (custom)
2024-09-30 06:54:10,877 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:10,878 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15278 (custom)
2024-09-30 06:54:10,878 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:10,878 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15276 (custom)
2024-09-30 06:54:10,878 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:10,878 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:10,879 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:10,879 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:10,879 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:10,879 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,880 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:10,880 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:10,883 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:10,883 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:10,883 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:10,883 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:10,886 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3] (custom)
2024-09-30 06:54:10,886 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:10,886 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:10,898 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272] returns group-C5860CADC5C0:java.util.concurrent.CompletableFuture@395854dd[Not completed]
2024-09-30 06:54:10,898 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s3: new RaftServerImpl for group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272] with BaseStateMachine:uninitialized
2024-09-30 06:54:10,899 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s4, group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272], format? true
2024-09-30 06:54:10,899 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4
2024-09-30 06:54:10,899 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:10,899 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4 does not exist.
2024-09-30 06:54:10,899 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4
2024-09-30 06:54:10,899 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:10,899 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:10,899 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:10,900 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:10,900 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:10,900 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:10,900 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:10,900 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:10,900 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s3@group-C5860CADC5C0: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:10,900 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15281 (custom)
2024-09-30 06:54:10,900 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:10,900 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:10,901 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:10,901 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15282 (custom)
2024-09-30 06:54:10,901 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:10,901 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:10,901 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15280 (custom)
2024-09-30 06:54:10,901 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:10,901 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:10,902 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:10,902 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:10,902 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:10,902 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:10,902 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:10,902 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,902 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:10,902 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:10,903 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:10,905 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:10,905 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:10,905 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:10,905 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:10,905 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:10,906 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:10,906 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:10,906 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:10,910 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:10,910 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:10,911 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4] (custom)
2024-09-30 06:54:10,911 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:10,912 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:10,912 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272] returns group-C5860CADC5C0:java.util.concurrent.CompletableFuture@67836d4[Not completed]
2024-09-30 06:54:10,913 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s4: new RaftServerImpl for group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272] with BaseStateMachine:uninitialized
2024-09-30 06:54:10,913 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:10,913 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:10,913 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:10,913 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:10,913 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:10,913 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:10,913 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:10,913 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272], format? true
2024-09-30 06:54:10,913 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0
2024-09-30 06:54:10,913 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s4@group-C5860CADC5C0: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:10,914 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0 does not exist.
2024-09-30 06:54:10,914 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0
2024-09-30 06:54:10,914 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:10,914 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:10,914 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:10,915 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15265 (custom)
2024-09-30 06:54:10,915 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:10,915 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15266 (custom)
2024-09-30 06:54:10,915 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:10,915 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15264 (custom)
2024-09-30 06:54:10,916 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:10,916 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:10,916 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:10,916 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:10,916 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:10,916 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,917 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:10,917 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:10,919 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:10,919 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:10,919 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:10,920 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:10,920 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0] (custom)
2024-09-30 06:54:10,920 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:10,920 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:10,926 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:10,926 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272] returns group-C5860CADC5C0:java.util.concurrent.CompletableFuture@715ea64a[Not completed]
2024-09-30 06:54:10,926 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:10,926 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272], format? true
2024-09-30 06:54:10,926 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1
2024-09-30 06:54:10,926 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:10,927 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1 does not exist.
2024-09-30 06:54:10,927 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1
2024-09-30 06:54:10,927 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:10,927 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:10,927 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:10,928 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:10,928 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15269 (custom)
2024-09-30 06:54:10,928 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:10,928 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15270 (custom)
2024-09-30 06:54:10,928 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:10,928 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15268 (custom)
2024-09-30 06:54:10,929 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:10,929 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:10,929 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:10,929 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:10,929 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:10,929 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,930 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:10,930 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:10,932 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:10,932 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:10,932 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:10,932 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:10,933 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1] (custom)
2024-09-30 06:54:10,933 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:10,933 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:10,934 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272] with BaseStateMachine:uninitialized
2024-09-30 06:54:10,934 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:10,934 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:10,934 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:10,934 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:10,934 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:10,934 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:10,934 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:10,934 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-C5860CADC5C0: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:10,934 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:10,935 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:10,935 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:10,935 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:10,935 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:10,935 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:10,929 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:10,936 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:10,936 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:10,936 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:10,936 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:10,936 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:10,937 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:10,937 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:10,937 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:10,938 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:10,938 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:10,938 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:10,938 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272] returns group-C5860CADC5C0:java.util.concurrent.CompletableFuture@16bbb59c[Not completed]
2024-09-30 06:54:10,938 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272], format? true
2024-09-30 06:54:10,939 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2
2024-09-30 06:54:10,939 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2 does not exist.
2024-09-30 06:54:10,939 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2
2024-09-30 06:54:10,939 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:10,940 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:10,940 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15273 (custom)
2024-09-30 06:54:10,940 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:10,940 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15274 (custom)
2024-09-30 06:54:10,940 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:10,940 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15272 (custom)
2024-09-30 06:54:10,941 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:10,941 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:10,941 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:10,941 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:10,941 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:10,941 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,942 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:10,942 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:10,944 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:10,944 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:10,944 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:10,944 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:10,944 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2] (custom)
2024-09-30 06:54:10,945 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:10,945 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:10,945 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272] with BaseStateMachine:uninitialized
2024-09-30 06:54:10,945 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:10,946 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:10,946 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:10,946 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:10,946 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:10,946 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:10,946 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:10,946 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-C5860CADC5C0: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:10,946 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:10,946 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:10,946 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:10,947 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:10,947 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:10,947 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:10,948 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:10,949 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:10,949 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:10,949 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:10,949 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:10,949 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:10,949 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272] returns group-C5860CADC5C0:java.util.concurrent.CompletableFuture@5653429e[Not completed]
2024-09-30 06:54:10,950 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:10,950 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:10,950 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-C5860CADC5C0:[s3|localhost:15276, s4|localhost:15280, s0|localhost:15264, s1|localhost:15268, s2|localhost:15272] with BaseStateMachine:uninitialized
2024-09-30 06:54:10,950 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:10,950 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3] (custom)
2024-09-30 06:54:10,950 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:10,950 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:10,950 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0 does not exist. Creating ...
2024-09-30 06:54:10,951 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0
2024-09-30 06:54:10,950 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:10,951 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:10,952 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:10,952 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:10,952 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-C5860CADC5C0: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:10,952 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:10,952 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:10,952 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:10,952 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current
2024-09-30 06:54:10,952 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:10,953 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/sm
2024-09-30 06:54:10,953 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:10,953 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@41fb68b2
2024-09-30 06:54:10,953 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:10,953 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:10,954 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:10,954 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0 has been successfully formatted.
2024-09-30 06:54:10,954 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:10,954 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:10,954 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,954 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:10,954 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:10,955 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:10,955 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:10,955 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:10,955 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:10,955 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:10,955 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:10,955 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:10,955 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:10,955 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:10,955 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,955 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-C5860CADC5C0-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:10,956 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-C5860CADC5C0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0
2024-09-30 06:54:10,956 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:10,956 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:10,956 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:10,956 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:10,956 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:10,956 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:10,956 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:10,956 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:10,956 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:10,958 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,958 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:10,958 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:10,958 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:10,958 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-C5860CADC5C0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:10,959 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-C5860CADC5C0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:10,959 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(395)) - s3@group-C5860CADC5C0: start as a listener, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:10,959 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-C5860CADC5C0: changes role from      null to LISTENER at term 0 for startAsListener
2024-09-30 06:54:10,959 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:10,960 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s3
2024-09-30 06:54:10,960 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s3
2024-09-30 06:54:10,960 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:10,960 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:10,960 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:10,960 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:10,960 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:10,961 [s3@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:10,961 [s3@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:10,961 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s3: start RPC server
2024-09-30 06:54:10,963 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15278
2024-09-30 06:54:10,964 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15276
2024-09-30 06:54:10,964 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15277
2024-09-30 06:54:10,966 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:10,966 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:10,966 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4] (custom)
2024-09-30 06:54:10,966 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0 does not exist. Creating ...
2024-09-30 06:54:10,967 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0
2024-09-30 06:54:10,967 [JvmPauseMonitor66] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-09-30 06:54:10,968 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:10,968 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current
2024-09-30 06:54:10,968 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/sm
2024-09-30 06:54:10,968 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@62bc6804
2024-09-30 06:54:10,969 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:10,969 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0 has been successfully formatted.
2024-09-30 06:54:10,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:10,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:10,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:10,970 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:10,971 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:10,971 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:10,971 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:10,971 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,974 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-C5860CADC5C0-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:10,974 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-C5860CADC5C0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0
2024-09-30 06:54:10,974 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:10,974 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:10,974 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:10,974 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:10,974 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:10,974 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:10,974 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:10,974 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:10,975 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:10,975 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,975 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:10,976 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:10,976 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:10,976 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-C5860CADC5C0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:10,976 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-C5860CADC5C0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:10,976 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(395)) - s4@group-C5860CADC5C0: start as a listener, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:10,976 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-C5860CADC5C0: changes role from      null to LISTENER at term 0 for startAsListener
2024-09-30 06:54:10,976 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:10,977 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s4
2024-09-30 06:54:10,977 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s4
2024-09-30 06:54:10,977 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:10,977 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:10,977 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:10,977 [s4@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:10,977 [s4@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:10,977 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:10,977 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:10,978 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s4: start RPC server
2024-09-30 06:54:10,979 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15282
2024-09-30 06:54:10,980 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15280
2024-09-30 06:54:10,980 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15281
2024-09-30 06:54:10,981 [JvmPauseMonitor67] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-09-30 06:54:10,981 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:10,981 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:10,981 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0] (custom)
2024-09-30 06:54:10,981 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0 does not exist. Creating ...
2024-09-30 06:54:10,982 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0
2024-09-30 06:54:10,983 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:10,983 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current
2024-09-30 06:54:10,983 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/sm
2024-09-30 06:54:10,983 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@22de8d18
2024-09-30 06:54:10,984 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:10,984 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0 has been successfully formatted.
2024-09-30 06:54:10,985 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:10,985 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:10,985 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,985 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:10,985 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:10,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:10,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:10,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:10,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,986 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-C5860CADC5C0-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:10,986 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-C5860CADC5C0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0
2024-09-30 06:54:10,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:10,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:10,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:10,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:10,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:10,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:10,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:10,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:10,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:10,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:10,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:10,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:10,989 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-C5860CADC5C0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:10,989 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-C5860CADC5C0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:10,989 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-C5860CADC5C0: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:10,989 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5860CADC5C0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:10,989 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:10,990 [s0@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:10,990 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s0
2024-09-30 06:54:10,990 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s0
2024-09-30 06:54:10,990 [s0@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:10,990 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:10,990 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:10,990 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:10,990 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:10,991 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:10,992 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:54:10,993 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15266
2024-09-30 06:54:10,994 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15264
2024-09-30 06:54:10,994 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15265
2024-09-30 06:54:10,995 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:10,995 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:10,995 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1] (custom)
2024-09-30 06:54:10,995 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0 does not exist. Creating ...
2024-09-30 06:54:10,996 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0
2024-09-30 06:54:10,996 [JvmPauseMonitor68] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:54:10,997 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:10,997 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current
2024-09-30 06:54:10,997 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/sm
2024-09-30 06:54:10,997 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6b7ffc59
2024-09-30 06:54:10,998 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:10,998 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0 has been successfully formatted.
2024-09-30 06:54:10,998 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:10,999 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:10,999 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:10,999 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:10,999 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:10,999 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:10,999 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:10,999 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:10,999 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:11,006 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-C5860CADC5C0-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:11,006 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-C5860CADC5C0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0
2024-09-30 06:54:11,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:11,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:11,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:11,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:11,007 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:11,007 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:11,007 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:11,007 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:11,007 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:11,009 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:11,009 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:11,009 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:11,009 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:11,009 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-C5860CADC5C0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:11,009 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-C5860CADC5C0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:11,010 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-C5860CADC5C0: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,010 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-C5860CADC5C0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:11,010 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:11,010 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s1
2024-09-30 06:54:11,010 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s1
2024-09-30 06:54:11,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:11,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:11,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:11,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:11,011 [s1@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:11,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:11,011 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:54:11,012 [s1@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:11,013 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15270
2024-09-30 06:54:11,013 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15268
2024-09-30 06:54:11,014 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15269
2024-09-30 06:54:11,014 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:11,014 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:11,014 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2] (custom)
2024-09-30 06:54:11,014 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0 does not exist. Creating ...
2024-09-30 06:54:11,015 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0
2024-09-30 06:54:11,016 [JvmPauseMonitor69] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:54:11,016 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:11,016 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current
2024-09-30 06:54:11,016 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/sm
2024-09-30 06:54:11,016 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@140a8451
2024-09-30 06:54:11,017 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:11,017 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0 has been successfully formatted.
2024-09-30 06:54:11,017 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:11,017 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:11,017 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:11,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:11,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:11,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:11,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:11,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:11,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:11,022 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-C5860CADC5C0-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:11,022 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-C5860CADC5C0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0
2024-09-30 06:54:11,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:11,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:11,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:11,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:11,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:11,023 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:11,023 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:11,023 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:11,023 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:11,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:11,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:11,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:11,025 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:11,025 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-C5860CADC5C0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:11,025 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-C5860CADC5C0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:11,026 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-C5860CADC5C0: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,026 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-C5860CADC5C0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:11,026 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:11,030 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s2
2024-09-30 06:54:11,030 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s2
2024-09-30 06:54:11,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:11,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:11,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:11,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:11,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:11,031 [s2@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:11,031 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:54:11,032 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15274
2024-09-30 06:54:11,032 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15272
2024-09-30 06:54:11,033 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15273
2024-09-30 06:54:11,033 [s2@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:11,034 [JvmPauseMonitor70] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:54:11,034 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:11,034 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-C5860CADC5C0:t0, leader=null, voted=, raftlog=Memoized:s3@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
  s4:  RUNNING  LISTENER s4@group-C5860CADC5C0:t0, leader=null, voted=, raftlog=Memoized:s4@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C5860CADC5C0:t0, leader=null, voted=, raftlog=Memoized:s0@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C5860CADC5C0:t0, leader=null, voted=, raftlog=Memoized:s1@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C5860CADC5C0:t0, leader=null, voted=, raftlog=Memoized:s2@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
2024-09-30 06:54:11,035 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-C5860CADC5C0:t0, leader=null, voted=, raftlog=Memoized:s3@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
  s4:  RUNNING  LISTENER s4@group-C5860CADC5C0:t0, leader=null, voted=, raftlog=Memoized:s4@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C5860CADC5C0:t0, leader=null, voted=, raftlog=Memoized:s0@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C5860CADC5C0:t0, leader=null, voted=, raftlog=Memoized:s1@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C5860CADC5C0:t0, leader=null, voted=, raftlog=Memoized:s2@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
2024-09-30 06:54:11,191 [s0@group-C5860CADC5C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-C5860CADC5C0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:202128959ns, electionTimeout:201ms
2024-09-30 06:54:11,192 [s0@group-C5860CADC5C0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:11,192 [s0@group-C5860CADC5C0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5860CADC5C0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:54:11,192 [s0@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:11,192 [s0@group-C5860CADC5C0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5860CADC5C0-LeaderElection71
2024-09-30 06:54:11,192 [s0@group-C5860CADC5C0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-C5860CADC5C0-LeaderElection71 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,193 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:11,193 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:11,193 [s0@group-C5860CADC5C0-LeaderElection71-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15272
2024-09-30 06:54:11,194 [s0@group-C5860CADC5C0-LeaderElection71-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15268
2024-09-30 06:54:11,212 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5860CADC5C0: receive requestVote(PRE_VOTE, s0, group-C5860CADC5C0, 0, (t:0, i:0))
2024-09-30 06:54:11,212 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5860CADC5C0-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:11,212 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5860CADC5C0 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-C5860CADC5C0:t0, leader=null, voted=, raftlog=Memoized:s2@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,214 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5860CADC5C0: receive requestVote(PRE_VOTE, s0, group-C5860CADC5C0, 0, (t:0, i:0))
2024-09-30 06:54:11,215 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5860CADC5C0-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:11,215 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5860CADC5C0 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-C5860CADC5C0:t0, leader=null, voted=, raftlog=Memoized:s1@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,216 [s0@group-C5860CADC5C0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C5860CADC5C0-LeaderElection71: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:11,216 [s0@group-C5860CADC5C0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2024-09-30 06:54:11,216 [s0@group-C5860CADC5C0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-C5860CADC5C0-LeaderElection71 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:11,216 [s0@group-C5860CADC5C0-LeaderElection71] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@53fb4708
2024-09-30 06:54:11,217 [s0@group-C5860CADC5C0-LeaderElection71] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:11,218 [s0@group-C5860CADC5C0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-C5860CADC5C0-LeaderElection71 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,222 [s1@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:11,222 [s1@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:11,224 [s3@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:11,224 [s3@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:11,225 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5860CADC5C0: receive requestVote(ELECTION, s0, group-C5860CADC5C0, 1, (t:0, i:0))
2024-09-30 06:54:11,225 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5860CADC5C0-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:11,225 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-C5860CADC5C0: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:54:11,225 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:11,225 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:11,225 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:11,226 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:11,226 [s1@group-C5860CADC5C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-C5860CADC5C0-FollowerState was interrupted
2024-09-30 06:54:11,230 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-C5860CADC5C0: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:54:11,230 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3304bbbb
2024-09-30 06:54:11,230 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5860CADC5C0: receive requestVote(ELECTION, s0, group-C5860CADC5C0, 1, (t:0, i:0))
2024-09-30 06:54:11,230 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5860CADC5C0-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:11,231 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-C5860CADC5C0: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:54:11,231 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:11,231 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:11,231 [s2@group-C5860CADC5C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-C5860CADC5C0-FollowerState was interrupted
2024-09-30 06:54:11,231 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:11,231 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-C5860CADC5C0: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:54:11,231 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@612c1453
2024-09-30 06:54:11,231 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5860CADC5C0 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-C5860CADC5C0:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,233 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:11,233 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5860CADC5C0 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-C5860CADC5C0:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,234 [s0@group-C5860CADC5C0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C5860CADC5C0-LeaderElection71: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:11,235 [s0@group-C5860CADC5C0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2024-09-30 06:54:11,235 [s0@group-C5860CADC5C0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-C5860CADC5C0-LeaderElection71 ELECTION round 0: result PASSED
2024-09-30 06:54:11,235 [s0@group-C5860CADC5C0-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-C5860CADC5C0-LeaderElection71
2024-09-30 06:54:11,235 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5860CADC5C0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:54:11,235 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:11,235 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:11,235 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:11,235 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:11,235 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:11,235 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:11,236 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:11,236 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:11,236 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:11,236 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:11,236 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:11,236 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:11,236 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:11,236 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:11,236 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:11,236 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:11,237 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:11,237 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:11,237 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:11,237 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:11,237 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:11,237 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:11,237 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:11,238 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:11,238 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:11,238 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:11,238 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:11,238 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:11,238 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:11,238 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:11,238 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:11,238 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:11,238 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:11,238 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:11,239 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:11,239 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:11,239 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:11,239 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:11,239 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:11,239 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:11,239 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:11,239 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:11,239 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:11,239 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:11,240 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:11,240 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:11,240 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:11,240 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:11,240 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:11,240 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:11,240 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:11,240 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:11,240 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:11,240 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:11,240 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:11,241 [s0@group-C5860CADC5C0-LeaderElection71] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:11,241 [s0@group-C5860CADC5C0-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5860CADC5C0-LeaderStateImpl
2024-09-30 06:54:11,241 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-C5860CADC5C0: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:54:11,241 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-C5860CADC5C0: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 306ms
2024-09-30 06:54:11,241 [s0@group-C5860CADC5C0-LeaderElection71] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-C5860CADC5C0-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:11,242 [s0@group-C5860CADC5C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:11,249 [s0@group-C5860CADC5C0-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-C5860CADC5C0: set configuration conf: {index: 0, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,253 [s0@group-C5860CADC5C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-C5860CADC5C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/log_inprogress_0
2024-09-30 06:54:11,261 [s0@group-C5860CADC5C0->s3-GrpcLogAppender-LogAppenderDaemon] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15276
2024-09-30 06:54:11,264 [s0@group-C5860CADC5C0->s4-GrpcLogAppender-LogAppenderDaemon] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15280
2024-09-30 06:54:11,264 [s4@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:11,265 [s4@group-C5860CADC5C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:11,265 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-C5860CADC5C0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 319ms
2024-09-30 06:54:11,271 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5860CADC5C0: appendEntries* s0->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15264"dataStreamAddress:"localhost:15267"clientAddress:"localhost:15266"adminAddress:"localhost:15265"startupRole:FOLLOWER, id:"s1"address:"localhost:15268"dataStreamAddress:"localhost:15271"clientAddress:"localhost:15270"adminAddress:"localhost:15269"startupRole:FOLLOWER, id:"s2"address:"localhost:15272"dataStreamAddress:"localhost:15275"clientAddress:"localhost:15274"adminAddress:"localhost:15273"startupRole:FOLLOWER, old:)
2024-09-30 06:54:11,271 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-C5860CADC5C0: set configuration conf: {index: 0, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,272 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-C5860CADC5C0-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:11,283 [s1@group-C5860CADC5C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:11,294 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-C5860CADC5C0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 341ms
2024-09-30 06:54:11,294 [s1@group-C5860CADC5C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-C5860CADC5C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/log_inprogress_0
2024-09-30 06:54:11,295 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5860CADC5C0: appendEntries* reply s0<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:11,296 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* s0->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15264"dataStreamAddress:"localhost:15267"clientAddress:"localhost:15266"adminAddress:"localhost:15265"startupRole:FOLLOWER, id:"s1"address:"localhost:15268"dataStreamAddress:"localhost:15271"clientAddress:"localhost:15270"adminAddress:"localhost:15269"startupRole:FOLLOWER, id:"s2"address:"localhost:15272"dataStreamAddress:"localhost:15275"clientAddress:"localhost:15274"adminAddress:"localhost:15273"startupRole:FOLLOWER, old:)
2024-09-30 06:54:11,297 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-C5860CADC5C0: set configuration conf: {index: 0, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,297 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-C5860CADC5C0-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:11,299 [s2@group-C5860CADC5C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:11,314 [s2@group-C5860CADC5C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-C5860CADC5C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/log_inprogress_0
2024-09-30 06:54:11,315 [s3-server-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4e79210c
2024-09-30 06:54:11,316 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* reply s0<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:11,317 [s3-server-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:11,317 [s3-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s3@group-C5860CADC5C0: set firstElectionSinceStartup to false for appendEntries
2024-09-30 06:54:11,317 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-C5860CADC5C0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 416ms
2024-09-30 06:54:11,320 [s0@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7c418dc8
2024-09-30 06:54:11,323 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* s0->s4#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15264"dataStreamAddress:"localhost:15267"clientAddress:"localhost:15266"adminAddress:"localhost:15265"startupRole:FOLLOWER, id:"s1"address:"localhost:15268"dataStreamAddress:"localhost:15271"clientAddress:"localhost:15270"adminAddress:"localhost:15269"startupRole:FOLLOWER, id:"s2"address:"localhost:15272"dataStreamAddress:"localhost:15275"clientAddress:"localhost:15274"adminAddress:"localhost:15273"startupRole:FOLLOWER, old:)
2024-09-30 06:54:11,323 [s0@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,323 [s0@group-C5860CADC5C0-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-C5860CADC5C0-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:54:11,324 [s4-server-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@16ae2827
2024-09-30 06:54:11,325 [s4-server-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:11,325 [s4-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s4@group-C5860CADC5C0: set firstElectionSinceStartup to false for appendEntries
2024-09-30 06:54:11,325 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-C5860CADC5C0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 411ms
2024-09-30 06:54:11,325 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-C5860CADC5C0: set configuration conf: {index: 0, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,325 [s4-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s4@group-C5860CADC5C0-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:11,326 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* s0->s3#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15264"dataStreamAddress:"localhost:15267"clientAddress:"localhost:15266"adminAddress:"localhost:15265"startupRole:FOLLOWER, id:"s1"address:"localhost:15268"dataStreamAddress:"localhost:15271"clientAddress:"localhost:15270"adminAddress:"localhost:15269"startupRole:FOLLOWER, id:"s2"address:"localhost:15272"dataStreamAddress:"localhost:15275"clientAddress:"localhost:15274"adminAddress:"localhost:15273"startupRole:FOLLOWER, old:)
2024-09-30 06:54:11,327 [s3-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-C5860CADC5C0: set configuration conf: {index: 0, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null}
2024-09-30 06:54:11,327 [s3-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s3@group-C5860CADC5C0-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:11,330 [s4@group-C5860CADC5C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:11,331 [s3@group-C5860CADC5C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:11,344 [s4@group-C5860CADC5C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s4@group-C5860CADC5C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/log_inprogress_0
2024-09-30 06:54:11,345 [s3@group-C5860CADC5C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-C5860CADC5C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/log_inprogress_0
2024-09-30 06:54:11,345 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* reply s0<-s4#1:OK-t0,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:11,346 [s3-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* reply s0<-s3#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:11,399 [s1@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5fe89dfa
2024-09-30 06:54:11,401 [s2@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2613f786
2024-09-30 06:54:11,402 [s1@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,405 [s2@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,425 [s4@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5730708e
2024-09-30 06:54:11,425 [s3@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4dd9ec42
2024-09-30 06:54:11,427 [s4@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,429 [s3@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,485 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-C5860CADC5C0:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
  s4:  RUNNING  LISTENER s4@group-C5860CADC5C0:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
  s0:  RUNNING    LEADER s0@group-C5860CADC5C0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C5860CADC5C0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C5860CADC5C0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280], old=null} RUNNING
2024-09-30 06:54:11,486 [main] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:11,486 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-1D2AA180711F: get 30 returns []
2024-09-30 06:54:11,487 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-1D2AA180711F->s0@group-C5860CADC5C0, cid=30, seq=null, RW, message
2024-09-30 06:54:11,495 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s0@group-C5860CADC5C0: receive client request(RaftClientRequest:client-1D2AA180711F->s0@group-C5860CADC5C0, cid=30, seq=null, RW, Message:6d657373616765)
2024-09-30 06:54:11,496 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s0@group-C5860CADC5C0-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-1D2AA180711F->s0@group-C5860CADC5C0, cid=30, seq=null, RW, Message:6d657373616765, entry=(t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:54:11,498 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5860CADC5C0: appendEntries* s0->s1#7-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:30@client-1D2AA180711F
2024-09-30 06:54:11,499 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5860CADC5C0: appendEntries* reply s0<-s1#7:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:11,499 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* s0->s2#8-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:30@client-1D2AA180711F
2024-09-30 06:54:11,499 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* s0->s3#9-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:30@client-1D2AA180711F
2024-09-30 06:54:11,500 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* s0->s4#10-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:30@client-1D2AA180711F
2024-09-30 06:54:11,500 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* reply s0<-s3#9:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:11,502 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* s0->s4#11-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:11,502 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* reply s0<-s2#8:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:11,502 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* reply s0<-s4#10:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:11,503 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* s0->s2#9-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:11,504 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* reply s0<-s4#11:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:11,504 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5860CADC5C0: appendEntries* s0->s1#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:11,505 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5860CADC5C0: appendEntries* reply s0<-s1#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:11,506 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* reply s0<-s2#9:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:11,509 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-1D2AA180711F: add replied callId 30
2024-09-30 06:54:11,510 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest SetConfigurationRequest:client-1D2AA180711F->s0@group-C5860CADC5C0, cid=31, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272], listeners:[]
2024-09-30 06:54:11,512 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* s0->s3#10-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:11,513 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* reply s0<-s3#10:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:11,520 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1332)) - s0@group-C5860CADC5C0: receive setConfiguration SetConfigurationRequest:client-1D2AA180711F->s0@group-C5860CADC5C0, cid=31, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272], listeners:[]
2024-09-30 06:54:11,521 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(486)) - s0@group-C5860CADC5C0-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-1D2AA180711F->s0@group-C5860CADC5C0, cid=31, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272], listeners:[]
2024-09-30 06:54:11,521 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-C5860CADC5C0: set configuration conf: {index: 3, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280]}
2024-09-30 06:54:11,524 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5860CADC5C0: appendEntries* s0->s1#14-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15276"clientAddress:"0.0.0.0:15278"adminAddress:"0.0.0.0:15277"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15280"clientAddress:"0.0.0.0:15282"adminAddress:"0.0.0.0:15281"startupRole:FOLLOWER, id:"s0"address:"0.0.0.0:15264"clientAddress:"0.0.0.0:15266"adminAddress:"0.0.0.0:15265"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15268"clientAddress:"0.0.0.0:15270"adminAddress:"0.0.0.0:15269"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15272"clientAddress:"0.0.0.0:15274"adminAddress:"0.0.0.0:15273"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15264"dataStreamAddress:"localhost:15267"clientAddress:"localhost:15266"adminAddress:"localhost:15265"startupRole:FOLLOWER, id:"s1"address:"localhost:15268"dataStreamAddress:"localhost:15271"clientAddress:"localhost:15270"adminAddress:"localhost:15269"startupRole:FOLLOWER, id:"s2"address:"localhost:15272"dataStreamAddress:"localhost:15275"clientAddress:"localhost:15274"adminAddress:"localhost:15273"startupRole:FOLLOWER)
2024-09-30 06:54:11,525 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-C5860CADC5C0: set configuration conf: {index: 3, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280]}
2024-09-30 06:54:11,527 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5860CADC5C0: appendEntries* reply s0<-s1#14:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:54:11,527 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* s0->s2#15-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15276"clientAddress:"0.0.0.0:15278"adminAddress:"0.0.0.0:15277"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15280"clientAddress:"0.0.0.0:15282"adminAddress:"0.0.0.0:15281"startupRole:FOLLOWER, id:"s0"address:"0.0.0.0:15264"clientAddress:"0.0.0.0:15266"adminAddress:"0.0.0.0:15265"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15268"clientAddress:"0.0.0.0:15270"adminAddress:"0.0.0.0:15269"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15272"clientAddress:"0.0.0.0:15274"adminAddress:"0.0.0.0:15273"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15264"dataStreamAddress:"localhost:15267"clientAddress:"localhost:15266"adminAddress:"localhost:15265"startupRole:FOLLOWER, id:"s1"address:"localhost:15268"dataStreamAddress:"localhost:15271"clientAddress:"localhost:15270"adminAddress:"localhost:15269"startupRole:FOLLOWER, id:"s2"address:"localhost:15272"dataStreamAddress:"localhost:15275"clientAddress:"localhost:15274"adminAddress:"localhost:15273"startupRole:FOLLOWER)
2024-09-30 06:54:11,527 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-C5860CADC5C0: set configuration conf: {index: 3, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280]}
2024-09-30 06:54:11,528 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* s0->s4#18-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15276"clientAddress:"0.0.0.0:15278"adminAddress:"0.0.0.0:15277"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15280"clientAddress:"0.0.0.0:15282"adminAddress:"0.0.0.0:15281"startupRole:FOLLOWER, id:"s0"address:"0.0.0.0:15264"clientAddress:"0.0.0.0:15266"adminAddress:"0.0.0.0:15265"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15268"clientAddress:"0.0.0.0:15270"adminAddress:"0.0.0.0:15269"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15272"clientAddress:"0.0.0.0:15274"adminAddress:"0.0.0.0:15273"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15264"dataStreamAddress:"localhost:15267"clientAddress:"localhost:15266"adminAddress:"localhost:15265"startupRole:FOLLOWER, id:"s1"address:"localhost:15268"dataStreamAddress:"localhost:15271"clientAddress:"localhost:15270"adminAddress:"localhost:15269"startupRole:FOLLOWER, id:"s2"address:"localhost:15272"dataStreamAddress:"localhost:15275"clientAddress:"localhost:15274"adminAddress:"localhost:15273"startupRole:FOLLOWER)
2024-09-30 06:54:11,528 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* s0->s3#16-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15276"clientAddress:"0.0.0.0:15278"adminAddress:"0.0.0.0:15277"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15280"clientAddress:"0.0.0.0:15282"adminAddress:"0.0.0.0:15281"startupRole:FOLLOWER, id:"s0"address:"0.0.0.0:15264"clientAddress:"0.0.0.0:15266"adminAddress:"0.0.0.0:15265"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15268"clientAddress:"0.0.0.0:15270"adminAddress:"0.0.0.0:15269"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15272"clientAddress:"0.0.0.0:15274"adminAddress:"0.0.0.0:15273"startupRole:FOLLOWER, old:id:"s0"address:"localhost:15264"dataStreamAddress:"localhost:15267"clientAddress:"localhost:15266"adminAddress:"localhost:15265"startupRole:FOLLOWER, id:"s1"address:"localhost:15268"dataStreamAddress:"localhost:15271"clientAddress:"localhost:15270"adminAddress:"localhost:15269"startupRole:FOLLOWER, id:"s2"address:"localhost:15272"dataStreamAddress:"localhost:15275"clientAddress:"localhost:15274"adminAddress:"localhost:15273"startupRole:FOLLOWER)
2024-09-30 06:54:11,528 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* reply s0<-s2#15:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:54:11,528 [s4-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-C5860CADC5C0: set configuration conf: {index: 3, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280]}
2024-09-30 06:54:11,528 [s3-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-C5860CADC5C0: set configuration conf: {index: 3, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=peers:[s0|localhost:15264, s1|localhost:15268, s2|localhost:15272]|listeners:[s3|localhost:15276, s4|localhost:15280]}
2024-09-30 06:54:11,529 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* reply s0<-s3#16:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:54:11,529 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* reply s0<-s4#18:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:54:11,530 [s0@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@76b9e6b8
2024-09-30 06:54:11,532 [s0@group-C5860CADC5C0-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-C5860CADC5C0: set configuration conf: {index: 5, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=null}
2024-09-30 06:54:11,534 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* s0->s3#19-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:11,534 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* s0->s4#20-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:11,535 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* s0->s2#17-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:11,535 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5860CADC5C0: appendEntries* s0->s1#15-t1,previous=(t:1, i:3),leaderCommit=3,initializing? false,entries: size=2, first=(t:1, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:11,535 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-C5860CADC5C0: set configuration conf: {index: 5, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=null}
2024-09-30 06:54:11,535 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* s0->s3#20-t1,previous=(t:1, i:4),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:5), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15276"clientAddress:"0.0.0.0:15278"adminAddress:"0.0.0.0:15277"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15280"clientAddress:"0.0.0.0:15282"adminAddress:"0.0.0.0:15281"startupRole:FOLLOWER, id:"s0"address:"0.0.0.0:15264"clientAddress:"0.0.0.0:15266"adminAddress:"0.0.0.0:15265"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15268"clientAddress:"0.0.0.0:15270"adminAddress:"0.0.0.0:15269"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15272"clientAddress:"0.0.0.0:15274"adminAddress:"0.0.0.0:15273"startupRole:FOLLOWER, old:)
2024-09-30 06:54:11,536 [s3-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-C5860CADC5C0: set configuration conf: {index: 5, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=null}
2024-09-30 06:54:11,536 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* reply s0<-s2#17:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:54:11,536 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5860CADC5C0: appendEntries* reply s0<-s1#15:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:54:11,536 [s2@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@28d41d34
2024-09-30 06:54:11,536 [s3@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@431e1b89
2024-09-30 06:54:11,536 [s1@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@512f7877
2024-09-30 06:54:11,536 [s3-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* reply s0<-s3#19:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:54:11,538 [s0@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,539 [s2@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,539 [s3-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* reply s0<-s3#20:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:54:11,539 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* reply s0<-s4#20:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:54:11,539 [s3@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,540 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* s0->s2#18-t1,previous=(t:1, i:4),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:5), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15276"clientAddress:"0.0.0.0:15278"adminAddress:"0.0.0.0:15277"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15280"clientAddress:"0.0.0.0:15282"adminAddress:"0.0.0.0:15281"startupRole:FOLLOWER, id:"s0"address:"0.0.0.0:15264"clientAddress:"0.0.0.0:15266"adminAddress:"0.0.0.0:15265"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15268"clientAddress:"0.0.0.0:15270"adminAddress:"0.0.0.0:15269"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15272"clientAddress:"0.0.0.0:15274"adminAddress:"0.0.0.0:15273"startupRole:FOLLOWER, old:)
2024-09-30 06:54:11,539 [s4@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@59f78418
2024-09-30 06:54:11,540 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-C5860CADC5C0: set configuration conf: {index: 5, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=null}
2024-09-30 06:54:11,541 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* reply s0<-s2#18:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:54:11,543 [s3-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* s0->s3#25-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:11,544 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5860CADC5C0: appendEntries* s0->s1#18-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:11,544 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* s0->s4#21-t1,previous=(t:1, i:4),leaderCommit=3,initializing? false,entries: size=1, first=(t:1, i:5), CONFIGURATIONENTRY(current:id:"s3"address:"0.0.0.0:15276"clientAddress:"0.0.0.0:15278"adminAddress:"0.0.0.0:15277"startupRole:FOLLOWER, id:"s4"address:"0.0.0.0:15280"clientAddress:"0.0.0.0:15282"adminAddress:"0.0.0.0:15281"startupRole:FOLLOWER, id:"s0"address:"0.0.0.0:15264"clientAddress:"0.0.0.0:15266"adminAddress:"0.0.0.0:15265"startupRole:FOLLOWER, id:"s1"address:"0.0.0.0:15268"clientAddress:"0.0.0.0:15270"adminAddress:"0.0.0.0:15269"startupRole:FOLLOWER, id:"s2"address:"0.0.0.0:15272"clientAddress:"0.0.0.0:15274"adminAddress:"0.0.0.0:15273"startupRole:FOLLOWER, old:)
2024-09-30 06:54:11,544 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* s0->s2#21-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:11,544 [s0@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@33bb760b
2024-09-30 06:54:11,544 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5860CADC5C0: appendEntries* reply s0<-s1#18:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:54:11,544 [s3-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5860CADC5C0: appendEntries* reply s0<-s3#25:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:54:11,545 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5860CADC5C0: appendEntries* reply s0<-s2#21:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:54:11,545 [s1@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,545 [s4-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-C5860CADC5C0: set configuration conf: {index: 5, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=null}
2024-09-30 06:54:11,545 [s1@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5510f68a
2024-09-30 06:54:11,546 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* s0->s4#22-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:11,547 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-1D2AA180711F: add replied callId 31
2024-09-30 06:54:11,547 [main] DEBUG client.RaftClient (RaftClientImpl.java:close(465)) - close client-1D2AA180711F
2024-09-30 06:54:11,547 [s2@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2ceb9cf6
2024-09-30 06:54:11,547 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* reply s0<-s4#21:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-09-30 06:54:11,547 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5860CADC5C0: appendEntries* reply s0<-s4#22:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:54:11,548 [s3@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@47218732
2024-09-30 06:54:11,549 [s1@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s1/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,547 [s4@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,549 [s4@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5dc81bfe
2024-09-30 06:54:11,551 [s2@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s2/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,552 [s0@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s0/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,552 [s3@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s3/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,552 [s4@group-C5860CADC5C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcb585c6b8/s4/3101e8b6-3328-438f-b8d4-c5860cadc5c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:11,559 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:54:11,559 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:54:11,559 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:54:11,559 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:54:11,559 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:54:11,560 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-C5860CADC5C0:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c5:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=null} RUNNING
  s4:  RUNNING  LISTENER s4@group-C5860CADC5C0:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c5:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=null} RUNNING
  s0:  RUNNING    LEADER s0@group-C5860CADC5C0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c6:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C5860CADC5C0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c5:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C5860CADC5C0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C5860CADC5C0-SegmentedRaftLog:OPENED:c5:last(t:1, i:6), conf=conf: {index: 5, cur=peers:[s3|0.0.0.0:15276, s4|0.0.0.0:15280, s0|0.0.0.0:15264, s1|0.0.0.0:15268, s2|0.0.0.0:15272]|listeners:[], old=null} RUNNING
2024-09-30 06:54:11,560 [MiniRaftCluster-98] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s3: close
2024-09-30 06:54:11,561 [MiniRaftCluster-99] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s4: close
2024-09-30 06:54:11,561 [MiniRaftCluster-100] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:54:11,561 [MiniRaftCluster-101] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:54:11,562 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s3@group-C5860CADC5C0: shutdown
2024-09-30 06:54:11,562 [MiniRaftCluster-102] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:54:11,563 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s3
2024-09-30 06:54:11,563 [MiniRaftCluster-98] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:11,563 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:11,563 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s3@group-C5860CADC5C0-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:54:11,563 [s3@group-C5860CADC5C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s3@group-C5860CADC5C0-FollowerState was interrupted
2024-09-30 06:54:11,563 [s3@group-C5860CADC5C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s3@group-C5860CADC5C0-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:5)
2024-09-30 06:54:11,563 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s4@group-C5860CADC5C0: shutdown
2024-09-30 06:54:11,563 [MiniRaftCluster-99] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:11,564 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-C5860CADC5C0: shutdown
2024-09-30 06:54:11,564 [MiniRaftCluster-100] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:11,564 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s4
2024-09-30 06:54:11,564 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:11,564 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s0
2024-09-30 06:54:11,564 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-C5860CADC5C0-LeaderStateImpl
2024-09-30 06:54:11,564 [s3@group-C5860CADC5C0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-C5860CADC5C0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:11,565 [MiniRaftCluster-101] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:11,565 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-C5860CADC5C0: shutdown
2024-09-30 06:54:11,565 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-C5860CADC5C0: shutdown
2024-09-30 06:54:11,565 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s1
2024-09-30 06:54:11,565 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:11,565 [MiniRaftCluster-102] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:11,565 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5860CADC5C0,id=s2
2024-09-30 06:54:11,565 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-C5860CADC5C0-FollowerState
2024-09-30 06:54:11,566 [Thread-1736] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-09-30 06:54:11,568 [Thread-1746] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-09-30 06:54:11,574 [Thread-1748] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:54:11,575 [s0@group-C5860CADC5C0->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-C5860CADC5C0->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:11,575 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-C5860CADC5C0-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:11,575 [s0@group-C5860CADC5C0->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-C5860CADC5C0->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:11,580 [s0@group-C5860CADC5C0->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-C5860CADC5C0->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:11,578 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:11,580 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:11,580 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: s0->s4#22-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:11,581 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:11,581 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "1\001\350\2663(C\217\270\324\305\206\f\255\305\300"
  }
  callId: 6
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:11,578 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#18-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:11,581 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:11,578 [s4@group-C5860CADC5C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s4@group-C5860CADC5C0-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:5)
2024-09-30 06:54:11,578 [s0@group-C5860CADC5C0->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-C5860CADC5C0->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:11,578 [Thread-1749] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:54:11,581 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-C5860CADC5C0-StateMachineUpdater: set stopIndex = 6
2024-09-30 06:54:11,581 [s0@group-C5860CADC5C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-C5860CADC5C0-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:6)
2024-09-30 06:54:11,578 [s4@group-C5860CADC5C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s4@group-C5860CADC5C0-FollowerState was interrupted
2024-09-30 06:54:11,576 [MiniRaftCluster-99] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:11,582 [MiniRaftCluster-99] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:11,576 [s1@group-C5860CADC5C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-C5860CADC5C0-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:5)
2024-09-30 06:54:11,576 [s1@group-C5860CADC5C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-C5860CADC5C0-FollowerState was interrupted
2024-09-30 06:54:11,576 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-C5860CADC5C0-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:54:11,576 [s2@group-C5860CADC5C0-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-C5860CADC5C0-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:5)
2024-09-30 06:54:11,576 [s2@group-C5860CADC5C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-C5860CADC5C0-FollowerState was interrupted
2024-09-30 06:54:11,576 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-C5860CADC5C0-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:54:11,575 [MiniRaftCluster-101] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:11,583 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:11,575 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s4@group-C5860CADC5C0-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:54:11,583 [MiniRaftCluster-101] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:11,582 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5860CADC5C0->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:11,582 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "1\001\350\2663(C\217\270\324\305\206\f\255\305\300"
  }
  callId: 7
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:11,582 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5860CADC5C0->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:11,583 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-C5860CADC5C0->s4-GrpcLogAppender: Failed to getClient for s4
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:11,590 [MiniRaftCluster-101] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:11,590 [MiniRaftCluster-101] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:11,590 [s1@group-C5860CADC5C0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-C5860CADC5C0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:11,590 [MiniRaftCluster-101] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:11,581 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#21-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:11,590 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:11,581 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:11,591 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s4"
  raftGroupId {
    id: "1\001\350\2663(C\217\270\324\305\206\f\255\305\300"
  }
  callId: 8
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:11,590 [s2@group-C5860CADC5C0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-C5860CADC5C0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:11,589 [s4@group-C5860CADC5C0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-C5860CADC5C0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:11,589 [MiniRaftCluster-102] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:11,592 [MiniRaftCluster-102] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:11,585 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5860CADC5C0->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:11,592 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-C5860CADC5C0->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:11,583 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5860CADC5C0->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:11,593 [grpc-default-executor-9] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-C5860CADC5C0->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:11,583 [MiniRaftCluster-99] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:11,593 [MiniRaftCluster-99] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:11,583 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-C5860CADC5C0->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:11,583 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s3"
  raftGroupId {
    id: "1\001\350\2663(C\217\270\324\305\206\f\255\305\300"
  }
  callId: 8
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:11,594 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: s0->s3#25-t1,previous=(t:1, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:1, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:11,594 [MiniRaftCluster-99] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:11,593 [MiniRaftCluster-98] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:11,594 [MiniRaftCluster-98] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:11,592 [s0@group-C5860CADC5C0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-C5860CADC5C0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:11,594 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:11,595 [MiniRaftCluster-102] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:11,595 [MiniRaftCluster-102] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:11,596 [MiniRaftCluster-102] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:11,596 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-C5860CADC5C0->s4-GrpcLogAppender is already stopped
2024-09-30 06:54:11,596 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-C5860CADC5C0->s3-GrpcLogAppender is already stopped
2024-09-30 06:54:11,597 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5860CADC5C0->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:11,597 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-C5860CADC5C0->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:11,598 [MiniRaftCluster-98] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:11,598 [MiniRaftCluster-98] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:11,598 [MiniRaftCluster-100] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:11,598 [MiniRaftCluster-100] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:11,597 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5860CADC5C0->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:11,598 [grpc-default-executor-9] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-C5860CADC5C0->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:11,598 [MiniRaftCluster-98] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:11,598 [MiniRaftCluster-100] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:11,599 [MiniRaftCluster-100] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:11,599 [MiniRaftCluster-100] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:12,544 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-C5860CADC5C0-SegmentedRaftLogWorker close()
2024-09-30 06:54:12,545 [JvmPauseMonitor68] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:54:12,546 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-C5860CADC5C0-SegmentedRaftLogWorker close()
2024-09-30 06:54:12,546 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-C5860CADC5C0-SegmentedRaftLogWorker close()
2024-09-30 06:54:12,546 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s3@group-C5860CADC5C0-SegmentedRaftLogWorker close()
2024-09-30 06:54:12,546 [JvmPauseMonitor69] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:54:12,547 [JvmPauseMonitor70] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:54:12,548 [JvmPauseMonitor66] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-09-30 06:54:12,548 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s4@group-C5860CADC5C0-SegmentedRaftLogWorker close()
2024-09-30 06:54:12,553 [JvmPauseMonitor67] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-09-30 06:54:12,553 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:54:12,553 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:54:12,701 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:54:12,701 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testImmediatelyRevertedToFollower" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="0.005"/>
  <testcase name="testLeaderElectionMetrics" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="1.466">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderElectionMetrics(LeaderElectionTests.java:514)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-09-30 06:54:12,709 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:54:12,709 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:54:12,709 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:54:12,709 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:54:12,711 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-51A673586172:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]
2024-09-30 06:54:12,712 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:54:12,712 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:54:12,712 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:54:12,712 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:54:12,712 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:54:12,712 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:54:12,713 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-51A673586172:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292], format? true
2024-09-30 06:54:12,713 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0
2024-09-30 06:54:12,713 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0 does not exist.
2024-09-30 06:54:12,713 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0
2024-09-30 06:54:12,714 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:12,714 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:12,714 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15285 (custom)
2024-09-30 06:54:12,714 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:12,715 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15286 (custom)
2024-09-30 06:54:12,715 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:12,715 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15284 (custom)
2024-09-30 06:54:12,715 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:12,715 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:12,715 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:12,716 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:12,716 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:12,716 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,716 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:12,717 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:12,719 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:12,720 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:12,720 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:12,720 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:12,720 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0] (custom)
2024-09-30 06:54:12,720 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:12,721 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:12,721 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-51A673586172:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] returns group-51A673586172:java.util.concurrent.CompletableFuture@47bae235[Not completed]
2024-09-30 06:54:12,722 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-51A673586172:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292], format? true
2024-09-30 06:54:12,722 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1
2024-09-30 06:54:12,722 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1 does not exist.
2024-09-30 06:54:12,722 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1
2024-09-30 06:54:12,722 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:12,723 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:12,723 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15289 (custom)
2024-09-30 06:54:12,723 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-51A673586172:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] with BaseStateMachine:uninitialized
2024-09-30 06:54:12,723 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:12,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:12,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:12,723 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15290 (custom)
2024-09-30 06:54:12,724 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:12,724 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15288 (custom)
2024-09-30 06:54:12,724 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:12,724 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:12,724 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:12,725 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:12,725 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:12,725 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,725 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:12,725 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:12,727 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:12,727 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:12,727 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:12,728 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:12,728 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1] (custom)
2024-09-30 06:54:12,728 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:12,728 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:12,729 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:12,729 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:12,729 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:12,729 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:12,729 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:12,729 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-51A673586172: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:12,729 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:12,729 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:12,729 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:12,729 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:12,729 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:12,729 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:12,730 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:12,730 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:12,731 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:12,731 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:12,731 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:12,731 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:12,731 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-51A673586172:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] returns group-51A673586172:java.util.concurrent.CompletableFuture@318ca53a[Not completed]
2024-09-30 06:54:12,731 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-51A673586172:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] with BaseStateMachine:uninitialized
2024-09-30 06:54:12,731 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-51A673586172:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292], format? true
2024-09-30 06:54:12,732 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2
2024-09-30 06:54:12,731 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:12,732 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2 does not exist.
2024-09-30 06:54:12,732 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2
2024-09-30 06:54:12,732 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:12,732 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:12,732 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:12,732 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:12,733 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:12,733 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:12,733 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15293 (custom)
2024-09-30 06:54:12,733 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:12,733 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:12,733 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15294 (custom)
2024-09-30 06:54:12,734 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:12,734 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15292 (custom)
2024-09-30 06:54:12,734 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:12,734 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:12,734 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:12,735 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:12,735 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:12,735 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,733 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:12,735 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:12,735 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:12,735 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-51A673586172: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:12,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:12,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:12,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:12,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:12,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:12,736 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:12,737 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:12,737 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:12,737 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:12,737 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:12,737 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:12,738 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:12,738 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:12,737 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:12,738 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:12,739 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:12,739 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2] (custom)
2024-09-30 06:54:12,739 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:12,739 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:12,742 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-51A673586172:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] returns group-51A673586172:java.util.concurrent.CompletableFuture@3d273300[Not completed]
2024-09-30 06:54:12,743 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:12,743 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:12,743 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-51A673586172:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] with BaseStateMachine:uninitialized
2024-09-30 06:54:12,743 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0] (custom)
2024-09-30 06:54:12,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:12,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:12,743 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172 does not exist. Creating ...
2024-09-30 06:54:12,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:12,743 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:12,744 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:12,744 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:12,744 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:12,744 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172
2024-09-30 06:54:12,744 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-51A673586172: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:12,744 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:12,744 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:12,744 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:12,744 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:12,744 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:12,745 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:12,745 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:12,745 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/current
2024-09-30 06:54:12,745 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/sm
2024-09-30 06:54:12,745 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6802fb07
2024-09-30 06:54:12,746 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:12,746 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:12,746 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:12,746 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:12,746 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:12,746 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:12,747 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:12,747 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172 has been successfully formatted.
2024-09-30 06:54:12,747 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:12,747 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:12,747 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,747 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:12,747 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:12,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:12,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:12,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:12,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,748 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-51A673586172-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:12,748 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-51A673586172-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172
2024-09-30 06:54:12,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:12,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:12,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:12,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:12,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:12,749 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:12,749 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:12,749 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:12,749 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:12,749 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,749 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:12,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:12,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:12,750 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-51A673586172-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:12,750 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-51A673586172-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:12,750 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-51A673586172: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}
2024-09-30 06:54:12,750 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-51A673586172: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:12,750 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-51A673586172-FollowerState
2024-09-30 06:54:12,751 [s0@group-51A673586172-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:12,751 [s0@group-51A673586172-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:12,751 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-51A673586172,id=s0
2024-09-30 06:54:12,751 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-51A673586172,id=s0
2024-09-30 06:54:12,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:12,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:12,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:12,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:12,752 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:12,752 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:54:12,753 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15286
2024-09-30 06:54:12,754 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15284
2024-09-30 06:54:12,754 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15285
2024-09-30 06:54:12,754 [JvmPauseMonitor71] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:54:12,754 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:12,755 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:12,755 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1] (custom)
2024-09-30 06:54:12,755 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172 does not exist. Creating ...
2024-09-30 06:54:12,755 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172
2024-09-30 06:54:12,756 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:12,756 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/current
2024-09-30 06:54:12,756 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/sm
2024-09-30 06:54:12,756 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@353a235a
2024-09-30 06:54:12,757 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:12,757 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172 has been successfully formatted.
2024-09-30 06:54:12,757 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:12,758 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:12,758 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,758 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:12,758 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:12,758 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:12,758 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:12,758 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:12,758 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,759 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-51A673586172-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:12,759 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-51A673586172-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172
2024-09-30 06:54:12,759 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:12,759 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:12,759 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:12,759 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:12,759 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:12,759 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:12,759 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:12,759 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:12,759 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:12,760 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-E28090DCAF84->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=1, request=AppendEntriesRequest:cid=11,entriesCount=0
2024-09-30 06:54:12,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:12,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:12,760 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:12,760 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-51A673586172-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:12,760 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-51A673586172-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:12,761 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-E28090DCAF84->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=1, request=AppendEntriesRequest:cid=11,entriesCount=0
2024-09-30 06:54:12,761 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-51A673586172: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}
2024-09-30 06:54:12,761 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-51A673586172: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:12,761 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-51A673586172-FollowerState
2024-09-30 06:54:12,761 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-51A673586172,id=s1
2024-09-30 06:54:12,761 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-51A673586172,id=s1
2024-09-30 06:54:12,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:12,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:12,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:12,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:12,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:12,761 [s1@group-51A673586172-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:12,762 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:54:12,762 [s1@group-51A673586172-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:12,762 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15290
2024-09-30 06:54:12,763 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15288
2024-09-30 06:54:12,763 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15289
2024-09-30 06:54:12,764 [JvmPauseMonitor72] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:54:12,764 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:12,764 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:12,764 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2] (custom)
2024-09-30 06:54:12,764 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172 does not exist. Creating ...
2024-09-30 06:54:12,764 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172
2024-09-30 06:54:12,766 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:12,766 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/current
2024-09-30 06:54:12,766 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/sm
2024-09-30 06:54:12,766 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5f9bdff5
2024-09-30 06:54:12,767 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:12,767 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172 has been successfully formatted.
2024-09-30 06:54:12,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:12,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:12,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:12,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:12,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:12,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:12,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:12,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,768 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-51A673586172-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:12,769 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-51A673586172-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172
2024-09-30 06:54:12,769 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:12,769 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:12,769 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:12,769 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:12,769 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:12,769 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:12,769 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:12,769 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:12,769 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:12,770 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,770 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:12,770 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:12,770 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:12,770 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-51A673586172-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:12,770 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-51A673586172-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:12,771 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-51A673586172: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}
2024-09-30 06:54:12,771 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-51A673586172: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:12,771 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-51A673586172-FollowerState
2024-09-30 06:54:12,771 [s2@group-51A673586172-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:12,771 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-51A673586172,id=s2
2024-09-30 06:54:12,771 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-51A673586172,id=s2
2024-09-30 06:54:12,771 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:12,771 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:12,771 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:12,771 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:12,771 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:12,771 [s2@group-51A673586172-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:12,772 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:54:12,772 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15294
2024-09-30 06:54:12,773 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15292
2024-09-30 06:54:12,773 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15293
2024-09-30 06:54:12,774 [JvmPauseMonitor73] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:54:12,778 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:12,778 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-51A673586172:t0, leader=null, voted=, raftlog=Memoized:s0@group-51A673586172-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-51A673586172:t0, leader=null, voted=, raftlog=Memoized:s1@group-51A673586172-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-51A673586172:t0, leader=null, voted=, raftlog=Memoized:s2@group-51A673586172-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null} RUNNING
2024-09-30 06:54:12,778 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-51A673586172:t0, leader=null, voted=, raftlog=Memoized:s0@group-51A673586172-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-51A673586172:t0, leader=null, voted=, raftlog=Memoized:s1@group-51A673586172-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-51A673586172:t0, leader=null, voted=, raftlog=Memoized:s2@group-51A673586172-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null} RUNNING
2024-09-30 06:54:12,925 [s0@group-51A673586172-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-51A673586172-FollowerState: change to CANDIDATE, lastRpcElapsedTime:174635296ns, electionTimeout:174ms
2024-09-30 06:54:12,925 [s0@group-51A673586172-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-51A673586172-FollowerState
2024-09-30 06:54:12,925 [s0@group-51A673586172-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-51A673586172: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:54:12,925 [s0@group-51A673586172-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:12,925 [s0@group-51A673586172-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-51A673586172-LeaderElection73
2024-09-30 06:54:12,926 [s0@group-51A673586172-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-51A673586172-LeaderElection73 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}
2024-09-30 06:54:12,926 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:12,926 [s0@group-51A673586172-LeaderElection73-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15292
2024-09-30 06:54:12,926 [s0@group-51A673586172-LeaderElection73-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15288
2024-09-30 06:54:12,926 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:12,936 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-51A673586172: receive requestVote(PRE_VOTE, s0, group-51A673586172, 0, (t:0, i:0))
2024-09-30 06:54:12,936 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-51A673586172-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:12,937 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-51A673586172 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-51A673586172:t0, leader=null, voted=, raftlog=Memoized:s2@group-51A673586172-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}
2024-09-30 06:54:12,939 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-51A673586172: receive requestVote(PRE_VOTE, s0, group-51A673586172, 0, (t:0, i:0))
2024-09-30 06:54:12,939 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-51A673586172-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:12,939 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-51A673586172 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-51A673586172:t0, leader=null, voted=, raftlog=Memoized:s1@group-51A673586172-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}
2024-09-30 06:54:12,941 [s0@group-51A673586172-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-51A673586172-LeaderElection73: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:12,941 [s0@group-51A673586172-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2024-09-30 06:54:12,944 [s0@group-51A673586172-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-51A673586172-LeaderElection73 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:12,945 [s0@group-51A673586172-LeaderElection73] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1050532e
2024-09-30 06:54:12,946 [s0@group-51A673586172-LeaderElection73] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:12,946 [s0@group-51A673586172-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-51A673586172-LeaderElection73 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}
2024-09-30 06:54:12,946 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:12,946 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:12,949 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-51A673586172: receive requestVote(ELECTION, s0, group-51A673586172, 1, (t:0, i:0))
2024-09-30 06:54:12,949 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-51A673586172-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:12,950 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-51A673586172: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:54:12,950 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-51A673586172-FollowerState
2024-09-30 06:54:12,950 [s2@group-51A673586172-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-51A673586172-FollowerState was interrupted
2024-09-30 06:54:12,950 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-51A673586172-FollowerState
2024-09-30 06:54:12,950 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-51A673586172: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:54:12,950 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@56f0daf7
2024-09-30 06:54:12,951 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:12,951 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-51A673586172 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-51A673586172:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-51A673586172-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}
2024-09-30 06:54:12,954 [s0@group-51A673586172-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-51A673586172-LeaderElection73: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:12,954 [s0@group-51A673586172-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t1
2024-09-30 06:54:12,954 [s0@group-51A673586172-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-51A673586172-LeaderElection73 ELECTION round 0: result PASSED
2024-09-30 06:54:12,954 [s0@group-51A673586172-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-51A673586172-LeaderElection73
2024-09-30 06:54:12,954 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-51A673586172: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:54:12,954 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:12,954 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:12,954 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:12,955 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:12,955 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:12,955 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:12,955 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:12,955 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:12,955 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:12,955 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:12,955 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:12,955 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:12,956 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:12,956 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,956 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:12,956 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:12,956 [s0@group-51A673586172-LeaderElection73] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:12,956 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:12,956 [s0@group-51A673586172-LeaderElection73] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:12,956 [s0@group-51A673586172-LeaderElection73] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:12,956 [s0@group-51A673586172-LeaderElection73] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:12,956 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:12,956 [s0@group-51A673586172-LeaderElection73] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:12,957 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:12,957 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:12,957 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:12,957 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:12,957 [s0@group-51A673586172-LeaderElection73] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:12,957 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:12,957 [s0@group-51A673586172-LeaderElection73] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:12,957 [s0@group-51A673586172-LeaderElection73] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:12,958 [s0@group-51A673586172-LeaderElection73] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:12,958 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:12,958 [s0@group-51A673586172-LeaderElection73] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:12,958 [s0@group-51A673586172-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-51A673586172-LeaderStateImpl
2024-09-30 06:54:12,958 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-51A673586172: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:54:12,958 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-51A673586172: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 229ms
2024-09-30 06:54:12,958 [s0@group-51A673586172-LeaderElection73] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-51A673586172-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:12,959 [s0@group-51A673586172-LeaderElection73] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-51A673586172: set configuration conf: {index: 0, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}
2024-09-30 06:54:12,959 [s0@group-51A673586172-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:12,959 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-51A673586172: receive requestVote(ELECTION, s0, group-51A673586172, 1, (t:0, i:0))
2024-09-30 06:54:12,959 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-51A673586172-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:12,959 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-51A673586172: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:54:12,959 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-51A673586172-FollowerState
2024-09-30 06:54:12,963 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-51A673586172-FollowerState
2024-09-30 06:54:12,963 [s1@group-51A673586172-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-51A673586172-FollowerState was interrupted
2024-09-30 06:54:12,972 [s0@group-51A673586172-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-51A673586172-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/current/log_inprogress_0
2024-09-30 06:54:12,974 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-51A673586172: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:54:12,974 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4b44434a
2024-09-30 06:54:12,975 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:12,975 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-51A673586172 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-51A673586172:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-51A673586172-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}
2024-09-30 06:54:12,984 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-51A673586172: change Leader from null to s0 at term 1 for appendEntries, leader elected after 248ms
2024-09-30 06:54:12,985 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-51A673586172: appendEntries* s0->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15284"dataStreamAddress:"localhost:15287"clientAddress:"localhost:15286"adminAddress:"localhost:15285"startupRole:FOLLOWER, id:"s1"address:"localhost:15288"dataStreamAddress:"localhost:15291"clientAddress:"localhost:15290"adminAddress:"localhost:15289"startupRole:FOLLOWER, id:"s2"address:"localhost:15292"dataStreamAddress:"localhost:15295"clientAddress:"localhost:15294"adminAddress:"localhost:15293"startupRole:FOLLOWER, old:)
2024-09-30 06:54:12,986 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-51A673586172: set configuration conf: {index: 0, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}
2024-09-30 06:54:12,986 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-51A673586172-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:12,988 [s1@group-51A673586172-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:12,988 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-51A673586172: change Leader from null to s0 at term 1 for appendEntries, leader elected after 244ms
2024-09-30 06:54:12,995 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-51A673586172: appendEntries* s0->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15284"dataStreamAddress:"localhost:15287"clientAddress:"localhost:15286"adminAddress:"localhost:15285"startupRole:FOLLOWER, id:"s1"address:"localhost:15288"dataStreamAddress:"localhost:15291"clientAddress:"localhost:15290"adminAddress:"localhost:15289"startupRole:FOLLOWER, id:"s2"address:"localhost:15292"dataStreamAddress:"localhost:15295"clientAddress:"localhost:15294"adminAddress:"localhost:15293"startupRole:FOLLOWER, old:)
2024-09-30 06:54:12,995 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-51A673586172: set configuration conf: {index: 0, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null}
2024-09-30 06:54:12,996 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-51A673586172-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:12,996 [s2@group-51A673586172-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:13,001 [s1@group-51A673586172-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-51A673586172-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/current/log_inprogress_0
2024-09-30 06:54:13,002 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-51A673586172: appendEntries* reply s0<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:13,003 [s0@group-51A673586172-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@35ef09e7
2024-09-30 06:54:13,005 [s0@group-51A673586172-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s0/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:13,005 [s0@group-51A673586172-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-51A673586172-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:54:13,012 [s2@group-51A673586172-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-51A673586172-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/current/log_inprogress_0
2024-09-30 06:54:13,012 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-51A673586172: appendEntries* reply s0<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:13,081 [s1@group-51A673586172-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1fae9f90
2024-09-30 06:54:13,083 [s1@group-51A673586172-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s1/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:13,091 [s2@group-51A673586172-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6f0d6496
2024-09-30 06:54:13,092 [s2@group-51A673586172-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc1ea28a85/s2/54c0d308-0783-49e1-913f-51a673586172/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:13,229 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-51A673586172:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-51A673586172-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-51A673586172:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-51A673586172-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-51A673586172:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-51A673586172-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null} RUNNING
2024-09-30 06:54:13,232 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:54:13,232 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:54:13,232 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:54:13,232 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:54:13,233 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:54:13,233 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-51A673586172:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-51A673586172-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-51A673586172:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-51A673586172-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-51A673586172:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-51A673586172-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[], old=null} RUNNING
2024-09-30 06:54:13,233 [MiniRaftCluster-103] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:54:13,233 [MiniRaftCluster-104] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:54:13,234 [MiniRaftCluster-105] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:54:13,234 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-51A673586172: shutdown
2024-09-30 06:54:13,234 [MiniRaftCluster-104] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:13,234 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-51A673586172: shutdown
2024-09-30 06:54:13,235 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-51A673586172,id=s1
2024-09-30 06:54:13,235 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-51A673586172-FollowerState
2024-09-30 06:54:13,235 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-51A673586172-StateMachineUpdater: set stopIndex = 0
2024-09-30 06:54:13,235 [s1@group-51A673586172-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-51A673586172-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:0)
2024-09-30 06:54:13,234 [MiniRaftCluster-103] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:13,235 [s1@group-51A673586172-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-51A673586172-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:13,235 [s1@group-51A673586172-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-51A673586172-FollowerState was interrupted
2024-09-30 06:54:13,234 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-51A673586172,id=s0
2024-09-30 06:54:13,235 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-51A673586172-LeaderStateImpl
2024-09-30 06:54:13,234 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-51A673586172: shutdown
2024-09-30 06:54:13,236 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-51A673586172,id=s2
2024-09-30 06:54:13,236 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-51A673586172-FollowerState
2024-09-30 06:54:13,236 [s0@group-51A673586172->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-51A673586172->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:13,234 [MiniRaftCluster-105] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:13,236 [s2@group-51A673586172-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-51A673586172-FollowerState was interrupted
2024-09-30 06:54:13,236 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-51A673586172-StateMachineUpdater: set stopIndex = 0
2024-09-30 06:54:13,236 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:13,237 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "T\300\323\b\a\203I\341\221?Q\246sXar"
  }
  callId: 6
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:13,237 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15284"dataStreamAddress:"localhost:15287"clientAddress:"localhost:15286"adminAddress:"localhost:15285"startupRole:FOLLOWER, id:"s1"address:"localhost:15288"dataStreamAddress:"localhost:15291"clientAddress:"localhost:15290"adminAddress:"localhost:15289"startupRole:FOLLOWER, id:"s2"address:"localhost:15292"dataStreamAddress:"localhost:15295"clientAddress:"localhost:15294"adminAddress:"localhost:15293"startupRole:FOLLOWER, old:)
2024-09-30 06:54:13,237 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:13,236 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-51A673586172-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:13,238 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-51A673586172->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:13,236 [s0@group-51A673586172->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-51A673586172->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:13,235 [MiniRaftCluster-104] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:13,238 [MiniRaftCluster-104] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:13,238 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-51A673586172-StateMachineUpdater: set stopIndex = 0
2024-09-30 06:54:13,238 [s0@group-51A673586172-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-51A673586172-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:0)
2024-09-30 06:54:13,237 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-51A673586172->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:13,239 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15284"dataStreamAddress:"localhost:15287"clientAddress:"localhost:15286"adminAddress:"localhost:15285"startupRole:FOLLOWER, id:"s1"address:"localhost:15288"dataStreamAddress:"localhost:15291"clientAddress:"localhost:15290"adminAddress:"localhost:15289"startupRole:FOLLOWER, id:"s2"address:"localhost:15292"dataStreamAddress:"localhost:15295"clientAddress:"localhost:15294"adminAddress:"localhost:15293"startupRole:FOLLOWER, old:)
2024-09-30 06:54:13,239 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:13,236 [s2@group-51A673586172-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-51A673586172-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:0)
2024-09-30 06:54:13,239 [s0@group-51A673586172-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-51A673586172-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:13,239 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-51A673586172->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:13,239 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:13,239 [s2@group-51A673586172-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-51A673586172-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:13,239 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "T\300\323\b\a\203I\341\221?Q\246sXar"
  }
  callId: 4
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:13,240 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-51A673586172->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:13,240 [Thread-1805] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:54:13,241 [Thread-1807] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:54:13,242 [MiniRaftCluster-104] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:13,242 [MiniRaftCluster-104] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:13,242 [MiniRaftCluster-104] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:13,243 [MiniRaftCluster-105] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:13,243 [MiniRaftCluster-105] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:13,244 [MiniRaftCluster-105] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:13,244 [MiniRaftCluster-105] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:13,244 [MiniRaftCluster-105] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:13,248 [MiniRaftCluster-103] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:13,248 [MiniRaftCluster-103] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:13,248 [MiniRaftCluster-103] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:13,248 [MiniRaftCluster-103] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:13,249 [MiniRaftCluster-103] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:13,976 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-51A673586172-SegmentedRaftLogWorker close()
2024-09-30 06:54:13,976 [JvmPauseMonitor71] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:54:14,004 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-51A673586172-SegmentedRaftLogWorker close()
2024-09-30 06:54:14,005 [JvmPauseMonitor72] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:54:14,013 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-51A673586172-SegmentedRaftLogWorker close()
2024-09-30 06:54:14,014 [JvmPauseMonitor73] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:54:14,014 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:54:14,014 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:54:14,174 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:54:14,175 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testEnforceLeader" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="6.254">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.MiniRaftCluster.close(MiniRaftCluster.java:833)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:312)
	at org.apache.ratis.grpc.TestLeaderElectionWithGrpc.testEnforceLeader(TestLeaderElectionWithGrpc.java:31)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
]]></error>
    <system-out><![CDATA[2024-09-30 06:54:14,176 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:54:14,177 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:54:14,177 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:54:14,177 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:54:14,178 [main] INFO  grpc.TestLeaderElectionWithGrpc (LeaderElectionTests.java:testEnforceLeader(299)) - Running testEnforceLeader
2024-09-30 06:54:14,180 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]
2024-09-30 06:54:14,180 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:54:14,180 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:54:14,180 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:54:14,180 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:54:14,180 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:54:14,181 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:54:14,181 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s3, group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304], format? true
2024-09-30 06:54:14,181 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3
2024-09-30 06:54:14,181 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3 does not exist.
2024-09-30 06:54:14,181 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3
2024-09-30 06:54:14,182 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:14,182 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:14,182 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15309 (custom)
2024-09-30 06:54:14,182 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:14,183 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15310 (custom)
2024-09-30 06:54:14,183 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:14,183 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15308 (custom)
2024-09-30 06:54:14,183 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:14,183 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:14,184 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,184 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:14,184 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:14,184 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,184 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:14,185 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:14,187 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:14,187 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:14,187 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:14,187 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:14,188 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3] (custom)
2024-09-30 06:54:14,188 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:14,188 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:14,189 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304] returns group-C5186D59DF2F:java.util.concurrent.CompletableFuture@35c83c56[Not completed]
2024-09-30 06:54:14,189 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s4, group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304], format? true
2024-09-30 06:54:14,189 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4
2024-09-30 06:54:14,189 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4 does not exist.
2024-09-30 06:54:14,189 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4
2024-09-30 06:54:14,190 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:14,190 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:14,190 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15313 (custom)
2024-09-30 06:54:14,190 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:14,191 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15314 (custom)
2024-09-30 06:54:14,191 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:14,191 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15312 (custom)
2024-09-30 06:54:14,191 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:14,191 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:14,191 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,192 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:14,192 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:14,192 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,192 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:14,192 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:14,194 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:14,194 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:14,194 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:14,194 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:14,195 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4] (custom)
2024-09-30 06:54:14,195 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:14,195 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:14,196 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s3: new RaftServerImpl for group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304] with BaseStateMachine:uninitialized
2024-09-30 06:54:14,196 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:14,196 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:14,196 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:14,196 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:14,196 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:14,196 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:14,196 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:14,196 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s3@group-C5186D59DF2F: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:14,196 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:14,197 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:14,197 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:14,197 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:14,197 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:14,197 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:14,198 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,198 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:14,198 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:14,198 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:14,198 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:14,198 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:14,198 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304] returns group-C5186D59DF2F:java.util.concurrent.CompletableFuture@44b99467[Not completed]
2024-09-30 06:54:14,198 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s4: new RaftServerImpl for group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304] with BaseStateMachine:uninitialized
2024-09-30 06:54:14,198 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304], format? true
2024-09-30 06:54:14,199 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0
2024-09-30 06:54:14,199 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0 does not exist.
2024-09-30 06:54:14,199 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0
2024-09-30 06:54:14,199 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:14,199 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:14,200 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15297 (custom)
2024-09-30 06:54:14,200 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:14,200 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15298 (custom)
2024-09-30 06:54:14,200 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:14,200 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15296 (custom)
2024-09-30 06:54:14,201 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:14,201 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:14,201 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,201 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:14,201 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:14,201 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,202 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:14,202 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:14,202 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:14,202 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:14,202 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:14,202 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:14,202 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:14,203 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:14,203 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:14,203 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s4@group-C5186D59DF2F: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:14,203 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:14,203 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:14,203 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:14,203 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:14,203 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:14,203 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:14,203 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:14,204 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:14,204 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:14,204 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:14,204 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0] (custom)
2024-09-30 06:54:14,204 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:14,205 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:14,204 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,205 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:14,205 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:14,205 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:14,205 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:14,205 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:14,208 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304] returns group-C5186D59DF2F:java.util.concurrent.CompletableFuture@360ccb68[Not completed]
2024-09-30 06:54:14,208 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304] with BaseStateMachine:uninitialized
2024-09-30 06:54:14,208 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304], format? true
2024-09-30 06:54:14,209 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1
2024-09-30 06:54:14,209 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1 does not exist.
2024-09-30 06:54:14,209 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1
2024-09-30 06:54:14,209 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:14,210 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:14,210 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15301 (custom)
2024-09-30 06:54:14,210 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:14,210 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15302 (custom)
2024-09-30 06:54:14,210 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:14,210 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15300 (custom)
2024-09-30 06:54:14,211 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:14,211 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:14,211 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,211 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:14,211 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:14,211 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,212 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:14,212 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:14,214 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:14,214 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:14,216 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:14,216 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:14,216 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:14,216 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:14,216 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:14,216 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:14,216 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:14,216 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:14,217 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1] (custom)
2024-09-30 06:54:14,217 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:14,217 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:14,217 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:14,217 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-C5186D59DF2F: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:14,217 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:14,218 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:14,218 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304] returns group-C5186D59DF2F:java.util.concurrent.CompletableFuture@7a2b3cfd[Not completed]
2024-09-30 06:54:14,218 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304], format? true
2024-09-30 06:54:14,218 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2
2024-09-30 06:54:14,218 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2 does not exist.
2024-09-30 06:54:14,219 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2
2024-09-30 06:54:14,218 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:14,219 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:14,219 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:14,219 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:14,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:14,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:14,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:14,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:14,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:14,219 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304] with BaseStateMachine:uninitialized
2024-09-30 06:54:14,221 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:14,221 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:14,221 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:14,221 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:14,221 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:14,221 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:14,221 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:14,221 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-C5186D59DF2F: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:14,222 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:14,222 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:14,222 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:14,222 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:14,219 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:14,222 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:14,222 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15305 (custom)
2024-09-30 06:54:14,223 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:14,223 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15306 (custom)
2024-09-30 06:54:14,223 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:14,223 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15304 (custom)
2024-09-30 06:54:14,224 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:14,224 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:14,224 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,224 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:14,224 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:14,225 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,225 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:14,225 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:14,222 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:14,227 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:14,228 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,228 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:14,228 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:14,228 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:14,228 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:14,228 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:14,229 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:14,229 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:14,229 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:14,229 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:14,230 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2] (custom)
2024-09-30 06:54:14,230 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:14,230 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:14,231 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304] returns group-C5186D59DF2F:java.util.concurrent.CompletableFuture@581cb879[Not completed]
2024-09-30 06:54:14,231 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:14,231 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:14,231 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-C5186D59DF2F:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304] with BaseStateMachine:uninitialized
2024-09-30 06:54:14,231 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3] (custom)
2024-09-30 06:54:14,232 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f does not exist. Creating ...
2024-09-30 06:54:14,232 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f
2024-09-30 06:54:14,231 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:14,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:14,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:14,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:14,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:14,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:14,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:14,233 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-C5186D59DF2F: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:14,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:14,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:14,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:14,233 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:14,233 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:14,234 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current
2024-09-30 06:54:14,234 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/sm
2024-09-30 06:54:14,234 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6afb5821
2024-09-30 06:54:14,234 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:14,235 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:14,235 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:14,235 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f has been successfully formatted.
2024-09-30 06:54:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:14,235 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,235 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:14,236 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:14,236 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:14,236 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:14,236 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,236 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-C5186D59DF2F-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:14,237 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-C5186D59DF2F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f
2024-09-30 06:54:14,237 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:14,237 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:14,237 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:14,237 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:14,237 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:14,237 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:14,237 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:14,237 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:14,237 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:14,238 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,238 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:14,238 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:14,238 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:14,238 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-C5186D59DF2F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:14,238 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-C5186D59DF2F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:14,238 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s3@group-C5186D59DF2F: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,238 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-C5186D59DF2F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:14,238 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,239 [s3@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:14,239 [s3@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:14,239 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s3
2024-09-30 06:54:14,239 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s3
2024-09-30 06:54:14,239 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:14,239 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:14,239 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:14,239 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:14,239 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:14,240 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s3: start RPC server
2024-09-30 06:54:14,240 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15310
2024-09-30 06:54:14,241 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15308
2024-09-30 06:54:14,241 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s3: GrpcService started, listening on 15309
2024-09-30 06:54:14,242 [JvmPauseMonitor74] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-09-30 06:54:14,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:14,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:14,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4] (custom)
2024-09-30 06:54:14,242 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f does not exist. Creating ...
2024-09-30 06:54:14,242 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f
2024-09-30 06:54:14,243 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:14,243 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current
2024-09-30 06:54:14,243 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/sm
2024-09-30 06:54:14,243 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6335d106
2024-09-30 06:54:14,244 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:14,244 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f has been successfully formatted.
2024-09-30 06:54:14,244 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:14,244 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:14,245 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,245 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:14,245 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:14,245 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:14,245 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:14,245 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:14,245 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,246 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-C5186D59DF2F-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:14,246 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-C5186D59DF2F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f
2024-09-30 06:54:14,246 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:14,246 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:14,246 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:14,246 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:14,246 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:14,246 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:14,246 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:14,246 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:14,246 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:14,247 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,247 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:14,247 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:14,247 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:14,248 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-C5186D59DF2F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:14,248 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-C5186D59DF2F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:14,248 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s4@group-C5186D59DF2F: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,248 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-C5186D59DF2F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:14,248 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,248 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s4
2024-09-30 06:54:14,248 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s4
2024-09-30 06:54:14,248 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:14,248 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:14,248 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:14,248 [s4@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:14,249 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s4: start RPC server
2024-09-30 06:54:14,249 [s4@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:14,249 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15314
2024-09-30 06:54:14,250 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15312
2024-09-30 06:54:14,250 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s4: GrpcService started, listening on 15313
2024-09-30 06:54:14,251 [JvmPauseMonitor75] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-09-30 06:54:14,251 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:14,251 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:14,251 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0] (custom)
2024-09-30 06:54:14,251 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f does not exist. Creating ...
2024-09-30 06:54:14,252 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f
2024-09-30 06:54:14,252 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:14,252 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current
2024-09-30 06:54:14,252 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/sm
2024-09-30 06:54:14,253 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2540fc99
2024-09-30 06:54:14,253 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:14,253 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f has been successfully formatted.
2024-09-30 06:54:14,254 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:14,254 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:14,254 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,254 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:14,254 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:14,254 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:14,254 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:14,254 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:14,254 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,255 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-C5186D59DF2F-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:14,255 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-C5186D59DF2F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f
2024-09-30 06:54:14,255 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:14,255 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:14,255 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:14,255 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:14,255 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:14,255 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:14,255 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:14,255 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:14,255 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:14,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:14,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:14,257 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:14,258 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-C5186D59DF2F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:14,258 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-C5186D59DF2F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:14,259 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-C5186D59DF2F: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,259 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:14,259 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,259 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:14,259 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s0
2024-09-30 06:54:14,259 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s0
2024-09-30 06:54:14,260 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:14,260 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:14,260 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:14,260 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:14,260 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:14,259 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:14,260 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:54:14,261 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15298
2024-09-30 06:54:14,261 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15296
2024-09-30 06:54:14,262 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15297
2024-09-30 06:54:14,262 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:14,262 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:14,262 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1] (custom)
2024-09-30 06:54:14,263 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f does not exist. Creating ...
2024-09-30 06:54:14,263 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f
2024-09-30 06:54:14,263 [JvmPauseMonitor76] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:54:14,264 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:14,264 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current
2024-09-30 06:54:14,264 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/sm
2024-09-30 06:54:14,264 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@47d22568
2024-09-30 06:54:14,265 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:14,265 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f has been successfully formatted.
2024-09-30 06:54:14,265 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:14,265 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:14,265 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,265 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:14,265 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:14,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:14,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:14,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:14,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,266 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-C5186D59DF2F-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:14,266 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-C5186D59DF2F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f
2024-09-30 06:54:14,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:14,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:14,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:14,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:14,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:14,267 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:14,267 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:14,267 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:14,267 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:14,269 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,269 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:14,269 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:14,269 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:14,269 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-C5186D59DF2F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:14,269 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-C5186D59DF2F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:14,270 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-C5186D59DF2F: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,270 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-C5186D59DF2F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:14,270 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,270 [s1@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:14,270 [s1@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:14,270 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s1
2024-09-30 06:54:14,270 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s1
2024-09-30 06:54:14,270 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:14,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:14,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:14,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:14,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:14,271 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:54:14,272 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15302
2024-09-30 06:54:14,272 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15300
2024-09-30 06:54:14,273 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15301
2024-09-30 06:54:14,273 [JvmPauseMonitor77] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:54:14,273 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:14,273 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:14,273 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2] (custom)
2024-09-30 06:54:14,273 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f does not exist. Creating ...
2024-09-30 06:54:14,274 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f
2024-09-30 06:54:14,274 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:14,274 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current
2024-09-30 06:54:14,274 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/sm
2024-09-30 06:54:14,275 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2407636
2024-09-30 06:54:14,276 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:14,276 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f has been successfully formatted.
2024-09-30 06:54:14,276 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:14,276 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:14,276 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,276 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:14,276 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:14,276 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-C5186D59DF2F-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-C5186D59DF2F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:14,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:14,278 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,278 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:14,278 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:14,278 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:14,278 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-C5186D59DF2F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:14,278 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-C5186D59DF2F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:14,279 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-C5186D59DF2F: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,279 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-C5186D59DF2F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:14,279 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,286 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s2
2024-09-30 06:54:14,286 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s2
2024-09-30 06:54:14,286 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:14,286 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:14,286 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:14,286 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:14,286 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:14,286 [s2@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:14,286 [s2@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:14,287 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:54:14,287 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15306
2024-09-30 06:54:14,288 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15304
2024-09-30 06:54:14,288 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15305
2024-09-30 06:54:14,289 [JvmPauseMonitor78] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:54:14,289 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:14,289 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s0@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
2024-09-30 06:54:14,290 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s0@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
2024-09-30 06:54:14,496 [s2@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s2@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:216659245ns, electionTimeout:209ms
2024-09-30 06:54:14,496 [s2@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,496 [s2@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:54:14,496 [s2@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:14,496 [s2@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-C5186D59DF2F-LeaderElection74
2024-09-30 06:54:14,496 [s2@group-C5186D59DF2F-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-C5186D59DF2F-LeaderElection74 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,497 [s2@group-C5186D59DF2F-LeaderElection74-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15308
2024-09-30 06:54:14,497 [s2@group-C5186D59DF2F-LeaderElection74-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15312
2024-09-30 06:54:14,497 [s2@group-C5186D59DF2F-LeaderElection74-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15296
2024-09-30 06:54:14,497 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:14,497 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:14,498 [s2@group-C5186D59DF2F-LeaderElection74-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15300
2024-09-30 06:54:14,508 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s2, group-C5186D59DF2F, 0, (t:0, i:0))
2024-09-30 06:54:14,508 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C5186D59DF2F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:14,508 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-C5186D59DF2F replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s0@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,509 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s2, group-C5186D59DF2F, 0, (t:0, i:0))
2024-09-30 06:54:14,509 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C5186D59DF2F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:14,509 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-C5186D59DF2F replies to PRE_VOTE vote request: s2<-s3#0:OK-t0. Peer's state: s3@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,511 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s2, group-C5186D59DF2F, 0, (t:0, i:0))
2024-09-30 06:54:14,511 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:14,511 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,511 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s2, group-C5186D59DF2F, 0, (t:0, i:0))
2024-09-30 06:54:14,511 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C5186D59DF2F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:14,511 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-C5186D59DF2F replies to PRE_VOTE vote request: s2<-s4#0:OK-t0. Peer's state: s4@group-C5186D59DF2F:t0, leader=null, voted=, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,512 [s2@group-C5186D59DF2F-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-C5186D59DF2F-LeaderElection74: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-09-30 06:54:14,512 [s2@group-C5186D59DF2F-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2024-09-30 06:54:14,512 [s2@group-C5186D59DF2F-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:OK-t0
2024-09-30 06:54:14,513 [s2@group-C5186D59DF2F-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-C5186D59DF2F-LeaderElection74 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:14,513 [s2@group-C5186D59DF2F-LeaderElection74] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@48baeeed
2024-09-30 06:54:14,514 [s2@group-C5186D59DF2F-LeaderElection74] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:14,514 [s2@group-C5186D59DF2F-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s2@group-C5186D59DF2F-LeaderElection74 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,515 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:14,515 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:14,516 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-C5186D59DF2F: receive requestVote(ELECTION, s2, group-C5186D59DF2F, 1, (t:0, i:0))
2024-09-30 06:54:14,516 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C5186D59DF2F-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:14,516 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-C5186D59DF2F: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:54:14,516 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-C5186D59DF2F: receive requestVote(ELECTION, s2, group-C5186D59DF2F, 1, (t:0, i:0))
2024-09-30 06:54:14,516 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-C5186D59DF2F: receive requestVote(ELECTION, s2, group-C5186D59DF2F, 1, (t:0, i:0))
2024-09-30 06:54:14,516 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,517 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,517 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C5186D59DF2F-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:14,516 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C5186D59DF2F-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:14,517 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-C5186D59DF2F: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:54:14,517 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,517 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,517 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:54:14,517 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,517 [s4@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s4@group-C5186D59DF2F-FollowerState was interrupted
2024-09-30 06:54:14,517 [s3@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s3@group-C5186D59DF2F-FollowerState was interrupted
2024-09-30 06:54:14,517 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s4@group-C5186D59DF2F: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:54:14,517 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,518 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@d8623e3
2024-09-30 06:54:14,517 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s3@group-C5186D59DF2F: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:54:14,518 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@390f9eec
2024-09-30 06:54:14,518 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-C5186D59DF2F-FollowerState was interrupted
2024-09-30 06:54:14,518 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(ELECTION, s2, group-C5186D59DF2F, 1, (t:0, i:0))
2024-09-30 06:54:14,518 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-09-30 06:54:14,518 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-C5186D59DF2F: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s2
2024-09-30 06:54:14,518 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,519 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:14,519 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-C5186D59DF2F replies to ELECTION vote request: s2<-s4#0:OK-t1. Peer's state: s4@group-C5186D59DF2F:t1, leader=null, voted=s2, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,519 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:14,520 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-C5186D59DF2F replies to ELECTION vote request: s2<-s3#0:OK-t1. Peer's state: s3@group-C5186D59DF2F:t1, leader=null, voted=s2, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,523 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-C5186D59DF2F: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:54:14,523 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@27eef720
2024-09-30 06:54:14,523 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,523 [s1@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-C5186D59DF2F-FollowerState was interrupted
2024-09-30 06:54:14,523 [s2@group-C5186D59DF2F-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-C5186D59DF2F-LeaderElection74: ELECTION PASSED received 2 response(s) and 0 exception(s):
2024-09-30 06:54:14,523 [s2@group-C5186D59DF2F-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t1
2024-09-30 06:54:14,524 [s2@group-C5186D59DF2F-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s4#0:OK-t1
2024-09-30 06:54:14,524 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-C5186D59DF2F: set firstElectionSinceStartup to false for candidate:s2
2024-09-30 06:54:14,524 [s2@group-C5186D59DF2F-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s2@group-C5186D59DF2F-LeaderElection74 ELECTION round 0: result PASSED
2024-09-30 06:54:14,524 [s2@group-C5186D59DF2F-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s2: shutdown s2@group-C5186D59DF2F-LeaderElection74
2024-09-30 06:54:14,524 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@664d9c90
2024-09-30 06:54:14,524 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:14,524 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-C5186D59DF2F replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-C5186D59DF2F:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,524 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-C5186D59DF2F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:54:14,524 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:14,524 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:14,525 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:14,525 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:14,525 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:14,525 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:14,525 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:14,525 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-C5186D59DF2F:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,525 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:14,526 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:14,526 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:14,526 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:14,526 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:14,526 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:14,526 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:14,526 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,526 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:14,526 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:14,527 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:14,527 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,527 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:14,527 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:14,527 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:14,527 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:14,527 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:14,527 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:14,527 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,528 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:14,528 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:14,528 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:14,528 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,528 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:14,528 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:14,528 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:14,528 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:14,528 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:14,529 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:14,529 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,529 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:14,529 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:14,529 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:14,529 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,529 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:14,529 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:14,529 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:14,529 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:14,529 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:14,530 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:14,530 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:14,530 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:14,530 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:14,530 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:14,530 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:14,530 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:14,530 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:14,530 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:14,530 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:14,530 [s2@group-C5186D59DF2F-LeaderElection74] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:14,531 [s2@group-C5186D59DF2F-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-C5186D59DF2F-LeaderStateImpl
2024-09-30 06:54:14,531 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-C5186D59DF2F: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:54:14,531 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-C5186D59DF2F: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 297ms
2024-09-30 06:54:14,531 [s2@group-C5186D59DF2F-LeaderElection74] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-C5186D59DF2F-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:14,531 [s2@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:14,531 [s2@group-C5186D59DF2F-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-C5186D59DF2F: set configuration conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,550 [s2@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-C5186D59DF2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0
2024-09-30 06:54:14,554 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-C5186D59DF2F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 357ms
2024-09-30 06:54:14,557 [s4-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5186D59DF2F: appendEntries* s2->s4#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15308"dataStreamAddress:"localhost:15311"clientAddress:"localhost:15310"adminAddress:"localhost:15309"startupRole:FOLLOWER, id:"s4"address:"localhost:15312"dataStreamAddress:"localhost:15315"clientAddress:"localhost:15314"adminAddress:"localhost:15313"startupRole:FOLLOWER, id:"s0"address:"localhost:15296"dataStreamAddress:"localhost:15299"clientAddress:"localhost:15298"adminAddress:"localhost:15297"startupRole:FOLLOWER, id:"s1"address:"localhost:15300"dataStreamAddress:"localhost:15303"clientAddress:"localhost:15302"adminAddress:"localhost:15301"startupRole:FOLLOWER, id:"s2"address:"localhost:15304"dataStreamAddress:"localhost:15307"clientAddress:"localhost:15306"adminAddress:"localhost:15305"startupRole:FOLLOWER, old:)
2024-09-30 06:54:14,557 [s4-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-C5186D59DF2F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 354ms
2024-09-30 06:54:14,557 [s4-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-C5186D59DF2F: set configuration conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,557 [s4-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s4@group-C5186D59DF2F-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:14,562 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5186D59DF2F: appendEntries* s2->s3#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15308"dataStreamAddress:"localhost:15311"clientAddress:"localhost:15310"adminAddress:"localhost:15309"startupRole:FOLLOWER, id:"s4"address:"localhost:15312"dataStreamAddress:"localhost:15315"clientAddress:"localhost:15314"adminAddress:"localhost:15313"startupRole:FOLLOWER, id:"s0"address:"localhost:15296"dataStreamAddress:"localhost:15299"clientAddress:"localhost:15298"adminAddress:"localhost:15297"startupRole:FOLLOWER, id:"s1"address:"localhost:15300"dataStreamAddress:"localhost:15303"clientAddress:"localhost:15302"adminAddress:"localhost:15301"startupRole:FOLLOWER, id:"s2"address:"localhost:15304"dataStreamAddress:"localhost:15307"clientAddress:"localhost:15306"adminAddress:"localhost:15305"startupRole:FOLLOWER, old:)
2024-09-30 06:54:14,563 [s3-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-C5186D59DF2F: set configuration conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,563 [s3-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s3@group-C5186D59DF2F-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:14,570 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-C5186D59DF2F: appendEntries* s2->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15308"dataStreamAddress:"localhost:15311"clientAddress:"localhost:15310"adminAddress:"localhost:15309"startupRole:FOLLOWER, id:"s4"address:"localhost:15312"dataStreamAddress:"localhost:15315"clientAddress:"localhost:15314"adminAddress:"localhost:15313"startupRole:FOLLOWER, id:"s0"address:"localhost:15296"dataStreamAddress:"localhost:15299"clientAddress:"localhost:15298"adminAddress:"localhost:15297"startupRole:FOLLOWER, id:"s1"address:"localhost:15300"dataStreamAddress:"localhost:15303"clientAddress:"localhost:15302"adminAddress:"localhost:15301"startupRole:FOLLOWER, id:"s2"address:"localhost:15304"dataStreamAddress:"localhost:15307"clientAddress:"localhost:15306"adminAddress:"localhost:15305"startupRole:FOLLOWER, old:)
2024-09-30 06:54:14,570 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-C5186D59DF2F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 353ms
2024-09-30 06:54:14,571 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-C5186D59DF2F: set configuration conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,571 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-C5186D59DF2F-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:14,572 [s3@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:14,572 [s4@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:14,589 [s4@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s4@group-C5186D59DF2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0
2024-09-30 06:54:14,590 [s3@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-C5186D59DF2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0
2024-09-30 06:54:14,593 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-C5186D59DF2F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 371ms
2024-09-30 06:54:14,593 [s0@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:14,594 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5186D59DF2F: appendEntries* reply s2<-s3#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:14,594 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5186D59DF2F: appendEntries* reply s2<-s4#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:14,603 [s2@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@740715f7
2024-09-30 06:54:14,606 [s2@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:14,606 [s2@group-C5186D59DF2F-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s2@group-C5186D59DF2F-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:54:14,607 [s0@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-C5186D59DF2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0
2024-09-30 06:54:14,608 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5186D59DF2F: appendEntries* s2->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15308"dataStreamAddress:"localhost:15311"clientAddress:"localhost:15310"adminAddress:"localhost:15309"startupRole:FOLLOWER, id:"s4"address:"localhost:15312"dataStreamAddress:"localhost:15315"clientAddress:"localhost:15314"adminAddress:"localhost:15313"startupRole:FOLLOWER, id:"s0"address:"localhost:15296"dataStreamAddress:"localhost:15299"clientAddress:"localhost:15298"adminAddress:"localhost:15297"startupRole:FOLLOWER, id:"s1"address:"localhost:15300"dataStreamAddress:"localhost:15303"clientAddress:"localhost:15302"adminAddress:"localhost:15301"startupRole:FOLLOWER, id:"s2"address:"localhost:15304"dataStreamAddress:"localhost:15307"clientAddress:"localhost:15306"adminAddress:"localhost:15305"startupRole:FOLLOWER, old:)
2024-09-30 06:54:14,609 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-C5186D59DF2F: set configuration conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,609 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-C5186D59DF2F-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:14,609 [s1@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:14,616 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s0@group-C5186D59DF2F: appendEntries* reply s2<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:14,620 [s1@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-C5186D59DF2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0
2024-09-30 06:54:14,620 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5186D59DF2F: appendEntries* reply s2<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:14,674 [s4@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1cedd4ea
2024-09-30 06:54:14,677 [s4@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:14,684 [s3@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@46425d82
2024-09-30 06:54:14,686 [s3@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:14,694 [s0@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@58893eb0
2024-09-30 06:54:14,696 [s0@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:14,697 [s1@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4e0061c0
2024-09-30 06:54:14,699 [s1@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:14,740 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
2024-09-30 06:54:14,741 [main] INFO  grpc.TestLeaderElectionWithGrpc (LeaderElectionTests.java:testEnforceLeader(305)) - firstLeader = s2
2024-09-30 06:54:14,741 [main] INFO  grpc.TestLeaderElectionWithGrpc (LeaderElectionTests.java:testEnforceLeader(310)) - enforce leader to s0
2024-09-30 06:54:14,741 [main] INFO  grpc.TestLeaderElectionWithGrpc (LeaderElectionTests.java:enforceLeader(316)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
2024-09-30 06:54:14,741 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:14,777 [s2@group-C5186D59DF2F->s1-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 11
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:14,778 [s2@group-C5186D59DF2F->s4-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s4"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 5
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:14,779 [s2@group-C5186D59DF2F->s3-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s3"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 8
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:14,779 [s2@group-C5186D59DF2F->s0-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 10
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:14,850 [s1@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:153128883ns, electionTimeout:151ms
2024-09-30 06:54:14,850 [s1@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,850 [s1@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:14,851 [s1@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:14,851 [s1@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-C5186D59DF2F-LeaderElection75
2024-09-30 06:54:14,851 [s1@group-C5186D59DF2F-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-C5186D59DF2F: change Leader from s2 to null at term 1 for PRE_VOTE
2024-09-30 06:54:14,851 [s1@group-C5186D59DF2F-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-C5186D59DF2F-LeaderElection75 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:14,853 [s1@group-C5186D59DF2F-LeaderElection75-4] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s1 delay 150 ms, args=[serverRequest {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:14,853 [s1@group-C5186D59DF2F-LeaderElection75-3] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s1 delay 150 ms, args=[serverRequest {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:14,853 [s1@group-C5186D59DF2F-LeaderElection75-2] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s1 delay 150 ms, args=[serverRequest {
  requestorId: "s1"
  replyId: "s4"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:14,855 [s1@group-C5186D59DF2F-LeaderElection75-1] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s1 delay 150 ms, args=[serverRequest {
  requestorId: "s1"
  replyId: "s3"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:14,930 [s1-server-thread3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-C5186D59DF2F: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2024-09-30 06:54:14,930 [s1-server-thread3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-C5186D59DF2F-LeaderElection75
2024-09-30 06:54:14,930 [s1-server-thread3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:14,930 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-C5186D59DF2F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 79ms
2024-09-30 06:54:14,931 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2024-09-30 06:54:14,969 [s2@group-C5186D59DF2F->s0-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 11
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,003 [s1@group-C5186D59DF2F-LeaderElection75-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15304
2024-09-30 06:54:15,003 [s1@group-C5186D59DF2F-LeaderElection75-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15296
2024-09-30 06:54:15,003 [s1@group-C5186D59DF2F-LeaderElection75-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15312
2024-09-30 06:54:15,005 [s1@group-C5186D59DF2F-LeaderElection75-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15308
2024-09-30 06:54:15,008 [s2@group-C5186D59DF2F->s4-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s4"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 6
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,010 [s2@group-C5186D59DF2F->s3-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s3"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 9
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,011 [s2@group-C5186D59DF2F->s1-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 12
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,013 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s1, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,013 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s1, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,013 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2024-09-30 06:54:15,013 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5186D59DF2F replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,014 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s1, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,014 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2 different than the candidate s1
2024-09-30 06:54:15,014 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-C5186D59DF2F replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,013 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2 different than the candidate s1
2024-09-30 06:54:15,014 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-C5186D59DF2F replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,014 [s1@group-C5186D59DF2F-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-C5186D59DF2F-LeaderElection75: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:15,014 [s1@group-C5186D59DF2F-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:FAIL-t1
2024-09-30 06:54:15,014 [s1@group-C5186D59DF2F-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-C5186D59DF2F-LeaderElection75 PRE_VOTE round 0: result REJECTED
2024-09-30 06:54:15,013 [grpc-default-executor-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:54:15,070 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:376544058ns, electionTimeout:276ms
2024-09-30 06:54:15,070 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:15,070 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:15,070 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:15,071 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-LeaderElection76
2024-09-30 06:54:15,071 [s0@group-C5186D59DF2F-LeaderElection76] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-C5186D59DF2F: change Leader from s2 to null at term 1 for PRE_VOTE
2024-09-30 06:54:15,071 [s0@group-C5186D59DF2F-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-C5186D59DF2F-LeaderElection76 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,071 [s0@group-C5186D59DF2F-LeaderElection76-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15308
2024-09-30 06:54:15,071 [s0@group-C5186D59DF2F-LeaderElection76-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15312
2024-09-30 06:54:15,072 [s0@group-C5186D59DF2F-LeaderElection76-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15300
2024-09-30 06:54:15,072 [s0@group-C5186D59DF2F-LeaderElection76-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15304
2024-09-30 06:54:15,078 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,078 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,079 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:15,079 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:15,079 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,079 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,079 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,079 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:15,079 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,080 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,080 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2024-09-30 06:54:15,080 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,081 [s0@group-C5186D59DF2F-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C5186D59DF2F-LeaderElection76: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2024-09-30 06:54:15,081 [s0@group-C5186D59DF2F-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2024-09-30 06:54:15,081 [s0@group-C5186D59DF2F-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:FAIL-t1
2024-09-30 06:54:15,081 [s0@group-C5186D59DF2F-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s1#0:FAIL-t1
2024-09-30 06:54:15,081 [s0@group-C5186D59DF2F-LeaderElection76] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-C5186D59DF2F-LeaderElection76 PRE_VOTE round 0: result REJECTED
2024-09-30 06:54:15,081 [s0@group-C5186D59DF2F-LeaderElection76] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-09-30 06:54:15,081 [s0@group-C5186D59DF2F-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-C5186D59DF2F-LeaderElection76
2024-09-30 06:54:15,081 [s0@group-C5186D59DF2F-LeaderElection76] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:15,142 [s4@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s4@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:211962650ns, electionTimeout:197ms
2024-09-30 06:54:15,143 [s4@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:15,143 [s4@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:15,143 [s4@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:15,143 [s4@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-C5186D59DF2F-LeaderElection77
2024-09-30 06:54:15,143 [s4@group-C5186D59DF2F-LeaderElection77] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-C5186D59DF2F: change Leader from s2 to null at term 1 for PRE_VOTE
2024-09-30 06:54:15,143 [s4@group-C5186D59DF2F-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s4@group-C5186D59DF2F-LeaderElection77 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,144 [s4@group-C5186D59DF2F-LeaderElection77-2] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s4 delay 150 ms, args=[serverRequest {
  requestorId: "s4"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:15,144 [s4@group-C5186D59DF2F-LeaderElection77-3] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s4 delay 150 ms, args=[serverRequest {
  requestorId: "s4"
  replyId: "s1"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:15,145 [s4@group-C5186D59DF2F-LeaderElection77-4] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s4 delay 150 ms, args=[serverRequest {
  requestorId: "s4"
  replyId: "s2"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:15,147 [s4@group-C5186D59DF2F-LeaderElection77-1] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s4 delay 150 ms, args=[serverRequest {
  requestorId: "s4"
  replyId: "s3"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:15,158 [s2@group-C5186D59DF2F->s0-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 12
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,160 [s4-server-thread3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-C5186D59DF2F: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2024-09-30 06:54:15,160 [s4-server-thread3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s4: shutdown s4@group-C5186D59DF2F-LeaderElection77
2024-09-30 06:54:15,160 [s4-server-thread3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:15,160 [s4-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-C5186D59DF2F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 16ms
2024-09-30 06:54:15,237 [s2@group-C5186D59DF2F->s4-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s4"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 7
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,237 [s2@group-C5186D59DF2F->s3-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s3"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 10
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,238 [s2@group-C5186D59DF2F->s1-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 13
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,266 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:185361883ns, electionTimeout:185ms
2024-09-30 06:54:15,266 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:15,267 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:15,267 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:15,267 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-LeaderElection78
2024-09-30 06:54:15,267 [s0@group-C5186D59DF2F-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-C5186D59DF2F-LeaderElection78 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,271 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,271 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:15,271 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,271 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:15,271 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,271 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,271 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,271 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:15,272 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,273 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,273 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2024-09-30 06:54:15,273 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,274 [s0@group-C5186D59DF2F-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C5186D59DF2F-LeaderElection78: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2024-09-30 06:54:15,274 [s0@group-C5186D59DF2F-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2024-09-30 06:54:15,274 [s0@group-C5186D59DF2F-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:FAIL-t1
2024-09-30 06:54:15,274 [s0@group-C5186D59DF2F-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s2#0:FAIL-t1
2024-09-30 06:54:15,274 [s0@group-C5186D59DF2F-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-C5186D59DF2F-LeaderElection78 PRE_VOTE round 0: result REJECTED
2024-09-30 06:54:15,274 [s0@group-C5186D59DF2F-LeaderElection78] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-09-30 06:54:15,274 [s0@group-C5186D59DF2F-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-C5186D59DF2F-LeaderElection78
2024-09-30 06:54:15,274 [s0@group-C5186D59DF2F-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:15,294 [s4@group-C5186D59DF2F-LeaderElection77-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15296
2024-09-30 06:54:15,294 [s4@group-C5186D59DF2F-LeaderElection77-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15300
2024-09-30 06:54:15,295 [s4@group-C5186D59DF2F-LeaderElection77-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15304
2024-09-30 06:54:15,297 [s4@group-C5186D59DF2F-LeaderElection77-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15308
2024-09-30 06:54:15,299 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s4, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,299 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2024-09-30 06:54:15,300 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5186D59DF2F replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,301 [s4@group-C5186D59DF2F-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-C5186D59DF2F-LeaderElection77: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:15,301 [s4@group-C5186D59DF2F-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s2#0:FAIL-t1
2024-09-30 06:54:15,301 [s4@group-C5186D59DF2F-LeaderElection77] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s4@group-C5186D59DF2F-LeaderElection77 PRE_VOTE round 0: result REJECTED
2024-09-30 06:54:15,301 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s4, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,301 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2 different than the candidate s4
2024-09-30 06:54:15,302 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,346 [s2@group-C5186D59DF2F->s0-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 13
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,355 [s4@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s4@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:195005654ns, electionTimeout:194ms
2024-09-30 06:54:15,355 [s4@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:15,355 [s4@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:15,355 [s4@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:15,355 [s4@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-C5186D59DF2F-LeaderElection79
2024-09-30 06:54:15,356 [s4@group-C5186D59DF2F-LeaderElection79] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-C5186D59DF2F: change Leader from s2 to null at term 1 for PRE_VOTE
2024-09-30 06:54:15,356 [s4@group-C5186D59DF2F-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s4@group-C5186D59DF2F-LeaderElection79 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,356 [s4@group-C5186D59DF2F-LeaderElection79-1] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s4 delay 150 ms, args=[serverRequest {
  requestorId: "s4"
  replyId: "s3"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:15,357 [s4@group-C5186D59DF2F-LeaderElection79-2] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s4 delay 150 ms, args=[serverRequest {
  requestorId: "s4"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:15,357 [s4@group-C5186D59DF2F-LeaderElection79-4] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s4 delay 150 ms, args=[serverRequest {
  requestorId: "s4"
  replyId: "s2"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:15,357 [s4@group-C5186D59DF2F-LeaderElection79-3] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s4 delay 150 ms, args=[serverRequest {
  requestorId: "s4"
  replyId: "s1"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:15,388 [s4-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-C5186D59DF2F: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2024-09-30 06:54:15,388 [s4-server-thread2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s4: shutdown s4@group-C5186D59DF2F-LeaderElection79
2024-09-30 06:54:15,389 [s4-server-thread2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:15,389 [s4-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-C5186D59DF2F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 33ms
2024-09-30 06:54:15,468 [s2@group-C5186D59DF2F->s3-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s3"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 11
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,468 [s2@group-C5186D59DF2F->s4-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s4"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 8
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,469 [s2@group-C5186D59DF2F->s1-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 14
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,509 [grpc-default-executor-4] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s4
2024-09-30 06:54:15,510 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s4, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,510 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2024-09-30 06:54:15,510 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s4, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,510 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2 different than the candidate s4
2024-09-30 06:54:15,509 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s4, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,510 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s2 different than the candidate s4
2024-09-30 06:54:15,510 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to PRE_VOTE vote request: s4<-s1#0:FAIL-t1. Peer's state: s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,510 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-C5186D59DF2F replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,510 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5186D59DF2F replies to PRE_VOTE vote request: s4<-s2#0:FAIL-t1. Peer's state: s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,512 [s4@group-C5186D59DF2F-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-C5186D59DF2F-LeaderElection79: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:15,512 [s4@group-C5186D59DF2F-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:FAIL-t1
2024-09-30 06:54:15,512 [s4@group-C5186D59DF2F-LeaderElection79] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s4@group-C5186D59DF2F-LeaderElection79 PRE_VOTE round 0: result REJECTED
2024-09-30 06:54:15,526 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:251362077ns, electionTimeout:251ms
2024-09-30 06:54:15,526 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:15,526 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:15,526 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:15,526 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-LeaderElection80
2024-09-30 06:54:15,526 [s0@group-C5186D59DF2F-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-C5186D59DF2F-LeaderElection80 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,529 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,529 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2024-09-30 06:54:15,529 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,529 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,529 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:15,529 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,531 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,531 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:15,531 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,531 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,532 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:15,532 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,533 [s0@group-C5186D59DF2F-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C5186D59DF2F-LeaderElection80: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2024-09-30 06:54:15,533 [s0@group-C5186D59DF2F-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2024-09-30 06:54:15,533 [s0@group-C5186D59DF2F-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:FAIL-t1
2024-09-30 06:54:15,533 [s0@group-C5186D59DF2F-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s2#0:FAIL-t1
2024-09-30 06:54:15,533 [s0@group-C5186D59DF2F-LeaderElection80] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-C5186D59DF2F-LeaderElection80 PRE_VOTE round 0: result REJECTED
2024-09-30 06:54:15,533 [s0@group-C5186D59DF2F-LeaderElection80] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-09-30 06:54:15,533 [s0@group-C5186D59DF2F-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-C5186D59DF2F-LeaderElection80
2024-09-30 06:54:15,533 [s0@group-C5186D59DF2F-LeaderElection80] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:15,535 [s2@group-C5186D59DF2F->s0-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 14
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:15,644 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:15,737 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:203794007ns, electionTimeout:203ms
2024-09-30 06:54:15,737 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:15,737 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:15,737 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:15,737 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-LeaderElection81
2024-09-30 06:54:15,738 [s0@group-C5186D59DF2F-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-C5186D59DF2F-LeaderElection81 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,740 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,740 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2024-09-30 06:54:15,740 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,741 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,741 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:15,741 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,741 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,742 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:15,742 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,742 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,742 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:15,742 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,746 [s0@group-C5186D59DF2F-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C5186D59DF2F-LeaderElection81: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2024-09-30 06:54:15,746 [s0@group-C5186D59DF2F-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2024-09-30 06:54:15,746 [s0@group-C5186D59DF2F-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:FAIL-t1
2024-09-30 06:54:15,747 [s0@group-C5186D59DF2F-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s2#0:FAIL-t1
2024-09-30 06:54:15,747 [s0@group-C5186D59DF2F-LeaderElection81] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-C5186D59DF2F-LeaderElection81 PRE_VOTE round 0: result REJECTED
2024-09-30 06:54:15,747 [s0@group-C5186D59DF2F-LeaderElection81] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-09-30 06:54:15,747 [s0@group-C5186D59DF2F-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-C5186D59DF2F-LeaderElection81
2024-09-30 06:54:15,747 [s0@group-C5186D59DF2F-LeaderElection81] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:15,810 [grpc-default-executor-4] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s4
2024-09-30 06:54:15,810 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s4, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,810 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C5186D59DF2F-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2024-09-30 06:54:15,810 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-C5186D59DF2F replies to PRE_VOTE vote request: s4<-s0#0:OK-t1. Peer's state: s0@group-C5186D59DF2F:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:15,831 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2024-09-30 06:54:15,831 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-C5186D59DF2F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 760ms
2024-09-30 06:54:15,915 [grpc-default-executor-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:54:15,915 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s1, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:15,915 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s2 different than the candidate s1
2024-09-30 06:54:15,915 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-C5186D59DF2F replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:16,545 [main] INFO  grpc.TestLeaderElectionWithGrpc (LeaderElectionTests.java:enforceLeader(319)) - try enforcing leader to s0 but new leader is s2
2024-09-30 06:54:17,545 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:17,600 [s2@group-C5186D59DF2F->s0-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 40
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:17,606 [s2@group-C5186D59DF2F->s4-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s4"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 34
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:17,610 [s2@group-C5186D59DF2F->s3-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s3"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 37
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:17,614 [s2@group-C5186D59DF2F->s1-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 40
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:17,751 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2024-09-30 06:54:17,753 [s3@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s3@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:220280100ns, electionTimeout:220ms
2024-09-30 06:54:17,754 [s3@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:17,754 [s3@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:17,754 [s3@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:17,754 [s3@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-C5186D59DF2F-LeaderElection82
2024-09-30 06:54:17,754 [s3@group-C5186D59DF2F-LeaderElection82] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-C5186D59DF2F: change Leader from s2 to null at term 1 for PRE_VOTE
2024-09-30 06:54:17,754 [s3@group-C5186D59DF2F-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s3@group-C5186D59DF2F-LeaderElection82 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,755 [s3@group-C5186D59DF2F-LeaderElection82-1] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s3 delay 150 ms, args=[serverRequest {
  requestorId: "s3"
  replyId: "s4"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:17,755 [s3@group-C5186D59DF2F-LeaderElection82-3] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s3 delay 150 ms, args=[serverRequest {
  requestorId: "s3"
  replyId: "s1"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:17,755 [s3@group-C5186D59DF2F-LeaderElection82-2] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s3 delay 150 ms, args=[serverRequest {
  requestorId: "s3"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:17,756 [s3@group-C5186D59DF2F-LeaderElection82-4] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s3 delay 150 ms, args=[serverRequest {
  requestorId: "s3"
  replyId: "s2"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:17,761 [s3-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-C5186D59DF2F: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2024-09-30 06:54:17,761 [s3-server-thread2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s3: shutdown s3@group-C5186D59DF2F-LeaderElection82
2024-09-30 06:54:17,761 [s3-server-thread2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:17,761 [s3-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-C5186D59DF2F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 6ms
2024-09-30 06:54:17,789 [s2@group-C5186D59DF2F->s0-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 41
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:17,807 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:282532314ns, electionTimeout:158ms
2024-09-30 06:54:17,807 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:17,807 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:17,807 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:17,808 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-LeaderElection83
2024-09-30 06:54:17,808 [s0@group-C5186D59DF2F-LeaderElection83] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-C5186D59DF2F: change Leader from s2 to null at term 1 for PRE_VOTE
2024-09-30 06:54:17,808 [s0@group-C5186D59DF2F-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-C5186D59DF2F-LeaderElection83 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,811 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:17,811 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:17,811 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:17,811 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,811 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:17,812 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,812 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:17,812 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2024-09-30 06:54:17,812 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,813 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:17,813 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:17,814 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,814 [s0@group-C5186D59DF2F-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C5186D59DF2F-LeaderElection83: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2024-09-30 06:54:17,814 [s0@group-C5186D59DF2F-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2024-09-30 06:54:17,814 [s0@group-C5186D59DF2F-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:FAIL-t1
2024-09-30 06:54:17,814 [s0@group-C5186D59DF2F-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s2#0:FAIL-t1
2024-09-30 06:54:17,814 [s0@group-C5186D59DF2F-LeaderElection83] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-C5186D59DF2F-LeaderElection83 PRE_VOTE round 0: result REJECTED
2024-09-30 06:54:17,814 [s0@group-C5186D59DF2F-LeaderElection83] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-09-30 06:54:17,814 [s0@group-C5186D59DF2F-LeaderElection83] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-C5186D59DF2F-LeaderElection83
2024-09-30 06:54:17,815 [s0@group-C5186D59DF2F-LeaderElection83] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:17,833 [s2@group-C5186D59DF2F->s4-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s4"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 35
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:17,838 [s2@group-C5186D59DF2F->s3-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s3"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 38
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:17,841 [s2@group-C5186D59DF2F->s1-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 41
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:17,905 [s3@group-C5186D59DF2F-LeaderElection82-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15312
2024-09-30 06:54:17,905 [s3@group-C5186D59DF2F-LeaderElection82-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15300
2024-09-30 06:54:17,906 [s3@group-C5186D59DF2F-LeaderElection82-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15296
2024-09-30 06:54:17,906 [s3@group-C5186D59DF2F-LeaderElection82-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15304
2024-09-30 06:54:17,911 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s3, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:17,911 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2 different than the candidate s3
2024-09-30 06:54:17,911 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,911 [grpc-default-executor-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s3
2024-09-30 06:54:17,912 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s3, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:17,912 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2024-09-30 06:54:17,912 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5186D59DF2F replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,913 [s3@group-C5186D59DF2F-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C5186D59DF2F-LeaderElection82: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:17,913 [s3@group-C5186D59DF2F-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s1#0:FAIL-t1
2024-09-30 06:54:17,913 [s3@group-C5186D59DF2F-LeaderElection82] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s3@group-C5186D59DF2F-LeaderElection82 PRE_VOTE round 0: result REJECTED
2024-09-30 06:54:17,919 [s3@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s3@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:158056732ns, electionTimeout:158ms
2024-09-30 06:54:17,919 [s3@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:17,919 [s3@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:17,919 [s3@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:17,919 [s3@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-C5186D59DF2F-LeaderElection84
2024-09-30 06:54:17,920 [s3@group-C5186D59DF2F-LeaderElection84] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-C5186D59DF2F: change Leader from s2 to null at term 1 for PRE_VOTE
2024-09-30 06:54:17,920 [s3@group-C5186D59DF2F-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s3@group-C5186D59DF2F-LeaderElection84 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,921 [s3@group-C5186D59DF2F-LeaderElection84-1] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s3 delay 150 ms, args=[serverRequest {
  requestorId: "s3"
  replyId: "s4"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:17,921 [s3@group-C5186D59DF2F-LeaderElection84-2] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s3 delay 150 ms, args=[serverRequest {
  requestorId: "s3"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:17,921 [s3@group-C5186D59DF2F-LeaderElection84-3] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s3 delay 150 ms, args=[serverRequest {
  requestorId: "s3"
  replyId: "s1"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:17,921 [s3@group-C5186D59DF2F-LeaderElection84-4] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s3 delay 150 ms, args=[serverRequest {
  requestorId: "s3"
  replyId: "s2"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
}
candidateTerm: 1
candidateLastEntry {
  term: 1
}
preVote: true
]
2024-09-30 06:54:17,978 [s2@group-C5186D59DF2F->s0-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 42
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:17,986 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:171340293ns, electionTimeout:171ms
2024-09-30 06:54:17,986 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:17,986 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:17,986 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:17,986 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-LeaderElection85
2024-09-30 06:54:17,986 [s0@group-C5186D59DF2F-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-C5186D59DF2F-LeaderElection85 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,988 [s3-server-thread3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-C5186D59DF2F: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2024-09-30 06:54:17,988 [s3-server-thread3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s3: shutdown s3@group-C5186D59DF2F-LeaderElection84
2024-09-30 06:54:17,988 [s3-server-thread3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:17,989 [s3-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-C5186D59DF2F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 68ms
2024-09-30 06:54:17,992 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:17,992 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:17,992 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,995 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:17,996 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:17,996 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,996 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:17,996 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2024-09-30 06:54:17,996 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,997 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:17,997 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2 different than the candidate s0
2024-09-30 06:54:17,997 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:17,998 [s0@group-C5186D59DF2F-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C5186D59DF2F-LeaderElection85: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2024-09-30 06:54:17,998 [s0@group-C5186D59DF2F-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2024-09-30 06:54:17,998 [s0@group-C5186D59DF2F-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:FAIL-t1
2024-09-30 06:54:17,998 [s0@group-C5186D59DF2F-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s1#0:FAIL-t1
2024-09-30 06:54:17,999 [s0@group-C5186D59DF2F-LeaderElection85] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-C5186D59DF2F-LeaderElection85 PRE_VOTE round 0: result REJECTED
2024-09-30 06:54:17,999 [s0@group-C5186D59DF2F-LeaderElection85] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-09-30 06:54:17,999 [s0@group-C5186D59DF2F-LeaderElection85] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-C5186D59DF2F-LeaderElection85
2024-09-30 06:54:17,999 [s0@group-C5186D59DF2F-LeaderElection85] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:18,061 [s2@group-C5186D59DF2F->s4-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s4"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 36
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:18,068 [s2@group-C5186D59DF2F->s1-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 42
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:18,069 [s2@group-C5186D59DF2F->s3-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s3"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 39
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:18,073 [grpc-default-executor-6] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s3
2024-09-30 06:54:18,073 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s3, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:18,073 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s3, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:18,074 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2024-09-30 06:54:18,073 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s3, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:18,074 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5186D59DF2F replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,074 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2 different than the candidate s3
2024-09-30 06:54:18,074 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,074 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C5186D59DF2F-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s2 different than the candidate s3
2024-09-30 06:54:18,074 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-C5186D59DF2F replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,074 [s3@group-C5186D59DF2F-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-C5186D59DF2F-LeaderElection84: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:18,075 [s3@group-C5186D59DF2F-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s1#0:FAIL-t1
2024-09-30 06:54:18,075 [s3@group-C5186D59DF2F-LeaderElection84] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s3@group-C5186D59DF2F-LeaderElection84 PRE_VOTE round 0: result REJECTED
2024-09-30 06:54:18,167 [s2@group-C5186D59DF2F->s0-GrpcLogAppender-LogAppenderDaemon] INFO  util.CodeInjectionForTesting (DelayLocalExecutionInjection.java:execute(65)) - s2 delay 150 ms, args=[serverRequest {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 43
}
leaderTerm: 1
previousLog {
  term: 1
}
commitInfos {
  server {
    id: "s2"
    address: "localhost:15304"
    dataStreamAddress: "localhost:15307"
    clientAddress: "localhost:15306"
    adminAddress: "localhost:15305"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s3"
    address: "localhost:15308"
    dataStreamAddress: "localhost:15311"
    clientAddress: "localhost:15310"
    adminAddress: "localhost:15309"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s4"
    address: "localhost:15312"
    dataStreamAddress: "localhost:15315"
    clientAddress: "localhost:15314"
    adminAddress: "localhost:15313"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s0"
    address: "localhost:15296"
    dataStreamAddress: "localhost:15299"
    clientAddress: "localhost:15298"
    adminAddress: "localhost:15297"
    startupRole: FOLLOWER
  }
}
commitInfos {
  server {
    id: "s1"
    address: "localhost:15300"
    dataStreamAddress: "localhost:15303"
    clientAddress: "localhost:15302"
    adminAddress: "localhost:15301"
    startupRole: FOLLOWER
  }
}
]
2024-09-30 06:54:18,173 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-C5186D59DF2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:174341402ns, electionTimeout:171ms
2024-09-30 06:54:18,173 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:18,173 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:18,173 [s0@group-C5186D59DF2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:18,173 [s0@group-C5186D59DF2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-LeaderElection86
2024-09-30 06:54:18,174 [s0@group-C5186D59DF2F-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-C5186D59DF2F-LeaderElection86 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,176 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:18,176 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C5186D59DF2F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:18,176 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s3#0:OK-t1. Peer's state: s3@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,176 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:18,176 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:18,176 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,177 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s0, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:18,177 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C5186D59DF2F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:18,177 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-C5186D59DF2F replies to PRE_VOTE vote request: s0<-s4#0:OK-t1. Peer's state: s4@group-C5186D59DF2F:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,177 [s0@group-C5186D59DF2F-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C5186D59DF2F-LeaderElection86: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-09-30 06:54:18,177 [s0@group-C5186D59DF2F-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:OK-t1
2024-09-30 06:54:18,177 [s0@group-C5186D59DF2F-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:OK-t1
2024-09-30 06:54:18,177 [s0@group-C5186D59DF2F-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-C5186D59DF2F-LeaderElection86 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:18,178 [s0@group-C5186D59DF2F-LeaderElection86] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2029e296
2024-09-30 06:54:18,185 [s0@group-C5186D59DF2F-LeaderElection86] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:18,185 [s0@group-C5186D59DF2F-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-C5186D59DF2F-LeaderElection86 ELECTION round 0: submit vote requests at term 2 for conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,186 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s3@group-C5186D59DF2F: receive requestVote(ELECTION, s0, group-C5186D59DF2F, 2, (t:1, i:0))
2024-09-30 06:54:18,186 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C5186D59DF2F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:18,186 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s3@group-C5186D59DF2F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-09-30 06:54:18,186 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:18,187 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s4@group-C5186D59DF2F: receive requestVote(ELECTION, s0, group-C5186D59DF2F, 2, (t:1, i:0))
2024-09-30 06:54:18,187 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C5186D59DF2F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:18,187 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s4@group-C5186D59DF2F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-09-30 06:54:18,187 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:18,187 [s3@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s3@group-C5186D59DF2F-FollowerState was interrupted
2024-09-30 06:54:18,187 [grpc-default-executor-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-C5186D59DF2F: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-09-30 06:54:18,188 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:18,188 [s4@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s4@group-C5186D59DF2F-FollowerState was interrupted
2024-09-30 06:54:18,189 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-C5186D59DF2F: receive requestVote(ELECTION, s0, group-C5186D59DF2F, 2, (t:1, i:0))
2024-09-30 06:54:18,189 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C5186D59DF2F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:18,189 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-C5186D59DF2F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-09-30 06:54:18,189 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:18,187 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-C5186D59DF2F: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-09-30 06:54:18,189 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-C5186D59DF2F: receive requestVote(ELECTION, s0, group-C5186D59DF2F, 2, (t:1, i:0))
2024-09-30 06:54:18,189 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C5186D59DF2F-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:18,189 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-C5186D59DF2F: changes role from    LEADER to FOLLOWER at term 1 for candidate:s0
2024-09-30 06:54:18,189 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-C5186D59DF2F-LeaderStateImpl
2024-09-30 06:54:18,189 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-C5186D59DF2F: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-09-30 06:54:18,190 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:18,189 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:18,190 [s2@group-C5186D59DF2F->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-C5186D59DF2F->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:18,190 [s2@group-C5186D59DF2F->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-C5186D59DF2F->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:18,190 [s2@group-C5186D59DF2F->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-C5186D59DF2F->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:18,190 [grpc-default-executor-8] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-C5186D59DF2F-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:18,189 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6390d65b
2024-09-30 06:54:18,191 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@50b6690
2024-09-30 06:54:18,189 [s1@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-C5186D59DF2F-FollowerState was interrupted
2024-09-30 06:54:18,191 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@481e741
2024-09-30 06:54:18,191 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15308"dataStreamAddress:"localhost:15311"clientAddress:"localhost:15310"adminAddress:"localhost:15309"startupRole:FOLLOWER, id:"s4"address:"localhost:15312"dataStreamAddress:"localhost:15315"clientAddress:"localhost:15314"adminAddress:"localhost:15313"startupRole:FOLLOWER, id:"s0"address:"localhost:15296"dataStreamAddress:"localhost:15299"clientAddress:"localhost:15298"adminAddress:"localhost:15297"startupRole:FOLLOWER, id:"s1"address:"localhost:15300"dataStreamAddress:"localhost:15303"clientAddress:"localhost:15302"adminAddress:"localhost:15301"startupRole:FOLLOWER, id:"s2"address:"localhost:15304"dataStreamAddress:"localhost:15307"clientAddress:"localhost:15306"adminAddress:"localhost:15305"startupRole:FOLLOWER, old:)
2024-09-30 06:54:18,191 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:18,191 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15308"dataStreamAddress:"localhost:15311"clientAddress:"localhost:15310"adminAddress:"localhost:15309"startupRole:FOLLOWER, id:"s4"address:"localhost:15312"dataStreamAddress:"localhost:15315"clientAddress:"localhost:15314"adminAddress:"localhost:15313"startupRole:FOLLOWER, id:"s0"address:"localhost:15296"dataStreamAddress:"localhost:15299"clientAddress:"localhost:15298"adminAddress:"localhost:15297"startupRole:FOLLOWER, id:"s1"address:"localhost:15300"dataStreamAddress:"localhost:15303"clientAddress:"localhost:15302"adminAddress:"localhost:15301"startupRole:FOLLOWER, id:"s2"address:"localhost:15304"dataStreamAddress:"localhost:15307"clientAddress:"localhost:15306"adminAddress:"localhost:15305"startupRole:FOLLOWER, old:)
2024-09-30 06:54:18,192 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:18,190 [s2@group-C5186D59DF2F->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s2@group-C5186D59DF2F->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:18,192 [grpc-default-executor-4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:18,192 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s4@group-C5186D59DF2F replies to ELECTION vote request: s0<-s4#0:OK-t2. Peer's state: s4@group-C5186D59DF2F:t2, leader=null, voted=s0, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,192 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:18,192 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s3@group-C5186D59DF2F replies to ELECTION vote request: s0<-s3#0:OK-t2. Peer's state: s3@group-C5186D59DF2F:t2, leader=null, voted=s0, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,192 [grpc-default-executor-8] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-C5186D59DF2F: change Leader from s2 to null at term 1 for candidate:s0
2024-09-30 06:54:18,193 [s3-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s3@group-C5186D59DF2F: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:54:18,193 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:18,193 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-C5186D59DF2F replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-C5186D59DF2F:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,194 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: s2->s3#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15308"dataStreamAddress:"localhost:15311"clientAddress:"localhost:15310"adminAddress:"localhost:15309"startupRole:FOLLOWER, id:"s4"address:"localhost:15312"dataStreamAddress:"localhost:15315"clientAddress:"localhost:15314"adminAddress:"localhost:15313"startupRole:FOLLOWER, id:"s0"address:"localhost:15296"dataStreamAddress:"localhost:15299"clientAddress:"localhost:15298"adminAddress:"localhost:15297"startupRole:FOLLOWER, id:"s1"address:"localhost:15300"dataStreamAddress:"localhost:15303"clientAddress:"localhost:15302"adminAddress:"localhost:15301"startupRole:FOLLOWER, id:"s2"address:"localhost:15304"dataStreamAddress:"localhost:15307"clientAddress:"localhost:15306"adminAddress:"localhost:15305"startupRole:FOLLOWER, old:)
2024-09-30 06:54:18,194 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:18,194 [s4-server-thread3] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s4@group-C5186D59DF2F: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:54:18,195 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: s2->s4#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15308"dataStreamAddress:"localhost:15311"clientAddress:"localhost:15310"adminAddress:"localhost:15309"startupRole:FOLLOWER, id:"s4"address:"localhost:15312"dataStreamAddress:"localhost:15315"clientAddress:"localhost:15314"adminAddress:"localhost:15313"startupRole:FOLLOWER, id:"s0"address:"localhost:15296"dataStreamAddress:"localhost:15299"clientAddress:"localhost:15298"adminAddress:"localhost:15297"startupRole:FOLLOWER, id:"s1"address:"localhost:15300"dataStreamAddress:"localhost:15303"clientAddress:"localhost:15302"adminAddress:"localhost:15301"startupRole:FOLLOWER, id:"s2"address:"localhost:15304"dataStreamAddress:"localhost:15307"clientAddress:"localhost:15306"adminAddress:"localhost:15305"startupRole:FOLLOWER, old:)
2024-09-30 06:54:18,195 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:18,195 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-C5186D59DF2F->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:18,195 [s1-server-thread1] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s1@group-C5186D59DF2F: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:54:18,195 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-C5186D59DF2F->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:18,197 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:18,197 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:18,197 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s4"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 36
}
term: 2
nextIndex: 1
result: NOT_LEADER
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:18,197 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-C5186D59DF2F->s4-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:54:18,198 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-C5186D59DF2F->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:18,198 [grpc-default-executor-8] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@68609d73
2024-09-30 06:54:18,198 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:18,198 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 42
}
term: 2
nextIndex: 1
result: NOT_LEADER
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:18,199 [s0@group-C5186D59DF2F-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-C5186D59DF2F-LeaderElection86: ELECTION PASSED received 2 response(s) and 0 exception(s):
2024-09-30 06:54:18,199 [s0@group-C5186D59DF2F-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:OK-t2
2024-09-30 06:54:18,199 [s0@group-C5186D59DF2F-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:OK-t2
2024-09-30 06:54:18,199 [s0@group-C5186D59DF2F-LeaderElection86] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-C5186D59DF2F-LeaderElection86 ELECTION round 0: result PASSED
2024-09-30 06:54:18,199 [s0@group-C5186D59DF2F-LeaderElection86] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-C5186D59DF2F-LeaderElection86
2024-09-30 06:54:18,199 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C5186D59DF2F: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-09-30 06:54:18,199 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:18,200 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:18,200 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:18,200 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:18,200 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:18,200 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:18,200 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:18,200 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:18,200 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:18,201 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:18,201 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:18,201 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:18,201 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-C5186D59DF2F->s3-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:54:18,201 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:18,201 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:18,201 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:18,201 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-C5186D59DF2F->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:18,201 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s3"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 39
}
term: 2
nextIndex: 1
result: NOT_LEADER
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:18,201 [grpc-default-executor-8] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:18,201 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:18,202 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:18,202 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-C5186D59DF2F replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-C5186D59DF2F:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,202 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:18,202 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:18,202 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:18,202 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-C5186D59DF2F->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:18,202 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:18,206 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:18,206 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:18,206 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:18,206 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:18,206 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:18,206 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:18,206 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:18,207 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:18,208 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:18,209 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:18,209 [s0@group-C5186D59DF2F-LeaderElection86] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:18,209 [s0@group-C5186D59DF2F-LeaderElection86] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-C5186D59DF2F-LeaderStateImpl
2024-09-30 06:54:18,209 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-C5186D59DF2F: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 401ms
2024-09-30 06:54:18,203 [grpc-default-executor-11] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-C5186D59DF2F->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:54:18,203 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-C5186D59DF2F->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:18,210 [s0@group-C5186D59DF2F-LeaderElection86] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-C5186D59DF2F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-09-30 06:54:18,210 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-C5186D59DF2F->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:18,211 [s0@group-C5186D59DF2F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_0-0
2024-09-30 06:54:18,211 [s0@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-C5186D59DF2F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_0-0
2024-09-30 06:54:18,211 [s0@group-C5186D59DF2F-LeaderElection86] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-C5186D59DF2F: set configuration conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,212 [s0@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_1 at position 0
2024-09-30 06:54:18,223 [s0@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-C5186D59DF2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_1
2024-09-30 06:54:18,224 [s4-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-C5186D59DF2F: change Leader from null to s0 at term 2 for appendEntries, leader elected after 36ms
2024-09-30 06:54:18,227 [s3-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-C5186D59DF2F: change Leader from null to s0 at term 2 for appendEntries, leader elected after 39ms
2024-09-30 06:54:18,227 [s4-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5186D59DF2F: appendEntries* s0->s4#1-t2,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:2, i:1), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15308"dataStreamAddress:"localhost:15311"clientAddress:"localhost:15310"adminAddress:"localhost:15309"startupRole:FOLLOWER, id:"s4"address:"localhost:15312"dataStreamAddress:"localhost:15315"clientAddress:"localhost:15314"adminAddress:"localhost:15313"startupRole:FOLLOWER, id:"s0"address:"localhost:15296"dataStreamAddress:"localhost:15299"clientAddress:"localhost:15298"adminAddress:"localhost:15297"startupRole:FOLLOWER, id:"s1"address:"localhost:15300"dataStreamAddress:"localhost:15303"clientAddress:"localhost:15302"adminAddress:"localhost:15301"startupRole:FOLLOWER, id:"s2"address:"localhost:15304"dataStreamAddress:"localhost:15307"clientAddress:"localhost:15306"adminAddress:"localhost:15305"startupRole:FOLLOWER, old:)
2024-09-30 06:54:18,227 [s4-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-C5186D59DF2F: set configuration conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,228 [s4-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s4@group-C5186D59DF2F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-09-30 06:54:18,229 [s4@group-C5186D59DF2F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_0-0
2024-09-30 06:54:18,229 [s4@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s4@group-C5186D59DF2F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_0-0
2024-09-30 06:54:18,229 [s4@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_1 at position 0
2024-09-30 06:54:18,230 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-C5186D59DF2F: change Leader from null to s0 at term 2 for appendEntries, leader elected after 40ms
2024-09-30 06:54:18,234 [s3-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5186D59DF2F: appendEntries* s0->s3#1-t2,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:2, i:1), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15308"dataStreamAddress:"localhost:15311"clientAddress:"localhost:15310"adminAddress:"localhost:15309"startupRole:FOLLOWER, id:"s4"address:"localhost:15312"dataStreamAddress:"localhost:15315"clientAddress:"localhost:15314"adminAddress:"localhost:15313"startupRole:FOLLOWER, id:"s0"address:"localhost:15296"dataStreamAddress:"localhost:15299"clientAddress:"localhost:15298"adminAddress:"localhost:15297"startupRole:FOLLOWER, id:"s1"address:"localhost:15300"dataStreamAddress:"localhost:15303"clientAddress:"localhost:15302"adminAddress:"localhost:15301"startupRole:FOLLOWER, id:"s2"address:"localhost:15304"dataStreamAddress:"localhost:15307"clientAddress:"localhost:15306"adminAddress:"localhost:15305"startupRole:FOLLOWER, old:)
2024-09-30 06:54:18,234 [s3-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-C5186D59DF2F: set configuration conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,234 [s3-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s3@group-C5186D59DF2F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-09-30 06:54:18,235 [s3@group-C5186D59DF2F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_0-0
2024-09-30 06:54:18,235 [s3@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s3@group-C5186D59DF2F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_0-0
2024-09-30 06:54:18,236 [s3@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_1 at position 0
2024-09-30 06:54:18,240 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5186D59DF2F: appendEntries* s0->s1#1-t2,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:2, i:1), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15308"dataStreamAddress:"localhost:15311"clientAddress:"localhost:15310"adminAddress:"localhost:15309"startupRole:FOLLOWER, id:"s4"address:"localhost:15312"dataStreamAddress:"localhost:15315"clientAddress:"localhost:15314"adminAddress:"localhost:15313"startupRole:FOLLOWER, id:"s0"address:"localhost:15296"dataStreamAddress:"localhost:15299"clientAddress:"localhost:15298"adminAddress:"localhost:15297"startupRole:FOLLOWER, id:"s1"address:"localhost:15300"dataStreamAddress:"localhost:15303"clientAddress:"localhost:15302"adminAddress:"localhost:15301"startupRole:FOLLOWER, id:"s2"address:"localhost:15304"dataStreamAddress:"localhost:15307"clientAddress:"localhost:15306"adminAddress:"localhost:15305"startupRole:FOLLOWER, old:)
2024-09-30 06:54:18,240 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-C5186D59DF2F: set configuration conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,240 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-C5186D59DF2F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-09-30 06:54:18,241 [s1@group-C5186D59DF2F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_0-0
2024-09-30 06:54:18,241 [s1@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-C5186D59DF2F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_0-0
2024-09-30 06:54:18,241 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5186D59DF2F: appendEntries* s0->s2#1-t2,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:2, i:1), CONFIGURATIONENTRY(current:id:"s3"address:"localhost:15308"dataStreamAddress:"localhost:15311"clientAddress:"localhost:15310"adminAddress:"localhost:15309"startupRole:FOLLOWER, id:"s4"address:"localhost:15312"dataStreamAddress:"localhost:15315"clientAddress:"localhost:15314"adminAddress:"localhost:15313"startupRole:FOLLOWER, id:"s0"address:"localhost:15296"dataStreamAddress:"localhost:15299"clientAddress:"localhost:15298"adminAddress:"localhost:15297"startupRole:FOLLOWER, id:"s1"address:"localhost:15300"dataStreamAddress:"localhost:15303"clientAddress:"localhost:15302"adminAddress:"localhost:15301"startupRole:FOLLOWER, id:"s2"address:"localhost:15304"dataStreamAddress:"localhost:15307"clientAddress:"localhost:15306"adminAddress:"localhost:15305"startupRole:FOLLOWER, old:)
2024-09-30 06:54:18,241 [s1@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_1 at position 0
2024-09-30 06:54:18,241 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-C5186D59DF2F: change Leader from null to s0 at term 2 for appendEntries, leader elected after 49ms
2024-09-30 06:54:18,242 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-C5186D59DF2F: set configuration conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,242 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-C5186D59DF2F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-09-30 06:54:18,243 [s2@group-C5186D59DF2F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_0-0
2024-09-30 06:54:18,243 [s2@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-C5186D59DF2F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_0-0
2024-09-30 06:54:18,243 [s2@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_1 at position 0
2024-09-30 06:54:18,247 [s4@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s4@group-C5186D59DF2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_1
2024-09-30 06:54:18,248 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5186D59DF2F: appendEntries* reply s0<-s4#1:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:18,252 [s3@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-C5186D59DF2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_1
2024-09-30 06:54:18,253 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5186D59DF2F: appendEntries* reply s0<-s3#1:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:18,254 [s1@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-C5186D59DF2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_1
2024-09-30 06:54:18,255 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5186D59DF2F: appendEntries* s0->s1#2-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:18,255 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5186D59DF2F: appendEntries* s0->s4#3-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:18,255 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5186D59DF2F: appendEntries* s0->s3#3-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:18,254 [s0@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@564edbd1
2024-09-30 06:54:18,257 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5186D59DF2F: appendEntries* s0->s2#2-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:18,257 [s4-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s4@group-C5186D59DF2F: appendEntries* reply s0<-s4#3:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:18,257 [s4@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@122a2907
2024-09-30 06:54:18,259 [s3-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s3@group-C5186D59DF2F: appendEntries* reply s0<-s3#3:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:18,259 [s3@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4885bb3a
2024-09-30 06:54:18,261 [s4@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s4/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:18,261 [s2@group-C5186D59DF2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-C5186D59DF2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/log_inprogress_1
2024-09-30 06:54:18,261 [s0@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s0/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:18,261 [s0@group-C5186D59DF2F-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-C5186D59DF2F-LeaderStateImpl is ready since appliedIndex == startIndex == 1
2024-09-30 06:54:18,262 [s3@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s3/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:18,262 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5186D59DF2F: appendEntries* reply s0<-s1#1:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:18,263 [s2@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7ac0f507
2024-09-30 06:54:18,263 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5186D59DF2F: appendEntries* reply s0<-s2#1:OK-t2,SUCCESS,nextIndex=2,followerCommit=1,matchIndex=1
2024-09-30 06:54:18,263 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-C5186D59DF2F: appendEntries* reply s0<-s2#2:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:18,263 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-C5186D59DF2F: appendEntries* reply s0<-s1#2:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:18,264 [s1@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@40c79670
2024-09-30 06:54:18,265 [s2@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s2/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:18,266 [s1@group-C5186D59DF2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpc2ff80109/s1/3b8a189a-f3e8-40ca-abd0-c5186d59df2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:18,446 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:18,512 [grpc-default-executor-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s3
2024-09-30 06:54:18,512 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s3, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:18,512 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2024-09-30 06:54:18,512 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-C5186D59DF2F replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t2. Peer's state: s0@group-C5186D59DF2F:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:18,652 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2024-09-30 06:54:18,652 [s0-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-C5186D59DF2F: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:54:18,652 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-C5186D59DF2F->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:54:18,652 [s0-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-C5186D59DF2F: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:54:18,652 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-C5186D59DF2F->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:54:18,652 [s0-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-C5186D59DF2F: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:54:18,653 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-C5186D59DF2F->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:54:18,653 [s0-server-thread2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-C5186D59DF2F: Failed to recognize s2 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-09-30 06:54:18,653 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:18,653 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(521)) - s2@group-C5186D59DF2F->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2024-09-30 06:54:18,653 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 43
}
term: 2
nextIndex: 3
result: NOT_LEADER
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:18,654 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s2@group-C5186D59DF2F->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:18,673 [grpc-default-executor-6] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s3
2024-09-30 06:54:18,673 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-C5186D59DF2F: receive requestVote(PRE_VOTE, s3, group-C5186D59DF2F, 1, (t:1, i:0))
2024-09-30 06:54:18,673 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-C5186D59DF2F-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2024-09-30 06:54:18,674 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s0@group-C5186D59DF2F replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t2. Peer's state: s0@group-C5186D59DF2F:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null}
2024-09-30 06:54:19,346 [main] INFO  grpc.TestLeaderElectionWithGrpc (LeaderElectionTests.java:enforceLeader(323)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C5186D59DF2F:t2, leader=s0, voted=s0, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C5186D59DF2F:t2, leader=s0, voted=s0, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s0:  RUNNING    LEADER s0@group-C5186D59DF2F:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C5186D59DF2F:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C5186D59DF2F:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
2024-09-30 06:54:19,347 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:54:19,347 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:54:19,347 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:54:19,347 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:54:19,347 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:54:19,347 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C5186D59DF2F:t2, leader=s0, voted=s0, raftlog=Memoized:s3@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-C5186D59DF2F:t2, leader=s0, voted=s0, raftlog=Memoized:s4@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s0:  RUNNING    LEADER s0@group-C5186D59DF2F:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C5186D59DF2F:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C5186D59DF2F:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-C5186D59DF2F-SegmentedRaftLog:OPENED:c2:last(t:2, i:2), conf=conf: {index: 1, cur=peers:[s3|localhost:15308, s4|localhost:15312, s0|localhost:15296, s1|localhost:15300, s2|localhost:15304]|listeners:[], old=null} RUNNING
2024-09-30 06:54:19,348 [MiniRaftCluster-106] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s3: close
2024-09-30 06:54:19,348 [MiniRaftCluster-107] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s4: close
2024-09-30 06:54:19,348 [MiniRaftCluster-109] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:54:19,348 [MiniRaftCluster-106] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:19,349 [MiniRaftCluster-110] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:54:19,348 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s3@group-C5186D59DF2F: shutdown
2024-09-30 06:54:19,348 [MiniRaftCluster-108] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:54:19,349 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s3
2024-09-30 06:54:19,350 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-C5186D59DF2F: shutdown
2024-09-30 06:54:19,349 [MiniRaftCluster-110] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:19,350 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s0
2024-09-30 06:54:19,350 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-C5186D59DF2F-LeaderStateImpl
2024-09-30 06:54:19,349 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-C5186D59DF2F: shutdown
2024-09-30 06:54:19,349 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-C5186D59DF2F: shutdown
2024-09-30 06:54:19,350 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s1
2024-09-30 06:54:19,350 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:19,349 [MiniRaftCluster-109] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:19,349 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s4@group-C5186D59DF2F: shutdown
2024-09-30 06:54:19,349 [MiniRaftCluster-107] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:19,350 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s4
2024-09-30 06:54:19,351 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s4: shutdown s4@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:19,350 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C5186D59DF2F,id=s2
2024-09-30 06:54:19,351 [s0@group-C5186D59DF2F->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-C5186D59DF2F->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:19,350 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s3: shutdown s3@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:19,350 [MiniRaftCluster-108] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:19,351 [Thread-1971] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:54:19,351 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-C5186D59DF2F-FollowerState
2024-09-30 06:54:19,351 [Thread-1969] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-09-30 06:54:19,351 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: s0->s3#3-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:19,351 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:19,352 [Thread-1973] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:54:19,352 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s3"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 22
  success: true
}
term: 2
nextIndex: 3
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:19,351 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:19,352 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5186D59DF2F->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:19,352 [Thread-1970] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-09-30 06:54:19,357 [s1@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:shouldRun(122)) - s1@group-C5186D59DF2F-FollowerState: Stopping now (isRunning? false, role = FOLLOWER)
2024-09-30 06:54:19,362 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-C5186D59DF2F-StateMachineUpdater: set stopIndex = 2
2024-09-30 06:54:19,362 [s2@group-C5186D59DF2F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-C5186D59DF2F-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:2)
2024-09-30 06:54:19,362 [s2@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-C5186D59DF2F-FollowerState was interrupted
2024-09-30 06:54:19,362 [s3@group-C5186D59DF2F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s3@group-C5186D59DF2F-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:2)
2024-09-30 06:54:19,362 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s3@group-C5186D59DF2F-StateMachineUpdater: set stopIndex = 2
2024-09-30 06:54:19,362 [s3@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s3@group-C5186D59DF2F-FollowerState was interrupted
2024-09-30 06:54:19,363 [Thread-1977] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-09-30 06:54:19,363 [Thread-1974] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-09-30 06:54:19,364 [Thread-1975] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-09-30 06:54:19,364 [Thread-1981] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:54:19,365 [Thread-1982] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:54:19,365 [s0@group-C5186D59DF2F->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-C5186D59DF2F->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:19,365 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-C5186D59DF2F-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:19,365 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s4@group-C5186D59DF2F-StateMachineUpdater: set stopIndex = 2
2024-09-30 06:54:19,366 [s0@group-C5186D59DF2F->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-C5186D59DF2F->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:19,366 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: s0->s4#3-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:19,366 [s4@group-C5186D59DF2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s4@group-C5186D59DF2F-FollowerState was interrupted
2024-09-30 06:54:19,366 [Thread-1983] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:54:19,366 [s0@group-C5186D59DF2F->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-C5186D59DF2F->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:19,366 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:19,366 [s1@group-C5186D59DF2F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-C5186D59DF2F-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:2)
2024-09-30 06:54:19,366 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-C5186D59DF2F-StateMachineUpdater: set stopIndex = 2
2024-09-30 06:54:19,367 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-C5186D59DF2F-StateMachineUpdater: set stopIndex = 2
2024-09-30 06:54:19,366 [s4@group-C5186D59DF2F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s4@group-C5186D59DF2F-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:2)
2024-09-30 06:54:19,367 [s0@group-C5186D59DF2F-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-C5186D59DF2F-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:2)
2024-09-30 06:54:19,367 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#2-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:19,367 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:19,368 [Thread-1972] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-09-30 06:54:19,368 [Thread-1984] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-09-30 06:54:19,368 [s2@group-C5186D59DF2F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-C5186D59DF2F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:19,368 [Thread-1985] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:54:19,369 [Thread-1987] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:54:19,369 [Thread-1978] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:54:19,369 [Thread-1988] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:54:19,371 [s3@group-C5186D59DF2F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-C5186D59DF2F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:19,373 [Thread-1976] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:54:19,373 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5186D59DF2F->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:19,374 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-C5186D59DF2F->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:19,381 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#2-t2,previous=(t:2, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:19,381 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:19,381 [MiniRaftCluster-109] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:19,381 [MiniRaftCluster-109] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:19,381 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:19,382 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s4"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 20
  success: true
}
term: 2
nextIndex: 3
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:19,378 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5186D59DF2F->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:19,382 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-C5186D59DF2F->s4-GrpcLogAppender: Failed to getClient for s4
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:19,378 [MiniRaftCluster-107] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:19,383 [MiniRaftCluster-107] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:19,378 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5186D59DF2F->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:19,383 [grpc-default-executor-10] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-C5186D59DF2F->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:19,378 [s1@group-C5186D59DF2F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-C5186D59DF2F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:19,384 [MiniRaftCluster-109] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:19,384 [MiniRaftCluster-109] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:19,378 [Thread-1992] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:54:19,378 [Thread-1991] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:54:19,384 [MiniRaftCluster-109] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:19,377 [Thread-1979] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-09-30 06:54:19,377 [s0@group-C5186D59DF2F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-C5186D59DF2F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:19,384 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5186D59DF2F->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:19,377 [s4@group-C5186D59DF2F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-C5186D59DF2F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:19,374 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:19,384 [grpc-default-executor-10] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-C5186D59DF2F->s4-GrpcLogAppender: Failed to getClient for s4
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:19,383 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:54:19,382 [MiniRaftCluster-106] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:19,385 [MiniRaftCluster-106] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:19,385 [MiniRaftCluster-106] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:19,386 [MiniRaftCluster-106] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:19,385 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: ";\212\030\232\363\350@\312\253\320\305\030mY\337/"
  }
  callId: 24
  success: true
}
term: 2
nextIndex: 3
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:19,386 [MiniRaftCluster-106] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:19,386 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-C5186D59DF2F->s1-GrpcLogAppender is already stopped
2024-09-30 06:54:19,386 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5186D59DF2F->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:19,386 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-C5186D59DF2F->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:19,386 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s0@group-C5186D59DF2F->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:19,387 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s0@group-C5186D59DF2F->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:19,387 [MiniRaftCluster-110] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:19,388 [MiniRaftCluster-110] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:19,388 [MiniRaftCluster-108] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:19,388 [MiniRaftCluster-108] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:19,387 [MiniRaftCluster-107] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:19,388 [MiniRaftCluster-107] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:19,388 [MiniRaftCluster-108] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:19,388 [MiniRaftCluster-108] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:19,388 [MiniRaftCluster-107] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:19,388 [MiniRaftCluster-108] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:19,389 [MiniRaftCluster-110] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:19,389 [MiniRaftCluster-110] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:19,389 [MiniRaftCluster-110] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:20,256 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-C5186D59DF2F-SegmentedRaftLogWorker close()
2024-09-30 06:54:20,257 [JvmPauseMonitor76] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:54:20,259 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s4@group-C5186D59DF2F-SegmentedRaftLogWorker close()
2024-09-30 06:54:20,259 [JvmPauseMonitor75] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-09-30 06:54:20,263 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s3@group-C5186D59DF2F-SegmentedRaftLogWorker close()
2024-09-30 06:54:20,264 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-C5186D59DF2F-SegmentedRaftLogWorker close()
2024-09-30 06:54:20,264 [JvmPauseMonitor74] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-09-30 06:54:20,264 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-C5186D59DF2F-SegmentedRaftLogWorker close()
2024-09-30 06:54:20,265 [JvmPauseMonitor78] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:54:20,267 [JvmPauseMonitor77] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:54:20,267 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:54:20,267 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:54:20,431 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:54:20,431 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
  <testcase name="testDisconnectLeader" classname="org.apache.ratis.grpc.TestLeaderElectionWithGrpc" time="5.583">
    <error type="java.lang.IllegalStateException"><![CDATA[java.lang.IllegalStateException: allLeaks.size = 2
	at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
	at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
	at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
	at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
	at org.apache.ratis.server.impl.LeaderElectionTests.testDisconnectLeader(LeaderElectionTests.java:375)
	at org.apache.ratis.grpc.TestLeaderElectionWithGrpc.testDisconnectLeader(TestLeaderElectionWithGrpc.java:39)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	Suppressed: java.lang.IllegalStateException: allLeaks.size = 2
		at org.apache.ratis.util.Preconditions.assertTrue(Preconditions.java:77)
		at org.apache.ratis.util.LeakDetector.assertNoLeaks(LeakDetector.java:107)
		at org.apache.ratis.server.impl.MiniRaftCluster.shutdown(MiniRaftCluster.java:869)
		at org.apache.ratis.grpc.MiniRaftClusterWithGrpc.shutdown(MiniRaftClusterWithGrpc.java:96)
		at org.apache.ratis.server.impl.MiniRaftCluster.close(MiniRaftCluster.java:833)
		at org.apache.ratis.server.impl.LeaderElectionTests.testDisconnectLeader(LeaderElectionTests.java:376)
		... 4 more
]]></error>
    <system-out><![CDATA[2024-09-30 06:54:20,432 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-09-30 06:54:20,433 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-09-30 06:54:20,433 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-09-30 06:54:20,433 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-09-30 06:54:20,435 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-FC05C9553BEE:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]
2024-09-30 06:54:20,435 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-09-30 06:54:20,435 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-09-30 06:54:20,435 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-09-30 06:54:20,435 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-09-30 06:54:20,435 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-09-30 06:54:20,435 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-09-30 06:54:20,436 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-FC05C9553BEE:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324], format? true
2024-09-30 06:54:20,436 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0
2024-09-30 06:54:20,436 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0 does not exist.
2024-09-30 06:54:20,436 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0
2024-09-30 06:54:20,437 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:20,437 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:20,437 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15317 (custom)
2024-09-30 06:54:20,437 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:20,438 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15318 (custom)
2024-09-30 06:54:20,438 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:20,438 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15316 (custom)
2024-09-30 06:54:20,438 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:20,438 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:20,439 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:20,439 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:20,439 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:20,439 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,439 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:20,439 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:20,441 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:20,441 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:20,442 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:20,442 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:20,442 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0] (custom)
2024-09-30 06:54:20,442 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:20,442 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:20,443 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-FC05C9553BEE:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324] returns group-FC05C9553BEE:java.util.concurrent.CompletableFuture@541c76fd[Not completed]
2024-09-30 06:54:20,443 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-FC05C9553BEE:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324], format? true
2024-09-30 06:54:20,443 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1
2024-09-30 06:54:20,444 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1 does not exist.
2024-09-30 06:54:20,444 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1
2024-09-30 06:54:20,444 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:20,444 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:20,444 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15321 (custom)
2024-09-30 06:54:20,444 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-FC05C9553BEE:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324] with BaseStateMachine:uninitialized
2024-09-30 06:54:20,445 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:20,445 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15322 (custom)
2024-09-30 06:54:20,445 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:20,445 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15320 (custom)
2024-09-30 06:54:20,445 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:20,446 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:20,446 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:20,446 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:20,446 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:20,446 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,445 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:20,447 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:20,447 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:20,447 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:20,447 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:20,447 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:20,447 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:20,447 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:20,447 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:20,447 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-FC05C9553BEE: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:20,447 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:20,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:20,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:20,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:20,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:20,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:20,448 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:20,449 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:20,450 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:20,450 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:20,450 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:20,450 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:20,451 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:20,451 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1] (custom)
2024-09-30 06:54:20,451 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:20,451 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:20,451 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:20,451 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:20,451 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:20,451 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-FC05C9553BEE:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324] returns group-FC05C9553BEE:java.util.concurrent.CompletableFuture@731bdcca[Not completed]
2024-09-30 06:54:20,451 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-FC05C9553BEE:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324] with BaseStateMachine:uninitialized
2024-09-30 06:54:20,452 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-FC05C9553BEE:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324], format? true
2024-09-30 06:54:20,452 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2
2024-09-30 06:54:20,452 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:20,452 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:20,452 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2 does not exist.
2024-09-30 06:54:20,452 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2
2024-09-30 06:54:20,452 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:20,452 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:20,452 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:20,452 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:20,452 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:20,452 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:20,452 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:20,453 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15325 (custom)
2024-09-30 06:54:20,453 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-FC05C9553BEE: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:20,453 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-09-30 06:54:20,453 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:20,453 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15326 (custom)
2024-09-30 06:54:20,453 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:20,453 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-09-30 06:54:20,453 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:20,453 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15324 (custom)
2024-09-30 06:54:20,453 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:20,453 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-09-30 06:54:20,453 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:20,454 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-09-30 06:54:20,454 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:20,454 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:20,454 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:20,454 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-09-30 06:54:20,454 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,454 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-09-30 06:54:20,454 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-09-30 06:54:20,454 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:20,455 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:20,455 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:20,455 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:20,455 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:20,455 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:20,456 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-09-30 06:54:20,456 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:20,456 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-09-30 06:54:20,456 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:20,456 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2] (custom)
2024-09-30 06:54:20,457 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-09-30 06:54:20,457 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-09-30 06:54:20,457 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-FC05C9553BEE:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324] returns group-FC05C9553BEE:java.util.concurrent.CompletableFuture@71ae1cb[Not completed]
2024-09-30 06:54:20,457 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-FC05C9553BEE:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324] with BaseStateMachine:uninitialized
2024-09-30 06:54:20,457 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:20,458 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:20,458 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0] (custom)
2024-09-30 06:54:20,458 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:20,458 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:20,458 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee does not exist. Creating ...
2024-09-30 06:54:20,458 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-09-30 06:54:20,458 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-09-30 06:54:20,458 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-09-30 06:54:20,458 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-09-30 06:54:20,459 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee
2024-09-30 06:54:20,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-09-30 06:54:20,459 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-FC05C9553BEE: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-09-30 06:54:20,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-09-30 06:54:20,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-09-30 06:54:20,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-09-30 06:54:20,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-09-30 06:54:20,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-09-30 06:54:20,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-09-30 06:54:20,459 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:20,460 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/current
2024-09-30 06:54:20,460 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/sm
2024-09-30 06:54:20,460 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@634837df
2024-09-30 06:54:20,460 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:20,460 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:20,460 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-09-30 06:54:20,460 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-09-30 06:54:20,460 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-09-30 06:54:20,460 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-09-30 06:54:20,461 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:20,461 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee has been successfully formatted.
2024-09-30 06:54:20,461 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:20,461 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:20,461 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,461 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:20,461 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:20,461 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-FC05C9553BEE-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-FC05C9553BEE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:20,462 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:20,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:20,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:20,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:20,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:20,463 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-FC05C9553BEE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:20,463 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-FC05C9553BEE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:20,464 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-FC05C9553BEE: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:20,464 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-FC05C9553BEE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:20,464 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:20,464 [s0@group-FC05C9553BEE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:20,464 [s0@group-FC05C9553BEE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:20,467 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FC05C9553BEE,id=s0
2024-09-30 06:54:20,467 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-FC05C9553BEE,id=s0
2024-09-30 06:54:20,467 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:20,468 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:20,468 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:20,468 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:20,468 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:20,470 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-09-30 06:54:20,471 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15318
2024-09-30 06:54:20,471 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15316
2024-09-30 06:54:20,472 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s0: GrpcService started, listening on 15317
2024-09-30 06:54:20,472 [JvmPauseMonitor79] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-09-30 06:54:20,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:20,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:20,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1] (custom)
2024-09-30 06:54:20,472 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee does not exist. Creating ...
2024-09-30 06:54:20,472 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee
2024-09-30 06:54:20,474 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:20,474 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current
2024-09-30 06:54:20,475 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/sm
2024-09-30 06:54:20,475 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@55bee480
2024-09-30 06:54:20,476 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:20,476 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee has been successfully formatted.
2024-09-30 06:54:20,476 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:20,476 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:20,476 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,476 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:20,476 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:20,476 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:20,476 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:20,476 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:20,476 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,477 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-FC05C9553BEE-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-FC05C9553BEE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:20,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:20,479 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-FC05C9553BEE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:20,479 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-FC05C9553BEE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:20,479 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-FC05C9553BEE: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:20,479 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-FC05C9553BEE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:20,479 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:20,486 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FC05C9553BEE,id=s1
2024-09-30 06:54:20,486 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-FC05C9553BEE,id=s1
2024-09-30 06:54:20,486 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:20,486 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:20,486 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:20,486 [s1@group-FC05C9553BEE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:20,486 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:20,486 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:20,486 [s1@group-FC05C9553BEE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:20,487 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-09-30 06:54:20,487 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15322
2024-09-30 06:54:20,488 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15320
2024-09-30 06:54:20,488 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s1: GrpcService started, listening on 15321
2024-09-30 06:54:20,488 [JvmPauseMonitor80] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-09-30 06:54:20,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-09-30 06:54:20,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-09-30 06:54:20,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2] (custom)
2024-09-30 06:54:20,489 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee does not exist. Creating ...
2024-09-30 06:54:20,489 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee
2024-09-30 06:54:20,490 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/in_use.lock acquired by nodename 17497@fv-az1379-464
2024-09-30 06:54:20,490 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current
2024-09-30 06:54:20,490 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/sm
2024-09-30 06:54:20,490 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5ef9b7e2
2024-09-30 06:54:20,491 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:20,491 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee has been successfully formatted.
2024-09-30 06:54:20,491 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-09-30 06:54:20,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-09-30 06:54:20,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-09-30 06:54:20,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-09-30 06:54:20,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:20,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-09-30 06:54:20,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-09-30 06:54:20,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,492 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-FC05C9553BEE-cacheEviction-AwaitToRun,5,main] started
2024-09-30 06:54:20,492 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-FC05C9553BEE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee
2024-09-30 06:54:20,493 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:20,493 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-09-30 06:54:20,493 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-09-30 06:54:20,493 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-09-30 06:54:20,493 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-09-30 06:54:20,493 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-09-30 06:54:20,493 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-09-30 06:54:20,493 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-09-30 06:54:20,493 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-09-30 06:54:20,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-09-30 06:54:20,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-09-30 06:54:20,494 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-09-30 06:54:20,494 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-FC05C9553BEE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:20,494 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-FC05C9553BEE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-09-30 06:54:20,494 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-FC05C9553BEE: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:20,494 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-FC05C9553BEE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-09-30 06:54:20,494 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:20,495 [s2@group-FC05C9553BEE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:20,495 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FC05C9553BEE,id=s2
2024-09-30 06:54:20,495 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-FC05C9553BEE,id=s2
2024-09-30 06:54:20,495 [s2@group-FC05C9553BEE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:20,495 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-09-30 06:54:20,495 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-09-30 06:54:20,495 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-09-30 06:54:20,495 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-09-30 06:54:20,495 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-09-30 06:54:20,495 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-09-30 06:54:20,496 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15326
2024-09-30 06:54:20,496 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15324
2024-09-30 06:54:20,497 [main] INFO  server.GrpcService (GrpcService.java:startImpl(341)) - s2: GrpcService started, listening on 15325
2024-09-30 06:54:20,497 [JvmPauseMonitor81] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-09-30 06:54:20,498 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-09-30 06:54:20,499 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FC05C9553BEE:t0, leader=null, voted=, raftlog=Memoized:s0@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FC05C9553BEE:t0, leader=null, voted=, raftlog=Memoized:s1@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FC05C9553BEE:t0, leader=null, voted=, raftlog=Memoized:s2@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} RUNNING
2024-09-30 06:54:20,499 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FC05C9553BEE:t0, leader=null, voted=, raftlog=Memoized:s0@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FC05C9553BEE:t0, leader=null, voted=, raftlog=Memoized:s1@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FC05C9553BEE:t0, leader=null, voted=, raftlog=Memoized:s2@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} RUNNING
2024-09-30 06:54:20,616 [s0@group-FC05C9553BEE-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s0@group-FC05C9553BEE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:152417986ns, electionTimeout:152ms
2024-09-30 06:54:20,616 [s0@group-FC05C9553BEE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:20,616 [s0@group-FC05C9553BEE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-FC05C9553BEE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-09-30 06:54:20,617 [s0@group-FC05C9553BEE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:20,617 [s0@group-FC05C9553BEE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-FC05C9553BEE-LeaderElection87
2024-09-30 06:54:20,617 [s0@group-FC05C9553BEE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-FC05C9553BEE-LeaderElection87 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:20,617 [s0@group-FC05C9553BEE-LeaderElection87-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15320
2024-09-30 06:54:20,618 [s0@group-FC05C9553BEE-LeaderElection87-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15324
2024-09-30 06:54:20,617 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:20,618 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:20,628 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-FC05C9553BEE: receive requestVote(PRE_VOTE, s0, group-FC05C9553BEE, 0, (t:0, i:0))
2024-09-30 06:54:20,628 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-FC05C9553BEE-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:20,628 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-FC05C9553BEE replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-FC05C9553BEE:t0, leader=null, voted=, raftlog=Memoized:s2@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:20,629 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-FC05C9553BEE: receive requestVote(PRE_VOTE, s0, group-FC05C9553BEE, 0, (t:0, i:0))
2024-09-30 06:54:20,630 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-FC05C9553BEE-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:20,630 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-FC05C9553BEE replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-FC05C9553BEE:t0, leader=null, voted=, raftlog=Memoized:s1@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:20,630 [s0@group-FC05C9553BEE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FC05C9553BEE-LeaderElection87: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:20,631 [s0@group-FC05C9553BEE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2024-09-30 06:54:20,631 [s0@group-FC05C9553BEE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-FC05C9553BEE-LeaderElection87 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:20,631 [s0@group-FC05C9553BEE-LeaderElection87] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@37186b71
2024-09-30 06:54:20,632 [s0@group-FC05C9553BEE-LeaderElection87] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:20,632 [s0@group-FC05C9553BEE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s0@group-FC05C9553BEE-LeaderElection87 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:20,633 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-09-30 06:54:20,633 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-09-30 06:54:20,634 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s1@group-FC05C9553BEE: receive requestVote(ELECTION, s0, group-FC05C9553BEE, 1, (t:0, i:0))
2024-09-30 06:54:20,634 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-FC05C9553BEE: receive requestVote(ELECTION, s0, group-FC05C9553BEE, 1, (t:0, i:0))
2024-09-30 06:54:20,634 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-FC05C9553BEE-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:20,634 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-FC05C9553BEE-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-09-30 06:54:20,634 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-FC05C9553BEE: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:54:20,634 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-FC05C9553BEE: changes role from  FOLLOWER to FOLLOWER at term 0 for candidate:s0
2024-09-30 06:54:20,634 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:20,634 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:20,634 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:20,634 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:20,634 [s1@group-FC05C9553BEE-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s1@group-FC05C9553BEE-FollowerState was interrupted
2024-09-30 06:54:20,634 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s2@group-FC05C9553BEE: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:54:20,634 [s2@group-FC05C9553BEE-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-FC05C9553BEE-FollowerState was interrupted
2024-09-30 06:54:20,635 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@67931eae
2024-09-30 06:54:20,635 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s1@group-FC05C9553BEE: set firstElectionSinceStartup to false for candidate:s0
2024-09-30 06:54:20,635 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@71c9cafb
2024-09-30 06:54:20,636 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:20,636 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s1@group-FC05C9553BEE replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-FC05C9553BEE:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:20,639 [grpc-default-executor-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:20,639 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-FC05C9553BEE replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-FC05C9553BEE:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:20,642 [s0@group-FC05C9553BEE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FC05C9553BEE-LeaderElection87: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:20,642 [s0@group-FC05C9553BEE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2024-09-30 06:54:20,642 [s0@group-FC05C9553BEE-LeaderElection87] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s0@group-FC05C9553BEE-LeaderElection87 ELECTION round 0: result PASSED
2024-09-30 06:54:20,642 [s0@group-FC05C9553BEE-LeaderElection87] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s0: shutdown s0@group-FC05C9553BEE-LeaderElection87
2024-09-30 06:54:20,642 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-FC05C9553BEE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-09-30 06:54:20,642 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:20,642 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:20,643 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:20,643 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:20,643 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:20,643 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:20,643 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:20,643 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:20,643 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:20,643 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:20,643 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:20,643 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:20,644 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:20,644 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,644 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:20,644 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:20,644 [s0@group-FC05C9553BEE-LeaderElection87] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:20,644 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:20,644 [s0@group-FC05C9553BEE-LeaderElection87] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:20,644 [s0@group-FC05C9553BEE-LeaderElection87] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:20,644 [s0@group-FC05C9553BEE-LeaderElection87] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:20,644 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:20,644 [s0@group-FC05C9553BEE-LeaderElection87] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-FC05C9553BEE-LeaderStateImpl
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(560)) - s0@group-FC05C9553BEE: set firstElectionSinceStartup to false for becomeLeader
2024-09-30 06:54:20,645 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-FC05C9553BEE: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 197ms
2024-09-30 06:54:20,646 [s0@group-FC05C9553BEE-LeaderElection87] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-FC05C9553BEE-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:20,646 [s0@group-FC05C9553BEE-LeaderElection87] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-FC05C9553BEE: set configuration conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:20,646 [s0@group-FC05C9553BEE-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:20,658 [s0@group-FC05C9553BEE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-FC05C9553BEE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/current/log_inprogress_0
2024-09-30 06:54:20,658 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-FC05C9553BEE: change Leader from null to s0 at term 1 for appendEntries, leader elected after 199ms
2024-09-30 06:54:20,660 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-FC05C9553BEE: change Leader from null to s0 at term 1 for appendEntries, leader elected after 206ms
2024-09-30 06:54:20,660 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-FC05C9553BEE: appendEntries* s0->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15316"dataStreamAddress:"localhost:15319"clientAddress:"localhost:15318"adminAddress:"localhost:15317"startupRole:FOLLOWER, id:"s1"address:"localhost:15320"dataStreamAddress:"localhost:15323"clientAddress:"localhost:15322"adminAddress:"localhost:15321"startupRole:FOLLOWER, id:"s2"address:"localhost:15324"dataStreamAddress:"localhost:15327"clientAddress:"localhost:15326"adminAddress:"localhost:15325"startupRole:FOLLOWER, old:)
2024-09-30 06:54:20,660 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* s0->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15316"dataStreamAddress:"localhost:15319"clientAddress:"localhost:15318"adminAddress:"localhost:15317"startupRole:FOLLOWER, id:"s1"address:"localhost:15320"dataStreamAddress:"localhost:15323"clientAddress:"localhost:15322"adminAddress:"localhost:15321"startupRole:FOLLOWER, id:"s2"address:"localhost:15324"dataStreamAddress:"localhost:15327"clientAddress:"localhost:15326"adminAddress:"localhost:15325"startupRole:FOLLOWER, old:)
2024-09-30 06:54:20,661 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-FC05C9553BEE: set configuration conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:20,661 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-FC05C9553BEE: set configuration conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:20,661 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-FC05C9553BEE-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:20,661 [s1@group-FC05C9553BEE-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:20,661 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-FC05C9553BEE-SegmentedRaftLogWorker: Starting segment from index:0
2024-09-30 06:54:20,666 [s2@group-FC05C9553BEE-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-09-30 06:54:20,670 [s1@group-FC05C9553BEE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-FC05C9553BEE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/log_inprogress_0
2024-09-30 06:54:20,671 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-FC05C9553BEE: appendEntries* reply s0<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:20,672 [s0@group-FC05C9553BEE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1e4c6c73
2024-09-30 06:54:20,676 [s2@group-FC05C9553BEE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-FC05C9553BEE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/log_inprogress_0
2024-09-30 06:54:20,676 [s0@group-FC05C9553BEE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s0/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:20,676 [s0@group-FC05C9553BEE-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s0@group-FC05C9553BEE-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-09-30 06:54:20,677 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* reply s0<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-09-30 06:54:20,748 [s1@group-FC05C9553BEE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@17aa2672
2024-09-30 06:54:20,750 [s1@group-FC05C9553BEE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:20,755 [s2@group-FC05C9553BEE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5455e94b
2024-09-30 06:54:20,756 [s2@group-FC05C9553BEE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:20,949 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-FC05C9553BEE:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FC05C9553BEE:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FC05C9553BEE:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} RUNNING
2024-09-30 06:54:20,950 [main] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-09-30 06:54:20,950 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-0589621F7655: get 32 returns []
2024-09-30 06:54:20,950 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-0589621F7655->s0@group-FC05C9553BEE, cid=32, seq=null, RW, message
2024-09-30 06:54:20,956 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s0@group-FC05C9553BEE: receive client request(RaftClientRequest:client-0589621F7655->s0@group-FC05C9553BEE, cid=32, seq=null, RW, Message:6d657373616765)
2024-09-30 06:54:20,957 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s0@group-FC05C9553BEE-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-0589621F7655->s0@group-FC05C9553BEE, cid=32, seq=null, RW, Message:6d657373616765, entry=(t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:54:20,958 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-FC05C9553BEE: appendEntries* s0->s1#7-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:32@client-0589621F7655
2024-09-30 06:54:20,958 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* s0->s2#8-t1,previous=(t:1, i:0),leaderCommit=0,initializing? false,entries: size=1, first=(t:1, i:1), STATEMACHINELOGENTRY, StateMachineLogEntryProto:32@client-0589621F7655
2024-09-30 06:54:20,959 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-FC05C9553BEE: appendEntries* reply s0<-s1#7:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:20,959 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* reply s0<-s2#8:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-09-30 06:54:20,959 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* s0->s2#9-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:20,961 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-0589621F7655: add replied callId 32
2024-09-30 06:54:20,961 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* reply s0<-s2#9:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:20,962 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-FC05C9553BEE: appendEntries* s0->s1#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? false,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2024-09-30 06:54:20,962 [s1-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s1@group-FC05C9553BEE: appendEntries* reply s0<-s1#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-09-30 06:54:21,961 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2024-09-30 06:54:21,961 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-0589621F7655: get 33 returns [32]
2024-09-30 06:54:21,961 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #1, newRequest RaftClientRequest:client-0589621F7655->s0@group-FC05C9553BEE, cid=33, seq=null, RW, message
2024-09-30 06:54:21,963 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s0@group-FC05C9553BEE: receive client request(RaftClientRequest:client-0589621F7655->s0@group-FC05C9553BEE, cid=33, seq=null, RW, Message:6d657373616765)
2024-09-30 06:54:21,964 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s0@group-FC05C9553BEE-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-0589621F7655->s0@group-FC05C9553BEE, cid=33, seq=null, RW, Message:6d657373616765, entry=(t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:54:21,964 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:54:21,964 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:54:22,034 [s2-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-09-30 06:54:22,034 [s1-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-09-30 06:54:22,264 [s0@group-FC05C9553BEE-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1117)) - s0@group-FC05C9553BEE-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 1622ms. Conf: conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:22,264 [s0@group-FC05C9553BEE-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s0@group-FC05C9553BEE->s1(c2,m2,n4, caughtUp=true, lastRpcSendTime=4, lastRpcResponseTime=306)
2024-09-30 06:54:22,265 [s0@group-FC05C9553BEE-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1121)) - Follower s0@group-FC05C9553BEE->s2(c2,m2,n4, caughtUp=true, lastRpcSendTime=4, lastRpcResponseTime=306)
2024-09-30 06:54:22,265 [s0@group-FC05C9553BEE-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-FC05C9553BEE: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:22,265 [s0@group-FC05C9553BEE-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s0: shutdown s0@group-FC05C9553BEE-LeaderStateImpl
2024-09-30 06:54:22,265 [s0@group-FC05C9553BEE->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-FC05C9553BEE->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:22,265 [s0@group-FC05C9553BEE-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-FC05C9553BEE-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:22,265 [s0@group-FC05C9553BEE->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s0@group-FC05C9553BEE->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:22,266 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=33, null, reply=RaftClientReply:client-0589621F7655->s0@group-FC05C9553BEE, cid=33, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-FC05C9553BEE is not the leader, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2024-09-30 06:54:22,266 [s0@group-FC05C9553BEE-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-FC05C9553BEE: change Leader from s0 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-09-30 06:54:22,266 [s0@group-FC05C9553BEE-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:22,268 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(418)) - client-0589621F7655: suggested new leader: null. Failed RaftClientRequest:client-0589621F7655->s0@group-FC05C9553BEE, cid=33, seq=null, RW, message
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-FC05C9553BEE is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,269 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(436)) - client-0589621F7655: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-09-30 06:54:22,269 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(442)) - client-0589621F7655 changes Leader from s0 to s2 for group-FC05C9553BEE
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-FC05C9553BEE is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,370 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-0589621F7655: get 33 returns [32]
2024-09-30 06:54:22,370 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #2, newRequest RaftClientRequest:client-0589621F7655->s2@group-FC05C9553BEE, cid=33, seq=null, RW, message
2024-09-30 06:54:22,375 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s2@group-FC05C9553BEE: receive client request(RaftClientRequest:client-0589621F7655->s2@group-FC05C9553BEE, cid=33, seq=null, RW, Message:6d657373616765)
2024-09-30 06:54:22,376 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=33, null, reply=RaftClientReply:client-0589621F7655->s2@group-FC05C9553BEE, cid=33, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-FC05C9553BEE is not the leader, suggested leader is: s0|localhost:15316, logIndex=0, commits[s2:c2, s0:c2, s1:c2]
2024-09-30 06:54:22,377 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(418)) - client-0589621F7655: suggested new leader: s0. Failed RaftClientRequest:client-0589621F7655->s2@group-FC05C9553BEE, cid=33, seq=null, RW, message
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-FC05C9553BEE is not the leader, suggested leader is: s0|localhost:15316
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,378 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(436)) - client-0589621F7655: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-09-30 06:54:22,378 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(442)) - client-0589621F7655 changes Leader from s2 to s0 for group-FC05C9553BEE
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-FC05C9553BEE is not the leader, suggested leader is: s0|localhost:15316
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,379 [s1@group-FC05C9553BEE-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(156)) - s1@group-FC05C9553BEE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:421623266ns, electionTimeout:299ms
2024-09-30 06:54:22,379 [s1@group-FC05C9553BEE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s1: shutdown s1@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:22,380 [s1@group-FC05C9553BEE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-FC05C9553BEE: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-09-30 06:54:22,380 [s1@group-FC05C9553BEE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-09-30 06:54:22,380 [s1@group-FC05C9553BEE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-FC05C9553BEE-LeaderElection88
2024-09-30 06:54:22,380 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-FC05C9553BEE: change Leader from s0 to null at term 1 for PRE_VOTE
2024-09-30 06:54:22,380 [s1@group-FC05C9553BEE-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-FC05C9553BEE-LeaderElection88 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:22,381 [s1@group-FC05C9553BEE-LeaderElection88-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15316
2024-09-30 06:54:22,381 [s1@group-FC05C9553BEE-LeaderElection88-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15324
2024-09-30 06:54:22,385 [grpc-default-executor-4] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:54:22,386 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-FC05C9553BEE: receive requestVote(PRE_VOTE, s1, group-FC05C9553BEE, 1, (t:1, i:2))
2024-09-30 06:54:22,387 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-FC05C9553BEE-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:22,387 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-FC05C9553BEE replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-FC05C9553BEE:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c2:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:22,387 [s1@group-FC05C9553BEE-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FC05C9553BEE-LeaderElection88: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:22,387 [s1@group-FC05C9553BEE-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t1
2024-09-30 06:54:22,387 [s1@group-FC05C9553BEE-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-FC05C9553BEE-LeaderElection88 PRE_VOTE round 0: result PASSED
2024-09-30 06:54:22,388 [s1@group-FC05C9553BEE-LeaderElection88] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7d007191
2024-09-30 06:54:22,391 [s1@group-FC05C9553BEE-LeaderElection88] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:22,391 [s1@group-FC05C9553BEE-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(337)) - s1@group-FC05C9553BEE-LeaderElection88 ELECTION round 0: submit vote requests at term 2 for conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:22,392 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s2@group-FC05C9553BEE: receive requestVote(ELECTION, s1, group-FC05C9553BEE, 2, (t:1, i:2))
2024-09-30 06:54:22,392 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-FC05C9553BEE-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-09-30 06:54:22,392 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-FC05C9553BEE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-09-30 06:54:22,392 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:22,392 [grpc-default-executor-6] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-FC05C9553BEE: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-09-30 06:54:22,392 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:22,392 [s2@group-FC05C9553BEE-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-FC05C9553BEE-FollowerState was interrupted
2024-09-30 06:54:22,393 [grpc-default-executor-5] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:54:22,394 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@336edc1e
2024-09-30 06:54:22,395 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta with options [REPLACE_EXISTING]
2024-09-30 06:54:22,395 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1476)) - s2@group-FC05C9553BEE replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-FC05C9553BEE:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c2:last(t:1, i:2), conf=conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:22,395 [s1@group-FC05C9553BEE-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FC05C9553BEE-LeaderElection88: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-09-30 06:54:22,395 [s1@group-FC05C9553BEE-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t2
2024-09-30 06:54:22,395 [s1@group-FC05C9553BEE-LeaderElection88] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(339)) - s1@group-FC05C9553BEE-LeaderElection88 ELECTION round 0: result PASSED
2024-09-30 06:54:22,396 [s1@group-FC05C9553BEE-LeaderElection88] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(141)) - s1: shutdown s1@group-FC05C9553BEE-LeaderElection88
2024-09-30 06:54:22,396 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-FC05C9553BEE: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-09-30 06:54:22,396 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-09-30 06:54:22,396 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:22,396 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-09-30 06:54:22,396 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-09-30 06:54:22,396 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-09-30 06:54:22,396 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:22,397 [s1@group-FC05C9553BEE-LeaderElection88] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:22,398 [s1@group-FC05C9553BEE-LeaderElection88] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:22,398 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:22,398 [s1@group-FC05C9553BEE-LeaderElection88] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:22,398 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-09-30 06:54:22,398 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-09-30 06:54:22,398 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-09-30 06:54:22,398 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-09-30 06:54:22,398 [s1@group-FC05C9553BEE-LeaderElection88] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-09-30 06:54:22,398 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-09-30 06:54:22,398 [s1@group-FC05C9553BEE-LeaderElection88] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-09-30 06:54:22,398 [s1@group-FC05C9553BEE-LeaderElection88] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-09-30 06:54:22,399 [s1@group-FC05C9553BEE-LeaderElection88] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-09-30 06:54:22,399 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-09-30 06:54:22,399 [s1@group-FC05C9553BEE-LeaderElection88] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-09-30 06:54:22,399 [s1@group-FC05C9553BEE-LeaderElection88] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-FC05C9553BEE-LeaderStateImpl
2024-09-30 06:54:22,399 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-FC05C9553BEE: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 18ms
2024-09-30 06:54:22,399 [s1@group-FC05C9553BEE-LeaderElection88] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-FC05C9553BEE-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2024-09-30 06:54:22,401 [s1@group-FC05C9553BEE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/log_0-2
2024-09-30 06:54:22,401 [s1@group-FC05C9553BEE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-FC05C9553BEE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/log_0-2
2024-09-30 06:54:22,401 [s1@group-FC05C9553BEE-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_3 at position 0
2024-09-30 06:54:22,406 [s1@group-FC05C9553BEE-LeaderElection88] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-FC05C9553BEE: set configuration conf: {index: 3, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:22,410 [s1@group-FC05C9553BEE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-FC05C9553BEE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/log_inprogress_3
2024-09-30 06:54:22,414 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:54:22,417 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-09-30 06:54:22,423 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-FC05C9553BEE: change Leader from null to s1 at term 2 for appendEntries, leader elected after 31ms
2024-09-30 06:54:22,426 [s2-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* s1->s2#1-t2,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:2, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15316"dataStreamAddress:"localhost:15319"clientAddress:"localhost:15318"adminAddress:"localhost:15317"startupRole:FOLLOWER, id:"s1"address:"localhost:15320"dataStreamAddress:"localhost:15323"clientAddress:"localhost:15322"adminAddress:"localhost:15321"startupRole:FOLLOWER, id:"s2"address:"localhost:15324"dataStreamAddress:"localhost:15327"clientAddress:"localhost:15326"adminAddress:"localhost:15325"startupRole:FOLLOWER, old:)
2024-09-30 06:54:22,426 [s2-server-thread4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-FC05C9553BEE: set configuration conf: {index: 3, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null}
2024-09-30 06:54:22,426 [s2-server-thread4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-FC05C9553BEE-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2024-09-30 06:54:22,427 [s2@group-FC05C9553BEE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/log_0-2
2024-09-30 06:54:22,427 [s2@group-FC05C9553BEE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-FC05C9553BEE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/log_0-2
2024-09-30 06:54:22,427 [s2@group-FC05C9553BEE-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_3 at position 0
2024-09-30 06:54:22,447 [s2@group-FC05C9553BEE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-FC05C9553BEE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/log_inprogress_3
2024-09-30 06:54:22,448 [s2-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* reply s1<-s2#1:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-09-30 06:54:22,448 [s1@group-FC05C9553BEE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@196dcaf7
2024-09-30 06:54:22,450 [s2-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* s1->s2#2-t2,previous=(t:2, i:3),leaderCommit=3,initializing? false,entries: size=1, first=(t:2, i:4), METADATAENTRY(c:3)
2024-09-30 06:54:22,450 [s2-server-thread4] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* reply s1<-s2#2:OK-t2,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-09-30 06:54:22,451 [s2@group-FC05C9553BEE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5a920db1
2024-09-30 06:54:22,452 [s2@group-FC05C9553BEE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s2/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:22,452 [s1@group-FC05C9553BEE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7bc95cd2/MiniRaftClusterWithGrpcd5c4f9f2/s1/47683610-89cd-41e2-b471-fc05c9553bee/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-09-30 06:54:22,452 [s1@group-FC05C9553BEE-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(314)) - Leader s1@group-FC05C9553BEE-LeaderStateImpl is ready since appliedIndex == startIndex == 3
2024-09-30 06:54:22,465 [s0@group-FC05C9553BEE-FollowerState] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(113)) - s0@group-FC05C9553BEE-FollowerState: Skipping leader election since it stepped down recently (elapsed = 198ms < waitTime = 10s)
2024-09-30 06:54:22,479 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-0589621F7655: get 33 returns [32]
2024-09-30 06:54:22,480 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #3, newRequest RaftClientRequest:client-0589621F7655->s0@group-FC05C9553BEE, cid=33, seq=null, RW, message
2024-09-30 06:54:22,484 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s0@group-FC05C9553BEE: receive client request(RaftClientRequest:client-0589621F7655->s0@group-FC05C9553BEE, cid=33, seq=null, RW, Message:6d657373616765)
2024-09-30 06:54:22,484 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=33, null, reply=RaftClientReply:client-0589621F7655->s0@group-FC05C9553BEE, cid=33, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-FC05C9553BEE is not the leader, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2024-09-30 06:54:22,486 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(418)) - client-0589621F7655: suggested new leader: null. Failed RaftClientRequest:client-0589621F7655->s0@group-FC05C9553BEE, cid=33, seq=null, RW, message
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-FC05C9553BEE is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,486 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(436)) - client-0589621F7655: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-09-30 06:54:22,486 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(442)) - client-0589621F7655 changes Leader from s0 to s2 for group-FC05C9553BEE
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-FC05C9553BEE is not the leader
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,587 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-0589621F7655: get 33 returns [32]
2024-09-30 06:54:22,587 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #4, newRequest RaftClientRequest:client-0589621F7655->s2@group-FC05C9553BEE, cid=33, seq=null, RW, message
2024-09-30 06:54:22,591 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s2@group-FC05C9553BEE: receive client request(RaftClientRequest:client-0589621F7655->s2@group-FC05C9553BEE, cid=33, seq=null, RW, Message:6d657373616765)
2024-09-30 06:54:22,592 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=33, null, reply=RaftClientReply:client-0589621F7655->s2@group-FC05C9553BEE, cid=33, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-FC05C9553BEE is not the leader, suggested leader is: s1|localhost:15320, logIndex=0, commits[s2:c4, s0:c2, s1:c4]
2024-09-30 06:54:22,593 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(418)) - client-0589621F7655: suggested new leader: s1. Failed RaftClientRequest:client-0589621F7655->s2@group-FC05C9553BEE, cid=33, seq=null, RW, message
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-FC05C9553BEE is not the leader, suggested leader is: s1|localhost:15320
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,593 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(436)) - client-0589621F7655: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-09-30 06:54:22,594 [main] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(442)) - client-0589621F7655 changes Leader from s2 to s1 for group-FC05C9553BEE
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-FC05C9553BEE is not the leader, suggested leader is: s1|localhost:15320
	at org.apache.ratis.client.impl.ClientProtoUtils.toRaftClientReply(ClientProtoUtils.java:398)
	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:616)
	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:591)
	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:488)
	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1975)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:151)
	at org.apache.ratis.grpc.client.GrpcClientRpc$1.onNext(GrpcClientRpc.java:148)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onMessage(ClientCalls.java:468)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onMessage(ForwardingClientCallListener.java:33)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onMessage(DelayedClientCall.java:473)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInternal(ClientCallImpl.java:660)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1MessagesAvailable.runInContext(ClientCallImpl.java:647)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,667 [s0@group-FC05C9553BEE-FollowerState] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(113)) - s0@group-FC05C9553BEE-FollowerState: Skipping leader election since it stepped down recently (elapsed = 400ms < waitTime = 10s)
2024-09-30 06:54:22,695 [main] DEBUG client.RaftClient (RaftClientImpl.java:get(158)) - client-0589621F7655: get 33 returns [32]
2024-09-30 06:54:22,695 [main] DEBUG client.RaftClient (RaftClientImpl.java:newRequest(95)) - attempt #5, newRequest RaftClientRequest:client-0589621F7655->s1@group-FC05C9553BEE, cid=33, seq=null, RW, message
2024-09-30 06:54:22,699 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(916)) - s1@group-FC05C9553BEE: receive client request(RaftClientRequest:client-0589621F7655->s1@group-FC05C9553BEE, cid=33, seq=null, RW, Message:6d657373616765)
2024-09-30 06:54:22,699 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(529)) - s1@group-FC05C9553BEE-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-0589621F7655->s1@group-FC05C9553BEE, cid=33, seq=null, RW, Message:6d657373616765, entry=(t:2, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=7, stateMachineData.size=0, logEntryProtoSerializedSize=0
2024-09-30 06:54:22,700 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* s1->s2#7-t2,previous=(t:2, i:4),leaderCommit=4,initializing? false,entries: size=1, first=(t:2, i:5), STATEMACHINELOGENTRY, StateMachineLogEntryProto:33@client-0589621F7655
2024-09-30 06:54:22,701 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* reply s1<-s2#7:OK-t2,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2024-09-30 06:54:22,702 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* s1->s2#8-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:22,702 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1545)) - s2@group-FC05C9553BEE: appendEntries* reply s1<-s2#8:OK-t2,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-09-30 06:54:22,703 [main] DEBUG client.RaftClient (RaftClientImpl.java:add(146)) - client-0589621F7655: add replied callId 33
2024-09-30 06:54:22,704 [main] DEBUG client.RaftClient (RaftClientImpl.java:close(465)) - close client-0589621F7655
2024-09-30 06:54:22,705 [main] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2024-09-30 06:54:22,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:54:22,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:54:22,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:54:22,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:54:22,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:54:22,705 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FC05C9553BEE:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c2:last(t:1, i:3), conf=conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-FC05C9553BEE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c6:last(t:2, i:6), conf=conf: {index: 3, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FC05C9553BEE:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-FC05C9553BEE-SegmentedRaftLog:OPENED:c5:last(t:2, i:6), conf=conf: {index: 3, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} RUNNING
2024-09-30 06:54:22,706 [MiniRaftCluster-111] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-09-30 06:54:22,706 [MiniRaftCluster-112] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-09-30 06:54:22,706 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s0@group-FC05C9553BEE: shutdown
2024-09-30 06:54:22,706 [MiniRaftCluster-113] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-09-30 06:54:22,707 [MiniRaftCluster-111] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:22,707 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FC05C9553BEE,id=s0
2024-09-30 06:54:22,707 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s0: shutdown s0@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:22,707 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-FC05C9553BEE-StateMachineUpdater: set stopIndex = 2
2024-09-30 06:54:22,707 [s0@group-FC05C9553BEE-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-FC05C9553BEE-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:1, i:2)
2024-09-30 06:54:22,707 [s0@group-FC05C9553BEE-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s0@group-FC05C9553BEE-FollowerState was interrupted
2024-09-30 06:54:22,707 [s0@group-FC05C9553BEE-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-FC05C9553BEE-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:22,707 [Thread-2057] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-09-30 06:54:22,707 [Thread-2058] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:54:22,709 [MiniRaftCluster-112] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:22,709 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s1@group-FC05C9553BEE: shutdown
2024-09-30 06:54:22,709 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FC05C9553BEE,id=s1
2024-09-30 06:54:22,709 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-FC05C9553BEE-LeaderStateImpl
2024-09-30 06:54:22,709 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-FC05C9553BEE-PendingRequests: sendNotLeaderResponses
2024-09-30 06:54:22,709 [Thread-2059] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-09-30 06:54:22,710 [s1@group-FC05C9553BEE->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-FC05C9553BEE->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:22,709 [MiniRaftCluster-113] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-09-30 06:54:22,710 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:22,710 [s1@group-FC05C9553BEE->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-09-30 06:54:22,710 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(511)) - s2@group-FC05C9553BEE: shutdown
2024-09-30 06:54:22,714 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FC05C9553BEE,id=s2
2024-09-30 06:54:22,715 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(121)) - s2: shutdown s2@group-FC05C9553BEE-FollowerState
2024-09-30 06:54:22,715 [MiniRaftCluster-113] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:22,715 [MiniRaftCluster-113] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:22,715 [s2@group-FC05C9553BEE-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-FC05C9553BEE-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:5)
2024-09-30 06:54:22,715 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-FC05C9553BEE-StateMachineUpdater: set stopIndex = 6
2024-09-30 06:54:22,715 [s1@group-FC05C9553BEE-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-FC05C9553BEE-StateMachineUpdater: closing BaseStateMachine, lastApplied=(t:2, i:6)
2024-09-30 06:54:22,714 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "Gh6\020\211\315A\342\264q\374\005\311U;\356"
  }
  callId: 6
  success: true
}
term: 2
nextIndex: 5
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2024-09-30 06:54:22,710 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#8-t2,previous=(t:2, i:5),leaderCommit=5,initializing? false,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2024-09-30 06:54:22,715 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-09-30 06:54:22,715 [s2@group-FC05C9553BEE-FollowerState] INFO  impl.FollowerState (FollowerState.java:runImpl(165)) - s2@group-FC05C9553BEE-FollowerState was interrupted
2024-09-30 06:54:22,715 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-FC05C9553BEE-StateMachineUpdater: set stopIndex = 5
2024-09-30 06:54:22,716 [s2@group-FC05C9553BEE-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-FC05C9553BEE-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:22,716 [Thread-2061] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-09-30 06:54:22,716 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-FC05C9553BEE->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:22,716 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:54:22,716 [s1@group-FC05C9553BEE-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-FC05C9553BEE-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-09-30 06:54:22,716 [s0-server-thread1] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#0-t2,previous=(t:1, i:2),leaderCommit=2,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,717 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:54:22,717 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#1-t2,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:2, i:3), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15316"dataStreamAddress:"localhost:15319"clientAddress:"localhost:15318"adminAddress:"localhost:15317"startupRole:FOLLOWER, id:"s1"address:"localhost:15320"dataStreamAddress:"localhost:15323"clientAddress:"localhost:15322"adminAddress:"localhost:15321"startupRole:FOLLOWER, id:"s2"address:"localhost:15324"dataStreamAddress:"localhost:15327"clientAddress:"localhost:15326"adminAddress:"localhost:15325"startupRole:FOLLOWER, old:)
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,717 [grpc-default-executor-8] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s0: Failed APPEND_ENTRIES request cid=1, isHeartbeat? false
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:122)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	... 5 more
2024-09-30 06:54:22,716 [grpc-default-executor-10] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-FC05C9553BEE->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,719 [grpc-default-executor-12] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-FC05C9553BEE->s2-GrpcLogAppender is already stopped
2024-09-30 06:54:22,718 [MiniRaftCluster-113] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:22,718 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#2-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,718 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-FC05C9553BEE->s2-GrpcLogAppender is already stopped
2024-09-30 06:54:22,718 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-FC05C9553BEE->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-09-30 06:54:22,723 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-FC05C9553BEE->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,723 [MiniRaftCluster-113] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:22,723 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#3-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,724 [MiniRaftCluster-113] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:22,725 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#4-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,725 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#5-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,726 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#6-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,726 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#7-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,726 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#8-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,727 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#9-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,727 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#10-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,727 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#11-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,728 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#12-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,728 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#13-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,728 [s0-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s0@group-FC05C9553BEE: Failed appendEntries* s1->s0#14-t2,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,729 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:22,729 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender is already stopped
2024-09-30 06:54:22,865 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:54:22,865 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:54:22,865 [s1-server-thread1] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s1@group-FC05C9553BEE: Failed appendEntries* s0->s1#26-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), STATEMACHINELOGENTRY, StateMachineLogEntryProto:33@client-0589621F7655
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,865 [s2-server-thread2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-FC05C9553BEE: Failed appendEntries* s0->s2#25-t1,previous=(t:1, i:2),leaderCommit=2,initializing? false,entries: size=1, first=(t:1, i:3), STATEMACHINELOGENTRY, StateMachineLogEntryProto:33@client-0589621F7655
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,865 [grpc-default-executor-3] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s1: Failed APPEND_ENTRIES request cid=26, isHeartbeat? false
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:122)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	... 5 more
2024-09-30 06:54:22,865 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s2: Failed APPEND_ENTRIES request cid=25, isHeartbeat? false
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:122)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	... 5 more
2024-09-30 06:54:22,867 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:54:22,869 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-FC05C9553BEE->s1-GrpcLogAppender is already stopped
2024-09-30 06:54:22,934 [s2-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-09-30 06:54:22,934 [s1-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-09-30 06:54:22,934 [s2-server-thread3] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s2@group-FC05C9553BEE: Failed appendEntries* s0->s2#26-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s2@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,934 [s1-server-thread3] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s1@group-FC05C9553BEE: Failed appendEntries* s0->s1#27-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,935 [grpc-default-executor-0] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s2: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-09-30 06:54:22,935 [s1-server-thread3] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s1@group-FC05C9553BEE: Failed appendEntries* s0->s1#28-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,935 [s1-server-thread3] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s1@group-FC05C9553BEE: Failed appendEntries* s0->s1#29-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,935 [s1-server-thread3] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s1@group-FC05C9553BEE: Failed appendEntries* s0->s1#30-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,936 [s1-server-thread3] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s1@group-FC05C9553BEE: Failed appendEntries* s0->s1#31-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,936 [s1-server-thread3] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s1@group-FC05C9553BEE: Failed appendEntries* s0->s1#32-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,936 [s1-server-thread3] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1514)) - s1@group-FC05C9553BEE: Failed appendEntries* s0->s1#33-t1,previous=(t:0, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s1@group-FC05C9553BEE is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:787)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:786)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1505)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$28(RaftServerProxy.java:655)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$10(RaftServerImpl.java:903)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-09-30 06:54:22,937 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-09-30 06:54:22,965 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-FC05C9553BEE-SegmentedRaftLogWorker close()
2024-09-30 06:54:22,985 [grpc-default-executor-4] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:54:22,985 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-FC05C9553BEE: receive requestVote(PRE_VOTE, s1, group-FC05C9553BEE, 1, (t:1, i:2))
2024-09-30 06:54:22,985 [grpc-default-executor-4] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: Failed requestVote s1->s0#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [RUNNING]: current state is CLOSED
2024-09-30 06:54:22,993 [grpc-default-executor-5] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-09-30 06:54:22,993 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1443)) - s0@group-FC05C9553BEE: receive requestVote(ELECTION, s1, group-FC05C9553BEE, 2, (t:1, i:2))
2024-09-30 06:54:22,993 [grpc-default-executor-5] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: Failed requestVote s1->s0#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-FC05C9553BEE is not in [RUNNING]: current state is CLOSED
2024-09-30 06:54:23,703 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-FC05C9553BEE-SegmentedRaftLogWorker close()
2024-09-30 06:54:23,704 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-FC05C9553BEE-SegmentedRaftLogWorker close()
2024-09-30 06:54:23,704 [JvmPauseMonitor81] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-09-30 06:54:24,965 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s2-GrpcLogAppender: Timed out appendEntries, errorCount=1, request=AppendEntriesRequest:cid=25,entriesCount=1,entry=(t:1, i:3)
2024-09-30 06:54:24,965 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s1-GrpcLogAppender: Timed out appendEntries, errorCount=1, request=AppendEntriesRequest:cid=26,entriesCount=1,entry=(t:1, i:3)
2024-09-30 06:54:25,033 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=2, request=AppendEntriesRequest:cid=27,entriesCount=0
2024-09-30 06:54:25,033 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=2, request=AppendEntriesRequest:cid=26,entriesCount=0
2024-09-30 06:54:25,072 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=3, request=AppendEntriesRequest:cid=28,entriesCount=0
2024-09-30 06:54:25,072 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=3, request=AppendEntriesRequest:cid=27,entriesCount=0
2024-09-30 06:54:25,110 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=4, request=AppendEntriesRequest:cid=29,entriesCount=0
2024-09-30 06:54:25,110 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=4, request=AppendEntriesRequest:cid=28,entriesCount=0
2024-09-30 06:54:25,147 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=5, request=AppendEntriesRequest:cid=30,entriesCount=0
2024-09-30 06:54:25,147 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=5, request=AppendEntriesRequest:cid=29,entriesCount=0
2024-09-30 06:54:25,184 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=6, request=AppendEntriesRequest:cid=31,entriesCount=0
2024-09-30 06:54:25,184 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=6, request=AppendEntriesRequest:cid=30,entriesCount=0
2024-09-30 06:54:25,223 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=7, request=AppendEntriesRequest:cid=32,entriesCount=0
2024-09-30 06:54:25,223 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=7, request=AppendEntriesRequest:cid=31,entriesCount=0
2024-09-30 06:54:25,260 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s1-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=8, request=AppendEntriesRequest:cid=33,entriesCount=0
2024-09-30 06:54:25,260 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s0@group-FC05C9553BEE->s2-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=8, request=AppendEntriesRequest:cid=32,entriesCount=0
2024-09-30 06:54:25,410 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=1, request=AppendEntriesRequest:cid=0,entriesCount=0
2024-09-30 06:54:25,411 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out appendEntries, errorCount=2, request=AppendEntriesRequest:cid=1,entriesCount=1,entry=(t:2, i:3)
2024-09-30 06:54:25,424 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=3, request=AppendEntriesRequest:cid=2,entriesCount=0
2024-09-30 06:54:25,449 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=4, request=AppendEntriesRequest:cid=3,entriesCount=0
2024-09-30 06:54:25,452 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=5, request=AppendEntriesRequest:cid=4,entriesCount=0
2024-09-30 06:54:25,453 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=6, request=AppendEntriesRequest:cid=5,entriesCount=0
2024-09-30 06:54:25,491 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=7, request=AppendEntriesRequest:cid=6,entriesCount=0
2024-09-30 06:54:25,528 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=8, request=AppendEntriesRequest:cid=7,entriesCount=0
2024-09-30 06:54:25,565 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=9, request=AppendEntriesRequest:cid=8,entriesCount=0
2024-09-30 06:54:25,604 [timer6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=10, request=AppendEntriesRequest:cid=9,entriesCount=0
2024-09-30 06:54:25,641 [timer0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=11, request=AppendEntriesRequest:cid=10,entriesCount=0
2024-09-30 06:54:25,680 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=12, request=AppendEntriesRequest:cid=11,entriesCount=0
2024-09-30 06:54:25,701 [timer4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=13, request=AppendEntriesRequest:cid=12,entriesCount=0
2024-09-30 06:54:25,701 [timer5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=14, request=AppendEntriesRequest:cid=13,entriesCount=0
2024-09-30 06:54:25,703 [timer7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=15, request=AppendEntriesRequest:cid=14,entriesCount=0
2024-09-30 06:54:25,708 [Thread-2057] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(231)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=2147, target=localhost:15320}}. 
2024-09-30 06:54:25,708 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s0@group-FC05C9553BEE->s1-GrpcLogAppender is already stopped
2024-09-30 06:54:25,709 [MiniRaftCluster-111] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:25,709 [MiniRaftCluster-111] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:25,710 [MiniRaftCluster-111] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:25,710 [MiniRaftCluster-111] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:25,710 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-FC05C9553BEE->s0-GrpcLogAppender is already stopped
2024-09-30 06:54:25,710 [MiniRaftCluster-112] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-09-30 06:54:25,710 [MiniRaftCluster-112] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server GrpcServerProtocolService now
2024-09-30 06:54:25,710 [MiniRaftCluster-111] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:25,710 [MiniRaftCluster-112] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server GrpcServerProtocolService successfully
2024-09-30 06:54:25,710 [MiniRaftCluster-112] INFO  server.GrpcService (GrpcService.java:closeImpl(350)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-09-30 06:54:25,711 [MiniRaftCluster-112] INFO  server.GrpcService (GrpcService.java:closeImpl(359)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-09-30 06:54:25,712 [JvmPauseMonitor80] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-09-30 06:54:25,712 [JvmPauseMonitor79] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-09-30 06:54:25,713 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:54:25,713 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:54:25,865 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:54:25,865 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:54:25,865 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-09-30 06:54:25,865 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-09-30 06:54:25,865 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-09-30 06:54:25,865 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-09-30 06:54:25,866 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-09-30 06:54:25,866 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-FC05C9553BEE:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-FC05C9553BEE-SegmentedRaftLog:CLOSED:c2, conf=conf: {index: 0, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} CLOSED
  s1:   CLOSED    LEADER s1@group-FC05C9553BEE:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-FC05C9553BEE-SegmentedRaftLog:CLOSED:c6, conf=conf: {index: 3, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} CLOSED
  s2:   CLOSED  FOLLOWER s2@group-FC05C9553BEE:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-FC05C9553BEE-SegmentedRaftLog:CLOSED:c5, conf=conf: {index: 3, cur=peers:[s0|localhost:15316, s1|localhost:15320, s2|localhost:15324]|listeners:[], old=null} CLOSED
2024-09-30 06:54:25,867 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-09-30 06:54:25,867 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-09-30 06:54:26,015 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
2024-09-30 06:54:26,015 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$AppendEntriesRequestProto is not released properly
]]></system-out>
  </testcase>
</testsuite>