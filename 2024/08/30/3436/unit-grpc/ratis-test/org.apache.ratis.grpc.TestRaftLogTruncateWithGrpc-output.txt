2024-08-30 17:46:20,040 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-08-30 17:46:20,046 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-08-30 17:46:20,155 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.impl.TransactionManager log level to TRACE
2024-08-30 17:46:20,158 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.impl.OrderedAsync log level to ERROR
2024-08-30 17:46:20,161 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServerConfigKeys log level to ERROR
2024-08-30 17:46:20,162 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClientConfigKeys log level to ERROR
2024-08-30 17:46:20,162 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClientConfigKeys log level to ERROR
2024-08-30 17:46:20,196 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(137)) - Running runWithNewCluster
2024-08-30 17:46:20,223 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithGrpc with group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]
2024-08-30 17:46:20,224 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-08-30 17:46:20,224 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-08-30 17:46:20,224 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithGrpc
2024-08-30 17:46:20,225 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-08-30 17:46:20,225 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-08-30 17:46:20,225 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-08-30 17:46:20,231 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s3, group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-08-30 17:46:20,232 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3
2024-08-30 17:46:20,234 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3 does not exist.
2024-08-30 17:46:20,234 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3
2024-08-30 17:46:20,254 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-08-30 17:46:20,361 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-08-30 17:46:20,362 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15013 (custom)
2024-08-30 17:46:20,363 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-08-30 17:46:20,363 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15014 (custom)
2024-08-30 17:46:20,363 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-08-30 17:46:20,364 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15012 (custom)
2024-08-30 17:46:20,364 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-08-30 17:46:20,365 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-08-30 17:46:20,383 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:20,384 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-08-30 17:46:20,393 [main] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2024-08-30 17:46:20,452 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-08-30 17:46:20,453 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-08-30 17:46:20,860 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-08-30 17:46:20,881 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-21640924AE42:java.util.concurrent.CompletableFuture@6371c5ec[Not completed]
2024-08-30 17:46:20,883 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s4, group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-08-30 17:46:20,883 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4
2024-08-30 17:46:20,884 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4 does not exist.
2024-08-30 17:46:20,884 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4
2024-08-30 17:46:20,885 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-08-30 17:46:20,885 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-08-30 17:46:20,886 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15017 (custom)
2024-08-30 17:46:20,886 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-08-30 17:46:20,887 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15018 (custom)
2024-08-30 17:46:20,887 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-08-30 17:46:20,888 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15016 (custom)
2024-08-30 17:46:20,888 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-08-30 17:46:20,888 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-08-30 17:46:20,890 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:20,890 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-08-30 17:46:20,891 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-08-30 17:46:20,892 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-08-30 17:46:20,898 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-08-30 17:46:20,904 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-21640924AE42:java.util.concurrent.CompletableFuture@da9374c[Not completed]
2024-08-30 17:46:20,904 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-08-30 17:46:20,905 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0
2024-08-30 17:46:20,905 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0 does not exist.
2024-08-30 17:46:20,905 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0
2024-08-30 17:46:20,906 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-08-30 17:46:20,906 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-08-30 17:46:20,907 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(253)) - s3: new RaftServerImpl for group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with SimpleStateMachine4Testing:uninitialized
2024-08-30 17:46:20,907 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15001 (custom)
2024-08-30 17:46:20,907 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-08-30 17:46:20,908 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15002 (custom)
2024-08-30 17:46:20,908 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-08-30 17:46:20,908 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(253)) - s4: new RaftServerImpl for group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with SimpleStateMachine4Testing:uninitialized
2024-08-30 17:46:20,908 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15000 (custom)
2024-08-30 17:46:20,910 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-08-30 17:46:20,910 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-08-30 17:46:20,911 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:20,911 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-08-30 17:46:20,913 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-08-30 17:46:20,913 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-08-30 17:46:20,916 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-08-30 17:46:20,921 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s3@group-21640924AE42: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-08-30 17:46:20,921 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s4@group-21640924AE42: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-08-30 17:46:20,922 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-21640924AE42:java.util.concurrent.CompletableFuture@229514ff[Not completed]
2024-08-30 17:46:20,923 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-08-30 17:46:20,923 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1
2024-08-30 17:46:20,923 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1 does not exist.
2024-08-30 17:46:20,924 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1
2024-08-30 17:46:20,924 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-08-30 17:46:20,925 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-08-30 17:46:20,925 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15005 (custom)
2024-08-30 17:46:20,925 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-08-30 17:46:20,925 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15006 (custom)
2024-08-30 17:46:20,926 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-08-30 17:46:20,926 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15004 (custom)
2024-08-30 17:46:20,926 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-08-30 17:46:20,926 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-08-30 17:46:20,927 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:20,927 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-08-30 17:46:20,927 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-08-30 17:46:20,928 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-08-30 17:46:20,930 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-08-30 17:46:20,931 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(253)) - s0: new RaftServerImpl for group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with SimpleStateMachine4Testing:uninitialized
2024-08-30 17:46:20,931 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-21640924AE42: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-08-30 17:46:20,932 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-21640924AE42:java.util.concurrent.CompletableFuture@2e4d2232[Not completed]
2024-08-30 17:46:20,932 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-08-30 17:46:20,933 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2
2024-08-30 17:46:20,933 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2 does not exist.
2024-08-30 17:46:20,933 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2
2024-08-30 17:46:20,934 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2024-08-30 17:46:20,934 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2024-08-30 17:46:20,934 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 15009 (custom)
2024-08-30 17:46:20,935 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2024-08-30 17:46:20,935 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 15010 (custom)
2024-08-30 17:46:20,935 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2024-08-30 17:46:20,935 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 15008 (custom)
2024-08-30 17:46:20,936 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2024-08-30 17:46:20,936 [main] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2024-08-30 17:46:20,936 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:20,937 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.zerocopy.enabled = true (custom)
2024-08-30 17:46:20,937 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2024-08-30 17:46:20,937 [main] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2024-08-30 17:46:20,939 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-08-30 17:46:20,940 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(253)) - s1: new RaftServerImpl for group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with SimpleStateMachine4Testing:uninitialized
2024-08-30 17:46:20,941 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-21640924AE42: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-08-30 17:46:20,941 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-21640924AE42:java.util.concurrent.CompletableFuture@7acb5200[Not completed]
2024-08-30 17:46:20,944 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(253)) - s2: new RaftServerImpl for group-21640924AE42:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with SimpleStateMachine4Testing:uninitialized
2024-08-30 17:46:20,948 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-21640924AE42: ConfigurationManager, init=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-08-30 17:46:21,001 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42 does not exist. Creating ...
2024-08-30 17:46:21,003 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42
2024-08-30 17:46:21,006 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/in_use.lock acquired by nodename 12045@fv-az882-623
2024-08-30 17:46:21,007 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current
2024-08-30 17:46:21,007 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/sm
2024-08-30 17:46:21,014 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@11e76d6f
2024-08-30 17:46:21,020 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:21,020 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42 has been successfully formatted.
2024-08-30 17:46:21,020 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-08-30 17:46:21,049 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-08-30 17:46:21,077 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-21640924AE42-cacheEviction-AwaitToRun,5,main] started
2024-08-30 17:46:21,088 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-21640924AE42-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42
2024-08-30 17:46:21,101 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-21640924AE42-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-08-30 17:46:21,102 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s3@group-21640924AE42-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-08-30 17:46:21,103 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(389)) - s3@group-21640924AE42: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:21,103 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s3@group-21640924AE42: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-08-30 17:46:21,104 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-21640924AE42-FollowerState
2024-08-30 17:46:21,106 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-21640924AE42,id=s3
2024-08-30 17:46:21,106 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-21640924AE42,id=s3
2024-08-30 17:46:21,113 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s3: start RPC server
2024-08-30 17:46:21,159 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s3: GrpcService started, listening on 15014
2024-08-30 17:46:21,159 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s3: GrpcService started, listening on 15012
2024-08-30 17:46:21,160 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s3: GrpcService started, listening on 15013
2024-08-30 17:46:21,161 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-08-30 17:46:21,162 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42 does not exist. Creating ...
2024-08-30 17:46:21,162 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42
2024-08-30 17:46:21,164 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/in_use.lock acquired by nodename 12045@fv-az882-623
2024-08-30 17:46:21,164 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/current
2024-08-30 17:46:21,164 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/sm
2024-08-30 17:46:21,164 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4c3004df
2024-08-30 17:46:21,166 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:21,166 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42 has been successfully formatted.
2024-08-30 17:46:21,166 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-08-30 17:46:21,166 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-08-30 17:46:21,168 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-21640924AE42-cacheEviction-AwaitToRun,5,main] started
2024-08-30 17:46:21,169 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-21640924AE42-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42
2024-08-30 17:46:21,171 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-21640924AE42-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-08-30 17:46:21,172 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s4@group-21640924AE42-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-08-30 17:46:21,176 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(389)) - s4@group-21640924AE42: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:21,176 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s4@group-21640924AE42: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-08-30 17:46:21,177 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-21640924AE42-FollowerState
2024-08-30 17:46:21,177 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-21640924AE42,id=s4
2024-08-30 17:46:21,177 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-21640924AE42,id=s4
2024-08-30 17:46:21,178 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s4: start RPC server
2024-08-30 17:46:21,179 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s4: GrpcService started, listening on 15018
2024-08-30 17:46:21,180 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s4: GrpcService started, listening on 15016
2024-08-30 17:46:21,181 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s4: GrpcService started, listening on 15017
2024-08-30 17:46:21,181 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-08-30 17:46:21,181 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42 does not exist. Creating ...
2024-08-30 17:46:21,182 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42
2024-08-30 17:46:21,183 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/in_use.lock acquired by nodename 12045@fv-az882-623
2024-08-30 17:46:21,183 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current
2024-08-30 17:46:21,183 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/sm
2024-08-30 17:46:21,183 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2b636b7a
2024-08-30 17:46:21,185 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:21,185 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42 has been successfully formatted.
2024-08-30 17:46:21,185 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-08-30 17:46:21,186 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-08-30 17:46:21,188 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-21640924AE42-cacheEviction-AwaitToRun,5,main] started
2024-08-30 17:46:21,188 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-21640924AE42-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42
2024-08-30 17:46:21,190 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-21640924AE42-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-08-30 17:46:21,190 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-21640924AE42-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-08-30 17:46:21,191 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(389)) - s0@group-21640924AE42: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:21,191 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s0@group-21640924AE42: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-08-30 17:46:21,191 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-21640924AE42-FollowerState
2024-08-30 17:46:21,191 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-21640924AE42,id=s0
2024-08-30 17:46:21,192 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-21640924AE42,id=s0
2024-08-30 17:46:21,192 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-08-30 17:46:21,193 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s0: GrpcService started, listening on 15002
2024-08-30 17:46:21,194 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s0: GrpcService started, listening on 15000
2024-08-30 17:46:21,194 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s0: GrpcService started, listening on 15001
2024-08-30 17:46:21,196 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42 does not exist. Creating ...
2024-08-30 17:46:21,197 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42
2024-08-30 17:46:21,197 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-08-30 17:46:21,197 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/in_use.lock acquired by nodename 12045@fv-az882-623
2024-08-30 17:46:21,198 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current
2024-08-30 17:46:21,198 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/sm
2024-08-30 17:46:21,198 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5d5923ef
2024-08-30 17:46:21,199 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:21,199 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42 has been successfully formatted.
2024-08-30 17:46:21,200 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-08-30 17:46:21,200 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-08-30 17:46:21,204 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-21640924AE42-cacheEviction-AwaitToRun,5,main] started
2024-08-30 17:46:21,204 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-21640924AE42-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42
2024-08-30 17:46:21,206 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-21640924AE42-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-08-30 17:46:21,206 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-21640924AE42-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-08-30 17:46:21,207 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(389)) - s1@group-21640924AE42: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:21,207 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s1@group-21640924AE42: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-08-30 17:46:21,207 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-21640924AE42-FollowerState
2024-08-30 17:46:21,208 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-21640924AE42,id=s1
2024-08-30 17:46:21,208 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-21640924AE42,id=s1
2024-08-30 17:46:21,209 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-08-30 17:46:21,210 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s1: GrpcService started, listening on 15006
2024-08-30 17:46:21,210 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s1: GrpcService started, listening on 15004
2024-08-30 17:46:21,211 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s1: GrpcService started, listening on 15005
2024-08-30 17:46:21,212 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42 does not exist. Creating ...
2024-08-30 17:46:21,212 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42
2024-08-30 17:46:21,213 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-08-30 17:46:21,214 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/in_use.lock acquired by nodename 12045@fv-az882-623
2024-08-30 17:46:21,214 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current
2024-08-30 17:46:21,214 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/sm
2024-08-30 17:46:21,214 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@a340d30
2024-08-30 17:46:21,215 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:21,216 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42 has been successfully formatted.
2024-08-30 17:46:21,216 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-08-30 17:46:21,216 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-08-30 17:46:21,218 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-21640924AE42-cacheEviction-AwaitToRun,5,main] started
2024-08-30 17:46:21,218 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-21640924AE42-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42
2024-08-30 17:46:21,220 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-21640924AE42-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-08-30 17:46:21,220 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-21640924AE42-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-08-30 17:46:21,224 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(389)) - s2@group-21640924AE42: start as a follower, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:21,224 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s2@group-21640924AE42: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-08-30 17:46:21,224 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-21640924AE42-FollowerState
2024-08-30 17:46:21,224 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-21640924AE42,id=s2
2024-08-30 17:46:21,224 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-21640924AE42,id=s2
2024-08-30 17:46:21,225 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-08-30 17:46:21,226 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s2: GrpcService started, listening on 15010
2024-08-30 17:46:21,227 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s2: GrpcService started, listening on 15008
2024-08-30 17:46:21,227 [main] INFO  server.GrpcService (GrpcService.java:startImpl(340)) - s2: GrpcService started, listening on 15009
2024-08-30 17:46:21,228 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-08-30 17:46:21,235 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-30 17:46:21,238 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s4:  RUNNING  FOLLOWER s4@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-30 17:46:22,195 [s4@group-21640924AE42-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(144)) - s4@group-21640924AE42-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1018401581ns, electionTimeout:1016ms
2024-08-30 17:46:22,195 [s4@group-21640924AE42-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s4: shutdown s4@group-21640924AE42-FollowerState
2024-08-30 17:46:22,195 [s4@group-21640924AE42-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s4@group-21640924AE42: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-08-30 17:46:22,199 [s4@group-21640924AE42-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-21640924AE42-LeaderElection1
2024-08-30 17:46:22,201 [s4@group-21640924AE42-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s4@group-21640924AE42-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,224 [s4@group-21640924AE42-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15012
2024-08-30 17:46:22,224 [s4@group-21640924AE42-LeaderElection1-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15004
2024-08-30 17:46:22,225 [s4@group-21640924AE42-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15000
2024-08-30 17:46:22,224 [s4@group-21640924AE42-LeaderElection1-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15008
2024-08-30 17:46:22,258 [s3@group-21640924AE42-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(144)) - s3@group-21640924AE42-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1153968937ns, electionTimeout:1153ms
2024-08-30 17:46:22,258 [s3@group-21640924AE42-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s3: shutdown s3@group-21640924AE42-FollowerState
2024-08-30 17:46:22,258 [s3@group-21640924AE42-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s3@group-21640924AE42: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-08-30 17:46:22,259 [s3@group-21640924AE42-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-21640924AE42-LeaderElection2
2024-08-30 17:46:22,260 [s3@group-21640924AE42-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s3@group-21640924AE42-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,260 [s3@group-21640924AE42-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15016
2024-08-30 17:46:22,267 [s3@group-21640924AE42-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15000
2024-08-30 17:46:22,268 [s3@group-21640924AE42-LeaderElection2-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15004
2024-08-30 17:46:22,268 [s3@group-21640924AE42-LeaderElection2-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15008
2024-08-30 17:46:22,504 [s2@group-21640924AE42-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(144)) - s2@group-21640924AE42-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1279719710ns, electionTimeout:1269ms
2024-08-30 17:46:22,504 [s2@group-21640924AE42-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s2: shutdown s2@group-21640924AE42-FollowerState
2024-08-30 17:46:22,504 [s2@group-21640924AE42-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s2@group-21640924AE42: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-08-30 17:46:22,504 [s2@group-21640924AE42-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-21640924AE42-LeaderElection3
2024-08-30 17:46:22,510 [s2@group-21640924AE42-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-21640924AE42-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,511 [s2@group-21640924AE42-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15012
2024-08-30 17:46:22,513 [s0@group-21640924AE42-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(144)) - s0@group-21640924AE42-FollowerState: change to CANDIDATE, lastRpcElapsedTime:1321806190ns, electionTimeout:1321ms
2024-08-30 17:46:22,513 [s0@group-21640924AE42-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s0: shutdown s0@group-21640924AE42-FollowerState
2024-08-30 17:46:22,513 [s0@group-21640924AE42-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s0@group-21640924AE42: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-08-30 17:46:22,514 [s2@group-21640924AE42-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15016
2024-08-30 17:46:22,515 [s2@group-21640924AE42-LeaderElection3-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15000
2024-08-30 17:46:22,517 [s0@group-21640924AE42-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-21640924AE42-LeaderElection4
2024-08-30 17:46:22,517 [s2@group-21640924AE42-LeaderElection3-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15004
2024-08-30 17:46:22,532 [s0@group-21640924AE42-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-21640924AE42-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,533 [s0@group-21640924AE42-LeaderElection4-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15012
2024-08-30 17:46:22,537 [s0@group-21640924AE42-LeaderElection4-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15016
2024-08-30 17:46:22,537 [s0@group-21640924AE42-LeaderElection4-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1|localhost:15004
2024-08-30 17:46:22,543 [s0@group-21640924AE42-LeaderElection4-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15008
2024-08-30 17:46:22,746 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s1@group-21640924AE42: receive requestVote(PRE_VOTE, s2, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,748 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s3@group-21640924AE42: receive requestVote(PRE_VOTE, s4, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,748 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-21640924AE42-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,749 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s1@group-21640924AE42: receive requestVote(PRE_VOTE, s3, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,750 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s2@group-21640924AE42: receive requestVote(PRE_VOTE, s0, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,750 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-21640924AE42-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,750 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s3@group-21640924AE42: receive requestVote(PRE_VOTE, s0, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,751 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s4@group-21640924AE42: receive requestVote(PRE_VOTE, s2, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,751 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s4@group-21640924AE42: receive requestVote(PRE_VOTE, s0, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,751 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-21640924AE42-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,751 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s1@group-21640924AE42: receive requestVote(PRE_VOTE, s4, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,751 [grpc-default-executor-13] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s0@group-21640924AE42: receive requestVote(PRE_VOTE, s2, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,751 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-21640924AE42-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,751 [grpc-default-executor-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s3@group-21640924AE42: receive requestVote(PRE_VOTE, s2, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,752 [grpc-default-executor-12] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s4@group-21640924AE42: receive requestVote(PRE_VOTE, s3, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,751 [grpc-default-executor-13] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-21640924AE42-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,752 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s2@group-21640924AE42: receive requestVote(PRE_VOTE, s4, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,752 [grpc-default-executor-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s0@group-21640924AE42: receive requestVote(PRE_VOTE, s3, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,753 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s0@group-21640924AE42: receive requestVote(PRE_VOTE, s4, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,753 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s1@group-21640924AE42: receive requestVote(PRE_VOTE, s0, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,754 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s2@group-21640924AE42: receive requestVote(PRE_VOTE, s3, group-21640924AE42, 0, (t:0, i:0))
2024-08-30 17:46:22,756 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s4@group-21640924AE42 replies to PRE_VOTE vote request: s2<-s4#0:OK-t0. Peer's state: s4@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,759 [grpc-default-executor-12] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-21640924AE42-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,759 [grpc-default-executor-12] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s4@group-21640924AE42 replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,759 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-21640924AE42-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,760 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s4@group-21640924AE42 replies to PRE_VOTE vote request: s0<-s4#0:OK-t0. Peer's state: s4@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,760 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s3@group-21640924AE42 replies to PRE_VOTE vote request: s4<-s3#0:OK-t0. Peer's state: s3@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,760 [grpc-default-executor-13] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s0@group-21640924AE42 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,761 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-21640924AE42-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,761 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s3@group-21640924AE42 replies to PRE_VOTE vote request: s0<-s3#0:OK-t0. Peer's state: s3@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,761 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-21640924AE42-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,761 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s0@group-21640924AE42 replies to PRE_VOTE vote request: s4<-s0#0:OK-t0. Peer's state: s0@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,762 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s2@group-21640924AE42 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,763 [grpc-default-executor-14] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-21640924AE42-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,763 [grpc-default-executor-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s0@group-21640924AE42 replies to PRE_VOTE vote request: s3<-s0#0:OK-t0. Peer's state: s0@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,764 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-21640924AE42-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,764 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s2@group-21640924AE42 replies to PRE_VOTE vote request: s3<-s2#0:OK-t0. Peer's state: s2@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,765 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-21640924AE42-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,766 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s2@group-21640924AE42 replies to PRE_VOTE vote request: s4<-s2#0:OK-t0. Peer's state: s2@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,764 [grpc-default-executor-15] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-21640924AE42-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,766 [grpc-default-executor-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s3@group-21640924AE42 replies to PRE_VOTE vote request: s2<-s3#0:OK-t0. Peer's state: s3@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,772 [s4@group-21640924AE42-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-21640924AE42-LeaderElection1: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-08-30 17:46:22,772 [s4@group-21640924AE42-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:OK-t0
2024-08-30 17:46:22,772 [s4@group-21640924AE42-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s4<-s0#0:OK-t0
2024-08-30 17:46:22,772 [s4@group-21640924AE42-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s4@group-21640924AE42-LeaderElection1 PRE_VOTE round 0: result PASSED
2024-08-30 17:46:22,773 [s4@group-21640924AE42-LeaderElection1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@25ee78b0
2024-08-30 17:46:22,774 [s3@group-21640924AE42-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-21640924AE42-LeaderElection2: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-08-30 17:46:22,774 [s3@group-21640924AE42-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t0
2024-08-30 17:46:22,774 [s3@group-21640924AE42-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s0#0:OK-t0
2024-08-30 17:46:22,774 [s0@group-21640924AE42-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-21640924AE42-LeaderElection4: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-08-30 17:46:22,775 [s0@group-21640924AE42-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s4#0:OK-t0
2024-08-30 17:46:22,775 [s0@group-21640924AE42-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:OK-t0
2024-08-30 17:46:22,775 [s3@group-21640924AE42-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s3@group-21640924AE42-LeaderElection2 PRE_VOTE round 0: result PASSED
2024-08-30 17:46:22,775 [s3@group-21640924AE42-LeaderElection2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@768ee5bd
2024-08-30 17:46:22,775 [s4@group-21640924AE42-LeaderElection1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:22,776 [s4@group-21640924AE42-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s4@group-21640924AE42-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,776 [s0@group-21640924AE42-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-21640924AE42-LeaderElection4 PRE_VOTE round 0: result PASSED
2024-08-30 17:46:22,776 [s0@group-21640924AE42-LeaderElection4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5f07fd02
2024-08-30 17:46:22,777 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s1@group-21640924AE42 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,777 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-21640924AE42-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,777 [s3@group-21640924AE42-LeaderElection2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:22,778 [s3@group-21640924AE42-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s3@group-21640924AE42-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,778 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s1@group-21640924AE42 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,778 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-21640924AE42-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,778 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s1@group-21640924AE42 replies to PRE_VOTE vote request: s4<-s1#0:OK-t0. Peer's state: s1@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,779 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-21640924AE42-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,779 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s1@group-21640924AE42 replies to PRE_VOTE vote request: s3<-s1#0:OK-t0. Peer's state: s1@group-21640924AE42:t0, leader=null, voted=, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,780 [s0@group-21640924AE42-LeaderElection4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:22,780 [s0@group-21640924AE42-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-21640924AE42-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,780 [s2@group-21640924AE42-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-21640924AE42-LeaderElection3: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-08-30 17:46:22,780 [s2@group-21640924AE42-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s4#0:OK-t0
2024-08-30 17:46:22,780 [s2@group-21640924AE42-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s0#0:OK-t0
2024-08-30 17:46:22,785 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s2@group-21640924AE42: receive requestVote(ELECTION, s4, group-21640924AE42, 1, (t:0, i:0))
2024-08-30 17:46:22,785 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-21640924AE42-CANDIDATE: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,786 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s2@group-21640924AE42: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s4
2024-08-30 17:46:22,786 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(139)) - s2: shutdown s2@group-21640924AE42-LeaderElection3
2024-08-30 17:46:22,787 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s0@group-21640924AE42: receive requestVote(ELECTION, s4, group-21640924AE42, 1, (t:0, i:0))
2024-08-30 17:46:22,787 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-21640924AE42-CANDIDATE: reject ELECTION from s4: already has voted for s0 at current term 1
2024-08-30 17:46:22,787 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s0@group-21640924AE42 replies to ELECTION vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-21640924AE42:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,788 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s3@group-21640924AE42: receive requestVote(ELECTION, s4, group-21640924AE42, 1, (t:0, i:0))
2024-08-30 17:46:22,789 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-21640924AE42-CANDIDATE: reject ELECTION from s4: already has voted for s3 at current term 1
2024-08-30 17:46:22,789 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s3@group-21640924AE42 replies to ELECTION vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-21640924AE42:t1, leader=null, voted=s3, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,793 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s1@group-21640924AE42: receive requestVote(ELECTION, s4, group-21640924AE42, 1, (t:0, i:0))
2024-08-30 17:46:22,793 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-21640924AE42-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2024-08-30 17:46:22,793 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s1@group-21640924AE42: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2024-08-30 17:46:22,793 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s1: shutdown s1@group-21640924AE42-FollowerState
2024-08-30 17:46:22,796 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s4@group-21640924AE42: receive requestVote(ELECTION, s3, group-21640924AE42, 1, (t:0, i:0))
2024-08-30 17:46:22,796 [s1@group-21640924AE42-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(153)) - s1@group-21640924AE42-FollowerState was interrupted
2024-08-30 17:46:22,796 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-21640924AE42-CANDIDATE: reject ELECTION from s3: already has voted for s4 at current term 1
2024-08-30 17:46:22,797 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s4@group-21640924AE42 replies to ELECTION vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-21640924AE42:t1, leader=null, voted=s4, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,797 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-21640924AE42-FollowerState
2024-08-30 17:46:22,797 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(549)) - s2@group-21640924AE42: set firstElectionSinceStartup to false for candidate:s4
2024-08-30 17:46:22,797 [s2@group-21640924AE42-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-21640924AE42-LeaderElection3 PRE_VOTE round 0: result PASSED
2024-08-30 17:46:22,798 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6c3e74d5
2024-08-30 17:46:22,799 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-21640924AE42-FollowerState
2024-08-30 17:46:22,799 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:22,800 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s2@group-21640924AE42 replies to ELECTION vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-21640924AE42:t1, leader=null, voted=s4, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,800 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s1@group-21640924AE42: receive requestVote(ELECTION, s3, group-21640924AE42, 1, (t:0, i:0))
2024-08-30 17:46:22,800 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(549)) - s1@group-21640924AE42: set firstElectionSinceStartup to false for candidate:s4
2024-08-30 17:46:22,801 [grpc-default-executor-11] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@50e02bd1
2024-08-30 17:46:22,804 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s2@group-21640924AE42: receive requestVote(ELECTION, s0, group-21640924AE42, 1, (t:0, i:0))
2024-08-30 17:46:22,805 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-21640924AE42-FOLLOWER: reject ELECTION from s0: already has voted for s4 at current term 1
2024-08-30 17:46:22,805 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s2@group-21640924AE42 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-21640924AE42:t1, leader=null, voted=s4, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,807 [grpc-default-executor-11] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:22,808 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s1@group-21640924AE42 replies to ELECTION vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-21640924AE42:t1, leader=null, voted=s4, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,808 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-21640924AE42-FOLLOWER: reject ELECTION from s3: already has voted for s4 at current term 1
2024-08-30 17:46:22,808 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s1@group-21640924AE42 replies to ELECTION vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-21640924AE42:t1, leader=null, voted=s4, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,810 [s4@group-21640924AE42-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-21640924AE42-LeaderElection1: ELECTION PASSED received 3 response(s) and 0 exception(s):
2024-08-30 17:46:22,810 [s4@group-21640924AE42-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s0#0:FAIL-t1
2024-08-30 17:46:22,810 [s4@group-21640924AE42-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s4<-s1#0:OK-t1
2024-08-30 17:46:22,810 [s4@group-21640924AE42-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s4<-s2#0:OK-t1
2024-08-30 17:46:22,810 [s4@group-21640924AE42-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s4@group-21640924AE42-LeaderElection1 ELECTION round 0: result PASSED
2024-08-30 17:46:22,810 [s4@group-21640924AE42-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(139)) - s4: shutdown s4@group-21640924AE42-LeaderElection1
2024-08-30 17:46:22,810 [s4@group-21640924AE42-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s4@group-21640924AE42: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-08-30 17:46:22,811 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s2@group-21640924AE42: receive requestVote(ELECTION, s3, group-21640924AE42, 1, (t:0, i:0))
2024-08-30 17:46:22,812 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-21640924AE42-FOLLOWER: reject ELECTION from s3: already has voted for s4 at current term 1
2024-08-30 17:46:22,812 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s2@group-21640924AE42 replies to ELECTION vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-21640924AE42:t1, leader=null, voted=s4, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,813 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s3@group-21640924AE42: receive requestVote(ELECTION, s0, group-21640924AE42, 1, (t:0, i:0))
2024-08-30 17:46:22,813 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-21640924AE42-CANDIDATE: reject ELECTION from s0: already has voted for s3 at current term 1
2024-08-30 17:46:22,813 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s3@group-21640924AE42 replies to ELECTION vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-21640924AE42:t1, leader=null, voted=s3, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,813 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s4@group-21640924AE42: receive requestVote(ELECTION, s0, group-21640924AE42, 1, (t:0, i:0))
2024-08-30 17:46:22,815 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s0@group-21640924AE42: receive requestVote(ELECTION, s3, group-21640924AE42, 1, (t:0, i:0))
2024-08-30 17:46:22,815 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-21640924AE42-CANDIDATE: reject ELECTION from s3: already has voted for s0 at current term 1
2024-08-30 17:46:22,815 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s0@group-21640924AE42 replies to ELECTION vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-21640924AE42:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,817 [s3@group-21640924AE42-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-21640924AE42-LeaderElection2: ELECTION REJECTED received 3 response(s) and 0 exception(s):
2024-08-30 17:46:22,817 [s3@group-21640924AE42-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:FAIL-t1
2024-08-30 17:46:22,817 [s3@group-21640924AE42-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:FAIL-t1
2024-08-30 17:46:22,817 [s3@group-21640924AE42-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s3<-s2#0:FAIL-t1
2024-08-30 17:46:22,817 [s3@group-21640924AE42-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s3@group-21640924AE42-LeaderElection2 ELECTION round 0: result REJECTED
2024-08-30 17:46:22,817 [s3@group-21640924AE42-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s3@group-21640924AE42: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-08-30 17:46:22,817 [s3@group-21640924AE42-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(139)) - s3: shutdown s3@group-21640924AE42-LeaderElection2
2024-08-30 17:46:22,818 [s3@group-21640924AE42-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-21640924AE42-FollowerState
2024-08-30 17:46:22,819 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s1@group-21640924AE42: receive requestVote(ELECTION, s0, group-21640924AE42, 1, (t:0, i:0))
2024-08-30 17:46:22,819 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-21640924AE42-FOLLOWER: reject ELECTION from s0: already has voted for s4 at current term 1
2024-08-30 17:46:22,819 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s1@group-21640924AE42 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-21640924AE42:t1, leader=null, voted=s4, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,820 [s3@group-21640924AE42-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(549)) - s3@group-21640924AE42: set firstElectionSinceStartup to false for REJECTED
2024-08-30 17:46:22,823 [s0@group-21640924AE42-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-21640924AE42-LeaderElection4: ELECTION REJECTED received 3 response(s) and 0 exception(s):
2024-08-30 17:46:22,823 [s0@group-21640924AE42-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s3#0:FAIL-t1
2024-08-30 17:46:22,823 [s0@group-21640924AE42-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s1#0:FAIL-t1
2024-08-30 17:46:22,824 [s0@group-21640924AE42-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s0<-s2#0:FAIL-t1
2024-08-30 17:46:22,824 [s0@group-21640924AE42-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-21640924AE42-LeaderElection4 ELECTION round 0: result REJECTED
2024-08-30 17:46:22,824 [s0@group-21640924AE42-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s0@group-21640924AE42: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-08-30 17:46:22,824 [s0@group-21640924AE42-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(139)) - s0: shutdown s0@group-21640924AE42-LeaderElection4
2024-08-30 17:46:22,824 [s0@group-21640924AE42-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-21640924AE42-FollowerState
2024-08-30 17:46:22,824 [s0@group-21640924AE42-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(549)) - s0@group-21640924AE42: set firstElectionSinceStartup to false for REJECTED
2024-08-30 17:46:22,855 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-08-30 17:46:22,855 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-08-30 17:46:22,855 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-08-30 17:46:22,855 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-08-30 17:46:22,855 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:22,859 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-08-30 17:46:22,859 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-08-30 17:46:22,860 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-08-30 17:46:22,860 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-08-30 17:46:22,860 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:22,860 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-08-30 17:46:22,861 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-08-30 17:46:22,861 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-08-30 17:46:22,861 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-08-30 17:46:22,861 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:22,861 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-08-30 17:46:22,862 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-08-30 17:46:22,862 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-08-30 17:46:22,862 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-08-30 17:46:22,862 [s4@group-21640924AE42-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:22,863 [s4@group-21640924AE42-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s4: start s4@group-21640924AE42-LeaderStateImpl
2024-08-30 17:46:22,863 [s4@group-21640924AE42-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(549)) - s4@group-21640924AE42: set firstElectionSinceStartup to false for becomeLeader
2024-08-30 17:46:22,863 [s4@group-21640924AE42-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s4@group-21640924AE42: change Leader from null to s4 at term 1 for becomeLeader, leader elected after 1932ms
2024-08-30 17:46:22,912 [s4@group-21640924AE42-LeaderElection1] INFO  util.LeakDetector (LeakDetector.java:start(72)) - Starting leak detector thread SIMPLE0.
2024-08-30 17:46:22,917 [s4@group-21640924AE42-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s4@group-21640924AE42-SegmentedRaftLogWorker: Starting segment from index:0
2024-08-30 17:46:22,928 [s4@group-21640924AE42-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-21640924AE42: set configuration conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,931 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-21640924AE42-LEADER: reject ELECTION from s0: already has voted for s4 at current term 1
2024-08-30 17:46:22,932 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s4@group-21640924AE42 replies to ELECTION vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:OPENED:c-1:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,951 [s4@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-08-30 17:46:22,963 [s4@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s4@group-21640924AE42-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0
2024-08-30 17:46:22,967 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-21640924AE42: change Leader from null to s4 at term 1 for appendEntries, leader elected after 2019ms
2024-08-30 17:46:22,970 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-21640924AE42: change Leader from null to s4 at term 1 for appendEntries, leader elected after 2038ms
2024-08-30 17:46:22,981 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-21640924AE42: change Leader from null to s4 at term 1 for appendEntries, leader elected after 2049ms
2024-08-30 17:46:22,986 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-21640924AE42: change Leader from null to s4 at term 1 for appendEntries, leader elected after 2044ms
2024-08-30 17:46:22,994 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-21640924AE42: set configuration conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,995 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-21640924AE42: set configuration conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,995 [s3-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-21640924AE42: set configuration conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,996 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-21640924AE42: set configuration conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:22,997 [s0-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-21640924AE42-SegmentedRaftLogWorker: Starting segment from index:0
2024-08-30 17:46:22,998 [s0@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-08-30 17:46:22,998 [s3-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s3@group-21640924AE42-SegmentedRaftLogWorker: Starting segment from index:0
2024-08-30 17:46:22,998 [s3@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-08-30 17:46:22,999 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-21640924AE42-SegmentedRaftLogWorker: Starting segment from index:0
2024-08-30 17:46:22,999 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-21640924AE42-SegmentedRaftLogWorker: Starting segment from index:0
2024-08-30 17:46:23,000 [s2@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-08-30 17:46:23,005 [s1@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-08-30 17:46:23,016 [s3@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-21640924AE42-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0
2024-08-30 17:46:23,017 [s2@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-21640924AE42-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0
2024-08-30 17:46:23,017 [s0@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-21640924AE42-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0
2024-08-30 17:46:23,024 [s1@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-21640924AE42-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0
2024-08-30 17:46:23,024 [s4@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7210572a
2024-08-30 17:46:23,028 [s4@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-08-30 17:46:23,028 [s4@group-21640924AE42-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(317)) - Leader s4@group-21640924AE42-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-08-30 17:46:24,529 [s3@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6b5cb1c1
2024-08-30 17:46:24,532 [s0@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@416956c9
2024-08-30 17:46:24,533 [s2@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@ecff91a
2024-08-30 17:46:24,535 [s1@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@79e51817
2024-08-30 17:46:24,541 [s2@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-08-30 17:46:24,542 [s3@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-08-30 17:46:24,542 [s1@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-08-30 17:46:24,545 [s0@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-08-30 17:46:30,240 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-21640924AE42:t1, leader=s4, voted=s3, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s4:  RUNNING    LEADER s4@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s0:  RUNNING  FOLLOWER s0@group-21640924AE42:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c0:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-30 17:46:30,243 [main] INFO  grpc.TestRaftLogTruncateWithGrpc (RaftLogTruncateTests.java:runTestLogTruncate(128)) - oldLeader: s4, term=1
2024-08-30 17:46:30,244 [main] INFO  grpc.TestRaftLogTruncateWithGrpc (RaftLogTruncateTests.java:runTestLogTruncate(129)) - killedPeers   : [s3, s0, s1]
2024-08-30 17:46:30,244 [main] INFO  grpc.TestRaftLogTruncateWithGrpc (RaftLogTruncateTests.java:runTestLogTruncate(130)) - remainingPeers: [s4, s2]
2024-08-30 17:46:30,245 [main] DEBUG impl.TransactionManager (TransactionManager.java:getMap(49)) - s3-TransactionManager <empty>
2024-08-30 17:46:30,245 [main] DEBUG impl.TransactionManager (TransactionManager.java:getMap(49)) - s4-TransactionManager <empty>
2024-08-30 17:46:30,245 [main] DEBUG impl.TransactionManager (TransactionManager.java:getMap(49)) - s0-TransactionManager <empty>
2024-08-30 17:46:30,245 [main] DEBUG impl.TransactionManager (TransactionManager.java:getMap(49)) - s1-TransactionManager <empty>
2024-08-30 17:46:30,245 [main] DEBUG impl.TransactionManager (TransactionManager.java:getMap(49)) - s2-TransactionManager <empty>
2024-08-30 17:46:30,325 [s3-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:1): s3-TransactionManager
  (t:1, i:1): initialized? false
2024-08-30 17:46:30,327 [s0-server-thread3] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:1): s0-TransactionManager
  (t:1, i:1): initialized? false
2024-08-30 17:46:30,325 [s2-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:1): s2-TransactionManager
  (t:1, i:1): initialized? false
2024-08-30 17:46:30,326 [s1-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:1): s1-TransactionManager
  (t:1, i:1): initialized? false
2024-08-30 17:46:30,330 [s4@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-08-30 17:46:30,330 [s4@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 1, first0 -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,336 [s1@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-08-30 17:46:30,336 [s1@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 1, first0 -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,336 [s1@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:1): s1-TransactionManager <empty>
2024-08-30 17:46:30,337 [s3@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-08-30 17:46:30,337 [s3@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 1, first0 -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,337 [s3@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:1): s3-TransactionManager <empty>
2024-08-30 17:46:30,339 [s0@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-08-30 17:46:30,339 [s0@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 1, first0 -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,339 [s0@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:1): s0-TransactionManager <empty>
2024-08-30 17:46:30,340 [s2@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 1
2024-08-30 17:46:30,340 [s2@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 1, first0 -> (t:1, i:1), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,340 [s2@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:1): s2-TransactionManager <empty>
2024-08-30 17:46:30,377 [s3-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:3): s3-TransactionManager
  (t:1, i:3): initialized? false
2024-08-30 17:46:30,377 [s0-server-thread3] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:3): s0-TransactionManager
  (t:1, i:3): initialized? false
2024-08-30 17:46:30,378 [s2-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:3): s2-TransactionManager
  (t:1, i:3): initialized? false
2024-08-30 17:46:30,378 [s1-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:3): s1-TransactionManager
  (t:1, i:3): initialized? false
2024-08-30 17:46:30,381 [s4@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-08-30 17:46:30,381 [s4@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 3, first1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,385 [s3@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-08-30 17:46:30,385 [s3@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 3, first1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,385 [s3@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:3): s3-TransactionManager <empty>
2024-08-30 17:46:30,387 [s1@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-08-30 17:46:30,387 [s1@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 3, first1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,387 [s0@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-08-30 17:46:30,388 [s1@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:3): s1-TransactionManager <empty>
2024-08-30 17:46:30,388 [s2@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 3
2024-08-30 17:46:30,388 [s2@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 3, first1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,388 [s2@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:3): s2-TransactionManager <empty>
2024-08-30 17:46:30,388 [s0@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 3, first1 -> (t:1, i:3), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,389 [s0@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:3): s0-TransactionManager <empty>
2024-08-30 17:46:30,395 [s2-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:5): s2-TransactionManager
  (t:1, i:5): initialized? false
2024-08-30 17:46:30,395 [s1-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:5): s1-TransactionManager
  (t:1, i:5): initialized? false
2024-08-30 17:46:30,395 [s3-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:5): s3-TransactionManager
  (t:1, i:5): initialized? false
2024-08-30 17:46:30,397 [s0-server-thread3] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:5): s0-TransactionManager
  (t:1, i:5): initialized? false
2024-08-30 17:46:30,398 [s4@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-08-30 17:46:30,398 [s4@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 5, first2 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,403 [s2@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-08-30 17:46:30,404 [s2@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 5, first2 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,404 [s2@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:5): s2-TransactionManager <empty>
2024-08-30 17:46:30,405 [s1@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-08-30 17:46:30,405 [s1@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 5, first2 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,405 [s1@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:5): s1-TransactionManager <empty>
2024-08-30 17:46:30,406 [s3@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-08-30 17:46:30,406 [s3@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 5, first2 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,406 [s3@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:5): s3-TransactionManager <empty>
2024-08-30 17:46:30,406 [s0@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 5
2024-08-30 17:46:30,407 [s0@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 5, first2 -> (t:1, i:5), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,407 [s0@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:5): s0-TransactionManager <empty>
2024-08-30 17:46:30,412 [s3-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:7): s3-TransactionManager
  (t:1, i:7): initialized? false
2024-08-30 17:46:30,413 [s0-server-thread3] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:7): s0-TransactionManager
  (t:1, i:7): initialized? false
2024-08-30 17:46:30,414 [s1-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:7): s1-TransactionManager
  (t:1, i:7): initialized? false
2024-08-30 17:46:30,416 [s2-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:7): s2-TransactionManager
  (t:1, i:7): initialized? false
2024-08-30 17:46:30,417 [s4@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-08-30 17:46:30,417 [s4@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s4: put 7, first3 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,420 [s1@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-08-30 17:46:30,420 [s1@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 7, first3 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,420 [s1@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:7): s1-TransactionManager <empty>
2024-08-30 17:46:30,422 [s0@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-08-30 17:46:30,422 [s0@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 7, first3 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,422 [s0@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:7): s0-TransactionManager <empty>
2024-08-30 17:46:30,424 [s2@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-08-30 17:46:30,424 [s2@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 7, first3 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,424 [s2@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:7): s2-TransactionManager <empty>
2024-08-30 17:46:30,426 [s3@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 7
2024-08-30 17:46:30,426 [s3@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 7, first3 -> (t:1, i:7), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,427 [s3@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:7): s3-TransactionManager <empty>
2024-08-30 17:46:30,435 [s4@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s4/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0 with options []: sun.nio.ch.ChannelInputStream@660219a3
2024-08-30 17:46:30,518 [s4@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon] WARN  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(89)) - s4@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon failed
java.lang.IllegalStateException: Failed to release: object has already been completely released.
	at org.apache.ratis.util.ReferenceCountedLeakDetector$Impl.release(ReferenceCountedLeakDetector.java:130)
	at org.apache.ratis.util.ReferenceCountedLeakDetector$SimpleTracing.release(ReferenceCountedLeakDetector.java:152)
	at org.apache.ratis.server.raftlog.RaftLogBase$1.release(RaftLogBase.java:435)
	at org.apache.ratis.util.ReferenceCountedObject$2.release(ReferenceCountedObject.java:123)
	at org.apache.ratis.grpc.server.GrpcLogAppender.appendLog(GrpcLogAppender.java:414)
	at org.apache.ratis.grpc.server.GrpcLogAppender.run(GrpcLogAppender.java:262)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-08-30 17:46:30,520 [s4@group-21640924AE42->s3-GrpcLogAppender-LogAppenderDaemon] WARN  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(89)) - s4@group-21640924AE42->s3-GrpcLogAppender-LogAppenderDaemon failed
java.lang.IllegalStateException: Failed to release: object has already been completely released.
	at org.apache.ratis.util.ReferenceCountedLeakDetector$Impl.release(ReferenceCountedLeakDetector.java:130)
	at org.apache.ratis.util.ReferenceCountedLeakDetector$SimpleTracing.release(ReferenceCountedLeakDetector.java:152)
	at org.apache.ratis.server.raftlog.RaftLogBase$1.release(RaftLogBase.java:435)
	at org.apache.ratis.util.ReferenceCountedObject$2.release(ReferenceCountedObject.java:123)
	at org.apache.ratis.grpc.server.GrpcLogAppender.appendLog(GrpcLogAppender.java:414)
	at org.apache.ratis.grpc.server.GrpcLogAppender.run(GrpcLogAppender.java:262)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-08-30 17:46:30,521 [s4@group-21640924AE42->s3-GrpcLogAppender-LogAppenderDaemon] INFO  server.RaftServer$Division (LeaderStateImpl.java:restart(687)) - s4@group-21640924AE42-LeaderStateImpl: Restarting GrpcLogAppender for s4@group-21640924AE42->s3
2024-08-30 17:46:30,522 [s4@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon] INFO  server.RaftServer$Division (LeaderStateImpl.java:restart(687)) - s4@group-21640924AE42-LeaderStateImpl: Restarting GrpcLogAppender for s4@group-21640924AE42->s0
2024-08-30 17:46:30,524 [s2-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:9): s2-TransactionManager
  (t:1, i:9): initialized? false
2024-08-30 17:46:30,524 [s1-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:9): s1-TransactionManager
  (t:1, i:9): initialized? false
2024-08-30 17:46:30,525 [s0-server-thread3] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:9): s0-TransactionManager
  (t:1, i:9): initialized? false
2024-08-30 17:46:30,528 [s4@group-21640924AE42-StateMachineUpdater] ERROR impl.StateMachineUpdater (StateMachineUpdater.java:run(206)) - s4@group-21640924AE42-StateMachineUpdater caught a Throwable.
java.lang.IllegalStateException: Failed to retain: object has already been completely released.
	at org.apache.ratis.util.ReferenceCountedLeakDetector$Impl.retain(ReferenceCountedLeakDetector.java:116)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.retainLog(SegmentedRaftLog.java:310)
	at org.apache.ratis.server.impl.StateMachineUpdater.applyLog(StateMachineUpdater.java:244)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:193)
	at java.lang.Thread.run(Thread.java:750)
2024-08-30 17:46:30,528 [s4@group-21640924AE42-StateMachineUpdater] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(501)) - s4@group-21640924AE42: shutdown
2024-08-30 17:46:30,528 [s4@group-21640924AE42-StateMachineUpdater] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-21640924AE42,id=s4
2024-08-30 17:46:30,528 [s4@group-21640924AE42-StateMachineUpdater] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s4: shutdown s4@group-21640924AE42-LeaderStateImpl
2024-08-30 17:46:30,530 [s4@group-21640924AE42-StateMachineUpdater] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s4@group-21640924AE42-PendingRequests: sendNotLeaderResponses
2024-08-30 17:46:30,532 [s4@group-21640924AE42->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s4@group-21640924AE42->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-08-30 17:46:30,532 [s3-server-thread2] DEBUG impl.TransactionManager (TransactionManager.java:computeIfAbsent(60)) - (t:1, i:9): s3-TransactionManager
  (t:1, i:9): initialized? false
2024-08-30 17:46:30,533 [s4@group-21640924AE42->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s4@group-21640924AE42->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-08-30 17:46:30,536 [s1@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-08-30 17:46:30,536 [s2@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-08-30 17:46:30,536 [s1@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s1: put 9, first4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,536 [s2@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s2: put 9, first4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:30,537 [s1@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:9): s1-TransactionManager <empty>
2024-08-30 17:46:30,537 [s2@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:9): s2-TransactionManager <empty>
2024-08-30 17:46:30,538 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s4->s2#36-t1,previous=(t:1, i:9),leaderCommit=9,initializing? false,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2024-08-30 17:46:30,538 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-08-30 17:46:30,538 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-08-30 17:46:30,540 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: s4->s1#34-t1,previous=(t:1, i:9),leaderCommit=9,initializing? false,entries: size=1, first=(t:1, i:10), METADATAENTRY(c:9)
2024-08-30 17:46:30,540 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: null
2024-08-30 17:46:30,542 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s4@group-21640924AE42->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-08-30 17:46:30,543 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2024-08-30 17:46:30,543 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s4@group-21640924AE42->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-08-30 17:46:30,544 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s4@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-21640924AE42 is not the leader, logIndex=0, commits[s4:c9]
2024-08-30 17:46:30,545 [s4@group-21640924AE42->s3-GrpcLogAppender-LogAppenderDaemon] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-08-30 17:46:30,545 [s4@group-21640924AE42->s3-GrpcLogAppender-LogAppenderDaemon] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-08-30 17:46:30,545 [s4@group-21640924AE42->s3-GrpcLogAppender-LogAppenderDaemon] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-08-30 17:46:30,545 [s4@group-21640924AE42->s3-GrpcLogAppender-LogAppenderDaemon] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-08-30 17:46:30,545 [s4@group-21640924AE42->s3-GrpcLogAppender-LogAppenderDaemon] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:30,554 [s4@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-08-30 17:46:30,554 [s4@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-08-30 17:46:30,555 [s4@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-08-30 17:46:30,555 [s4@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-08-30 17:46:30,555 [s4@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:30,560 [s4@group-21640924AE42-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s4@group-21640924AE42-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:1, i:8)
2024-08-30 17:46:30,568 [s4@group-21640924AE42-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-21640924AE42-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-08-30 17:46:30,568 [s4@group-21640924AE42->s3-GrpcLogAppender-LogAppenderDaemon] WARN  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(89)) - s4@group-21640924AE42->s3-GrpcLogAppender-LogAppenderDaemon failed
java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
	at org.apache.ratis.util.OpenCloseState.assertOpen(OpenCloseState.java:63)
	at org.apache.ratis.server.raftlog.RaftLogBase.checkLogState(RaftLogBase.java:115)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.getLastEntryTermIndex(SegmentedRaftLog.java:379)
	at org.apache.ratis.server.raftlog.RaftLog.getNextIndex(RaftLog.java:112)
	at org.apache.ratis.server.leader.LogAppender.hasAppendEntries(LogAppender.java:196)
	at org.apache.ratis.server.leader.LogAppender.shouldSendAppendEntries(LogAppender.java:191)
	at org.apache.ratis.server.leader.LogAppenderBase.shouldSendAppendEntries(LogAppenderBase.java:100)
	at org.apache.ratis.grpc.server.GrpcLogAppender.shouldSendAppendEntries(GrpcLogAppender.java:311)
	at org.apache.ratis.grpc.server.GrpcLogAppender.run(GrpcLogAppender.java:260)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.util.OpenCloseState$CloseTrace: Close s4@group-21640924AE42-SegmentedRaftLog
	at org.apache.ratis.util.OpenCloseState.lambda$close$1(OpenCloseState.java:109)
	at java.util.concurrent.atomic.AtomicReference.getAndUpdate(AtomicReference.java:160)
	at org.apache.ratis.util.OpenCloseState.close(OpenCloseState.java:109)
	at org.apache.ratis.server.raftlog.RaftLogBase.close(RaftLogBase.java:394)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.close(SegmentedRaftLog.java:561)
	at org.apache.ratis.server.impl.ServerState.close(ServerState.java:434)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$close$1(RaftServerImpl.java:523)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$7(LifeCycle.java:306)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:326)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:304)
	at org.apache.ratis.server.impl.RaftServerImpl.close(RaftServerImpl.java:500)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:207)
	... 1 more
2024-08-30 17:46:30,569 [s4@group-21640924AE42-StateMachineUpdater] WARN  server.RaftServer$Division (ServerState.java:close(437)) - s4@group-21640924AE42: Failed to close raft log s4@group-21640924AE42-SegmentedRaftLog:CLOSED:c9
java.lang.IllegalStateException: Failed to release: object has already been completely released.
	at org.apache.ratis.util.ReferenceCountedLeakDetector$Impl.release(ReferenceCountedLeakDetector.java:130)
	at org.apache.ratis.util.ReferenceCountedLeakDetector$SimpleTracing.release(ReferenceCountedLeakDetector.java:152)
	at java.util.concurrent.ConcurrentHashMap$ValuesView.forEach(ConcurrentHashMap.java:4705)
	at org.apache.ratis.server.raftlog.segmented.LogSegment$EntryCache.clear(LogSegment.java:309)
	at org.apache.ratis.server.raftlog.segmented.LogSegment.evictCache(LogSegment.java:517)
	at org.apache.ratis.server.raftlog.segmented.LogSegment.clear(LogSegment.java:508)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogCache.close(SegmentedRaftLogCache.java:742)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.close(SegmentedRaftLog.java:563)
	at org.apache.ratis.server.impl.ServerState.close(ServerState.java:434)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$close$1(RaftServerImpl.java:523)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$7(LifeCycle.java:306)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:326)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:304)
	at org.apache.ratis.server.impl.RaftServerImpl.close(RaftServerImpl.java:500)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:207)
	at java.lang.Thread.run(Thread.java:750)
2024-08-30 17:46:30,569 [s4@group-21640924AE42->s3-GrpcLogAppender-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderBase.java:restart(141)) - Failed to restart s4@group-21640924AE42->s3-GrpcLogAppender: server s4@group-21640924AE42 is not alive
2024-08-30 17:46:30,579 [s4@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon] WARN  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(89)) - s4@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon failed
java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
	at org.apache.ratis.util.OpenCloseState.assertOpen(OpenCloseState.java:63)
	at org.apache.ratis.server.raftlog.RaftLogBase.checkLogState(RaftLogBase.java:115)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.getLastEntryTermIndex(SegmentedRaftLog.java:379)
	at org.apache.ratis.server.raftlog.RaftLog.getNextIndex(RaftLog.java:112)
	at org.apache.ratis.server.leader.LogAppender.hasAppendEntries(LogAppender.java:196)
	at org.apache.ratis.server.leader.LogAppender.shouldSendAppendEntries(LogAppender.java:191)
	at org.apache.ratis.server.leader.LogAppenderBase.shouldSendAppendEntries(LogAppenderBase.java:100)
	at org.apache.ratis.grpc.server.GrpcLogAppender.shouldSendAppendEntries(GrpcLogAppender.java:311)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getWaitTimeMs(GrpcLogAppender.java:273)
	at org.apache.ratis.grpc.server.GrpcLogAppender.mayWait(GrpcLogAppender.java:290)
	at org.apache.ratis.grpc.server.GrpcLogAppender.run(GrpcLogAppender.java:258)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.util.OpenCloseState$CloseTrace: Close s4@group-21640924AE42-SegmentedRaftLog
	at org.apache.ratis.util.OpenCloseState.lambda$close$1(OpenCloseState.java:109)
	at java.util.concurrent.atomic.AtomicReference.getAndUpdate(AtomicReference.java:160)
	at org.apache.ratis.util.OpenCloseState.close(OpenCloseState.java:109)
	at org.apache.ratis.server.raftlog.RaftLogBase.close(RaftLogBase.java:394)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.close(SegmentedRaftLog.java:561)
	at org.apache.ratis.server.impl.ServerState.close(ServerState.java:434)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$close$1(RaftServerImpl.java:523)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$7(LifeCycle.java:306)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:326)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:304)
	at org.apache.ratis.server.impl.RaftServerImpl.close(RaftServerImpl.java:500)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:207)
	... 1 more
2024-08-30 17:46:30,580 [s4@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderBase.java:restart(141)) - Failed to restart s4@group-21640924AE42->s0-GrpcLogAppender: server s4@group-21640924AE42 is not alive
2024-08-30 17:46:30,689 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s2@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s2:c9, s3:c7, s4:c9, s0:c7, s1:c8]
2024-08-30 17:46:30,715 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s4"
  replyId: "s1"
  raftGroupId {
    id: "\240\262jrW\375O\303\270\202!d\t$\256B"
  }
  callId: 8
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-08-30 17:46:30,716 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s4@group-21640924AE42->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-08-30 17:46:30,717 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s4"
  replyId: "s2"
  raftGroupId {
    id: "\240\262jrW\375O\303\270\202!d\t$\256B"
  }
  callId: 6
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2024-08-30 17:46:30,718 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s4@group-21640924AE42->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-08-30 17:46:30,933 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s0@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s0:c8, s3:c7, s4:c9, s1:c7, s2:c7]
2024-08-30 17:46:31,158 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s1@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s1:c9, s3:c7, s4:c9, s0:c7, s2:c7]
2024-08-30 17:46:31,229 [Timer-0] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$7(352)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-21640924AE42:t1, leader=s4, voted=s3, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c8:last(t:1, i:9), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s4:  RUNNING    LEADER s4@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:CLOSED:c9, conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} CLOSED
  s0:  RUNNING  FOLLOWER s0@group-21640924AE42:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c8:last(t:1, i:9), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c9:last(t:1, i:10), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c9:last(t:1, i:10), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-30 17:46:31,379 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s3@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s3:c8, s4:c9, s0:c7, s1:c7, s2:c7]
2024-08-30 17:46:31,601 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s1@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s1:c9, s3:c7, s4:c9, s0:c7, s2:c7]
2024-08-30 17:46:31,821 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s0@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s0:c8, s3:c7, s4:c9, s1:c7, s2:c7]
2024-08-30 17:46:32,041 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s3@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s3:c8, s4:c9, s0:c7, s1:c7, s2:c7]
2024-08-30 17:46:32,260 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s3@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s3:c8, s4:c9, s0:c7, s1:c7, s2:c7]
2024-08-30 17:46:32,480 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s1@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s1:c9, s3:c7, s4:c9, s0:c7, s2:c7]
2024-08-30 17:46:32,699 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s2@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s2:c9, s3:c7, s4:c9, s0:c7, s1:c8]
2024-08-30 17:46:32,916 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s2@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s2:c9, s3:c7, s4:c9, s0:c7, s1:c8]
2024-08-30 17:46:33,133 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s0@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s0:c8, s3:c7, s4:c9, s1:c7, s2:c7]
2024-08-30 17:46:33,349 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s3@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s3:c8, s4:c9, s0:c7, s1:c7, s2:c7]
2024-08-30 17:46:33,565 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s0@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s0:c8, s3:c7, s4:c9, s1:c7, s2:c7]
2024-08-30 17:46:33,781 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s3@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s3:c8, s4:c9, s0:c7, s1:c7, s2:c7]
2024-08-30 17:46:33,998 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s1@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s1:c9, s3:c7, s4:c9, s0:c7, s2:c7]
2024-08-30 17:46:34,217 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s2@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s2:c9, s3:c7, s4:c9, s0:c7, s1:c8]
2024-08-30 17:46:34,432 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s0@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s0:c8, s3:c7, s4:c9, s1:c7, s2:c7]
2024-08-30 17:46:34,647 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s2@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s2:c9, s3:c7, s4:c9, s0:c7, s1:c8]
2024-08-30 17:46:34,862 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s1@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s1:c9, s3:c7, s4:c9, s0:c7, s2:c7]
2024-08-30 17:46:35,077 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s0@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s0:c8, s3:c7, s4:c9, s1:c7, s2:c7]
2024-08-30 17:46:35,291 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s2@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s2:c9, s3:c7, s4:c9, s0:c7, s1:c8]
2024-08-30 17:46:35,505 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s1@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s1:c9, s3:c7, s4:c9, s0:c7, s2:c7]
2024-08-30 17:46:35,720 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s2@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s2:c9, s3:c7, s4:c9, s0:c7, s1:c8]
2024-08-30 17:46:35,933 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s1@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s1:c9, s3:c7, s4:c9, s0:c7, s2:c7]
2024-08-30 17:46:36,130 [s1@group-21640924AE42-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(144)) - s1@group-21640924AE42-FollowerState: change to CANDIDATE, lastRpcElapsedTime:5595463202ns, electionTimeout:4695ms
2024-08-30 17:46:36,130 [s1@group-21640924AE42-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s1: shutdown s1@group-21640924AE42-FollowerState
2024-08-30 17:46:36,130 [s1@group-21640924AE42-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s1@group-21640924AE42: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-08-30 17:46:36,131 [s1@group-21640924AE42-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-21640924AE42-LeaderElection5
2024-08-30 17:46:36,131 [s1@group-21640924AE42-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-21640924AE42: change Leader from s4 to null at term 1 for PRE_VOTE
2024-08-30 17:46:36,131 [s1@group-21640924AE42-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-21640924AE42-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:36,132 [s1@group-21640924AE42-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s3|localhost:15012
2024-08-30 17:46:36,132 [s1@group-21640924AE42-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s4|localhost:15016
2024-08-30 17:46:36,133 [s1@group-21640924AE42-LeaderElection5-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0|localhost:15000
2024-08-30 17:46:36,136 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s3@group-21640924AE42: receive requestVote(PRE_VOTE, s1, group-21640924AE42, 1, (t:1, i:10))
2024-08-30 17:46:36,133 [s1@group-21640924AE42-LeaderElection5-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2|localhost:15008
2024-08-30 17:46:36,136 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-21640924AE42-FOLLOWER: accept PRE_VOTE from s1: our last entry (t:1, i:9) < candidate's last entry (t:1, i:10)
2024-08-30 17:46:36,137 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s3@group-21640924AE42 replies to PRE_VOTE vote request: s1<-s3#0:OK-t1. Peer's state: s3@group-21640924AE42:t1, leader=s4, voted=s3, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c8:last(t:1, i:9), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:36,139 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s0@group-21640924AE42: receive requestVote(PRE_VOTE, s1, group-21640924AE42, 1, (t:1, i:10))
2024-08-30 17:46:36,140 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-21640924AE42-FOLLOWER: accept PRE_VOTE from s1: our last entry (t:1, i:9) < candidate's last entry (t:1, i:10)
2024-08-30 17:46:36,140 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s0@group-21640924AE42 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-21640924AE42:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c8:last(t:1, i:9), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:36,140 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s4@group-21640924AE42: receive requestVote(PRE_VOTE, s1, group-21640924AE42, 1, (t:1, i:10))
2024-08-30 17:46:36,140 [grpc-default-executor-11] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: Failed requestVote s1->s4#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s4@group-21640924AE42 is not in [RUNNING]: current state is CLOSED
2024-08-30 17:46:36,142 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s2@group-21640924AE42: receive requestVote(PRE_VOTE, s1, group-21640924AE42, 1, (t:1, i:10))
2024-08-30 17:46:36,143 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-21640924AE42-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-08-30 17:46:36,143 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s2@group-21640924AE42 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c9:last(t:1, i:10), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:36,143 [s1@group-21640924AE42-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-21640924AE42-LeaderElection5: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-08-30 17:46:36,143 [s1@group-21640924AE42-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:OK-t1
2024-08-30 17:46:36,143 [s1@group-21640924AE42-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s0#0:OK-t1
2024-08-30 17:46:36,143 [s1@group-21640924AE42-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-21640924AE42-LeaderElection5 PRE_VOTE round 0: result PASSED
2024-08-30 17:46:36,143 [s1@group-21640924AE42-LeaderElection5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@11dd0308
2024-08-30 17:46:36,148 [s1@group-21640924AE42-LeaderElection5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:36,148 [s1@group-21640924AE42-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-21640924AE42-LeaderElection5 ELECTION round 0: submit vote requests at term 2 for conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:36,152 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s3@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-21640924AE42 is not the leader, suggested leader is: s4|localhost:15016, logIndex=0, commits[s3:c8, s4:c9, s0:c7, s1:c7, s2:c7]
2024-08-30 17:46:36,154 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s3@group-21640924AE42: receive requestVote(ELECTION, s1, group-21640924AE42, 2, (t:1, i:10))
2024-08-30 17:46:36,154 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-21640924AE42-FOLLOWER: accept ELECTION from s1: our last entry (t:1, i:9) < candidate's last entry (t:1, i:10)
2024-08-30 17:46:36,154 [grpc-default-executor-7] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-21640924AE42: change Leader from s4 to null at term 2 for updateCurrentTerm
2024-08-30 17:46:36,154 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s3@group-21640924AE42: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2024-08-30 17:46:36,154 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s4@group-21640924AE42: receive requestVote(ELECTION, s1, group-21640924AE42, 2, (t:1, i:10))
2024-08-30 17:46:36,154 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s3: shutdown s3@group-21640924AE42-FollowerState
2024-08-30 17:46:36,154 [grpc-default-executor-11] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: Failed requestVote s1->s4#0: org.apache.ratis.protocol.exceptions.ServerNotReadyException: s4@group-21640924AE42 is not in [RUNNING]: current state is CLOSED
2024-08-30 17:46:36,155 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s0@group-21640924AE42: receive requestVote(ELECTION, s1, group-21640924AE42, 2, (t:1, i:10))
2024-08-30 17:46:36,155 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-21640924AE42-FOLLOWER: accept ELECTION from s1: our last entry (t:1, i:9) < candidate's last entry (t:1, i:10)
2024-08-30 17:46:36,155 [grpc-default-executor-9] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-21640924AE42: change Leader from s4 to null at term 2 for updateCurrentTerm
2024-08-30 17:46:36,155 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s0@group-21640924AE42: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2024-08-30 17:46:36,155 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s0: shutdown s0@group-21640924AE42-FollowerState
2024-08-30 17:46:36,155 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-21640924AE42-FollowerState
2024-08-30 17:46:36,156 [grpc-default-executor-9] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2bf56ac3
2024-08-30 17:46:36,156 [s0@group-21640924AE42-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(153)) - s0@group-21640924AE42-FollowerState was interrupted
2024-08-30 17:46:36,157 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s3: start s3@group-21640924AE42-FollowerState
2024-08-30 17:46:36,157 [s3@group-21640924AE42-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(153)) - s3@group-21640924AE42-FollowerState was interrupted
2024-08-30 17:46:36,157 [s1@group-21640924AE42-LeaderElection5] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-21640924AE42-LeaderElection5 got exception when requesting votes: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: s4@group-21640924AE42 is not in [RUNNING]: current state is CLOSED
2024-08-30 17:46:36,157 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6e7fc048
2024-08-30 17:46:36,158 [grpc-default-executor-9] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:36,158 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s2@group-21640924AE42: receive requestVote(ELECTION, s1, group-21640924AE42, 2, (t:1, i:10))
2024-08-30 17:46:36,158 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-21640924AE42-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-08-30 17:46:36,158 [grpc-default-executor-11] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-21640924AE42: change Leader from s4 to null at term 2 for updateCurrentTerm
2024-08-30 17:46:36,158 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s2@group-21640924AE42: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2024-08-30 17:46:36,158 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s0@group-21640924AE42 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-21640924AE42:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c8:last(t:1, i:9), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:36,158 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s2: shutdown s2@group-21640924AE42-FollowerState
2024-08-30 17:46:36,158 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-21640924AE42-FollowerState
2024-08-30 17:46:36,159 [s2@group-21640924AE42-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(153)) - s2@group-21640924AE42-FollowerState was interrupted
2024-08-30 17:46:36,159 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:36,159 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s3@group-21640924AE42 replies to ELECTION vote request: s1<-s3#0:OK-t2. Peer's state: s3@group-21640924AE42:t2, leader=null, voted=s1, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c8:last(t:1, i:9), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:36,164 [grpc-default-executor-11] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@50a862c7
2024-08-30 17:46:36,165 [s1@group-21640924AE42-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-21640924AE42-LeaderElection5: ELECTION PASSED received 2 response(s) and 1 exception(s):
2024-08-30 17:46:36,165 [s1@group-21640924AE42-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s3#0:OK-t2
2024-08-30 17:46:36,165 [s1@group-21640924AE42-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s0#0:OK-t2
2024-08-30 17:46:36,165 [s1@group-21640924AE42-LeaderElection5] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: INTERNAL: s4@group-21640924AE42 is not in [RUNNING]: current state is CLOSED
2024-08-30 17:46:36,165 [s1@group-21640924AE42-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-21640924AE42-LeaderElection5 ELECTION round 0: result PASSED
2024-08-30 17:46:36,166 [s1@group-21640924AE42-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(139)) - s1: shutdown s1@group-21640924AE42-LeaderElection5
2024-08-30 17:46:36,166 [s1@group-21640924AE42-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s1@group-21640924AE42: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-08-30 17:46:36,167 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-08-30 17:46:36,167 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-08-30 17:46:36,167 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-08-30 17:46:36,167 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-08-30 17:46:36,167 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:36,167 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-08-30 17:46:36,168 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-08-30 17:46:36,168 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-08-30 17:46:36,168 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-08-30 17:46:36,168 [grpc-default-executor-11] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta with options [REPLACE_EXISTING]
2024-08-30 17:46:36,169 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:36,169 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s2@group-21640924AE42 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-21640924AE42:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c9:last(t:1, i:10), conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:36,169 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-08-30 17:46:36,169 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-08-30 17:46:36,169 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-08-30 17:46:36,170 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-08-30 17:46:36,170 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:36,170 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2024-08-30 17:46:36,170 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2024-08-30 17:46:36,170 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2024-08-30 17:46:36,171 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.log-message.batch.duration = 5s (default)
2024-08-30 17:46:36,171 [s1@group-21640924AE42-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2024-08-30 17:46:36,171 [s1@group-21640924AE42-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-21640924AE42-LeaderStateImpl
2024-08-30 17:46:36,171 [s1@group-21640924AE42-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-21640924AE42: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 40ms
2024-08-30 17:46:36,172 [s1@group-21640924AE42-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s1@group-21640924AE42-SegmentedRaftLogWorker: Rolling segment log-0_10 to index:10
2024-08-30 17:46:36,172 [s1@group-21640924AE42-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-21640924AE42: set configuration conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:36,173 [s1@group-21640924AE42-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_0-10
2024-08-30 17:46:36,173 [s1@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s1@group-21640924AE42-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_0-10
2024-08-30 17:46:36,174 [s1@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_11 at position 0
2024-08-30 17:46:36,179 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s3@group-21640924AE42: change Leader from null to s1 at term 2 for appendEntries, leader elected after 25ms
2024-08-30 17:46:36,182 [grpc-default-executor-11] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=1, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@12daa1d5 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@12daa1d5 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:36,183 [s3-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1667)) - s3@group-21640924AE42: Failed appendEntries as previous log entry ((t:1, i:10)) is not found
2024-08-30 17:46:36,183 [s3-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1599)) - s3@group-21640924AE42: appendEntries* reply s1<-s3#0:FAIL-t2,INCONSISTENCY,nextIndex=10,followerCommit=8,matchIndex=-1
2024-08-30 17:46:36,184 [s1@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-21640924AE42-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_11
2024-08-30 17:46:36,186 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(528)) - s1@group-21640924AE42->s3-AppendLogResponseHandler: received INCONSISTENCY reply with nextIndex 10, errorCount=1, request=AppendEntriesRequest:cid=0,entriesCount=0
2024-08-30 17:46:36,187 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s3: setNextIndex nextIndex: updateUnconditionally 11 -> 10
2024-08-30 17:46:36,189 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-21640924AE42: change Leader from null to s1 at term 2 for appendEntries, leader elected after 34ms
2024-08-30 17:46:36,189 [s0-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1667)) - s0@group-21640924AE42: Failed appendEntries as previous log entry ((t:1, i:10)) is not found
2024-08-30 17:46:36,190 [s0-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1599)) - s0@group-21640924AE42: appendEntries* reply s1<-s0#0:FAIL-t2,INCONSISTENCY,nextIndex=10,followerCommit=8,matchIndex=-1
2024-08-30 17:46:36,190 [s0-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1667)) - s0@group-21640924AE42: Failed appendEntries as previous log entry ((t:1, i:10)) is not found
2024-08-30 17:46:36,190 [s0-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1599)) - s0@group-21640924AE42: appendEntries* reply s1<-s0#1:FAIL-t2,INCONSISTENCY,nextIndex=10,followerCommit=8,matchIndex=-1
2024-08-30 17:46:36,192 [grpc-default-executor-1] WARN  server.GrpcLogAppender (LogUtils.java:warn(123)) - s1@group-21640924AE42->s4-AppendLogResponseHandler: Failed appendEntries
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@12daa1d5 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-08-30 17:46:36,193 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-21640924AE42: change Leader from null to s1 at term 2 for appendEntries, leader elected after 35ms
2024-08-30 17:46:36,194 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-21640924AE42: set configuration conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:36,194 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s2@group-21640924AE42-SegmentedRaftLogWorker: Rolling segment log-0_10 to index:10
2024-08-30 17:46:36,196 [s2@group-21640924AE42-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_0-10
2024-08-30 17:46:36,196 [s2@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s2@group-21640924AE42-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_0-10
2024-08-30 17:46:36,196 [s2@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_11 at position 0
2024-08-30 17:46:36,199 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-21640924AE42: set configuration conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:36,204 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(528)) - s1@group-21640924AE42->s0-AppendLogResponseHandler: received INCONSISTENCY reply with nextIndex 10, errorCount=2, request=AppendEntriesRequest:cid=1,entriesCount=1,entry=(t:2, i:11)
2024-08-30 17:46:36,204 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s0: setNextIndex nextIndex: updateUnconditionally 12 -> 10
2024-08-30 17:46:36,204 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:36,205 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:36,205 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 12 -> 11
2024-08-30 17:46:36,204 [grpc-default-executor-9] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(528)) - s1@group-21640924AE42->s0-AppendLogResponseHandler: received INCONSISTENCY reply with nextIndex 10, errorCount=1, request=AppendEntriesRequest:cid=0,entriesCount=0
2024-08-30 17:46:36,205 [s3-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s3@group-21640924AE42-SegmentedRaftLogWorker: Rolling segment log-0_10 to index:10
2024-08-30 17:46:36,208 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-21640924AE42: set configuration conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-30 17:46:36,208 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(443)) - s0@group-21640924AE42-SegmentedRaftLogWorker: Rolling segment log-0_10 to index:10
2024-08-30 17:46:36,209 [s3@group-21640924AE42-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_0-10
2024-08-30 17:46:36,209 [s3@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s3@group-21640924AE42-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_0-10
2024-08-30 17:46:36,209 [s3@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_11 at position 0
2024-08-30 17:46:36,209 [grpc-default-executor-9] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=2, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@2e037e8 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@2e037e8 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:36,212 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:36,212 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:36,212 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 12 -> 11
2024-08-30 17:46:36,214 [s0@group-21640924AE42-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_0-10
2024-08-30 17:46:36,214 [s0@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(617)) - s0@group-21640924AE42-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_0-10
2024-08-30 17:46:36,214 [s0@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_11 at position 0
2024-08-30 17:46:36,219 [s2@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-21640924AE42-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_11
2024-08-30 17:46:36,222 [s3@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s3@group-21640924AE42-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_11
2024-08-30 17:46:36,224 [s3@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-08-30 17:46:36,224 [s3@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s3: put 9, first4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:36,225 [s3@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:9): s3-TransactionManager <empty>
2024-08-30 17:46:36,225 [s0@group-21640924AE42-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-21640924AE42-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/log_inprogress_11
2024-08-30 17:46:36,226 [s1@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@56301c2f
2024-08-30 17:46:36,228 [s0@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:applyTransaction(251)) - applyTransaction for log index 9
2024-08-30 17:46:36,228 [s0@group-21640924AE42-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(207)) - s0: put 9, first4 -> (t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0
2024-08-30 17:46:36,232 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=3, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@a5fbc93 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@a5fbc93 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:36,232 [s0@group-21640924AE42-StateMachineUpdater] DEBUG impl.TransactionManager (TransactionManager.java:remove(68)) - (t:1, i:9): s0-TransactionManager <empty>
2024-08-30 17:46:36,232 [s3@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2a61bbfa
2024-08-30 17:46:36,232 [s0@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4faea094
2024-08-30 17:46:36,233 [s1@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s1/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-08-30 17:46:36,233 [s1@group-21640924AE42-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(317)) - Leader s1@group-21640924AE42-LeaderStateImpl is ready since appliedIndex == startIndex == 11
2024-08-30 17:46:36,233 [s2@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@816b3
2024-08-30 17:46:36,238 [grpc-default-executor-4] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:36,238 [s2@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s2/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-08-30 17:46:36,238 [grpc-default-executor-4] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:36,238 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 12 -> 11
2024-08-30 17:46:36,239 [s3@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s3/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-08-30 17:46:36,240 [s0@group-21640924AE42-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/6496579a/MiniRaftClusterWithGrpc5bf39613/s0/a0b26a72-57fd-4fc3-b882-21640924ae42/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-08-30 17:46:36,242 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=6, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@ce7deb2 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@ce7deb2 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:36,244 [grpc-default-executor-2] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:36,244 [grpc-default-executor-2] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:36,244 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 13 -> 11
2024-08-30 17:46:36,372 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(331)) - Failed request cid=5, null, reply=RaftClientReply:client-9CA7D715008C->s0@group-21640924AE42, cid=5, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-21640924AE42 is not the leader, suggested leader is: s1|localhost:15004, logIndex=0, commits[s0:c11, s3:c9, s4:c9, s1:c11, s2:c9]
2024-08-30 17:46:36,490 [main] DEBUG impl.TransactionManager (TransactionManager.java:getMap(49)) - s3-TransactionManager <empty>
2024-08-30 17:46:36,490 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #1/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:36,991 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=8, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@3e5d2e55 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@3e5d2e55 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:36,993 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:36,993 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:36,994 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 13 -> 11
2024-08-30 17:46:37,490 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #2/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:37,741 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=9, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@7f118b14 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@7f118b14 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:37,744 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:37,744 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:37,745 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 13 -> 11
2024-08-30 17:46:38,491 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #3/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:38,496 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=12, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@28d42072 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@28d42072 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:38,499 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:38,499 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:38,499 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 13 -> 11
2024-08-30 17:46:39,249 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=14, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@2507887c rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@2507887c rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:39,251 [grpc-default-executor-2] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:39,251 [grpc-default-executor-2] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:39,251 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 13 -> 11
2024-08-30 17:46:39,491 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #4/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:40,001 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=16, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@50b7d6cc rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@50b7d6cc rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:40,004 [grpc-default-executor-2] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:40,004 [grpc-default-executor-2] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:40,004 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 13 -> 11
2024-08-30 17:46:40,492 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #5/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:40,755 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=18, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@79d02b0e rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@79d02b0e rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:40,757 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:40,757 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:40,757 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 13 -> 11
2024-08-30 17:46:41,195 [timer0] WARN  server.GrpcLogAppender (LogUtils.java:warn(123)) - s1@group-21640924AE42->s4-AppendLogResponseHandler: Failed appendEntries (Repeated 10 times in the last 5.002s)
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@79d02b0e rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-08-30 17:46:41,229 [Timer-0] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$7(352)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s4:  RUNNING    LEADER s4@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:CLOSED:c9, conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} CLOSED
  s0:  RUNNING  FOLLOWER s0@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-30 17:46:41,492 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #6/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:41,507 [grpc-default-executor-4] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=20, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@5bd57b80 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@5bd57b80 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:41,510 [grpc-default-executor-4] WARN  server.GrpcLogAppender (LogUtils.java:warn(123)) - s1@group-21640924AE42->s4-AppendLogResponseHandler: Failed appendEntries
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@5bd57b80 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-08-30 17:46:41,511 [grpc-default-executor-4] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:41,511 [grpc-default-executor-4] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:41,511 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 13 -> 11
2024-08-30 17:46:42,492 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #7/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:42,968 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=22, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@6aac4993 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@6aac4993 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:42,971 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:42,971 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:42,971 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 13 -> 11
2024-08-30 17:46:43,493 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #8/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:44,207 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=24, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@5a182020 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@5a182020 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:44,209 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:44,209 [grpc-default-executor-1] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:44,210 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 13 -> 11
2024-08-30 17:46:44,493 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #9/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:45,494 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #10/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:46,494 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #11/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:46,512 [timer7] WARN  server.GrpcLogAppender (LogUtils.java:warn(123)) - s1@group-21640924AE42->s4-AppendLogResponseHandler: Failed appendEntries (Repeated 3 times in the last 5.002s)
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@5a182020 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-08-30 17:46:47,494 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #12/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:48,495 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #13/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:48,543 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-21640924AE42->s4-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=14, request=AppendEntriesRequest:cid=25,entriesCount=0
2024-08-30 17:46:49,495 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #14/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:49,554 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-21640924AE42->s4-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=15, request=AppendEntriesRequest:cid=26,entriesCount=0
2024-08-30 17:46:50,496 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #15/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:50,646 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-21640924AE42->s4-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=16, request=AppendEntriesRequest:cid=27,entriesCount=0
2024-08-30 17:46:51,229 [Timer-0] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$7(352)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s4:  RUNNING    LEADER s4@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:CLOSED:c9, conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} CLOSED
  s0:  RUNNING  FOLLOWER s0@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-30 17:46:51,496 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #16/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:52,080 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-21640924AE42->s4-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=17, request=AppendEntriesRequest:cid=28,entriesCount=0
2024-08-30 17:46:52,496 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #17/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:53,468 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-21640924AE42->s4-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=18, request=AppendEntriesRequest:cid=29,entriesCount=0
2024-08-30 17:46:53,497 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #18/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:54,497 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #19/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:54,516 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-21640924AE42->s4-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=19, request=AppendEntriesRequest:cid=30,entriesCount=0
2024-08-30 17:46:55,497 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #20/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:55,605 [timer1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-21640924AE42->s4-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=20, request=AppendEntriesRequest:cid=31,entriesCount=0
2024-08-30 17:46:56,387 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-21640924AE42->s4-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=21, request=AppendEntriesRequest:cid=32,entriesCount=0
2024-08-30 17:46:56,498 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #21/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:57,278 [grpc-default-executor-4] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=36, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@2e56da5c rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@2e56da5c rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:57,281 [grpc-default-executor-4] WARN  server.GrpcLogAppender (LogUtils.java:warn(123)) - s1@group-21640924AE42->s4-AppendLogResponseHandler: Failed appendEntries
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@2e56da5c rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-08-30 17:46:57,281 [grpc-default-executor-4] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:57,281 [grpc-default-executor-4] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:57,281 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 13 -> 11
2024-08-30 17:46:57,498 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #22/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:58,499 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #23/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:46:58,663 [grpc-default-executor-4] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(123)) - s4: Failed APPEND_ENTRIES request cid=38, isHeartbeat? false
java.util.concurrent.CompletionException: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@493d8e29 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:273)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1005)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@493d8e29 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	... 13 more
2024-08-30 17:46:58,665 [grpc-default-executor-4] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:58,665 [grpc-default-executor-4] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 11
2024-08-30 17:46:58,665 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 13 -> 11
2024-08-30 17:46:59,499 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #24/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:47:00,499 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #25/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:47:01,229 [Timer-0] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$7(352)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s4:  RUNNING    LEADER s4@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:CLOSED:c9, conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} CLOSED
  s0:  RUNNING  FOLLOWER s0@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-30 17:47:01,500 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #26/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:47:02,282 [timer3] WARN  server.GrpcLogAppender (LogUtils.java:warn(123)) - s1@group-21640924AE42->s4-AppendLogResponseHandler: Failed appendEntries (Repeated 2 times in the last 5.000s)
java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.CompletableFuture$AsyncSupply@493d8e29 rejected from java.util.concurrent.ThreadPoolExecutor@65ed0ca2[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
	at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)
	at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)
	at java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1618)
	at java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1843)
	at org.apache.ratis.server.impl.RaftServerImpl.executeSubmitServerRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$appendEntriesAsync$29(RaftServerProxy.java:655)
	at java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:995)
	at java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2137)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntriesAsync(RaftServerProxy.java:655)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$1.process(GrpcServerProtocolService.java:307)
	at org.apache.ratis.grpc.server.GrpcServerProtocolService$ServerRequestStreamObserver.onNext(GrpcServerProtocolService.java:174)
	at org.apache.ratis.thirdparty.io.grpc.stub.ServerCalls$StreamingServerCallHandler$StreamingServerCallListener.onMessage(ServerCalls.java:262)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailableInternal(ServerCallImpl.java:329)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.messagesAvailable(ServerCallImpl.java:314)
	at org.apache.ratis.thirdparty.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1MessagesAvailable.runInContext(ServerImpl.java:833)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-08-30 17:47:02,500 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #27/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:47:02,961 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-21640924AE42->s4-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=24, request=AppendEntriesRequest:cid=39,entriesCount=0
2024-08-30 17:47:03,501 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #28/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:47:03,872 [timer3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-21640924AE42->s4-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=25, request=AppendEntriesRequest:cid=40,entriesCount=0
2024-08-30 17:47:04,501 [main] WARN  grpc.TestRaftLogTruncateWithGrpc (JavaUtils.java:attempt(231)) - FAILED "s4 assertLogEntries", attempt #29/30, sleep 1s and then retry: java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
2024-08-30 17:47:04,801 [timer2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:timeoutAppendRequest(450)) - s1@group-21640924AE42->s4-GrpcLogAppender: Timed out HEARTBEAT appendEntries, errorCount=26, request=AppendEntriesRequest:cid=41,entriesCount=0
2024-08-30 17:47:05,505 [main] INFO  grpc.TestRaftLogTruncateWithGrpc (RaftLogTruncateTests.java:runTestLogTruncate(118)) - killedPeers   : [s3, s0, s1]
2024-08-30 17:47:05,505 [main] INFO  grpc.TestRaftLogTruncateWithGrpc (RaftLogTruncateTests.java:runTestLogTruncate(119)) - remainingPeers: [s4, s2]
2024-08-30 17:47:05,505 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(145)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s4:  RUNNING    LEADER s4@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:CLOSED:c9, conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} CLOSED
  s0:  RUNNING  FOLLOWER s0@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-30 17:47:05,505 [main] ERROR impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(146)) - Failed org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
java.lang.IllegalStateException: s4@group-21640924AE42-SegmentedRaftLog is expected to be opened but it is CLOSED
	at org.apache.ratis.util.OpenCloseState.assertOpen(OpenCloseState.java:63)
	at org.apache.ratis.server.raftlog.RaftLogBase.checkLogState(RaftLogBase.java:115)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.getLastEntryTermIndex(SegmentedRaftLog.java:379)
	at org.apache.ratis.RaftTestUtil.getLogEntryProtos(RaftTestUtil.java:267)
	at org.apache.ratis.RaftTestUtil.getStateMachineLogEntries(RaftTestUtil.java:315)
	at org.apache.ratis.RaftTestUtil.assertLogEntries(RaftTestUtil.java:333)
	at org.apache.ratis.RaftTestUtil.lambda$assertLogEntries$8(RaftTestUtil.java:262)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.RaftTestUtil.assertLogEntries(RaftTestUtil.java:262)
	at org.apache.ratis.RaftLogTruncateTests.assertLogEntries(RaftLogTruncateTests.java:273)
	at org.apache.ratis.RaftLogTruncateTests.runTestLogTruncate(RaftLogTruncateTests.java:147)
	at org.apache.ratis.RaftLogTruncateTests.runTestLogTruncate(RaftLogTruncateTests.java:116)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:143)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.RaftLogTruncateTests.testLogTruncate(RaftLogTruncateTests.java:94)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.SameThreadTimeoutInvocation.proceed(SameThreadTimeoutInvocation.java:45)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:63)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:154)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:123)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:377)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:138)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:465)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:451)
Caused by: org.apache.ratis.util.OpenCloseState$CloseTrace: Close s4@group-21640924AE42-SegmentedRaftLog
	at org.apache.ratis.util.OpenCloseState.lambda$close$1(OpenCloseState.java:109)
	at java.util.concurrent.atomic.AtomicReference.getAndUpdate(AtomicReference.java:160)
	at org.apache.ratis.util.OpenCloseState.close(OpenCloseState.java:109)
	at org.apache.ratis.server.raftlog.RaftLogBase.close(RaftLogBase.java:394)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.close(SegmentedRaftLog.java:561)
	at org.apache.ratis.server.impl.ServerState.close(ServerState.java:434)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$close$1(RaftServerImpl.java:523)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$7(LifeCycle.java:306)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:326)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:304)
	at org.apache.ratis.server.impl.RaftServerImpl.close(RaftServerImpl.java:500)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:207)
	at java.lang.Thread.run(Thread.java:750)
2024-08-30 17:47:05,507 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-08-30 17:47:05,507 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-08-30 17:47:05,507 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithGrpc
2024-08-30 17:47:05,507 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-08-30 17:47:05,507 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-08-30 17:47:05,507 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s3@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s4:  RUNNING    LEADER s4@group-21640924AE42:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-21640924AE42-SegmentedRaftLog:CLOSED:c9, conf=conf: {index: 0, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} CLOSED
  s0:  RUNNING  FOLLOWER s0@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s1:  RUNNING    LEADER s1@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-21640924AE42:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-21640924AE42-SegmentedRaftLog:OPENED:c12:last(t:2, i:12), conf=conf: {index: 11, cur=peers:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-30 17:47:05,509 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s4: close
2024-08-30 17:47:05,512 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-08-30 17:47:05,517 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-08-30 17:47:05,509 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s3: close
2024-08-30 17:47:05,518 [MiniRaftCluster-5] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-08-30 17:47:05,518 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-08-30 17:47:05,518 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(501)) - s1@group-21640924AE42: shutdown
2024-08-30 17:47:05,518 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-08-30 17:47:05,518 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(501)) - s0@group-21640924AE42: shutdown
2024-08-30 17:47:05,518 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(501)) - s3@group-21640924AE42: shutdown
2024-08-30 17:47:05,519 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-21640924AE42,id=s0
2024-08-30 17:47:05,519 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s0: shutdown s0@group-21640924AE42-FollowerState
2024-08-30 17:47:05,519 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-21640924AE42-StateMachineUpdater: set stopIndex = 12
2024-08-30 17:47:05,519 [s0@group-21640924AE42-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-21640924AE42-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:12)
2024-08-30 17:47:05,519 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-08-30 17:47:05,519 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-21640924AE42,id=s1
2024-08-30 17:47:05,520 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-21640924AE42-LeaderStateImpl
2024-08-30 17:47:05,520 [s1@group-21640924AE42->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-21640924AE42->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-08-30 17:47:05,518 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-08-30 17:47:05,520 [s1@group-21640924AE42->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-21640924AE42->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-08-30 17:47:05,521 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: null
2024-08-30 17:47:05,518 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2024-08-30 17:47:05,518 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(501)) - s2@group-21640924AE42: shutdown
2024-08-30 17:47:05,525 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#3-t2,previous=(t:2, i:11),leaderCommit=11,initializing? false,entries: size=1, first=(t:2, i:12), METADATAENTRY(c:11)
2024-08-30 17:47:05,525 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s3: Completed APPEND_ENTRIES, lastRequest: s1->s3#3-t2,previous=(t:2, i:11),leaderCommit=11,initializing? false,entries: size=1, first=(t:2, i:12), METADATAENTRY(c:11)
2024-08-30 17:47:05,526 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: null
2024-08-30 17:47:05,524 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2024-08-30 17:47:05,526 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-21640924AE42->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-08-30 17:47:05,522 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s3: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s3"
  raftGroupId {
    id: "\240\262jrW\375O\303\270\202!d\t$\256B"
  }
  callId: 25
  success: true
}
term: 2
nextIndex: 13
followerCommit: 12
matchIndex: 18446744073709551615
isHearbeat: true

2024-08-30 17:47:05,520 [s1@group-21640924AE42->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-21640924AE42->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-08-30 17:47:05,520 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-21640924AE42-PendingRequests: sendNotLeaderResponses
2024-08-30 17:47:05,527 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-21640924AE42->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-08-30 17:47:05,520 [s1@group-21640924AE42->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(293)) - s1@group-21640924AE42->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2024-08-30 17:47:05,519 [s0@group-21640924AE42-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-21640924AE42-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-08-30 17:47:05,519 [s0@group-21640924AE42-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(153)) - s0@group-21640924AE42-FollowerState was interrupted
2024-08-30 17:47:05,519 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-21640924AE42,id=s3
2024-08-30 17:47:05,526 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "\240\262jrW\375O\303\270\202!d\t$\256B"
  }
  callId: 24
  success: true
}
term: 2
nextIndex: 13
followerCommit: 12
matchIndex: 18446744073709551615
isHearbeat: true

2024-08-30 17:47:05,526 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-21640924AE42,id=s2
2024-08-30 17:47:05,528 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s2: shutdown s2@group-21640924AE42-FollowerState
2024-08-30 17:47:05,525 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s0: Completed APPEND_ENTRIES, lastReply: null
2024-08-30 17:47:05,529 [s2@group-21640924AE42-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(153)) - s2@group-21640924AE42-FollowerState was interrupted
2024-08-30 17:47:05,528 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-21640924AE42-StateMachineUpdater: set stopIndex = 12
2024-08-30 17:47:05,528 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: null
2024-08-30 17:47:05,528 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s3: shutdown s3@group-21640924AE42-FollowerState
2024-08-30 17:47:05,529 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s3@group-21640924AE42-StateMachineUpdater: set stopIndex = 12
2024-08-30 17:47:05,529 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s4: Completed APPEND_ENTRIES, lastReply: null
2024-08-30 17:47:05,529 [s3@group-21640924AE42-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s3@group-21640924AE42-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:12)
2024-08-30 17:47:05,529 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-21640924AE42-StateMachineUpdater: set stopIndex = 12
2024-08-30 17:47:05,530 [Thread-143] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-08-30 17:47:05,529 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t2,previous=(t:2, i:11),leaderCommit=11,initializing? false,entries: size=1, first=(t:2, i:12), METADATAENTRY(c:11)
2024-08-30 17:47:05,529 [s1@group-21640924AE42-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-21640924AE42-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:12)
2024-08-30 17:47:05,531 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: null
2024-08-30 17:47:05,531 [s2@group-21640924AE42-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-21640924AE42-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:12)
2024-08-30 17:47:05,531 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s4: Completed APPEND_ENTRIES, lastRequest: null
2024-08-30 17:47:05,531 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-21640924AE42->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-08-30 17:47:05,530 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-21640924AE42->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-08-30 17:47:05,532 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-21640924AE42->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-08-30 17:47:05,530 [Thread-151] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-08-30 17:47:05,530 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(200)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2024-08-30 17:47:05,530 [Thread-148] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-08-30 17:47:05,530 [Thread-146] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-08-30 17:47:05,532 [grpc-default-executor-11] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 0
2024-08-30 17:47:05,532 [grpc-default-executor-11] INFO  leader.LogAppender (LogAppenderBase.java:lambda$getNextIndexForError$0(219)) - Decrease nextIndex to 0
2024-08-30 17:47:05,532 [grpc-default-executor-11] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-21640924AE42->s4: computeNextIndex nextIndex: updateUnconditionally 11 -> 0
2024-08-30 17:47:05,531 [s3@group-21640924AE42-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(153)) - s3@group-21640924AE42-FollowerState was interrupted
2024-08-30 17:47:05,533 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$7(202)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "\240\262jrW\375O\303\270\202!d\t$\256B"
  }
  callId: 25
  success: true
}
term: 2
nextIndex: 13
followerCommit: 12
matchIndex: 18446744073709551615
isHearbeat: true

2024-08-30 17:47:05,534 [Thread-150] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-08-30 17:47:05,535 [Thread-152] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-08-30 17:47:05,536 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-21640924AE42->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-08-30 17:47:05,536 [Thread-144] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-08-30 17:47:05,536 [Thread-154] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-08-30 17:47:05,536 [Thread-156] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-08-30 17:47:05,538 [s2@group-21640924AE42-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-21640924AE42-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-08-30 17:47:05,541 [Thread-155] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-08-30 17:47:05,538 [Thread-163] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-08-30 17:47:05,538 [Thread-161] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-08-30 17:47:05,537 [Thread-160] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s4 Close channels
2024-08-30 17:47:05,537 [Thread-149] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s3 Close channels
2024-08-30 17:47:05,537 [Thread-158] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-08-30 17:47:05,537 [Thread-157] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-08-30 17:47:05,546 [Thread-166] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-08-30 17:47:05,546 [Thread-164] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s2 Close channels
2024-08-30 17:47:05,546 [Thread-165] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s0 Close channels
2024-08-30 17:47:05,541 [s1@group-21640924AE42-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-21640924AE42-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-08-30 17:47:05,541 [s3@group-21640924AE42-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-21640924AE42-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-08-30 17:47:05,541 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(559)) - s1@group-21640924AE42->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2024-08-30 17:47:05,550 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(230)) - s1@group-21640924AE42->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:67)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:124)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:200)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:205)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$800(GrpcLogAppender.java:64)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:560)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-08-30 17:47:05,541 [Thread-159] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(105)) - s1 Close channels
2024-08-30 17:47:05,550 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-08-30 17:47:05,550 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s3: shutdown server GrpcServerProtocolService now
2024-08-30 17:47:05,553 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-08-30 17:47:05,553 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s0: shutdown server GrpcServerProtocolService now
2024-08-30 17:47:05,554 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-08-30 17:47:05,554 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s2: shutdown server GrpcServerProtocolService now
2024-08-30 17:47:05,555 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s2: shutdown server GrpcServerProtocolService successfully
2024-08-30 17:47:05,555 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-08-30 17:47:05,556 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-08-30 17:47:05,558 [grpc-default-executor-9] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s3: APPEND_ENTRIES onError, lastRequest: s4->s3#36-t1,previous=(t:1, i:8),leaderCommit=8,initializing? false,entries: size=1, first=(t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,558 [grpc-default-executor-11] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s3: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,559 [grpc-default-executor-9] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,559 [grpc-default-executor-4] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,559 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: s4->s0#31-t1,previous=(t:1, i:8),leaderCommit=8,initializing? false,entries: size=1, first=(t:1, i:9), STATEMACHINELOGENTRY, WRITE: logData.size=6, stateMachineData.size=17, logEntryProtoSerializedSize=0: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,560 [grpc-default-executor-4] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s3: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,560 [grpc-default-executor-11] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s3: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,561 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s4@group-21640924AE42->s3-GrpcLogAppender is already stopped
2024-08-30 17:47:05,561 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s3: shutdown server GrpcServerProtocolService successfully
2024-08-30 17:47:05,562 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-08-30 17:47:05,562 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-08-30 17:47:05,560 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,561 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s4@group-21640924AE42->s3-GrpcLogAppender is already stopped
2024-08-30 17:47:05,563 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s4@group-21640924AE42->s0-GrpcLogAppender is already stopped
2024-08-30 17:47:05,564 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s4@group-21640924AE42->s0-GrpcLogAppender is already stopped
2024-08-30 17:47:05,564 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s0: shutdown server GrpcServerProtocolService successfully
2024-08-30 17:47:05,564 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-08-30 17:47:05,564 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s4@group-21640924AE42->s0-GrpcLogAppender is already stopped
2024-08-30 17:47:05,564 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s4@group-21640924AE42->s0-GrpcLogAppender is already stopped
2024-08-30 17:47:05,564 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-08-30 17:47:05,565 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s4@group-21640924AE42->s3-GrpcLogAppender is already stopped
2024-08-30 17:47:05,565 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s4@group-21640924AE42->s3-GrpcLogAppender is already stopped
2024-08-30 17:47:05,565 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-08-30 17:47:05,565 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s4: shutdown server GrpcServerProtocolService now
2024-08-30 17:47:05,566 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,566 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,566 [grpc-default-executor-2] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,566 [grpc-default-executor-11] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,567 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,567 [grpc-default-executor-11] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,567 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,567 [grpc-default-executor-11] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,567 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,567 [grpc-default-executor-11] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,567 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,567 [grpc-default-executor-11] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,568 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,568 [grpc-default-executor-11] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,568 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s4: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2024-08-30 17:47:05,568 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s4: shutdown server GrpcServerProtocolService successfully
2024-08-30 17:47:05,569 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-08-30 17:47:05,569 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,569 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,569 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,569 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,569 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,569 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-08-30 17:47:05,569 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,570 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-08-30 17:47:05,570 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,570 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,570 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,571 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,571 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,571 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,570 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,570 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,570 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,571 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(546)) - s1@group-21640924AE42->s4-GrpcLogAppender is already stopped
2024-08-30 17:47:05,571 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2024-08-30 17:47:05,571 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s1: shutdown server GrpcServerProtocolService now
2024-08-30 17:47:05,571 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s1: shutdown server GrpcServerProtocolService successfully
2024-08-30 17:47:05,572 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(349)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2024-08-30 17:47:05,572 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(358)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2024-08-30 17:47:06,232 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-21640924AE42-SegmentedRaftLogWorker close()
2024-08-30 17:47:06,233 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-08-30 17:47:06,234 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-21640924AE42-SegmentedRaftLogWorker close()
2024-08-30 17:47:06,235 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-21640924AE42-SegmentedRaftLogWorker close()
2024-08-30 17:47:06,239 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s3@group-21640924AE42-SegmentedRaftLogWorker close()
2024-08-30 17:47:06,244 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-08-30 17:47:06,244 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-08-30 17:47:06,245 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-08-30 17:47:06,246 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithGrpc shutdown completed
2024-08-30 17:47:06,246 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-08-30 17:47:06,411 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$LogEntryProto is not released properly
2024-08-30 17:47:06,412 [main] WARN  util.ReferenceCountedLeakDetector (ReferenceCountedLeakDetector.java:lambda$new$0(147)) - LEAK: A org.apache.ratis.proto.RaftProtos$LogEntryProto is not released properly
