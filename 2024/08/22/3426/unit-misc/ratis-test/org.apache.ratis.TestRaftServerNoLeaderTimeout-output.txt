2024-08-22 16:45:37,644 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-08-22 16:45:37,646 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-08-22 16:45:37,655 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-08-22 16:45:37,662 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-08-22 16:45:37,705 [main] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-08-22 16:45:37,819 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(309)) - new MiniRaftClusterWithSimulatedRpc with group-6DB56CECAC8C:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]
2024-08-22 16:45:37,843 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-08-22 16:45:37,844 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - ... 
2024-08-22 16:45:37,844 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(344)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-08-22 16:45:37,844 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(345)) - ... 
2024-08-22 16:45:37,845 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(346)) - .............................................................. 
2024-08-22 16:45:37,845 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(321)) - servers = {}
2024-08-22 16:45:37,850 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s0, group-6DB56CECAC8C:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-08-22 16:45:37,852 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0
2024-08-22 16:45:37,854 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0 does not exist.
2024-08-22 16:45:37,854 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0
2024-08-22 16:45:37,870 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-08-22 16:45:37,880 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-08-22 16:45:37,883 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-08-22 16:45:37,884 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-08-22 16:45:37,884 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-08-22 16:45:37,909 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0] (custom)
2024-08-22 16:45:37,918 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-08-22 16:45:37,919 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-08-22 16:45:37,934 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-6DB56CECAC8C:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-6DB56CECAC8C:java.util.concurrent.CompletableFuture@1f6d27cc[Not completed]
2024-08-22 16:45:37,935 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s1, group-6DB56CECAC8C:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-08-22 16:45:37,935 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1
2024-08-22 16:45:37,936 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1 does not exist.
2024-08-22 16:45:37,937 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1
2024-08-22 16:45:37,937 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-08-22 16:45:37,939 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-08-22 16:45:37,940 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-08-22 16:45:37,942 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-08-22 16:45:37,942 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-08-22 16:45:37,943 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1] (custom)
2024-08-22 16:45:37,943 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-08-22 16:45:37,944 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-08-22 16:45:37,949 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-6DB56CECAC8C:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-6DB56CECAC8C:java.util.concurrent.CompletableFuture@26d820eb[Not completed]
2024-08-22 16:45:37,949 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - newRaftServer: s2, group-6DB56CECAC8C:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-08-22 16:45:37,950 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2
2024-08-22 16:45:37,950 [main] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2 does not exist.
2024-08-22 16:45:37,951 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(391)) - Formatted directory target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2
2024-08-22 16:45:37,951 [main] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-08-22 16:45:37,952 [main] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-08-22 16:45:37,952 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-08-22 16:45:37,953 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-08-22 16:45:37,953 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-08-22 16:45:37,953 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2] (custom)
2024-08-22 16:45:37,954 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-08-22 16:45:37,954 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-08-22 16:45:37,955 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-08-22 16:45:37,956 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-08-22 16:45:37,956 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-08-22 16:45:37,957 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-08-22 16:45:37,958 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-08-22 16:45:37,959 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-08-22 16:45:37,960 [main] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-6DB56CECAC8C:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-6DB56CECAC8C:java.util.concurrent.CompletableFuture@5cbd159f[Not completed]
2024-08-22 16:45:37,963 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(253)) - s0: new RaftServerImpl for group-6DB56CECAC8C:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with SimpleStateMachine4Testing:uninitialized
2024-08-22 16:45:37,965 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(253)) - s1: new RaftServerImpl for group-6DB56CECAC8C:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with SimpleStateMachine4Testing:uninitialized
2024-08-22 16:45:37,960 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-08-22 16:45:37,965 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-08-22 16:45:37,966 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-08-22 16:45:37,966 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(253)) - s2: new RaftServerImpl for group-6DB56CECAC8C:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with SimpleStateMachine4Testing:uninitialized
2024-08-22 16:45:37,967 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-08-22 16:45:37,967 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-08-22 16:45:37,968 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-08-22 16:45:37,968 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-08-22 16:45:37,967 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-08-22 16:45:37,969 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-08-22 16:45:37,969 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-08-22 16:45:37,969 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-08-22 16:45:37,968 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-08-22 16:45:37,968 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-08-22 16:45:37,971 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-08-22 16:45:37,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-08-22 16:45:37,971 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-08-22 16:45:37,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-08-22 16:45:37,972 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-08-22 16:45:37,972 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-08-22 16:45:37,972 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-08-22 16:45:37,972 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-08-22 16:45:37,972 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-08-22 16:45:37,972 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-08-22 16:45:37,973 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-08-22 16:45:37,982 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s2@group-6DB56CECAC8C: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-08-22 16:45:37,982 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s1@group-6DB56CECAC8C: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-08-22 16:45:37,982 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(114)) - s0@group-6DB56CECAC8C: ConfigurationManager, init=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}, confs=<EMPTY_MAP>
2024-08-22 16:45:37,990 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 1s (custom)
2024-08-22 16:45:37,991 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 1s (custom)
2024-08-22 16:45:37,990 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 1s (custom)
2024-08-22 16:45:37,996 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-08-22 16:45:37,996 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-08-22 16:45:37,996 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-08-22 16:45:38,004 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-08-22 16:45:38,004 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-08-22 16:45:38,004 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-08-22 16:45:38,004 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-08-22 16:45:38,004 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-08-22 16:45:38,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-08-22 16:45:38,013 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-08-22 16:45:38,014 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-08-22 16:45:38,014 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-08-22 16:45:38,015 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-08-22 16:45:38,015 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-08-22 16:45:38,016 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-08-22 16:45:38,025 [s2-groupManagement] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2024-08-22 16:45:38,140 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-08-22 16:45:38,140 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-08-22 16:45:38,140 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-08-22 16:45:38,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-08-22 16:45:38,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-08-22 16:45:38,146 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-08-22 16:45:38,147 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-08-22 16:45:38,147 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-08-22 16:45:38,148 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-08-22 16:45:38,148 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-08-22 16:45:38,148 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-08-22 16:45:38,148 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-08-22 16:45:38,149 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-08-22 16:45:38,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-08-22 16:45:38,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-08-22 16:45:38,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-08-22 16:45:38,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-08-22 16:45:38,151 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-08-22 16:45:38,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-08-22 16:45:38,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-08-22 16:45:38,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0] (custom)
2024-08-22 16:45:38,160 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c does not exist. Creating ...
2024-08-22 16:45:38,162 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c
2024-08-22 16:45:38,164 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/in_use.lock acquired by nodename 2668@fv-az1145-513
2024-08-22 16:45:38,164 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current
2024-08-22 16:45:38,165 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/sm
2024-08-22 16:45:38,191 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@24e10eb3
2024-08-22 16:45:38,197 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta with options [REPLACE_EXISTING]
2024-08-22 16:45:38,197 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c has been successfully formatted.
2024-08-22 16:45:38,198 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-08-22 16:45:38,200 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-08-22 16:45:38,203 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-08-22 16:45:38,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-08-22 16:45:38,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,216 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-08-22 16:45:38,216 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-08-22 16:45:38,220 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-08-22 16:45:38,227 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-08-22 16:45:38,227 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-08-22 16:45:38,227 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,229 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-6DB56CECAC8C-cacheEviction-AwaitToRun,5,main] started
2024-08-22 16:45:38,235 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-6DB56CECAC8C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c
2024-08-22 16:45:38,235 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-08-22 16:45:38,235 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-08-22 16:45:38,239 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-08-22 16:45:38,239 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-08-22 16:45:38,239 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-08-22 16:45:38,241 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-08-22 16:45:38,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-08-22 16:45:38,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-08-22 16:45:38,244 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-08-22 16:45:38,246 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,246 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-08-22 16:45:38,247 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-08-22 16:45:38,247 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-08-22 16:45:38,282 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-6DB56CECAC8C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-08-22 16:45:38,283 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s0@group-6DB56CECAC8C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-08-22 16:45:38,285 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(389)) - s0@group-6DB56CECAC8C: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,285 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s0@group-6DB56CECAC8C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-08-22 16:45:38,287 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:38,288 [s0@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-08-22 16:45:38,288 [s0@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-08-22 16:45:38,292 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DB56CECAC8C,id=s0
2024-08-22 16:45:38,292 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-6DB56CECAC8C,id=s0
2024-08-22 16:45:38,295 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-08-22 16:45:38,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-08-22 16:45:38,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-08-22 16:45:38,296 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-08-22 16:45:38,298 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-08-22 16:45:38,304 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s0: start RPC server
2024-08-22 16:45:38,309 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-08-22 16:45:38,309 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-08-22 16:45:38,309 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-08-22 16:45:38,309 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1] (custom)
2024-08-22 16:45:38,310 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c does not exist. Creating ...
2024-08-22 16:45:38,310 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c
2024-08-22 16:45:38,313 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c/in_use.lock acquired by nodename 2668@fv-az1145-513
2024-08-22 16:45:38,313 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c/current
2024-08-22 16:45:38,313 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c/sm
2024-08-22 16:45:38,314 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@95e44ee
2024-08-22 16:45:38,315 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta with options [REPLACE_EXISTING]
2024-08-22 16:45:38,315 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c has been successfully formatted.
2024-08-22 16:45:38,316 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-08-22 16:45:38,316 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-08-22 16:45:38,316 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-08-22 16:45:38,316 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-08-22 16:45:38,316 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,317 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-08-22 16:45:38,317 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-08-22 16:45:38,318 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-08-22 16:45:38,318 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-08-22 16:45:38,319 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-08-22 16:45:38,319 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,319 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-6DB56CECAC8C-cacheEviction-AwaitToRun,5,main] started
2024-08-22 16:45:38,319 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-6DB56CECAC8C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c
2024-08-22 16:45:38,320 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-08-22 16:45:38,320 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-08-22 16:45:38,320 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-08-22 16:45:38,320 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-08-22 16:45:38,320 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-08-22 16:45:38,320 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-08-22 16:45:38,320 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-08-22 16:45:38,321 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-08-22 16:45:38,321 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-08-22 16:45:38,323 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,323 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-08-22 16:45:38,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-08-22 16:45:38,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-08-22 16:45:38,324 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-6DB56CECAC8C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-08-22 16:45:38,324 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s1@group-6DB56CECAC8C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-08-22 16:45:38,329 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(389)) - s1@group-6DB56CECAC8C: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,329 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s1@group-6DB56CECAC8C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-08-22 16:45:38,329 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:38,330 [s1@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-08-22 16:45:38,330 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DB56CECAC8C,id=s1
2024-08-22 16:45:38,330 [s1@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-08-22 16:45:38,330 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-6DB56CECAC8C,id=s1
2024-08-22 16:45:38,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-08-22 16:45:38,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-08-22 16:45:38,330 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-08-22 16:45:38,331 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-08-22 16:45:38,331 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-08-22 16:45:38,332 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s1: start RPC server
2024-08-22 16:45:38,337 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-08-22 16:45:38,337 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-08-22 16:45:38,338 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2] (custom)
2024-08-22 16:45:38,338 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c does not exist. Creating ...
2024-08-22 16:45:38,339 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c
2024-08-22 16:45:38,339 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-08-22 16:45:38,340 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(229)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/in_use.lock acquired by nodename 2668@fv-az1145-513
2024-08-22 16:45:38,340 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current
2024-08-22 16:45:38,340 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/sm
2024-08-22 16:45:38,341 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@50c0b4a9
2024-08-22 16:45:38,343 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta with options [REPLACE_EXISTING]
2024-08-22 16:45:38,343 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(98)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c has been successfully formatted.
2024-08-22 16:45:38,343 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(215)) - Initializing SimpleStateMachine4Testing:uninitialized
2024-08-22 16:45:38,343 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(300)) - Loading snapshot null
2024-08-22 16:45:38,343 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-08-22 16:45:38,344 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-08-22 16:45:38,344 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,344 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-08-22 16:45:38,344 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-08-22 16:45:38,349 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-08-22 16:45:38,349 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-08-22 16:45:38,350 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-08-22 16:45:38,350 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,351 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-6DB56CECAC8C-cacheEviction-AwaitToRun,5,main] started
2024-08-22 16:45:38,351 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-6DB56CECAC8C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c
2024-08-22 16:45:38,351 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-08-22 16:45:38,351 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-08-22 16:45:38,352 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-08-22 16:45:38,352 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-08-22 16:45:38,352 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-08-22 16:45:38,352 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-08-22 16:45:38,352 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-08-22 16:45:38,352 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-08-22 16:45:38,353 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-08-22 16:45:38,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-08-22 16:45:38,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-08-22 16:45:38,355 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-08-22 16:45:38,356 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-6DB56CECAC8C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-08-22 16:45:38,356 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(138)) - s2@group-6DB56CECAC8C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-08-22 16:45:38,356 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(389)) - s2@group-6DB56CECAC8C: start as a follower, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,356 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s2@group-6DB56CECAC8C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-08-22 16:45:38,357 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:38,357 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DB56CECAC8C,id=s2
2024-08-22 16:45:38,357 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-6DB56CECAC8C,id=s2
2024-08-22 16:45:38,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-08-22 16:45:38,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-remove.enabled = true (default)
2024-08-22 16:45:38,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-08-22 16:45:38,358 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-08-22 16:45:38,358 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-08-22 16:45:38,358 [s2@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-08-22 16:45:38,358 [s2@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-08-22 16:45:38,359 [main] INFO  server.RaftServer (RaftServerProxy.java:startImpl(408)) - s2: start RPC server
2024-08-22 16:45:38,360 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-08-22 16:45:38,376 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-08-22 16:45:38,379 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(107)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6DB56CECAC8C:t0, leader=null, voted=, raftlog=Memoized:s0@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6DB56CECAC8C:t0, leader=null, voted=, raftlog=Memoized:s1@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6DB56CECAC8C:t0, leader=null, voted=, raftlog=Memoized:s2@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-22 16:45:38,383 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6DB56CECAC8C:t0, leader=null, voted=, raftlog=Memoized:s0@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6DB56CECAC8C:t0, leader=null, voted=, raftlog=Memoized:s1@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6DB56CECAC8C:t0, leader=null, voted=, raftlog=Memoized:s2@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-22 16:45:38,537 [s0@group-6DB56CECAC8C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(144)) - s0@group-6DB56CECAC8C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:249616609ns, electionTimeout:247ms
2024-08-22 16:45:38,537 [s0@group-6DB56CECAC8C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s0: shutdown s0@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:38,537 [s0@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s0@group-6DB56CECAC8C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-08-22 16:45:38,542 [s0@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-08-22 16:45:38,542 [s0@group-6DB56CECAC8C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-6DB56CECAC8C-LeaderElection1
2024-08-22 16:45:38,545 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-6DB56CECAC8C-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,565 [s1@group-6DB56CECAC8C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(144)) - s1@group-6DB56CECAC8C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:235949373ns, electionTimeout:235ms
2024-08-22 16:45:38,565 [s1@group-6DB56CECAC8C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s1: shutdown s1@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:38,565 [s1@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s1@group-6DB56CECAC8C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-08-22 16:45:38,566 [s1@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-08-22 16:45:38,566 [s1@group-6DB56CECAC8C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-6DB56CECAC8C-LeaderElection2
2024-08-22 16:45:38,566 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-6DB56CECAC8C-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,585 [s2@group-6DB56CECAC8C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(144)) - s2@group-6DB56CECAC8C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:228074677ns, electionTimeout:226ms
2024-08-22 16:45:38,585 [s2@group-6DB56CECAC8C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s2: shutdown s2@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:38,585 [s2@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s2@group-6DB56CECAC8C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-08-22 16:45:38,589 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-08-22 16:45:38,589 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-08-22 16:45:38,592 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-08-22 16:45:38,592 [s2@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-08-22 16:45:38,592 [s2@group-6DB56CECAC8C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-6DB56CECAC8C-LeaderElection3
2024-08-22 16:45:38,592 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-08-22 16:45:38,592 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s0@group-6DB56CECAC8C: receive requestVote(PRE_VOTE, s1, group-6DB56CECAC8C, 0, (t:0, i:0))
2024-08-22 16:45:38,592 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s2@group-6DB56CECAC8C: receive requestVote(PRE_VOTE, s1, group-6DB56CECAC8C, 0, (t:0, i:0))
2024-08-22 16:45:38,592 [s2@group-6DB56CECAC8C-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-6DB56CECAC8C-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,594 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s1@group-6DB56CECAC8C: receive requestVote(PRE_VOTE, s0, group-6DB56CECAC8C, 0, (t:0, i:0))
2024-08-22 16:45:38,594 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-6DB56CECAC8C-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-08-22 16:45:38,595 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-6DB56CECAC8C-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-08-22 16:45:38,594 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-6DB56CECAC8C-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-08-22 16:45:38,601 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s2@group-6DB56CECAC8C: receive requestVote(PRE_VOTE, s0, group-6DB56CECAC8C, 0, (t:0, i:0))
2024-08-22 16:45:38,601 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s0@group-6DB56CECAC8C: receive requestVote(PRE_VOTE, s2, group-6DB56CECAC8C, 0, (t:0, i:0))
2024-08-22 16:45:38,603 [s2@group-6DB56CECAC8C-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-08-22 16:45:38,603 [s2@group-6DB56CECAC8C-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-08-22 16:45:38,605 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s0@group-6DB56CECAC8C replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-6DB56CECAC8C:t0, leader=null, voted=, raftlog=Memoized:s0@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,605 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s2@group-6DB56CECAC8C replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-6DB56CECAC8C:t0, leader=null, voted=, raftlog=Memoized:s2@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,605 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-6DB56CECAC8C-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-08-22 16:45:38,606 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s2@group-6DB56CECAC8C replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-6DB56CECAC8C:t0, leader=null, voted=, raftlog=Memoized:s2@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,608 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s1@group-6DB56CECAC8C: receive requestVote(PRE_VOTE, s2, group-6DB56CECAC8C, 0, (t:0, i:0))
2024-08-22 16:45:38,609 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-6DB56CECAC8C-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-08-22 16:45:38,609 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2024-08-22 16:45:38,609 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-6DB56CECAC8C-LeaderElection1 PRE_VOTE round 0: result PASSED
2024-08-22 16:45:38,610 [s0@group-6DB56CECAC8C-LeaderElection1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6a8aa196
2024-08-22 16:45:38,611 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-6DB56CECAC8C-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-08-22 16:45:38,612 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2024-08-22 16:45:38,612 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-6DB56CECAC8C-LeaderElection2 PRE_VOTE round 0: result PASSED
2024-08-22 16:45:38,612 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s1@group-6DB56CECAC8C replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-6DB56CECAC8C:t0, leader=null, voted=, raftlog=Memoized:s1@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,612 [s1@group-6DB56CECAC8C-LeaderElection2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@d844cf9
2024-08-22 16:45:38,614 [s0@group-6DB56CECAC8C-LeaderElection1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta with options [REPLACE_EXISTING]
2024-08-22 16:45:38,614 [s1@group-6DB56CECAC8C-LeaderElection2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta with options [REPLACE_EXISTING]
2024-08-22 16:45:38,614 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-6DB56CECAC8C-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-08-22 16:45:38,615 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s0@group-6DB56CECAC8C replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-6DB56CECAC8C:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,614 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-6DB56CECAC8C-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,615 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-6DB56CECAC8C-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-08-22 16:45:38,615 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s1@group-6DB56CECAC8C replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-6DB56CECAC8C:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,615 [s2@group-6DB56CECAC8C-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-6DB56CECAC8C-LeaderElection3: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2024-08-22 16:45:38,615 [s2@group-6DB56CECAC8C-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2024-08-22 16:45:38,615 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-6DB56CECAC8C-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,617 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-08-22 16:45:38,617 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-08-22 16:45:38,617 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s2@group-6DB56CECAC8C: receive requestVote(ELECTION, s1, group-6DB56CECAC8C, 1, (t:0, i:0))
2024-08-22 16:45:38,617 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-6DB56CECAC8C-CANDIDATE: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-08-22 16:45:38,618 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s2@group-6DB56CECAC8C: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s1
2024-08-22 16:45:38,618 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(139)) - s2: shutdown s2@group-6DB56CECAC8C-LeaderElection3
2024-08-22 16:45:38,619 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:38,620 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(549)) - s2@group-6DB56CECAC8C: set firstElectionSinceStartup to false for candidate:s1
2024-08-22 16:45:38,621 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6ce2eac5
2024-08-22 16:45:38,623 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta with options [REPLACE_EXISTING]
2024-08-22 16:45:38,625 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s2@group-6DB56CECAC8C replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-6DB56CECAC8C:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,626 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-6DB56CECAC8C-LeaderElection2: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-08-22 16:45:38,626 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2024-08-22 16:45:38,629 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-08-22 16:45:38,629 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-08-22 16:45:38,629 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s1@group-6DB56CECAC8C: receive requestVote(ELECTION, s0, group-6DB56CECAC8C, 1, (t:0, i:0))
2024-08-22 16:45:38,629 [s2@group-6DB56CECAC8C-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-6DB56CECAC8C-LeaderElection3 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2024-08-22 16:45:38,629 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-6DB56CECAC8C-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2024-08-22 16:45:38,629 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-6DB56CECAC8C-LeaderElection2 ELECTION round 0: result PASSED
2024-08-22 16:45:38,630 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s1@group-6DB56CECAC8C replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-6DB56CECAC8C:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,630 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s0@group-6DB56CECAC8C: receive requestVote(ELECTION, s1, group-6DB56CECAC8C, 1, (t:0, i:0))
2024-08-22 16:45:38,630 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(139)) - s1: shutdown s1@group-6DB56CECAC8C-LeaderElection2
2024-08-22 16:45:38,630 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-6DB56CECAC8C-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2024-08-22 16:45:38,630 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s1@group-6DB56CECAC8C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-08-22 16:45:38,630 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s0@group-6DB56CECAC8C replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-6DB56CECAC8C:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,632 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s2@group-6DB56CECAC8C: receive requestVote(ELECTION, s0, group-6DB56CECAC8C, 1, (t:0, i:0))
2024-08-22 16:45:38,632 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-6DB56CECAC8C-FOLLOWER: reject ELECTION from s0: already has voted for s1 at current term 1
2024-08-22 16:45:38,632 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s2@group-6DB56CECAC8C replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-6DB56CECAC8C:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,632 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-6DB56CECAC8C-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2024-08-22 16:45:38,632 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2024-08-22 16:45:38,632 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2024-08-22 16:45:38,632 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-6DB56CECAC8C-LeaderElection1 ELECTION round 0: result REJECTED
2024-08-22 16:45:38,632 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s0@group-6DB56CECAC8C: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-08-22 16:45:38,633 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(139)) - s0: shutdown s0@group-6DB56CECAC8C-LeaderElection1
2024-08-22 16:45:38,633 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:38,633 [s0@group-6DB56CECAC8C-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(549)) - s0@group-6DB56CECAC8C: set firstElectionSinceStartup to false for REJECTED
2024-08-22 16:45:38,638 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-08-22 16:45:38,643 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-08-22 16:45:38,644 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-08-22 16:45:38,648 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-08-22 16:45:38,649 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-08-22 16:45:38,649 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-08-22 16:45:38,657 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-08-22 16:45:38,659 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-08-22 16:45:38,660 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-08-22 16:45:38,660 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-08-22 16:45:38,660 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-08-22 16:45:38,661 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-08-22 16:45:38,669 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-08-22 16:45:38,669 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,670 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-08-22 16:45:38,673 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-08-22 16:45:38,673 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-08-22 16:45:38,673 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,674 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-08-22 16:45:38,674 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-08-22 16:45:38,674 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s1: start s1@group-6DB56CECAC8C-LeaderStateImpl
2024-08-22 16:45:38,675 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(549)) - s1@group-6DB56CECAC8C: set firstElectionSinceStartup to false for becomeLeader
2024-08-22 16:45:38,675 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-6DB56CECAC8C: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 684ms
2024-08-22 16:45:38,702 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s1@group-6DB56CECAC8C-SegmentedRaftLogWorker: Starting segment from index:0
2024-08-22 16:45:38,733 [s1@group-6DB56CECAC8C-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-6DB56CECAC8C: set configuration conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,733 [s1@group-6DB56CECAC8C-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-08-22 16:45:38,747 [s1@group-6DB56CECAC8C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s1@group-6DB56CECAC8C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s1/700f544b-1d91-484f-8f2c-6db56cecac8c/current/log_inprogress_0
2024-08-22 16:45:38,754 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-6DB56CECAC8C: change Leader from null to s1 at term 1 for appendEntries, leader elected after 763ms
2024-08-22 16:45:38,757 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-6DB56CECAC8C: change Leader from null to s1 at term 1 for appendEntries, leader elected after 766ms
2024-08-22 16:45:38,834 [main] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(126)) - Attempt #2 failed: java.lang.IllegalStateException: Leader: s1@group-6DB56CECAC8C not ready
2024-08-22 16:45:38,923 [s2@group-6DB56CECAC8C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(144)) - s2@group-6DB56CECAC8C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:162357745ns, electionTimeout:151ms
2024-08-22 16:45:38,923 [s2@group-6DB56CECAC8C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s2: shutdown s2@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:38,923 [s2@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s2@group-6DB56CECAC8C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-08-22 16:45:38,923 [s2@group-6DB56CECAC8C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-08-22 16:45:38,923 [s2@group-6DB56CECAC8C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-6DB56CECAC8C-LeaderElection4
2024-08-22 16:45:38,926 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-6DB56CECAC8C: change Leader from s1 to null at term 1 for PRE_VOTE
2024-08-22 16:45:38,926 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-6DB56CECAC8C-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,927 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s0@group-6DB56CECAC8C: receive requestVote(PRE_VOTE, s2, group-6DB56CECAC8C, 1, (t:0, i:0))
2024-08-22 16:45:38,927 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-6DB56CECAC8C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-08-22 16:45:38,927 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s0@group-6DB56CECAC8C replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-6DB56CECAC8C:t1, leader=s1, voted=s0, raftlog=Memoized:s0@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,928 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-6DB56CECAC8C-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-08-22 16:45:38,928 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2024-08-22 16:45:38,928 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-6DB56CECAC8C-LeaderElection4 PRE_VOTE round 0: result PASSED
2024-08-22 16:45:38,929 [s2@group-6DB56CECAC8C-LeaderElection4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@14e3148b
2024-08-22 16:45:38,931 [s2@group-6DB56CECAC8C-LeaderElection4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta with options [REPLACE_EXISTING]
2024-08-22 16:45:38,931 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-6DB56CECAC8C-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,932 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s0@group-6DB56CECAC8C: receive requestVote(ELECTION, s2, group-6DB56CECAC8C, 2, (t:0, i:0))
2024-08-22 16:45:38,932 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-6DB56CECAC8C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-08-22 16:45:38,932 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-6DB56CECAC8C: change Leader from s1 to null at term 2 for updateCurrentTerm
2024-08-22 16:45:38,932 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s0@group-6DB56CECAC8C: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2024-08-22 16:45:38,932 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s0: shutdown s0@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:38,933 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s0: start s0@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:38,934 [s0@group-6DB56CECAC8C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(153)) - s0@group-6DB56CECAC8C-FollowerState was interrupted
2024-08-22 16:45:38,934 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1427)) - s1@group-6DB56CECAC8C: receive requestVote(ELECTION, s2, group-6DB56CECAC8C, 2, (t:0, i:0))
2024-08-22 16:45:38,935 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1529)) - s0@group-6DB56CECAC8C: appendEntries* s1->s0#5-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15000"dataStreamAddress:"localhost:15003"clientAddress:"localhost:15002"adminAddress:"localhost:15001"startupRole:FOLLOWER, id:"s1"address:"localhost:15004"dataStreamAddress:"localhost:15007"clientAddress:"localhost:15006"adminAddress:"localhost:15005"startupRole:FOLLOWER, id:"s2"address:"localhost:15008"dataStreamAddress:"localhost:15011"clientAddress:"localhost:15010"adminAddress:"localhost:15009"startupRole:FOLLOWER, old:)
2024-08-22 16:45:38,935 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-6DB56CECAC8C-LEADER: reject ELECTION from s2: our last entry (t:1, i:0) > candidate's last entry (t:0, i:0)
2024-08-22 16:45:38,935 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s1@group-6DB56CECAC8C: change Leader from s1 to null at term 2 for updateCurrentTerm
2024-08-22 16:45:38,935 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s1@group-6DB56CECAC8C: changes role from    LEADER to FOLLOWER at term 2 for candidate:s2
2024-08-22 16:45:38,935 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s1: shutdown s1@group-6DB56CECAC8C-LeaderStateImpl
2024-08-22 16:45:38,936 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1529)) - s2@group-6DB56CECAC8C: appendEntries* s1->s2#6-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15000"dataStreamAddress:"localhost:15003"clientAddress:"localhost:15002"adminAddress:"localhost:15001"startupRole:FOLLOWER, id:"s1"address:"localhost:15004"dataStreamAddress:"localhost:15007"clientAddress:"localhost:15006"adminAddress:"localhost:15005"startupRole:FOLLOWER, id:"s2"address:"localhost:15008"dataStreamAddress:"localhost:15011"clientAddress:"localhost:15010"adminAddress:"localhost:15009"startupRole:FOLLOWER, old:)
2024-08-22 16:45:38,936 [HandlerDaemon-2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s2@group-6DB56CECAC8C: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-08-22 16:45:38,937 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@74cc72f3
2024-08-22 16:45:38,937 [s1@group-6DB56CECAC8C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s1@group-6DB56CECAC8C->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-08-22 16:45:38,939 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-6DB56CECAC8C-PendingRequests: sendNotLeaderResponses
2024-08-22 16:45:38,941 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta with options [REPLACE_EXISTING]
2024-08-22 16:45:38,942 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1460)) - s0@group-6DB56CECAC8C replies to ELECTION vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-6DB56CECAC8C:t2, leader=null, voted=s2, raftlog=Memoized:s0@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:lastnull, conf=conf: {index: -1, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,942 [HandlerDaemon-2] WARN  server.RaftServer$Division (ServerState.java:recognizeLeader(331)) - s0@group-6DB56CECAC8C: Failed to recognize s1 as leader for APPEND_ENTRIES since peerTerm = 1 < currentTerm = 2
2024-08-22 16:45:38,942 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-6DB56CECAC8C-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-08-22 16:45:38,942 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t2
2024-08-22 16:45:38,942 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-6DB56CECAC8C-LeaderElection4 ELECTION round 0: result PASSED
2024-08-22 16:45:38,942 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(139)) - s2: shutdown s2@group-6DB56CECAC8C-LeaderElection4
2024-08-22 16:45:38,942 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s2@group-6DB56CECAC8C: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-08-22 16:45:38,942 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-08-22 16:45:38,943 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-08-22 16:45:38,943 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-08-22 16:45:38,943 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-08-22 16:45:38,943 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-08-22 16:45:38,943 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-08-22 16:45:38,944 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-08-22 16:45:38,944 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-08-22 16:45:38,944 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-08-22 16:45:38,944 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.log-metadata.enabled = true (default)
2024-08-22 16:45:38,944 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-08-22 16:45:38,944 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-08-22 16:45:38,945 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-08-22 16:45:38,945 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,945 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-08-22 16:45:38,945 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-08-22 16:45:38,946 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-08-22 16:45:38,946 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-08-22 16:45:38,946 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-08-22 16:45:38,946 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-08-22 16:45:38,946 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-6DB56CECAC8C-LeaderStateImpl
2024-08-22 16:45:38,947 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-6DB56CECAC8C: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 21ms
2024-08-22 16:45:38,947 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s2@group-6DB56CECAC8C-SegmentedRaftLogWorker: Starting segment from index:0
2024-08-22 16:45:38,947 [s2@group-6DB56CECAC8C-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-6DB56CECAC8C: set configuration conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,947 [s2@group-6DB56CECAC8C-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-08-22 16:45:38,954 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s0@group-6DB56CECAC8C: change Leader from null to s2 at term 2 for appendEntries, leader elected after 22ms
2024-08-22 16:45:38,959 [s2@group-6DB56CECAC8C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s2@group-6DB56CECAC8C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/log_inprogress_0
2024-08-22 16:45:38,960 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1529)) - s0@group-6DB56CECAC8C: appendEntries* s2->s0#11-t2,previous=(t:0, i:0),leaderCommit=-1,initializing? false,entries: size=1, first=(t:2, i:0), CONFIGURATIONENTRY(current:id:"s0"address:"localhost:15000"dataStreamAddress:"localhost:15003"clientAddress:"localhost:15002"adminAddress:"localhost:15001"startupRole:FOLLOWER, id:"s1"address:"localhost:15004"dataStreamAddress:"localhost:15007"clientAddress:"localhost:15006"adminAddress:"localhost:15005"startupRole:FOLLOWER, id:"s2"address:"localhost:15008"dataStreamAddress:"localhost:15011"clientAddress:"localhost:15010"adminAddress:"localhost:15009"startupRole:FOLLOWER, old:)
2024-08-22 16:45:38,961 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-6DB56CECAC8C: set configuration conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:38,963 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(438)) - s0@group-6DB56CECAC8C-SegmentedRaftLogWorker: Starting segment from index:0
2024-08-22 16:45:38,963 [s0@group-6DB56CECAC8C-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(61)) - open log_inprogress_0 at position 0
2024-08-22 16:45:38,975 [s0@group-6DB56CECAC8C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(660)) - s0@group-6DB56CECAC8C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/log_inprogress_0
2024-08-22 16:45:38,979 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1529)) - s0@group-6DB56CECAC8C: appendEntries* reply s2<-s0#11:OK-t2,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-08-22 16:45:38,984 [s2@group-6DB56CECAC8C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7b840222
2024-08-22 16:45:38,989 [s2@group-6DB56CECAC8C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s2/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-08-22 16:45:38,990 [s2@group-6DB56CECAC8C-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkStartIndex(317)) - Leader s2@group-6DB56CECAC8C-LeaderStateImpl is ready since appliedIndex == startIndex == 0
2024-08-22 16:45:39,059 [s0@group-6DB56CECAC8C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@e522aa3
2024-08-22 16:45:39,062 [s0@group-6DB56CECAC8C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/8b111709/MiniRaftClusterWithSimulatedRpc1a83aecd/s0/700f544b-1d91-484f-8f2c-6db56cecac8c/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-08-22 16:45:39,285 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(131)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6DB56CECAC8C:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c0:last(t:2, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6DB56CECAC8C:t2, leader=null, voted=null, raftlog=Memoized:s1@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING    LEADER s2@group-6DB56CECAC8C:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c0:last(t:2, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-22 16:45:39,286 [main] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 1s (custom)
2024-08-22 16:45:39,287 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(539)) - killServer s0
2024-08-22 16:45:39,287 [main] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s0: close
2024-08-22 16:45:39,288 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(501)) - s0@group-6DB56CECAC8C: shutdown
2024-08-22 16:45:39,288 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:39,288 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DB56CECAC8C,id=s0
2024-08-22 16:45:39,288 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s0: shutdown s0@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:39,288 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:39,288 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s0@group-6DB56CECAC8C-StateMachineUpdater: set stopIndex = 0
2024-08-22 16:45:39,288 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:39,288 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:39,289 [s0@group-6DB56CECAC8C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s0@group-6DB56CECAC8C-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:0)
2024-08-22 16:45:39,289 [s0@group-6DB56CECAC8C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(153)) - s0@group-6DB56CECAC8C-FollowerState was interrupted
2024-08-22 16:45:39,289 [HandlerDaemon-2] ERROR server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1498)) - s0@group-6DB56CECAC8C: Failed appendEntries* s2->s0#19-t2,previous=(t:2, i:0),leaderCommit=0,initializing? false,HEARTBEAT
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-6DB56CECAC8C is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:771)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1489)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntries(RaftServerImpl.java:1471)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntries(RaftServerProxy.java:670)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:163)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:153)
	at org.apache.ratis.server.simulation.RequestHandler.handleRequest(RequestHandler.java:91)
	at org.apache.ratis.server.simulation.RequestHandler$HandlerDaemon.run(RequestHandler.java:125)
2024-08-22 16:45:39,290 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:39,291 [s0@group-6DB56CECAC8C-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-6DB56CECAC8C-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-08-22 16:45:39,292 [s2@group-6DB56CECAC8C->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(94)) - s2@group-6DB56CECAC8C->s0-LogAppenderDefault: Failed to appendEntries (retry=1)
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-6DB56CECAC8C is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$7(RaftServerImpl.java:771)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1489)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntries(RaftServerImpl.java:1471)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntries(RaftServerProxy.java:670)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:163)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:153)
	at org.apache.ratis.server.simulation.RequestHandler.handleRequest(RequestHandler.java:91)
	at org.apache.ratis.server.simulation.RequestHandler$HandlerDaemon.run(RequestHandler.java:125)
2024-08-22 16:45:39,326 [s2@group-6DB56CECAC8C->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(94)) - s2@group-6DB56CECAC8C->s0-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntries(LogAppenderDefault.java:109)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:84)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:173)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-08-22 16:45:39,365 [s2@group-6DB56CECAC8C->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(94)) - s2@group-6DB56CECAC8C->s0-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntries(LogAppenderDefault.java:109)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:84)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:173)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-08-22 16:45:39,403 [s2@group-6DB56CECAC8C->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(94)) - s2@group-6DB56CECAC8C->s0-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntries(LogAppenderDefault.java:109)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:84)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:173)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-08-22 16:45:39,441 [s2@group-6DB56CECAC8C->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(94)) - s2@group-6DB56CECAC8C->s0-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntries(LogAppenderDefault.java:109)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:84)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:173)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-08-22 16:45:39,479 [s2@group-6DB56CECAC8C->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(94)) - s2@group-6DB56CECAC8C->s0-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntries(LogAppenderDefault.java:109)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:84)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:173)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-08-22 16:45:39,518 [s2@group-6DB56CECAC8C->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(94)) - s2@group-6DB56CECAC8C->s0-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntries(LogAppenderDefault.java:109)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:84)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:173)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-08-22 16:45:39,556 [s2@group-6DB56CECAC8C->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(94)) - s2@group-6DB56CECAC8C->s0-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntries(LogAppenderDefault.java:109)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:84)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:173)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-08-22 16:45:39,585 [s2@group-6DB56CECAC8C-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1120)) - s2@group-6DB56CECAC8C-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 300ms. In charge for: 642ms. Conf: conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null}
2024-08-22 16:45:39,586 [s2@group-6DB56CECAC8C-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1124)) - Follower s2@group-6DB56CECAC8C->s0(c0,m0,n1, caughtUp=true, lastRpcSendTime=29, lastRpcResponseTime=373)
2024-08-22 16:45:39,586 [s2@group-6DB56CECAC8C-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1124)) - Follower s2@group-6DB56CECAC8C->s1(c-1,m-1,n0, caughtUp=true, lastRpcSendTime=631, lastRpcResponseTime=941)
2024-08-22 16:45:39,586 [s2@group-6DB56CECAC8C-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(376)) - s2@group-6DB56CECAC8C: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-08-22 16:45:39,586 [s2@group-6DB56CECAC8C-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(103)) - s2: shutdown s2@group-6DB56CECAC8C-LeaderStateImpl
2024-08-22 16:45:39,586 [s2@group-6DB56CECAC8C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-6DB56CECAC8C->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-08-22 16:45:39,587 [s2@group-6DB56CECAC8C-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-6DB56CECAC8C-PendingRequests: sendNotLeaderResponses
2024-08-22 16:45:39,587 [s2@group-6DB56CECAC8C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-6DB56CECAC8C->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-08-22 16:45:39,588 [s2@group-6DB56CECAC8C-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(272)) - s2@group-6DB56CECAC8C: change Leader from s2 to null at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-08-22 16:45:39,588 [s2@group-6DB56CECAC8C-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(148)) - s2: start s2@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:39,838 [s2@group-6DB56CECAC8C-FollowerState] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(109)) - s2@group-6DB56CECAC8C-FollowerState: Skipping leader election since it stepped down recently (elapsed = 249ms < waitTime = 10s)
2024-08-22 16:45:39,997 [s2@group-6DB56CECAC8C-FollowerState] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(109)) - s2@group-6DB56CECAC8C-FollowerState: Skipping leader election since it stepped down recently (elapsed = 409ms < waitTime = 10s)
2024-08-22 16:45:40,016 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s0@group-6DB56CECAC8C-SegmentedRaftLogWorker close()
2024-08-22 16:45:40,035 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-08-22 16:45:40,040 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - ************************************************************** 
2024-08-22 16:45:40,040 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(838)) - *** 
2024-08-22 16:45:40,041 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(839)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-08-22 16:45:40,041 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(840)) - *** 
2024-08-22 16:45:40,041 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(841)) - ************************************************************** 
2024-08-22 16:45:40,041 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(842)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-6DB56CECAC8C:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-6DB56CECAC8C-SegmentedRaftLog:CLOSED:c0, conf=conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} CLOSED
  s1:  RUNNING  FOLLOWER s1@group-6DB56CECAC8C:t2, leader=null, voted=null, raftlog=Memoized:s1@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c-1:last(t:1, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6DB56CECAC8C:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-6DB56CECAC8C-SegmentedRaftLog:OPENED:c0:last(t:2, i:0), conf=conf: {index: 0, cur=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null} RUNNING
2024-08-22 16:45:40,043 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s1: close
2024-08-22 16:45:40,044 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(418)) - s2: close
2024-08-22 16:45:40,044 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:40,044 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(501)) - s1@group-6DB56CECAC8C: shutdown
2024-08-22 16:45:40,044 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(501)) - s2@group-6DB56CECAC8C: shutdown
2024-08-22 16:45:40,044 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:40,044 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DB56CECAC8C,id=s2
2024-08-22 16:45:40,044 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(119)) - s2: shutdown s2@group-6DB56CECAC8C-FollowerState
2024-08-22 16:45:40,044 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6DB56CECAC8C,id=s1
2024-08-22 16:45:40,045 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:40,045 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:40,045 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:40,046 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s1@group-6DB56CECAC8C-StateMachineUpdater: set stopIndex = -1
2024-08-22 16:45:40,046 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(164)) - s2@group-6DB56CECAC8C-StateMachineUpdater: set stopIndex = 0
2024-08-22 16:45:40,046 [s2@group-6DB56CECAC8C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(153)) - s2@group-6DB56CECAC8C-FollowerState was interrupted
2024-08-22 16:45:40,046 [s2@group-6DB56CECAC8C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s2@group-6DB56CECAC8C-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:2, i:0)
2024-08-22 16:45:40,046 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:40,046 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:40,047 [s2@group-6DB56CECAC8C-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-6DB56CECAC8C-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-08-22 16:45:40,046 [s1@group-6DB56CECAC8C-StateMachineUpdater] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stop(141)) - s1@group-6DB56CECAC8C-StateMachineUpdater: closing SimpleStateMachine4Testing, lastApplied=(t:0, i:~)
2024-08-22 16:45:40,047 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:40,047 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:40,047 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-08-22 16:45:40,048 [s1@group-6DB56CECAC8C-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-6DB56CECAC8C-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-08-22 16:45:40,755 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s1@group-6DB56CECAC8C-SegmentedRaftLogWorker close()
2024-08-22 16:45:40,962 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(251)) - s2@group-6DB56CECAC8C-SegmentedRaftLogWorker close()
2024-08-22 16:45:40,963 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-08-22 16:45:42,046 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-08-22 16:45:42,046 [main] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(861)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2024-08-22 16:45:42,046 [main] INFO  ratis.RaftTestUtil (RaftTestUtil.java:gc(593)) - gc 0
2024-08-22 16:45:42,189 [main] INFO  util.LeakDetector (LeakDetector.java:start(72)) - Starting leak detector thread NONE0.
