<?xml version="1.0" encoding="UTF-8"?>
<testsuite xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://maven.apache.org/surefire/maven-surefire-plugin/xsd/surefire-test-report-3.0.xsd" version="3.0" name="org.apache.ratis.server.simulation.TestRaftStateMachineExceptionWithSimulatedRpc" time="12.07" tests="3" errors="0" skipped="0" failures="1">
  <properties>
    <property name="awt.toolkit" value="sun.awt.X11.XToolkit"/>
    <property name="file.encoding.pkg" value="sun.io"/>
    <property name="java.specification.version" value="1.8"/>
    <property name="sun.cpu.isalist" value=""/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/test-classes:/home/runner/work/ratis/ratis/ratis-test/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/classes:/home/runner/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/1.0.5/ratis-thirdparty-misc-1.0.5.jar:/home/runner/work/ratis/ratis/ratis-proto/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/test-classes:/home/runner/work/ratis/ratis/ratis-client/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/classes:/home/runner/work/ratis/ratis/ratis-server-api/target/classes:/home/runner/work/ratis/ratis/ratis-metrics-api/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/test-classes:/home/runner/work/ratis/ratis/ratis-metrics-default/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/test-classes:/home/runner/work/ratis/ratis/ratis-grpc/target/classes:/home/runner/work/ratis/ratis/ratis-grpc/target/test-classes:/home/runner/work/ratis/ratis/ratis-shell/target/classes:/home/runner/.m2/repository/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar:/home/runner/.m2/repository/org/reflections/reflections/0.10.2/reflections-0.10.2.jar:/home/runner/.m2/repository/org/javassist/javassist/3.28.0-GA/javassist-3.28.0-GA.jar:/home/runner/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/home/runner/.m2/repository/org/bouncycastle/bcprov-jdk18on/1.76/bcprov-jdk18on-1.76.jar:/home/runner/.m2/repository/org/bouncycastle/bcpkix-jdk18on/1.76/bcpkix-jdk18on-1.76.jar:/home/runner/.m2/repository/org/bouncycastle/bcutil-jdk18on/1.76/bcutil-jdk18on-1.76.jar:/home/runner/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/home/runner/.m2/repository/org/slf4j/slf4j-reload4j/2.0.7/slf4j-reload4j-2.0.7.jar:/home/runner/.m2/repository/ch/qos/reload4j/reload4j/1.2.22/reload4j-1.2.22.jar:/home/runner/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/home/runner/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/runner/.m2/repository/org/mockito/mockito-core/4.3.1/mockito-core-4.3.1.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy/1.12.7/byte-buddy-1.12.7.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.7/byte-buddy-agent-1.12.7.jar:/home/runner/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:"/>
    <property name="java.vm.vendor" value="Temurin"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="java.vendor.url" value="https://adoptium.net/"/>
    <property name="user.timezone" value=""/>
    <property name="java.vm.specification.version" value="1.8"/>
    <property name="os.name" value="Linux"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="sun.boot.library.path" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/amd64"/>
    <property name="sun.java.command" value="/home/runner/work/ratis/ratis/ratis-test/target/surefire/surefirebooter-20240118082412288_162.jar /home/runner/work/ratis/ratis/ratis-test/target/surefire 2024-01-18T08-23-44_635-jvmRun1 surefire-20240118082412288_160tmp surefire_18-20240118082412288_161tmp"/>
    <property name="surefire.test.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/test-classes:/home/runner/work/ratis/ratis/ratis-test/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/classes:/home/runner/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/1.0.5/ratis-thirdparty-misc-1.0.5.jar:/home/runner/work/ratis/ratis/ratis-proto/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/test-classes:/home/runner/work/ratis/ratis/ratis-client/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/classes:/home/runner/work/ratis/ratis/ratis-server-api/target/classes:/home/runner/work/ratis/ratis/ratis-metrics-api/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/test-classes:/home/runner/work/ratis/ratis/ratis-metrics-default/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/test-classes:/home/runner/work/ratis/ratis/ratis-grpc/target/classes:/home/runner/work/ratis/ratis/ratis-grpc/target/test-classes:/home/runner/work/ratis/ratis/ratis-shell/target/classes:/home/runner/.m2/repository/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar:/home/runner/.m2/repository/org/reflections/reflections/0.10.2/reflections-0.10.2.jar:/home/runner/.m2/repository/org/javassist/javassist/3.28.0-GA/javassist-3.28.0-GA.jar:/home/runner/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/home/runner/.m2/repository/org/bouncycastle/bcprov-jdk18on/1.76/bcprov-jdk18on-1.76.jar:/home/runner/.m2/repository/org/bouncycastle/bcpkix-jdk18on/1.76/bcpkix-jdk18on-1.76.jar:/home/runner/.m2/repository/org/bouncycastle/bcutil-jdk18on/1.76/bcutil-jdk18on-1.76.jar:/home/runner/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/home/runner/.m2/repository/org/slf4j/slf4j-reload4j/2.0.7/slf4j-reload4j-2.0.7.jar:/home/runner/.m2/repository/ch/qos/reload4j/reload4j/1.2.22/reload4j-1.2.22.jar:/home/runner/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/home/runner/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/runner/.m2/repository/org/mockito/mockito-core/4.3.1/mockito-core-4.3.1.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy/1.12.7/byte-buddy-1.12.7.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.7/byte-buddy-agent-1.12.7.jar:/home/runner/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="user.home" value="/home/runner"/>
    <property name="user.language" value="en"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="java.home" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre"/>
    <property name="basedir" value="/home/runner/work/ratis/ratis/ratis-test"/>
    <property name="file.separator" value="/"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="java.awt.graphicsenv" value="sun.awt.X11GraphicsEnvironment"/>
    <property name="surefire.real.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/surefire/surefirebooter-20240118082412288_162.jar:/home/runner/.m2/repository/org/jacoco/org.jacoco.agent/0.8.11/org.jacoco.agent-0.8.11-runtime.jar"/>
    <property name="sun.boot.class.path" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/resources.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/rt.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/sunrsasign.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jsse.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jce.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/charsets.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jfr.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/classes"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="java.runtime.version" value="1.8.0_392-b08"/>
    <property name="java.net.preferIPv4Stack" value="true"/>
    <property name="user.name" value="runner"/>
    <property name="path.separator" value=":"/>
    <property name="os.version" value="5.15.0-1053-azure"/>
    <property name="java.endorsed.dirs" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/endorsed"/>
    <property name="java.runtime.name" value="OpenJDK Runtime Environment"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="java.vm.name" value="OpenJDK 64-Bit Server VM"/>
    <property name="localRepository" value="/home/runner/.m2/repository"/>
    <property name="java.vendor.url.bug" value="https://github.com/adoptium/adoptium-support/issues"/>
    <property name="java.io.tmpdir" value="/tmp"/>
    <property name="java.version" value="1.8.0_392"/>
    <property name="user.dir" value="/home/runner/work/ratis/ratis/ratis-test"/>
    <property name="os.arch" value="amd64"/>
    <property name="ratis.tmp.dir" value="/home/runner/work/ratis/ratis/ratis-test/target/tmp"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="java.awt.printerjob" value="sun.print.PSPrinterJob"/>
    <property name="ratis.log.dir" value="/home/runner/work/ratis/ratis/ratis-test/target/log"/>
    <property name="sun.os.patch.level" value="unknown"/>
    <property name="java.library.path" value="/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib"/>
    <property name="java.vm.info" value="mixed mode"/>
    <property name="java.vendor" value="Temurin"/>
    <property name="java.vm.version" value="25.392-b08"/>
    <property name="java.specification.maintenance.version" value="5"/>
    <property name="java.ext.dirs" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/ext:/usr/java/packages/lib/ext"/>
    <property name="sun.io.unicode.encoding" value="UnicodeLittle"/>
    <property name="java.class.version" value="52.0"/>
  </properties>
  <testcase name="testRetryOnStateMachineException" classname="org.apache.ratis.server.simulation.TestRaftStateMachineExceptionWithSimulatedRpc" time="8.717">
    <failure type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:87)
	at org.junit.Assert.assertTrue(Assert.java:42)
	at org.junit.Assert.assertNotNull(Assert.java:713)
	at org.junit.Assert.assertNotNull(Assert.java:723)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.lambda$runTestRetryOnStateMachineException$0(RaftStateMachineExceptionTests.java:133)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnStateMachineException(RaftStateMachineExceptionTests.java:132)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:140)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:120)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnStateMachineException(RaftStateMachineExceptionTests.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
]]></failure>
    <system-out><![CDATA[2024-01-18 08:28:16,495 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-18 08:28:16,500 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-18 08:28:16,504 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-18 08:28:16,506 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2024-01-18 08:28:16,506 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-18 08:28:16,530 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(134)) - Running runWithNewCluster
2024-01-18 08:28:16,545 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-18 08:28:16,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-8B7AE04D6EFA:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]
2024-01-18 08:28:16,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-18 08:28:16,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-18 08:28:16,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-18 08:28:16,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-18 08:28:16,681 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-18 08:28:16,681 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-18 08:28:16,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-8B7AE04D6EFA:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-01-18 08:28:16,693 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0
2024-01-18 08:28:16,695 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0 does not exist.
2024-01-18 08:28:16,695 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0
2024-01-18 08:28:16,715 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:16,726 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-18 08:28:16,732 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:16,733 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-18 08:28:16,734 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:16,767 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0] (custom)
2024-01-18 08:28:16,769 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-18 08:28:16,770 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-18 08:28:16,791 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-8B7AE04D6EFA:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-8B7AE04D6EFA:java.util.concurrent.CompletableFuture@1a8ce455[Not completed]
2024-01-18 08:28:16,791 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-8B7AE04D6EFA:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-01-18 08:28:16,791 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1
2024-01-18 08:28:16,792 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1 does not exist.
2024-01-18 08:28:16,792 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1
2024-01-18 08:28:16,792 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:16,794 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-18 08:28:16,795 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:16,795 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-18 08:28:16,796 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:16,797 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1] (custom)
2024-01-18 08:28:16,797 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-18 08:28:16,797 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-18 08:28:16,800 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-8B7AE04D6EFA:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-8B7AE04D6EFA:java.util.concurrent.CompletableFuture@722f3f7d[Not completed]
2024-01-18 08:28:16,800 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-8B7AE04D6EFA:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-01-18 08:28:16,801 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2
2024-01-18 08:28:16,801 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2 does not exist.
2024-01-18 08:28:16,801 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2
2024-01-18 08:28:16,801 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:16,802 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-18 08:28:16,802 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:16,802 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-18 08:28:16,802 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:16,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2] (custom)
2024-01-18 08:28:16,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-18 08:28:16,803 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-18 08:28:16,808 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:16,808 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-8B7AE04D6EFA:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-8B7AE04D6EFA:java.util.concurrent.CompletableFuture@7cd142a[Not completed]
2024-01-18 08:28:16,809 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:16,810 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:16,812 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:16,812 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:16,812 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:16,814 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:16,815 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:16,815 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:16,816 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-8B7AE04D6EFA:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with StateMachineWithException:uninitialized
2024-01-18 08:28:16,817 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-8B7AE04D6EFA:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with StateMachineWithException:uninitialized
2024-01-18 08:28:16,818 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:16,819 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:16,819 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-18 08:28:16,819 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-18 08:28:16,819 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:16,820 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-18 08:28:16,820 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:16,818 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-8B7AE04D6EFA:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with StateMachineWithException:uninitialized
2024-01-18 08:28:16,822 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:16,823 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:16,823 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-18 08:28:16,823 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-18 08:28:16,823 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:16,823 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-18 08:28:16,823 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:16,818 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:16,827 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:16,827 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-18 08:28:16,828 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-18 08:28:16,828 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:16,828 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-18 08:28:16,828 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:16,830 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-8B7AE04D6EFA: ConfigurationManager, init=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-18 08:28:16,830 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-8B7AE04D6EFA: ConfigurationManager, init=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-18 08:28:16,831 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-8B7AE04D6EFA: ConfigurationManager, init=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-18 08:28:16,840 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-18 08:28:16,842 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-18 08:28:16,844 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-18 08:28:16,845 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-18 08:28:16,845 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-18 08:28:16,846 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-18 08:28:16,851 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-18 08:28:16,851 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-18 08:28:16,852 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-18 08:28:16,852 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-18 08:28:16,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-18 08:28:16,852 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-18 08:28:16,858 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-18 08:28:16,858 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-18 08:28:16,858 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-18 08:28:16,859 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-18 08:28:16,859 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-18 08:28:16,859 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-18 08:28:16,867 [s0-groupManagement] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2024-01-18 08:28:16,971 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-18 08:28:16,971 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-18 08:28:16,971 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-18 08:28:16,976 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-18 08:28:16,976 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-18 08:28:16,976 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-18 08:28:16,976 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-18 08:28:16,976 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-18 08:28:16,977 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-18 08:28:16,977 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-18 08:28:16,977 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-18 08:28:16,978 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-18 08:28:16,976 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-18 08:28:16,976 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-18 08:28:16,978 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-18 08:28:16,978 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-18 08:28:16,978 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-18 08:28:16,979 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-18 08:28:16,980 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-18 08:28:16,980 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-18 08:28:16,980 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0] (custom)
2024-01-18 08:28:16,985 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa does not exist. Creating ...
2024-01-18 08:28:16,986 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa
2024-01-18 08:28:16,989 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/in_use.lock acquired by nodename 3928@fv-az1539-744
2024-01-18 08:28:16,989 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current
2024-01-18 08:28:16,989 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/sm
2024-01-18 08:28:17,007 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@337138b8
2024-01-18 08:28:17,011 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:17,012 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa has been successfully formatted.
2024-01-18 08:28:17,013 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:17,015 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2024-01-18 08:28:17,017 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2024-01-18 08:28:17,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-18 08:28:17,029 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-18 08:28:17,029 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,031 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-18 08:28:17,032 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-18 08:28:17,036 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:17,043 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-18 08:28:17,043 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-18 08:28:17,043 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,045 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-8B7AE04D6EFA-cacheEviction-AwaitToRun,5,main] started
2024-01-18 08:28:17,053 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-8B7AE04D6EFA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa
2024-01-18 08:28:17,053 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:17,053 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-18 08:28:17,055 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:17,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:17,056 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-18 08:28:17,057 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-18 08:28:17,057 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-18 08:28:17,058 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-18 08:28:17,060 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:17,062 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,062 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-18 08:28:17,062 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-18 08:28:17,063 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-18 08:28:17,069 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-8B7AE04D6EFA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:17,070 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-8B7AE04D6EFA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:17,072 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-8B7AE04D6EFA: start as a follower, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,072 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-8B7AE04D6EFA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-18 08:28:17,073 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,074 [s0@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:17,074 [s0@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:17,075 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B7AE04D6EFA,id=s0
2024-01-18 08:28:17,075 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8B7AE04D6EFA,id=s0
2024-01-18 08:28:17,077 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-18 08:28:17,077 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-18 08:28:17,078 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-18 08:28:17,078 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-18 08:28:17,081 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-18 08:28:17,084 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-18 08:28:17,084 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-18 08:28:17,084 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-18 08:28:17,084 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1] (custom)
2024-01-18 08:28:17,084 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa does not exist. Creating ...
2024-01-18 08:28:17,085 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa
2024-01-18 08:28:17,086 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/in_use.lock acquired by nodename 3928@fv-az1539-744
2024-01-18 08:28:17,086 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current
2024-01-18 08:28:17,086 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/sm
2024-01-18 08:28:17,086 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4743258
2024-01-18 08:28:17,088 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:17,088 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa has been successfully formatted.
2024-01-18 08:28:17,088 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:17,089 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2024-01-18 08:28:17,089 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2024-01-18 08:28:17,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-18 08:28:17,089 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-18 08:28:17,090 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,090 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-18 08:28:17,090 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-18 08:28:17,091 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:17,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-18 08:28:17,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-18 08:28:17,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,092 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-8B7AE04D6EFA-cacheEviction-AwaitToRun,5,main] started
2024-01-18 08:28:17,092 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa
2024-01-18 08:28:17,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:17,092 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-18 08:28:17,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:17,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:17,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-18 08:28:17,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-18 08:28:17,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-18 08:28:17,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-18 08:28:17,093 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:17,096 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,096 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-18 08:28:17,096 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-18 08:28:17,096 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-18 08:28:17,096 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:17,096 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:17,097 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-8B7AE04D6EFA: start as a follower, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,097 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-8B7AE04D6EFA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-18 08:28:17,097 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,097 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B7AE04D6EFA,id=s1
2024-01-18 08:28:17,097 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8B7AE04D6EFA,id=s1
2024-01-18 08:28:17,097 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-18 08:28:17,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-18 08:28:17,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-18 08:28:17,098 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-18 08:28:17,098 [s1@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:17,098 [s1@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:17,100 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-18 08:28:17,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-18 08:28:17,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-18 08:28:17,112 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-18 08:28:17,112 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2] (custom)
2024-01-18 08:28:17,112 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa does not exist. Creating ...
2024-01-18 08:28:17,113 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa
2024-01-18 08:28:17,114 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/in_use.lock acquired by nodename 3928@fv-az1539-744
2024-01-18 08:28:17,115 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current
2024-01-18 08:28:17,115 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/sm
2024-01-18 08:28:17,115 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7f646c01
2024-01-18 08:28:17,116 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:17,117 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa has been successfully formatted.
2024-01-18 08:28:17,117 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:17,117 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2024-01-18 08:28:17,117 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2024-01-18 08:28:17,117 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-18 08:28:17,117 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-18 08:28:17,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-18 08:28:17,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-18 08:28:17,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:17,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-18 08:28:17,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-18 08:28:17,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,119 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-8B7AE04D6EFA-cacheEviction-AwaitToRun,5,main] started
2024-01-18 08:28:17,119 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa
2024-01-18 08:28:17,120 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:17,120 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-18 08:28:17,120 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:17,120 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:17,120 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-18 08:28:17,120 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-18 08:28:17,120 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-18 08:28:17,121 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-18 08:28:17,121 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:17,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-18 08:28:17,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-18 08:28:17,123 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-18 08:28:17,123 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:17,123 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:17,124 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-8B7AE04D6EFA: start as a follower, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,124 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-8B7AE04D6EFA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-18 08:28:17,124 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,124 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B7AE04D6EFA,id=s2
2024-01-18 08:28:17,124 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8B7AE04D6EFA,id=s2
2024-01-18 08:28:17,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-18 08:28:17,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-18 08:28:17,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-18 08:28:17,125 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-18 08:28:17,125 [s2@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:17,125 [s2@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:17,125 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-18 08:28:17,126 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-18 08:28:17,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:17,132 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8B7AE04D6EFA:t0, leader=null, voted=, raftlog=Memoized:s0@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8B7AE04D6EFA:t0, leader=null, voted=, raftlog=Memoized:s1@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8B7AE04D6EFA:t0, leader=null, voted=, raftlog=Memoized:s2@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null RUNNING
2024-01-18 08:28:17,134 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8B7AE04D6EFA:t0, leader=null, voted=, raftlog=Memoized:s0@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8B7AE04D6EFA:t0, leader=null, voted=, raftlog=Memoized:s1@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8B7AE04D6EFA:t0, leader=null, voted=, raftlog=Memoized:s2@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null RUNNING
2024-01-18 08:28:17,227 [s0@group-8B7AE04D6EFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-8B7AE04D6EFA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:153751019ns, electionTimeout:151ms
2024-01-18 08:28:17,227 [s0@group-8B7AE04D6EFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,227 [s0@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-8B7AE04D6EFA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-18 08:28:17,231 [s0@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-18 08:28:17,231 [s0@group-8B7AE04D6EFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-8B7AE04D6EFA-LeaderElection1
2024-01-18 08:28:17,235 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-8B7AE04D6EFA-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,259 [s1@group-8B7AE04D6EFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-8B7AE04D6EFA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:161826520ns, electionTimeout:160ms
2024-01-18 08:28:17,259 [s1@group-8B7AE04D6EFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,259 [s1@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-8B7AE04D6EFA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-18 08:28:17,259 [s1@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-18 08:28:17,259 [s1@group-8B7AE04D6EFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-8B7AE04D6EFA-LeaderElection2
2024-01-18 08:28:17,261 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-8B7AE04D6EFA-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,276 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:17,276 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:17,280 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:17,281 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:17,282 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-8B7AE04D6EFA: receive requestVote(PRE_VOTE, s0, group-8B7AE04D6EFA, 0, (t:0, i:0))
2024-01-18 08:28:17,284 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8B7AE04D6EFA-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-18 08:28:17,284 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-8B7AE04D6EFA: receive requestVote(PRE_VOTE, s1, group-8B7AE04D6EFA, 0, (t:0, i:0))
2024-01-18 08:28:17,284 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-8B7AE04D6EFA: receive requestVote(PRE_VOTE, s0, group-8B7AE04D6EFA, 0, (t:0, i:0))
2024-01-18 08:28:17,284 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8B7AE04D6EFA-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-18 08:28:17,284 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8B7AE04D6EFA-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-18 08:28:17,290 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-8B7AE04D6EFA: receive requestVote(PRE_VOTE, s1, group-8B7AE04D6EFA, 0, (t:0, i:0))
2024-01-18 08:28:17,294 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-8B7AE04D6EFA replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-8B7AE04D6EFA:t0, leader=null, voted=, raftlog=Memoized:s0@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,294 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-8B7AE04D6EFA replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-8B7AE04D6EFA:t0, leader=null, voted=, raftlog=Memoized:s1@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,294 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-8B7AE04D6EFA replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-8B7AE04D6EFA:t0, leader=null, voted=, raftlog=Memoized:s2@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,294 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8B7AE04D6EFA-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-18 08:28:17,294 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-8B7AE04D6EFA replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-8B7AE04D6EFA:t0, leader=null, voted=, raftlog=Memoized:s2@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,295 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-8B7AE04D6EFA-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-18 08:28:17,295 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-8B7AE04D6EFA-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-18 08:28:17,295 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2024-01-18 08:28:17,296 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2024-01-18 08:28:17,296 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-8B7AE04D6EFA-LeaderElection2 PRE_VOTE round 0: result PASSED
2024-01-18 08:28:17,296 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-8B7AE04D6EFA-LeaderElection1 PRE_VOTE round 0: result PASSED
2024-01-18 08:28:17,296 [s1@group-8B7AE04D6EFA-LeaderElection2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4b38af5f
2024-01-18 08:28:17,296 [s0@group-8B7AE04D6EFA-LeaderElection1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3f1efd9b
2024-01-18 08:28:17,298 [s0@group-8B7AE04D6EFA-LeaderElection1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:17,299 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-8B7AE04D6EFA-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,299 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:17,299 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:17,300 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-8B7AE04D6EFA: receive requestVote(ELECTION, s0, group-8B7AE04D6EFA, 1, (t:0, i:0))
2024-01-18 08:28:17,299 [s1@group-8B7AE04D6EFA-LeaderElection2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:17,300 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-8B7AE04D6EFA-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,301 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8B7AE04D6EFA-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2024-01-18 08:28:17,301 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-8B7AE04D6EFA replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-8B7AE04D6EFA:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,302 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-8B7AE04D6EFA: receive requestVote(ELECTION, s0, group-8B7AE04D6EFA, 1, (t:0, i:0))
2024-01-18 08:28:17,302 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8B7AE04D6EFA-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-18 08:28:17,303 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-8B7AE04D6EFA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-18 08:28:17,303 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,303 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:17,303 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:17,304 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,304 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-8B7AE04D6EFA: receive requestVote(ELECTION, s1, group-8B7AE04D6EFA, 1, (t:0, i:0))
2024-01-18 08:28:17,304 [s2@group-8B7AE04D6EFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8B7AE04D6EFA-FollowerState was interrupted
2024-01-18 08:28:17,304 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8B7AE04D6EFA-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2024-01-18 08:28:17,304 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-8B7AE04D6EFA replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-8B7AE04D6EFA:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,305 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-8B7AE04D6EFA: receive requestVote(ELECTION, s1, group-8B7AE04D6EFA, 1, (t:0, i:0))
2024-01-18 08:28:17,308 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-8B7AE04D6EFA: set firstElectionSinceStartup to false for candidate:s0
2024-01-18 08:28:17,308 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3fb51b91
2024-01-18 08:28:17,310 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:17,310 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-8B7AE04D6EFA replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-8B7AE04D6EFA:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,310 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8B7AE04D6EFA-FOLLOWER: reject ELECTION from s1: already has voted for s0 at current term 1
2024-01-18 08:28:17,310 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-8B7AE04D6EFA replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-8B7AE04D6EFA:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,311 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-8B7AE04D6EFA-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2024-01-18 08:28:17,311 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-8B7AE04D6EFA-LeaderElection1: ELECTION PASSED received 2 response(s) and 0 exception(s):
2024-01-18 08:28:17,311 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2024-01-18 08:28:17,311 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:OK-t1
2024-01-18 08:28:17,311 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2024-01-18 08:28:17,311 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2024-01-18 08:28:17,311 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-8B7AE04D6EFA-LeaderElection2 ELECTION round 0: result REJECTED
2024-01-18 08:28:17,311 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-8B7AE04D6EFA: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-01-18 08:28:17,311 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-8B7AE04D6EFA-LeaderElection2
2024-01-18 08:28:17,312 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,311 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-8B7AE04D6EFA-LeaderElection1 ELECTION round 0: result PASSED
2024-01-18 08:28:17,312 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-8B7AE04D6EFA-LeaderElection1
2024-01-18 08:28:17,312 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-8B7AE04D6EFA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-18 08:28:17,320 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-18 08:28:17,324 [s1@group-8B7AE04D6EFA-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-8B7AE04D6EFA: set firstElectionSinceStartup to false for REJECTED
2024-01-18 08:28:17,327 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-18 08:28:17,327 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:17,331 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-18 08:28:17,332 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-18 08:28:17,332 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-18 08:28:17,340 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-18 08:28:17,342 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-18 08:28:17,342 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:17,342 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-18 08:28:17,342 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-18 08:28:17,356 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-18 08:28:17,356 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,357 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-18 08:28:17,359 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-18 08:28:17,359 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-18 08:28:17,360 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,360 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-18 08:28:17,360 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-18 08:28:17,361 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-8B7AE04D6EFA-LeaderStateImpl
2024-01-18 08:28:17,361 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-8B7AE04D6EFA: set firstElectionSinceStartup to false for becomeLeader
2024-01-18 08:28:17,361 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-8B7AE04D6EFA: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 516ms
2024-01-18 08:28:17,390 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-8B7AE04D6EFA-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-18 08:28:17,418 [s0@group-8B7AE04D6EFA-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8B7AE04D6EFA: set configuration 0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,439 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-8B7AE04D6EFA: change Leader from null to s0 at term 1 for appendEntries, leader elected after 597ms
2024-01-18 08:28:17,440 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-8B7AE04D6EFA: change Leader from null to s0 at term 1 for appendEntries, leader elected after 601ms
2024-01-18 08:28:17,441 [s0@group-8B7AE04D6EFA-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-18 08:28:17,493 [s0@group-8B7AE04D6EFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-8B7AE04D6EFA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s0/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_inprogress_0
2024-01-18 08:28:17,585 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #2 failed: java.lang.IllegalStateException: Leader: s0@group-8B7AE04D6EFA not ready
2024-01-18 08:28:17,637 [s2@group-8B7AE04D6EFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-8B7AE04D6EFA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:152166958ns, electionTimeout:151ms
2024-01-18 08:28:17,637 [s2@group-8B7AE04D6EFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,638 [s2@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-8B7AE04D6EFA: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-18 08:28:17,638 [s2@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-18 08:28:17,638 [s2@group-8B7AE04D6EFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-8B7AE04D6EFA-LeaderElection3
2024-01-18 08:28:17,638 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-8B7AE04D6EFA: change Leader from s0 to null at term 1 for PRE_VOTE
2024-01-18 08:28:17,638 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-8B7AE04D6EFA-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,641 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-8B7AE04D6EFA: receive requestVote(PRE_VOTE, s2, group-8B7AE04D6EFA, 1, (t:0, i:0))
2024-01-18 08:28:17,641 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8B7AE04D6EFA-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:17,641 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-8B7AE04D6EFA: receive requestVote(PRE_VOTE, s2, group-8B7AE04D6EFA, 1, (t:0, i:0))
2024-01-18 08:28:17,642 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-8B7AE04D6EFA replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-8B7AE04D6EFA:t1, leader=s0, voted=s1, raftlog=Memoized:s1@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,642 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-8B7AE04D6EFA-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-18 08:28:17,642 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2024-01-18 08:28:17,642 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-8B7AE04D6EFA-LeaderElection3 PRE_VOTE round 0: result PASSED
2024-01-18 08:28:17,642 [s2@group-8B7AE04D6EFA-LeaderElection3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1d3e1e2
2024-01-18 08:28:17,643 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8B7AE04D6EFA-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2024-01-18 08:28:17,643 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-8B7AE04D6EFA replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-8B7AE04D6EFA:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,643 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-8B7AE04D6EFA: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:5, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:)]
2024-01-18 08:28:17,644 [s2@group-8B7AE04D6EFA-LeaderElection3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:17,644 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-8B7AE04D6EFA-LeaderElection3 ELECTION round 0: submit vote requests at term 2 for -1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,645 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8B7AE04D6EFA: set configuration 0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,647 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:17,647 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-18 08:28:17,647 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-8B7AE04D6EFA: receive requestVote(ELECTION, s2, group-8B7AE04D6EFA, 2, (t:0, i:0))
2024-01-18 08:28:17,647 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:6, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:)]
2024-01-18 08:28:17,648 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1584)) - s2@group-8B7AE04D6EFA: Not recognize s0 (term=1) as leader, state: s2@group-8B7AE04D6EFA:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null reply: s0<-s2#6:FAIL-t2,NOT_LEADER,nextIndex=0,followerCommit=-1,matchIndex=-1
2024-01-18 08:28:17,648 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8B7AE04D6EFA-LEADER: reject ELECTION from s2: our last entry (t:1, i:0) > candidate's last entry (t:0, i:0)
2024-01-18 08:28:17,648 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-8B7AE04D6EFA: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-01-18 08:28:17,648 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-8B7AE04D6EFA: changes role from    LEADER to FOLLOWER at term 2 for candidate:s2
2024-01-18 08:28:17,648 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-8B7AE04D6EFA-LeaderStateImpl
2024-01-18 08:28:17,653 [s0@group-8B7AE04D6EFA->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s0@group-8B7AE04D6EFA->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-18 08:28:17,654 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-8B7AE04D6EFA-PendingRequests: sendNotLeaderResponses
2024-01-18 08:28:17,654 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-8B7AE04D6EFA: receive requestVote(ELECTION, s2, group-8B7AE04D6EFA, 2, (t:0, i:0))
2024-01-18 08:28:17,654 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8B7AE04D6EFA-FOLLOWER: reject ELECTION from s2: our last entry (t:1, i:0) > candidate's last entry (t:0, i:0)
2024-01-18 08:28:17,654 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-8B7AE04D6EFA: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-01-18 08:28:17,654 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-8B7AE04D6EFA: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2024-01-18 08:28:17,654 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,654 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,655 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7f21a42b
2024-01-18 08:28:17,654 [s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-18 08:28:17,654 [s1@group-8B7AE04D6EFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-8B7AE04D6EFA-FollowerState was interrupted
2024-01-18 08:28:17,657 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:17,657 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-8B7AE04D6EFA replies to ELECTION vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-8B7AE04D6EFA:t2, leader=null, voted=null, raftlog=Memoized:s1@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,663 [s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_inprogress_0
2024-01-18 08:28:17,664 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-8B7AE04D6EFA: succeeded to handle AppendEntries. Reply: s0<-s1#5:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-18 08:28:17,849 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-8B7AE04D6EFA-LeaderElection3: ELECTION TIMEOUT received 1 response(s) and 0 exception(s):
2024-01-18 08:28:17,849 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:FAIL-t2
2024-01-18 08:28:17,849 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-8B7AE04D6EFA-LeaderElection3 ELECTION round 0: result TIMEOUT
2024-01-18 08:28:17,850 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-8B7AE04D6EFA-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 2 for -1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,850 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-8B7AE04D6EFA: receive requestVote(PRE_VOTE, s2, group-8B7AE04D6EFA, 2, (t:0, i:0))
2024-01-18 08:28:17,850 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-8B7AE04D6EFA: receive requestVote(PRE_VOTE, s2, group-8B7AE04D6EFA, 2, (t:0, i:0))
2024-01-18 08:28:17,851 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8B7AE04D6EFA-FOLLOWER: reject PRE_VOTE from s2: our last entry (t:1, i:0) > candidate's last entry (t:0, i:0)
2024-01-18 08:28:17,851 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-8B7AE04D6EFA replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-8B7AE04D6EFA:t2, leader=null, voted=null, raftlog=Memoized:s1@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,900 [s1@group-8B7AE04D6EFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-8B7AE04D6EFA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:245955166ns, electionTimeout:245ms
2024-01-18 08:28:17,900 [s1@group-8B7AE04D6EFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,901 [s1@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-8B7AE04D6EFA: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2024-01-18 08:28:17,901 [s1@group-8B7AE04D6EFA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-18 08:28:17,901 [s1@group-8B7AE04D6EFA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-8B7AE04D6EFA-LeaderElection4
2024-01-18 08:28:17,901 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-8B7AE04D6EFA-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 2 for 0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,903 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-8B7AE04D6EFA: receive requestVote(PRE_VOTE, s1, group-8B7AE04D6EFA, 2, (t:1, i:0))
2024-01-18 08:28:17,903 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-8B7AE04D6EFA: receive requestVote(PRE_VOTE, s1, group-8B7AE04D6EFA, 2, (t:1, i:0))
2024-01-18 08:28:17,903 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8B7AE04D6EFA-CANDIDATE: accept PRE_VOTE from s1: our last entry null < candidate's last entry (t:1, i:0)
2024-01-18 08:28:17,903 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-8B7AE04D6EFA replies to PRE_VOTE vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-8B7AE04D6EFA:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,904 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-8B7AE04D6EFA-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-18 08:28:17,904 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t2
2024-01-18 08:28:17,904 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-8B7AE04D6EFA-LeaderElection4 PRE_VOTE round 0: result PASSED
2024-01-18 08:28:17,904 [s1@group-8B7AE04D6EFA-LeaderElection4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@345e2011
2024-01-18 08:28:17,906 [s1@group-8B7AE04D6EFA-LeaderElection4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:17,906 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-8B7AE04D6EFA-LeaderElection4 ELECTION round 0: submit vote requests at term 3 for 0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,906 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-8B7AE04D6EFA: receive requestVote(ELECTION, s1, group-8B7AE04D6EFA, 3, (t:1, i:0))
2024-01-18 08:28:17,907 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8B7AE04D6EFA-CANDIDATE: accept ELECTION from s1: our last entry null < candidate's last entry (t:1, i:0)
2024-01-18 08:28:17,907 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-8B7AE04D6EFA: changes role from CANDIDATE to FOLLOWER at term 3 for candidate:s1
2024-01-18 08:28:17,907 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-8B7AE04D6EFA-LeaderElection3
2024-01-18 08:28:17,907 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:17,907 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1d0064d5
2024-01-18 08:28:17,908 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:17,908 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-8B7AE04D6EFA replies to ELECTION vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-8B7AE04D6EFA:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,909 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-8B7AE04D6EFA-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-18 08:28:17,909 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t3
2024-01-18 08:28:17,909 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-8B7AE04D6EFA-LeaderElection4 ELECTION round 0: result PASSED
2024-01-18 08:28:17,909 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-8B7AE04D6EFA-LeaderElection4
2024-01-18 08:28:17,909 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-8B7AE04D6EFA: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2024-01-18 08:28:17,909 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-18 08:28:17,909 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-18 08:28:17,909 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:17,910 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-18 08:28:17,910 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-18 08:28:17,910 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-18 08:28:17,911 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-18 08:28:17,911 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-18 08:28:17,911 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:17,911 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-18 08:28:17,911 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-18 08:28:17,912 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-18 08:28:17,912 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,912 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-18 08:28:17,912 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-18 08:28:17,912 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-18 08:28:17,913 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:17,913 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-18 08:28:17,913 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-18 08:28:17,913 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-8B7AE04D6EFA-LeaderStateImpl
2024-01-18 08:28:17,913 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-8B7AE04D6EFA: change Leader from null to s1 at term 3 for becomeLeader, leader elected after 259ms
2024-01-18 08:28:17,915 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-18 08:28:17,915 [s1@group-8B7AE04D6EFA-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8B7AE04D6EFA: set configuration 1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,916 [s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_0-0
2024-01-18 08:28:17,916 [s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_0-0
2024-01-18 08:28:17,918 [s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-18 08:28:17,921 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-8B7AE04D6EFA: change Leader from null to s1 at term 3 for appendEntries, leader elected after 282ms
2024-01-18 08:28:17,922 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1701)) - s2@group-8B7AE04D6EFA: Failed appendEntries as previous log entry ((t:1, i:0)) is not found
2024-01-18 08:28:17,922 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1671)) - s2@group-8B7AE04D6EFA: inconsistency entries. Reply:s1<-s2#10:FAIL-t3,INCONSISTENCY,nextIndex=0,followerCommit=-1,matchIndex=-1
2024-01-18 08:28:17,923 [s1@group-8B7AE04D6EFA->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:info(70)) - s1@group-8B7AE04D6EFA->s2: decreaseNextIndex nextIndex: updateUnconditionally 1 -> 0
2024-01-18 08:28:17,925 [s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_inprogress_1
2024-01-18 08:28:17,927 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: receive appendEntries(s1, 3, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1], cId:11, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:), (t:3, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:)]
2024-01-18 08:28:17,928 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8B7AE04D6EFA: set configuration 0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,928 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8B7AE04D6EFA: set configuration 1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null
2024-01-18 08:28:17,928 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:17,928 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-18 08:28:17,929 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-18 08:28:17,929 [s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-18 08:28:17,937 [s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_inprogress_0
2024-01-18 08:28:17,938 [s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_0-0
2024-01-18 08:28:17,938 [s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_0-0
2024-01-18 08:28:17,939 [s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-18 08:28:17,946 [s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/log_inprogress_1
2024-01-18 08:28:17,947 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: succeeded to handle AppendEntries. Reply: s1<-s2#11:OK-t3,SUCCESS,nextIndex=2,followerCommit=-1,matchIndex=1
2024-01-18 08:28:17,949 [s1@group-8B7AE04D6EFA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5f57737a
2024-01-18 08:28:17,952 [s1@group-8B7AE04D6EFA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:17,953 [s1@group-8B7AE04D6EFA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5bd0e896
2024-01-18 08:28:17,954 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: receive appendEntries(s1, 3, (t:3, i:1), 1, false, commits:[s1:c1, s0:c-1, s2:c-1], cId:12, entries: [(t:3, i:2), METADATAENTRY(c:1)]
2024-01-18 08:28:17,954 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:17,955 [s1@group-8B7AE04D6EFA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s1/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:17,955 [s1@group-8B7AE04D6EFA-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 1 >= startIndex == 1
2024-01-18 08:28:17,955 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: succeeded to handle AppendEntries. Reply: s1<-s2#12:OK-t3,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-18 08:28:17,955 [s2@group-8B7AE04D6EFA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2194da52
2024-01-18 08:28:17,958 [s2@group-8B7AE04D6EFA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:17,958 [s2@group-8B7AE04D6EFA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2f533010
2024-01-18 08:28:17,959 [s2@group-8B7AE04D6EFA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpc9f02a5b1/s2/9ec4484b-c9f0-40d4-abd8-8b7ae04d6efa/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:18,036 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8B7AE04D6EFA:t2, leader=null, voted=null, raftlog=Memoized:s0@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8B7AE04D6EFA:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8B7AE04D6EFA:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null RUNNING
2024-01-18 08:28:18,040 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:18,071 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-DC14C3CA58A2: get 15 returns []
2024-01-18 08:28:18,073 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s1@group-8B7AE04D6EFA: receive client request(RaftClientRequest:client-DC14C3CA58A2->s1@group-8B7AE04D6EFA, cid=15, seq=null, RW, first msg to make leader ready)
2024-01-18 08:28:18,094 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s1@group-8B7AE04D6EFA-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-DC14C3CA58A2->s1@group-8B7AE04D6EFA, cid=15, seq=null, RW, first msg to make leader ready, entry=(t:3, i:3), STATEMACHINELOGENTRY, 15@client-DC14C3CA58A2
2024-01-18 08:28:18,096 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: receive appendEntries(s1, 3, (t:3, i:2), 2, false, commits:[s1:c2, s0:c-1, s2:c2], cId:16, entries: [(t:3, i:3), STATEMACHINELOGENTRY, 15@client-DC14C3CA58A2]
2024-01-18 08:28:18,096 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:18,098 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: succeeded to handle AppendEntries. Reply: s1<-s2#16:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-18 08:28:18,100 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: receive appendEntries(s1, 3, (t:3, i:3), 3, false, commits:[s1:c3, s0:c-1, s2:c2], cId:17, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2024-01-18 08:28:18,100 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:18,101 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: succeeded to handle AppendEntries. Reply: s1<-s2#17:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-18 08:28:18,102 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:18,103 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s1@group-8B7AE04D6EFA: receive client request(RaftClientRequest:client-5B2C54552D7A->s1@group-8B7AE04D6EFA, cid=999, seq=null, RW, message)
2024-01-18 08:28:18,104 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s1@group-8B7AE04D6EFA-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-5B2C54552D7A->s1@group-8B7AE04D6EFA, cid=999, seq=null, RW, message, entry=(t:3, i:5), STATEMACHINELOGENTRY, 999@client-5B2C54552D7A
2024-01-18 08:28:18,104 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: receive appendEntries(s1, 3, (t:3, i:4), 4, false, commits:[s1:c4, s0:c-1, s2:c3], cId:18, entries: [(t:3, i:5), STATEMACHINELOGENTRY, 999@client-5B2C54552D7A]
2024-01-18 08:28:18,105 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:18,105 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: succeeded to handle AppendEntries. Reply: s1<-s2#18:OK-t3,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2024-01-18 08:28:18,107 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: receive appendEntries(s1, 3, (t:3, i:5), 5, false, commits:[s1:c5, s0:c-1, s2:c4], cId:19, entries: [(t:3, i:6), METADATAENTRY(c:5)]
2024-01-18 08:28:18,107 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:18,107 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s1@group-8B7AE04D6EFA: receive client request(RaftClientRequest:client-5B2C54552D7A->s1@group-8B7AE04D6EFA, cid=999, seq=null, RW, message)
2024-01-18 08:28:18,108 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s2@group-8B7AE04D6EFA: succeeded to handle AppendEntries. Reply: s1<-s2#19:OK-t3,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-18 08:28:18,109 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s1@group-8B7AE04D6EFA: receive client request(RaftClientRequest:client-5B2C54552D7A->s1@group-8B7AE04D6EFA, cid=999, seq=null, RW, message)
2024-01-18 08:28:18,109 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s1@group-8B7AE04D6EFA: receive client request(RaftClientRequest:client-5B2C54552D7A->s1@group-8B7AE04D6EFA, cid=999, seq=null, RW, message)
2024-01-18 08:28:18,109 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s1@group-8B7AE04D6EFA: receive client request(RaftClientRequest:client-5B2C54552D7A->s1@group-8B7AE04D6EFA, cid=999, seq=null, RW, message)
2024-01-18 08:28:18,109 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s1@group-8B7AE04D6EFA: receive client request(RaftClientRequest:client-5B2C54552D7A->s1@group-8B7AE04D6EFA, cid=999, seq=null, RW, message)
2024-01-18 08:28:18,112 [Time-limited test] INFO  simulation.TestRaftStateMachineExceptionWithSimulatedRpc (RaftStateMachineExceptionTests.java:runTestRetryOnStateMachineException(130)) - check server s0
2024-01-18 08:28:18,114 [Time-limited test] WARN  simulation.TestRaftStateMachineExceptionWithSimulatedRpc (JavaUtils.java:attempt(231)) - FAILED "GetRetryEntry", attempt #1/5: java.lang.AssertionError, sleep 1s and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:87)
	at org.junit.Assert.assertTrue(Assert.java:42)
	at org.junit.Assert.assertNotNull(Assert.java:713)
	at org.junit.Assert.assertNotNull(Assert.java:723)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.lambda$runTestRetryOnStateMachineException$0(RaftStateMachineExceptionTests.java:133)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnStateMachineException(RaftStateMachineExceptionTests.java:132)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:140)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:120)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnStateMachineException(RaftStateMachineExceptionTests.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:18,132 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-8B7AE04D6EFA-LeaderElection3: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2024-01-18 08:28:18,133 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:FAIL-t2
2024-01-18 08:28:18,133 [s2@group-8B7AE04D6EFA-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-8B7AE04D6EFA-LeaderElection3 PRE_VOTE round 1: result REJECTED
2024-01-18 08:28:19,114 [Time-limited test] WARN  simulation.TestRaftStateMachineExceptionWithSimulatedRpc (JavaUtils.java:attempt(231)) - FAILED "GetRetryEntry", attempt #2/5: java.lang.AssertionError, sleep 1s and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:87)
	at org.junit.Assert.assertTrue(Assert.java:42)
	at org.junit.Assert.assertNotNull(Assert.java:713)
	at org.junit.Assert.assertNotNull(Assert.java:723)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.lambda$runTestRetryOnStateMachineException$0(RaftStateMachineExceptionTests.java:133)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnStateMachineException(RaftStateMachineExceptionTests.java:132)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:140)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:120)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnStateMachineException(RaftStateMachineExceptionTests.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:20,115 [Time-limited test] WARN  simulation.TestRaftStateMachineExceptionWithSimulatedRpc (JavaUtils.java:attempt(231)) - FAILED "GetRetryEntry", attempt #3/5: java.lang.AssertionError, sleep 1s and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:87)
	at org.junit.Assert.assertTrue(Assert.java:42)
	at org.junit.Assert.assertNotNull(Assert.java:713)
	at org.junit.Assert.assertNotNull(Assert.java:723)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.lambda$runTestRetryOnStateMachineException$0(RaftStateMachineExceptionTests.java:133)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnStateMachineException(RaftStateMachineExceptionTests.java:132)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:140)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:120)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnStateMachineException(RaftStateMachineExceptionTests.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:20,916 [s1@group-8B7AE04D6EFA->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(90)) - s1@group-8B7AE04D6EFA->s0-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@49743fbf
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:79)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:156)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:21,115 [Time-limited test] WARN  simulation.TestRaftStateMachineExceptionWithSimulatedRpc (JavaUtils.java:attempt(231)) - FAILED "GetRetryEntry", attempt #4/5: java.lang.AssertionError, sleep 1s and then retry.
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:87)
	at org.junit.Assert.assertTrue(Assert.java:42)
	at org.junit.Assert.assertNotNull(Assert.java:713)
	at org.junit.Assert.assertNotNull(Assert.java:723)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.lambda$runTestRetryOnStateMachineException$0(RaftStateMachineExceptionTests.java:133)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnStateMachineException(RaftStateMachineExceptionTests.java:132)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:140)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:120)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnStateMachineException(RaftStateMachineExceptionTests.java:102)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:22,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-18 08:28:22,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-18 08:28:22,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-18 08:28:22,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-18 08:28:22,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-18 08:28:22,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-8B7AE04D6EFA:t2, leader=null, voted=null, raftlog=Memoized:s0@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-8B7AE04D6EFA:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c6, conf=1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8B7AE04D6EFA:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-8B7AE04D6EFA-SegmentedRaftLog:OPENED:c6, conf=1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[], old=null RUNNING
2024-01-18 08:28:22,118 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-18 08:28:22,118 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-18 08:28:22,118 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-18 08:28:22,119 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-8B7AE04D6EFA: shutdown
2024-01-18 08:28:22,119 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-8B7AE04D6EFA: shutdown
2024-01-18 08:28:22,119 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B7AE04D6EFA,id=s0
2024-01-18 08:28:22,119 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,119 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-8B7AE04D6EFA-StateMachineUpdater: set stopIndex = -1
2024-01-18 08:28:22,120 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,120 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,119 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-8B7AE04D6EFA: shutdown
2024-01-18 08:28:22,120 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B7AE04D6EFA,id=s1
2024-01-18 08:28:22,120 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,119 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8B7AE04D6EFA,id=s2
2024-01-18 08:28:22,120 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-8B7AE04D6EFA-FollowerState
2024-01-18 08:28:22,120 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,120 [s2@group-8B7AE04D6EFA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8B7AE04D6EFA-FollowerState was interrupted
2024-01-18 08:28:22,121 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,121 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,120 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s1: shutdown s1@group-8B7AE04D6EFA-LeaderStateImpl
2024-01-18 08:28:22,121 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-8B7AE04D6EFA-PendingRequests: sendNotLeaderResponses
2024-01-18 08:28:22,121 [s1@group-8B7AE04D6EFA->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-8B7AE04D6EFA->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-18 08:28:22,121 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,122 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,122 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-8B7AE04D6EFA: applyIndex: -1
2024-01-18 08:28:22,122 [s1@group-8B7AE04D6EFA->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s1@group-8B7AE04D6EFA->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-18 08:28:22,122 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,122 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,122 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,122 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,120 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-8B7AE04D6EFA-StateMachineUpdater: set stopIndex = 6
2024-01-18 08:28:22,122 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-8B7AE04D6EFA: applyIndex: 6
2024-01-18 08:28:22,122 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,122 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:22,123 [s0@group-8B7AE04D6EFA-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-8B7AE04D6EFA-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-18 08:28:22,123 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-8B7AE04D6EFA-StateMachineUpdater: set stopIndex = 6
2024-01-18 08:28:22,123 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-8B7AE04D6EFA: applyIndex: 6
2024-01-18 08:28:22,123 [s1@group-8B7AE04D6EFA-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-8B7AE04D6EFA-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-18 08:28:22,123 [s2@group-8B7AE04D6EFA-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-8B7AE04D6EFA-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-18 08:28:22,506 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-8B7AE04D6EFA-SegmentedRaftLogWorker close()
2024-01-18 08:28:23,108 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-8B7AE04D6EFA-SegmentedRaftLogWorker close()
2024-01-18 08:28:23,109 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-8B7AE04D6EFA-SegmentedRaftLogWorker close()
2024-01-18 08:28:23,110 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-18 08:28:23,110 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-18 08:28:25,121 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-18 08:28:25,121 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testHandleStateMachineException" classname="org.apache.ratis.server.simulation.TestRaftStateMachineExceptionWithSimulatedRpc" time="1.521">
    <system-out><![CDATA[2024-01-18 08:28:25,127 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-18 08:28:25,127 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-18 08:28:25,127 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-18 08:28:25,127 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2024-01-18 08:28:25,127 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-18 08:28:25,128 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(134)) - Running runWithNewCluster
2024-01-18 08:28:25,128 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-18 08:28:25,129 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-E44CE8E90D07:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]
2024-01-18 08:28:25,129 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-18 08:28:25,129 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-18 08:28:25,129 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-18 08:28:25,129 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-18 08:28:25,129 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-18 08:28:25,129 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-18 08:28:25,129 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-E44CE8E90D07:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020], format? true
2024-01-18 08:28:25,129 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0
2024-01-18 08:28:25,129 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0 does not exist.
2024-01-18 08:28:25,129 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0
2024-01-18 08:28:25,130 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:25,130 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-18 08:28:25,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:25,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-18 08:28:25,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:25,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0] (custom)
2024-01-18 08:28:25,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-18 08:28:25,131 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-18 08:28:25,131 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-E44CE8E90D07:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] returns group-E44CE8E90D07:java.util.concurrent.CompletableFuture@3b67156f[Not completed]
2024-01-18 08:28:25,131 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-E44CE8E90D07:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020], format? true
2024-01-18 08:28:25,131 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1
2024-01-18 08:28:25,131 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1 does not exist.
2024-01-18 08:28:25,131 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1
2024-01-18 08:28:25,132 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:25,132 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-18 08:28:25,132 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:25,132 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:25,132 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-18 08:28:25,132 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:25,132 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:25,132 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:25,133 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-E44CE8E90D07:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] with StateMachineWithException:uninitialized
2024-01-18 08:28:25,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1] (custom)
2024-01-18 08:28:25,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:25,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-18 08:28:25,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:25,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-18 08:28:25,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-18 08:28:25,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-18 08:28:25,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:25,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-18 08:28:25,134 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:25,134 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-E44CE8E90D07:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] returns group-E44CE8E90D07:java.util.concurrent.CompletableFuture@58075022[Not completed]
2024-01-18 08:28:25,134 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-E44CE8E90D07: ConfigurationManager, init=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-18 08:28:25,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-E44CE8E90D07:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020], format? true
2024-01-18 08:28:25,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:25,134 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-18 08:28:25,134 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2
2024-01-18 08:28:25,134 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-18 08:28:25,134 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2 does not exist.
2024-01-18 08:28:25,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2
2024-01-18 08:28:25,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-E44CE8E90D07:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] with StateMachineWithException:uninitialized
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-E44CE8E90D07: ConfigurationManager, init=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-18 08:28:25,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-18 08:28:25,134 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-18 08:28:25,135 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:25,136 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-18 08:28:25,136 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:25,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-18 08:28:25,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:25,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2] (custom)
2024-01-18 08:28:25,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-18 08:28:25,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-18 08:28:25,137 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-18 08:28:25,137 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-18 08:28:25,138 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-18 08:28:25,138 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-18 08:28:25,138 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-18 08:28:25,138 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-18 08:28:25,138 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-18 08:28:25,138 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-18 08:28:25,138 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-18 08:28:25,140 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-18 08:28:25,140 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-18 08:28:25,140 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-18 08:28:25,140 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-18 08:28:25,140 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-E44CE8E90D07:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] returns group-E44CE8E90D07:java.util.concurrent.CompletableFuture@2167fc3d[Not completed]
2024-01-18 08:28:25,140 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-18 08:28:25,140 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-18 08:28:25,140 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:25,140 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-18 08:28:25,140 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:25,140 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-18 08:28:25,141 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:25,141 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0] (custom)
2024-01-18 08:28:25,141 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-E44CE8E90D07:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020] with StateMachineWithException:uninitialized
2024-01-18 08:28:25,141 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:25,141 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:25,141 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07 does not exist. Creating ...
2024-01-18 08:28:25,141 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-18 08:28:25,141 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-18 08:28:25,141 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:25,141 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-18 08:28:25,141 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:25,141 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07
2024-01-18 08:28:25,141 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-E44CE8E90D07: ConfigurationManager, init=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-18 08:28:25,142 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-18 08:28:25,142 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-18 08:28:25,142 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-18 08:28:25,142 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-18 08:28:25,142 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-18 08:28:25,142 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-18 08:28:25,143 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/in_use.lock acquired by nodename 3928@fv-az1539-744
2024-01-18 08:28:25,143 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current
2024-01-18 08:28:25,143 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/sm
2024-01-18 08:28:25,143 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3a28195
2024-01-18 08:28:25,144 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-18 08:28:25,144 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-18 08:28:25,144 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-18 08:28:25,144 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-18 08:28:25,144 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-18 08:28:25,144 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-18 08:28:25,146 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:25,146 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07 has been successfully formatted.
2024-01-18 08:28:25,146 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:25,146 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2024-01-18 08:28:25,146 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2024-01-18 08:28:25,146 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-18 08:28:25,147 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-18 08:28:25,147 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:25,147 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-18 08:28:25,147 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-18 08:28:25,148 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:25,148 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-18 08:28:25,148 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-18 08:28:25,148 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:25,150 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-E44CE8E90D07-cacheEviction-AwaitToRun,5,main] started
2024-01-18 08:28:25,150 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-E44CE8E90D07-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07
2024-01-18 08:28:25,150 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:25,150 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-18 08:28:25,150 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:25,150 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:25,150 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-18 08:28:25,150 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-18 08:28:25,150 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-18 08:28:25,151 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-18 08:28:25,151 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:25,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:25,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-18 08:28:25,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-18 08:28:25,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-18 08:28:25,154 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-E44CE8E90D07-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:25,154 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-E44CE8E90D07-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:25,156 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-E44CE8E90D07: start as a follower, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null
2024-01-18 08:28:25,156 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-E44CE8E90D07: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-18 08:28:25,156 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-E44CE8E90D07-FollowerState
2024-01-18 08:28:25,157 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E44CE8E90D07,id=s0
2024-01-18 08:28:25,157 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E44CE8E90D07,id=s0
2024-01-18 08:28:25,157 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-18 08:28:25,157 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-18 08:28:25,157 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-18 08:28:25,157 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-18 08:28:25,157 [s0@group-E44CE8E90D07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:25,158 [s0@group-E44CE8E90D07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:25,158 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-18 08:28:25,159 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-18 08:28:25,159 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-18 08:28:25,159 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1] (custom)
2024-01-18 08:28:25,159 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07 does not exist. Creating ...
2024-01-18 08:28:25,160 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07
2024-01-18 08:28:25,160 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-18 08:28:25,161 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/in_use.lock acquired by nodename 3928@fv-az1539-744
2024-01-18 08:28:25,161 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current
2024-01-18 08:28:25,161 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/sm
2024-01-18 08:28:25,161 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3d7bcec5
2024-01-18 08:28:25,163 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:25,164 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07 has been successfully formatted.
2024-01-18 08:28:25,164 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:25,164 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2024-01-18 08:28:25,164 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2024-01-18 08:28:25,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-18 08:28:25,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-18 08:28:25,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:25,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-18 08:28:25,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-18 08:28:25,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:25,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-18 08:28:25,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-18 08:28:25,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:25,166 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-E44CE8E90D07-cacheEviction-AwaitToRun,5,main] started
2024-01-18 08:28:25,166 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-E44CE8E90D07-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07
2024-01-18 08:28:25,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:25,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-18 08:28:25,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:25,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:25,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-18 08:28:25,167 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-18 08:28:25,167 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-18 08:28:25,167 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-18 08:28:25,167 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:25,168 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:25,168 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-18 08:28:25,168 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-18 08:28:25,168 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-18 08:28:25,168 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-E44CE8E90D07-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:25,168 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-E44CE8E90D07-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:25,168 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-E44CE8E90D07: start as a follower, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null
2024-01-18 08:28:25,169 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-E44CE8E90D07: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-18 08:28:25,169 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-E44CE8E90D07-FollowerState
2024-01-18 08:28:25,169 [s1@group-E44CE8E90D07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:25,169 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E44CE8E90D07,id=s1
2024-01-18 08:28:25,169 [s1@group-E44CE8E90D07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:25,169 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E44CE8E90D07,id=s1
2024-01-18 08:28:25,169 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-18 08:28:25,169 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-18 08:28:25,169 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-18 08:28:25,169 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-18 08:28:25,170 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-18 08:28:25,170 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-18 08:28:25,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-18 08:28:25,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-18 08:28:25,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2] (custom)
2024-01-18 08:28:25,170 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07 does not exist. Creating ...
2024-01-18 08:28:25,171 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07
2024-01-18 08:28:25,171 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/in_use.lock acquired by nodename 3928@fv-az1539-744
2024-01-18 08:28:25,172 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current
2024-01-18 08:28:25,172 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/sm
2024-01-18 08:28:25,172 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3ebb63cd
2024-01-18 08:28:25,174 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:25,174 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07 has been successfully formatted.
2024-01-18 08:28:25,174 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:25,174 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2024-01-18 08:28:25,174 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2024-01-18 08:28:25,174 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-18 08:28:25,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-18 08:28:25,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:25,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-18 08:28:25,175 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-18 08:28:25,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:25,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-18 08:28:25,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-18 08:28:25,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:25,176 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-E44CE8E90D07-cacheEviction-AwaitToRun,5,main] started
2024-01-18 08:28:25,176 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-E44CE8E90D07-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07
2024-01-18 08:28:25,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:25,176 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-18 08:28:25,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:25,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:25,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-18 08:28:25,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-18 08:28:25,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-18 08:28:25,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-18 08:28:25,177 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:25,179 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:25,179 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-18 08:28:25,179 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-18 08:28:25,180 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-18 08:28:25,180 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-E44CE8E90D07-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:25,180 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-E44CE8E90D07-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:25,180 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-E44CE8E90D07: start as a follower, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null
2024-01-18 08:28:25,180 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-E44CE8E90D07: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-18 08:28:25,180 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-E44CE8E90D07-FollowerState
2024-01-18 08:28:25,180 [s2@group-E44CE8E90D07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:25,180 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E44CE8E90D07,id=s2
2024-01-18 08:28:25,181 [s2@group-E44CE8E90D07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:25,181 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E44CE8E90D07,id=s2
2024-01-18 08:28:25,181 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-18 08:28:25,181 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-18 08:28:25,181 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-18 08:28:25,181 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-18 08:28:25,181 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-18 08:28:25,182 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-18 08:28:25,182 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:25,183 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E44CE8E90D07:t0, leader=null, voted=, raftlog=Memoized:s0@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E44CE8E90D07:t0, leader=null, voted=, raftlog=Memoized:s1@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E44CE8E90D07:t0, leader=null, voted=, raftlog=Memoized:s2@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null RUNNING
2024-01-18 08:28:25,183 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E44CE8E90D07:t0, leader=null, voted=, raftlog=Memoized:s0@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E44CE8E90D07:t0, leader=null, voted=, raftlog=Memoized:s1@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E44CE8E90D07:t0, leader=null, voted=, raftlog=Memoized:s2@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null RUNNING
2024-01-18 08:28:25,348 [s2@group-E44CE8E90D07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-E44CE8E90D07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:167535714ns, electionTimeout:167ms
2024-01-18 08:28:25,348 [s2@group-E44CE8E90D07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-E44CE8E90D07-FollowerState
2024-01-18 08:28:25,348 [s2@group-E44CE8E90D07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-E44CE8E90D07: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-18 08:28:25,348 [s2@group-E44CE8E90D07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-18 08:28:25,349 [s2@group-E44CE8E90D07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-E44CE8E90D07-LeaderElection5
2024-01-18 08:28:25,349 [s2@group-E44CE8E90D07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-E44CE8E90D07-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null
2024-01-18 08:28:25,350 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:25,350 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:25,350 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-E44CE8E90D07: receive requestVote(PRE_VOTE, s2, group-E44CE8E90D07, 0, (t:0, i:0))
2024-01-18 08:28:25,350 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-E44CE8E90D07: receive requestVote(PRE_VOTE, s2, group-E44CE8E90D07, 0, (t:0, i:0))
2024-01-18 08:28:25,350 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-E44CE8E90D07-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:25,350 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-E44CE8E90D07-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:25,350 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-E44CE8E90D07 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-E44CE8E90D07:t0, leader=null, voted=, raftlog=Memoized:s0@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null
2024-01-18 08:28:25,350 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-E44CE8E90D07 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-E44CE8E90D07:t0, leader=null, voted=, raftlog=Memoized:s1@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null
2024-01-18 08:28:25,350 [s2@group-E44CE8E90D07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-E44CE8E90D07-LeaderElection5: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-18 08:28:25,350 [s2@group-E44CE8E90D07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2024-01-18 08:28:25,350 [s2@group-E44CE8E90D07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-E44CE8E90D07-LeaderElection5 PRE_VOTE round 0: result PASSED
2024-01-18 08:28:25,351 [s2@group-E44CE8E90D07-LeaderElection5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3635e5ea
2024-01-18 08:28:25,352 [s2@group-E44CE8E90D07-LeaderElection5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:25,352 [s2@group-E44CE8E90D07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-E44CE8E90D07-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null
2024-01-18 08:28:25,352 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:25,352 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-E44CE8E90D07: receive requestVote(ELECTION, s2, group-E44CE8E90D07, 1, (t:0, i:0))
2024-01-18 08:28:25,352 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-E44CE8E90D07: receive requestVote(ELECTION, s2, group-E44CE8E90D07, 1, (t:0, i:0))
2024-01-18 08:28:25,352 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:25,353 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-E44CE8E90D07-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:25,353 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-E44CE8E90D07-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:25,353 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-E44CE8E90D07: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-18 08:28:25,353 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-E44CE8E90D07: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-18 08:28:25,353 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-E44CE8E90D07-FollowerState
2024-01-18 08:28:25,353 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-E44CE8E90D07-FollowerState
2024-01-18 08:28:25,353 [s0@group-E44CE8E90D07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E44CE8E90D07-FollowerState was interrupted
2024-01-18 08:28:25,353 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-E44CE8E90D07-FollowerState
2024-01-18 08:28:25,353 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-E44CE8E90D07-FollowerState
2024-01-18 08:28:25,353 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-E44CE8E90D07: set firstElectionSinceStartup to false for candidate:s2
2024-01-18 08:28:25,353 [s1@group-E44CE8E90D07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E44CE8E90D07-FollowerState was interrupted
2024-01-18 08:28:25,354 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@43f1429b
2024-01-18 08:28:25,354 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-E44CE8E90D07: set firstElectionSinceStartup to false for candidate:s2
2024-01-18 08:28:25,354 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2143100
2024-01-18 08:28:25,355 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:25,355 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-E44CE8E90D07 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-E44CE8E90D07:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null
2024-01-18 08:28:25,355 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:25,355 [s2@group-E44CE8E90D07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-E44CE8E90D07-LeaderElection5: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-18 08:28:25,355 [s2@group-E44CE8E90D07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2024-01-18 08:28:25,355 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-E44CE8E90D07 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-E44CE8E90D07:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null
2024-01-18 08:28:25,355 [s2@group-E44CE8E90D07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-E44CE8E90D07-LeaderElection5 ELECTION round 0: result PASSED
2024-01-18 08:28:25,355 [s2@group-E44CE8E90D07-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-E44CE8E90D07-LeaderElection5
2024-01-18 08:28:25,355 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-E44CE8E90D07: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-18 08:28:25,356 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-18 08:28:25,356 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-18 08:28:25,356 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:25,356 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-18 08:28:25,356 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-18 08:28:25,356 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-18 08:28:25,357 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-18 08:28:25,357 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-18 08:28:25,357 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:25,357 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-18 08:28:25,357 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-18 08:28:25,357 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-18 08:28:25,358 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:25,358 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-18 08:28:25,358 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-18 08:28:25,358 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-18 08:28:25,358 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:25,358 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-18 08:28:25,358 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-18 08:28:25,358 [s2@group-E44CE8E90D07-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-E44CE8E90D07-LeaderStateImpl
2024-01-18 08:28:25,358 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-E44CE8E90D07: set firstElectionSinceStartup to false for becomeLeader
2024-01-18 08:28:25,358 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-E44CE8E90D07: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 216ms
2024-01-18 08:28:25,358 [s2@group-E44CE8E90D07-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-E44CE8E90D07-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-18 08:28:25,360 [s2@group-E44CE8E90D07-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-E44CE8E90D07: set configuration 0: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null
2024-01-18 08:28:25,360 [s2@group-E44CE8E90D07-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-18 08:28:25,361 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-E44CE8E90D07: change Leader from null to s2 at term 1 for appendEntries, leader elected after 227ms
2024-01-18 08:28:25,363 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-E44CE8E90D07: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:127, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15012"
dataStreamAddress: "localhost:15015"
clientAddress: "localhost:15014"
adminAddress: "localhost:15013"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15016"
dataStreamAddress: "localhost:15019"
clientAddress: "localhost:15018"
adminAddress: "localhost:15017"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
, old:)]
2024-01-18 08:28:25,363 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-E44CE8E90D07: set configuration 0: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null
2024-01-18 08:28:25,364 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:25,364 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-E44CE8E90D07-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-18 08:28:25,364 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-E44CE8E90D07: change Leader from null to s2 at term 1 for appendEntries, leader elected after 229ms
2024-01-18 08:28:25,365 [s0@group-E44CE8E90D07-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-18 08:28:25,369 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-E44CE8E90D07: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:130, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15012"
dataStreamAddress: "localhost:15015"
clientAddress: "localhost:15014"
adminAddress: "localhost:15013"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15016"
dataStreamAddress: "localhost:15019"
clientAddress: "localhost:15018"
adminAddress: "localhost:15017"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
, old:)]
2024-01-18 08:28:25,370 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-E44CE8E90D07: set configuration 0: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null
2024-01-18 08:28:25,370 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:25,370 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-E44CE8E90D07-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-18 08:28:25,374 [s1@group-E44CE8E90D07-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-18 08:28:25,374 [s2@group-E44CE8E90D07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-E44CE8E90D07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current/log_inprogress_0
2024-01-18 08:28:25,374 [s0@group-E44CE8E90D07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-E44CE8E90D07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current/log_inprogress_0
2024-01-18 08:28:25,375 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-E44CE8E90D07: succeeded to handle AppendEntries. Reply: s2<-s0#127:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-18 08:28:25,376 [s2@group-E44CE8E90D07-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@d6a2d04
2024-01-18 08:28:25,377 [s2@group-E44CE8E90D07-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s2/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:25,377 [s2@group-E44CE8E90D07-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-18 08:28:25,382 [s1@group-E44CE8E90D07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-E44CE8E90D07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current/log_inprogress_0
2024-01-18 08:28:25,383 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-E44CE8E90D07: succeeded to handle AppendEntries. Reply: s2<-s1#130:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-18 08:28:25,452 [s0@group-E44CE8E90D07-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@45f143f5
2024-01-18 08:28:25,454 [s0@group-E44CE8E90D07-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s0/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:25,460 [s1@group-E44CE8E90D07-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@296684cc
2024-01-18 08:28:25,463 [s1@group-E44CE8E90D07-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcb4241e31/s1/62b52e63-4954-4507-a86d-e44ce8e90d07/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:25,633 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E44CE8E90D07:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E44CE8E90D07:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E44CE8E90D07:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null RUNNING
2024-01-18 08:28:25,634 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:25,634 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-3DC3B6070472: get 143 returns []
2024-01-18 08:28:25,635 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s2@group-E44CE8E90D07: receive client request(RaftClientRequest:client-3DC3B6070472->s2@group-E44CE8E90D07, cid=143, seq=null, RW, m)
2024-01-18 08:28:25,636 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s2@group-E44CE8E90D07-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-3DC3B6070472->s2@group-E44CE8E90D07, cid=143, seq=null, RW, m, entry=(t:1, i:1), STATEMACHINELOGENTRY, 143@client-3DC3B6070472
2024-01-18 08:28:25,636 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-E44CE8E90D07: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0], cId:144, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 143@client-3DC3B6070472]
2024-01-18 08:28:25,636 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-E44CE8E90D07: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0], cId:145, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 143@client-3DC3B6070472]
2024-01-18 08:28:25,637 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:25,637 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:25,637 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-E44CE8E90D07: succeeded to handle AppendEntries. Reply: s2<-s1#145:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-18 08:28:25,637 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-E44CE8E90D07: succeeded to handle AppendEntries. Reply: s2<-s0#144:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-18 08:28:25,638 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-E44CE8E90D07: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0], cId:146, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-18 08:28:25,638 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-E44CE8E90D07: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0], cId:147, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-18 08:28:25,638 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:25,638 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:25,639 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-18 08:28:25,639 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-18 08:28:25,639 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-18 08:28:25,639 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-18 08:28:25,639 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-18 08:28:25,639 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-E44CE8E90D07: succeeded to handle AppendEntries. Reply: s2<-s1#146:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-18 08:28:25,639 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E44CE8E90D07:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E44CE8E90D07:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-E44CE8E90D07:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-E44CE8E90D07-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null RUNNING
2024-01-18 08:28:25,640 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-18 08:28:25,644 [MiniRaftCluster-5] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-18 08:28:25,645 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,645 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,646 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-E44CE8E90D07: shutdown
2024-01-18 08:28:25,645 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-E44CE8E90D07: succeeded to handle AppendEntries. Reply: s2<-s0#147:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-18 08:28:25,645 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,645 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-E44CE8E90D07: shutdown
2024-01-18 08:28:25,646 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E44CE8E90D07,id=s0
2024-01-18 08:28:25,647 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-E44CE8E90D07-FollowerState
2024-01-18 08:28:25,647 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-E44CE8E90D07-StateMachineUpdater: set stopIndex = 1
2024-01-18 08:28:25,644 [MiniRaftCluster-6] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-18 08:28:25,647 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-E44CE8E90D07: applyIndex: 0
2024-01-18 08:28:25,646 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,646 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,646 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,646 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E44CE8E90D07,id=s1
2024-01-18 08:28:25,648 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-E44CE8E90D07-FollowerState
2024-01-18 08:28:25,648 [s0@group-E44CE8E90D07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E44CE8E90D07-FollowerState was interrupted
2024-01-18 08:28:25,647 [s0@group-E44CE8E90D07-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-E44CE8E90D07-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-18 08:28:25,648 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,648 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-E44CE8E90D07-StateMachineUpdater: set stopIndex = 1
2024-01-18 08:28:25,648 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,649 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-E44CE8E90D07: shutdown
2024-01-18 08:28:25,649 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E44CE8E90D07,id=s2
2024-01-18 08:28:25,649 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-E44CE8E90D07-LeaderStateImpl
2024-01-18 08:28:25,649 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-E44CE8E90D07-PendingRequests: sendNotLeaderResponses
2024-01-18 08:28:25,649 [s1@group-E44CE8E90D07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-E44CE8E90D07-FollowerState was interrupted
2024-01-18 08:28:25,649 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-E44CE8E90D07: applyIndex: 0
2024-01-18 08:28:25,650 [s1@group-E44CE8E90D07-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-E44CE8E90D07-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-18 08:28:25,650 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,650 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,650 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,650 [s2@group-E44CE8E90D07->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-E44CE8E90D07->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-18 08:28:25,650 [s2@group-E44CE8E90D07->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-E44CE8E90D07->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-18 08:28:25,650 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,651 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,651 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,651 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,651 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,651 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:25,652 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-E44CE8E90D07-StateMachineUpdater: set stopIndex = 2
2024-01-18 08:28:25,652 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-E44CE8E90D07: applyIndex: 2
2024-01-18 08:28:25,653 [s2@group-E44CE8E90D07-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-E44CE8E90D07-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-18 08:28:26,640 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-E44CE8E90D07-SegmentedRaftLogWorker close()
2024-01-18 08:28:26,640 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-E44CE8E90D07-SegmentedRaftLogWorker close()
2024-01-18 08:28:26,640 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-E44CE8E90D07-SegmentedRaftLogWorker close()
2024-01-18 08:28:26,644 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-18 08:28:26,645 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-18 08:28:26,645 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-18 08:28:26,645 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2024-01-18 08:28:26,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-18 08:28:26,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-18 08:28:26,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-18 08:28:26,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-18 08:28:26,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-18 08:28:26,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-E44CE8E90D07:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-E44CE8E90D07-SegmentedRaftLog:CLOSED:c1, conf=0: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-E44CE8E90D07:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-E44CE8E90D07-SegmentedRaftLog:CLOSED:c1, conf=0: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-E44CE8E90D07:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-E44CE8E90D07-SegmentedRaftLog:CLOSED:c2, conf=0: peers:[s0|localhost:15012, s1|localhost:15016, s2|localhost:15020]|listeners:[], old=null CLOSED
2024-01-18 08:28:26,648 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
    <system-err><![CDATA[org.apache.ratis.protocol.exceptions.StateMachineException: org.apache.ratis.protocol.exceptions.StateMachineException from Server s2@group-E44CE8E90D07: Fake Exception
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$replyPendingRequest$43(RaftServerImpl.java:1828)
	at java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:774)
	at java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:792)
	at java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2153)
	at org.apache.ratis.server.impl.RaftServerImpl.replyPendingRequest(RaftServerImpl.java:1819)
	at org.apache.ratis.server.impl.RaftServerImpl.applyLogToStateMachine(RaftServerImpl.java:1881)
	at org.apache.ratis.server.impl.StateMachineUpdater.applyLog(StateMachineUpdater.java:244)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:186)
	at java.lang.Thread.run(Thread.java:750)
Caused by: org.apache.ratis.protocol.exceptions.StateMachineException: Fake Exception
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests$StateMachineWithException.applyTransaction(RaftStateMachineExceptionTests.java:62)
	at org.apache.ratis.server.impl.RaftServerImpl.applyLogToStateMachine(RaftServerImpl.java:1880)
	... 3 more
]]></system-err>
  </testcase>
  <testcase name="testRetryOnExceptionDuringReplication" classname="org.apache.ratis.server.simulation.TestRaftStateMachineExceptionWithSimulatedRpc" time="1.75">
    <system-out><![CDATA[2024-01-18 08:28:26,648 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-18 08:28:26,649 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-18 08:28:26,649 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-18 08:28:26,649 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2024-01-18 08:28:26,649 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-18 08:28:26,649 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(134)) - Running runWithNewCluster
2024-01-18 08:28:26,649 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-18 08:28:26,650 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-43AA5345169C:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]
2024-01-18 08:28:26,650 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-18 08:28:26,650 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-18 08:28:26,650 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-18 08:28:26,650 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-18 08:28:26,650 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-18 08:28:26,650 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-18 08:28:26,650 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-43AA5345169C:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032], format? true
2024-01-18 08:28:26,650 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0
2024-01-18 08:28:26,651 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0 does not exist.
2024-01-18 08:28:26,651 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0
2024-01-18 08:28:26,651 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:26,651 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-18 08:28:26,651 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:26,651 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-18 08:28:26,651 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:26,652 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0] (custom)
2024-01-18 08:28:26,652 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-18 08:28:26,652 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-18 08:28:26,652 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-43AA5345169C:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032] returns group-43AA5345169C:java.util.concurrent.CompletableFuture@75a805fe[Not completed]
2024-01-18 08:28:26,652 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:26,652 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-43AA5345169C:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032], format? true
2024-01-18 08:28:26,652 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1
2024-01-18 08:28:26,652 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:26,652 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1 does not exist.
2024-01-18 08:28:26,653 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1
2024-01-18 08:28:26,652 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:26,653 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:26,653 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-43AA5345169C:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032] with StateMachineWithException:uninitialized
2024-01-18 08:28:26,653 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:26,653 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-18 08:28:26,653 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:26,653 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:26,653 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-18 08:28:26,653 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-18 08:28:26,653 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-18 08:28:26,653 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:26,653 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:26,654 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-18 08:28:26,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1] (custom)
2024-01-18 08:28:26,654 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:26,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-18 08:28:26,654 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-43AA5345169C: ConfigurationManager, init=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-18 08:28:26,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-18 08:28:26,654 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-18 08:28:26,654 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-18 08:28:26,654 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-18 08:28:26,654 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-18 08:28:26,654 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-43AA5345169C:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032] returns group-43AA5345169C:java.util.concurrent.CompletableFuture@20b59cac[Not completed]
2024-01-18 08:28:26,654 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-18 08:28:26,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-43AA5345169C:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032], format? true
2024-01-18 08:28:26,655 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-18 08:28:26,655 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2
2024-01-18 08:28:26,655 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:26,655 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2 does not exist.
2024-01-18 08:28:26,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2
2024-01-18 08:28:26,655 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:26,655 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:26,655 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:26,655 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-43AA5345169C:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032] with StateMachineWithException:uninitialized
2024-01-18 08:28:26,655 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-18 08:28:26,655 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:26,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:26,656 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:26,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-18 08:28:26,656 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-18 08:28:26,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:26,656 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-18 08:28:26,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2] (custom)
2024-01-18 08:28:26,656 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:26,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-18 08:28:26,656 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-18 08:28:26,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-18 08:28:26,656 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:26,657 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-43AA5345169C: ConfigurationManager, init=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-18 08:28:26,657 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-18 08:28:26,657 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-18 08:28:26,657 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-18 08:28:26,657 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-18 08:28:26,657 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-43AA5345169C:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032] returns group-43AA5345169C:java.util.concurrent.CompletableFuture@37ed0e9f[Not completed]
2024-01-18 08:28:26,657 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-18 08:28:26,657 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-18 08:28:26,657 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-18 08:28:26,657 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-18 08:28:26,657 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:26,657 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-18 08:28:26,658 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:26,658 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-18 08:28:26,658 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:26,658 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-18 08:28:26,658 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-43AA5345169C:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032] with StateMachineWithException:uninitialized
2024-01-18 08:28:26,658 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-18 08:28:26,658 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:26,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-18 08:28:26,658 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:26,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-18 08:28:26,658 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-18 08:28:26,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0] (custom)
2024-01-18 08:28:26,658 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-18 08:28:26,658 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-18 08:28:26,658 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-18 08:28:26,659 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c does not exist. Creating ...
2024-01-18 08:28:26,659 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-18 08:28:26,659 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-43AA5345169C: ConfigurationManager, init=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-18 08:28:26,659 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-18 08:28:26,659 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-18 08:28:26,659 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c
2024-01-18 08:28:26,659 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-18 08:28:26,659 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-18 08:28:26,659 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-18 08:28:26,659 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-18 08:28:26,659 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-18 08:28:26,660 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-18 08:28:26,660 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-18 08:28:26,660 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-18 08:28:26,660 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-18 08:28:26,660 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-18 08:28:26,660 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/in_use.lock acquired by nodename 3928@fv-az1539-744
2024-01-18 08:28:26,660 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current
2024-01-18 08:28:26,660 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/sm
2024-01-18 08:28:26,660 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6e481d63
2024-01-18 08:28:26,661 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-18 08:28:26,662 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-18 08:28:26,662 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-18 08:28:26,662 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-18 08:28:26,662 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-18 08:28:26,662 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-18 08:28:26,662 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:26,662 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c has been successfully formatted.
2024-01-18 08:28:26,662 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:26,662 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2024-01-18 08:28:26,663 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2024-01-18 08:28:26,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-18 08:28:26,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-18 08:28:26,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:26,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-18 08:28:26,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-18 08:28:26,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-43AA5345169C-cacheEviction-AwaitToRun,5,main] started
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-43AA5345169C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-18 08:28:26,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:26,666 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:26,666 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-18 08:28:26,666 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-18 08:28:26,666 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-18 08:28:26,666 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-43AA5345169C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:26,666 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-43AA5345169C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:26,666 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-43AA5345169C: start as a follower, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:26,666 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-43AA5345169C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-18 08:28:26,666 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-43AA5345169C-FollowerState
2024-01-18 08:28:26,667 [s0@group-43AA5345169C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:26,667 [s0@group-43AA5345169C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:26,668 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-43AA5345169C,id=s0
2024-01-18 08:28:26,668 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-43AA5345169C,id=s0
2024-01-18 08:28:26,668 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-18 08:28:26,668 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-18 08:28:26,668 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-18 08:28:26,668 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-18 08:28:26,669 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-18 08:28:26,669 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-18 08:28:26,669 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-18 08:28:26,670 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-18 08:28:26,670 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1] (custom)
2024-01-18 08:28:26,670 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c does not exist. Creating ...
2024-01-18 08:28:26,670 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c
2024-01-18 08:28:26,671 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/in_use.lock acquired by nodename 3928@fv-az1539-744
2024-01-18 08:28:26,671 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current
2024-01-18 08:28:26,672 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/sm
2024-01-18 08:28:26,672 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6497336b
2024-01-18 08:28:26,672 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:26,673 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c has been successfully formatted.
2024-01-18 08:28:26,673 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:26,673 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2024-01-18 08:28:26,673 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2024-01-18 08:28:26,673 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-18 08:28:26,673 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-18 08:28:26,673 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:26,673 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-18 08:28:26,673 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-18 08:28:26,674 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:26,674 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-18 08:28:26,674 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-18 08:28:26,674 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:26,675 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-43AA5345169C-cacheEviction-AwaitToRun,5,main] started
2024-01-18 08:28:26,675 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-43AA5345169C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c
2024-01-18 08:28:26,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:26,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-18 08:28:26,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:26,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:26,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-18 08:28:26,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-18 08:28:26,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-18 08:28:26,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-18 08:28:26,675 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:26,676 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-43AA5345169C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-43AA5345169C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-43AA5345169C: start as a follower, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-43AA5345169C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-43AA5345169C-FollowerState
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-43AA5345169C,id=s1
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-43AA5345169C,id=s1
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-18 08:28:26,677 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-18 08:28:26,678 [s1@group-43AA5345169C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:26,678 [s1@group-43AA5345169C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:26,679 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-18 08:28:26,680 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-18 08:28:26,680 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-18 08:28:26,680 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-18 08:28:26,680 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2] (custom)
2024-01-18 08:28:26,680 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c does not exist. Creating ...
2024-01-18 08:28:26,680 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c
2024-01-18 08:28:26,681 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/in_use.lock acquired by nodename 3928@fv-az1539-744
2024-01-18 08:28:26,681 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current
2024-01-18 08:28:26,681 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/sm
2024-01-18 08:28:26,681 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@38fc80bf
2024-01-18 08:28:26,682 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:26,683 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c has been successfully formatted.
2024-01-18 08:28:26,683 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-18 08:28:26,683 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2024-01-18 08:28:26,683 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(296)) - Loading snapshot null
2024-01-18 08:28:26,683 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-18 08:28:26,683 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-18 08:28:26,683 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:26,683 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-18 08:28:26,683 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-18 08:28:26,684 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:26,684 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-18 08:28:26,684 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-18 08:28:26,684 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:26,685 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-43AA5345169C-cacheEviction-AwaitToRun,5,main] started
2024-01-18 08:28:26,685 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-43AA5345169C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c
2024-01-18 08:28:26,685 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:26,685 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-18 08:28:26,685 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-18 08:28:26,685 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-18 08:28:26,685 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-18 08:28:26,685 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-18 08:28:26,685 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-18 08:28:26,685 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-18 08:28:26,686 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-18 08:28:26,687 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:26,688 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-18 08:28:26,688 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-18 08:28:26,688 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-18 08:28:26,688 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-43AA5345169C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:26,688 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-43AA5345169C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-18 08:28:26,688 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-43AA5345169C: start as a follower, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:26,688 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-43AA5345169C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-18 08:28:26,688 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-43AA5345169C-FollowerState
2024-01-18 08:28:26,689 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-43AA5345169C,id=s2
2024-01-18 08:28:26,689 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-43AA5345169C,id=s2
2024-01-18 08:28:26,689 [s2@group-43AA5345169C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:26,689 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-18 08:28:26,689 [s2@group-43AA5345169C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:26,689 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-18 08:28:26,689 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-18 08:28:26,689 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-18 08:28:26,689 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-18 08:28:26,690 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-18 08:28:26,690 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:26,691 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43AA5345169C:t0, leader=null, voted=, raftlog=Memoized:s0@group-43AA5345169C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-43AA5345169C:t0, leader=null, voted=, raftlog=Memoized:s1@group-43AA5345169C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-43AA5345169C:t0, leader=null, voted=, raftlog=Memoized:s2@group-43AA5345169C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
2024-01-18 08:28:26,691 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43AA5345169C:t0, leader=null, voted=, raftlog=Memoized:s0@group-43AA5345169C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-43AA5345169C:t0, leader=null, voted=, raftlog=Memoized:s1@group-43AA5345169C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-43AA5345169C:t0, leader=null, voted=, raftlog=Memoized:s2@group-43AA5345169C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
2024-01-18 08:28:26,862 [s2@group-43AA5345169C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-43AA5345169C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:173742772ns, electionTimeout:173ms
2024-01-18 08:28:26,862 [s2@group-43AA5345169C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-43AA5345169C-FollowerState
2024-01-18 08:28:26,863 [s2@group-43AA5345169C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-43AA5345169C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-18 08:28:26,863 [s2@group-43AA5345169C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-18 08:28:26,863 [s2@group-43AA5345169C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-43AA5345169C-LeaderElection6
2024-01-18 08:28:26,863 [s2@group-43AA5345169C-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-43AA5345169C-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:26,864 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:26,864 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:26,864 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-43AA5345169C: receive requestVote(PRE_VOTE, s2, group-43AA5345169C, 0, (t:0, i:0))
2024-01-18 08:28:26,864 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-43AA5345169C: receive requestVote(PRE_VOTE, s2, group-43AA5345169C, 0, (t:0, i:0))
2024-01-18 08:28:26,864 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-43AA5345169C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:26,864 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-43AA5345169C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:26,865 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-43AA5345169C replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-43AA5345169C:t0, leader=null, voted=, raftlog=Memoized:s1@group-43AA5345169C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:26,865 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-43AA5345169C replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-43AA5345169C:t0, leader=null, voted=, raftlog=Memoized:s0@group-43AA5345169C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:26,865 [s2@group-43AA5345169C-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-43AA5345169C-LeaderElection6: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-18 08:28:26,865 [s2@group-43AA5345169C-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2024-01-18 08:28:26,865 [s2@group-43AA5345169C-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-43AA5345169C-LeaderElection6 PRE_VOTE round 0: result PASSED
2024-01-18 08:28:26,868 [s2@group-43AA5345169C-LeaderElection6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@62b56f20
2024-01-18 08:28:26,870 [s2@group-43AA5345169C-LeaderElection6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:26,870 [s2@group-43AA5345169C-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-43AA5345169C-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:26,870 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-18 08:28:26,870 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-43AA5345169C: receive requestVote(ELECTION, s2, group-43AA5345169C, 1, (t:0, i:0))
2024-01-18 08:28:26,870 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-43AA5345169C: receive requestVote(ELECTION, s2, group-43AA5345169C, 1, (t:0, i:0))
2024-01-18 08:28:26,870 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-18 08:28:26,871 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-43AA5345169C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:26,871 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-43AA5345169C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:26,871 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-43AA5345169C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-18 08:28:26,871 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-43AA5345169C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-18 08:28:26,871 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-43AA5345169C-FollowerState
2024-01-18 08:28:26,871 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-43AA5345169C-FollowerState
2024-01-18 08:28:26,871 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-43AA5345169C-FollowerState
2024-01-18 08:28:26,871 [s0@group-43AA5345169C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-43AA5345169C-FollowerState was interrupted
2024-01-18 08:28:26,871 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-43AA5345169C-FollowerState
2024-01-18 08:28:26,871 [s1@group-43AA5345169C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-43AA5345169C-FollowerState was interrupted
2024-01-18 08:28:26,872 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-43AA5345169C: set firstElectionSinceStartup to false for candidate:s2
2024-01-18 08:28:26,874 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-43AA5345169C: set firstElectionSinceStartup to false for candidate:s2
2024-01-18 08:28:26,874 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6267ddaa
2024-01-18 08:28:26,874 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@64e0052
2024-01-18 08:28:26,875 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:26,876 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-43AA5345169C replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-43AA5345169C:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-43AA5345169C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:26,876 [s2@group-43AA5345169C-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-43AA5345169C-LeaderElection6: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-18 08:28:26,876 [s2@group-43AA5345169C-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2024-01-18 08:28:26,876 [s2@group-43AA5345169C-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-43AA5345169C-LeaderElection6 ELECTION round 0: result PASSED
2024-01-18 08:28:26,876 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:26,876 [s2@group-43AA5345169C-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-43AA5345169C-LeaderElection6
2024-01-18 08:28:26,876 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-43AA5345169C replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-43AA5345169C:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-43AA5345169C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:26,876 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-43AA5345169C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-18 08:28:26,876 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-18 08:28:26,876 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-18 08:28:26,877 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:26,877 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-18 08:28:26,877 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-18 08:28:26,877 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-18 08:28:26,877 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-18 08:28:26,877 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-18 08:28:26,877 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:26,877 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-18 08:28:26,878 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-18 08:28:26,878 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-18 08:28:26,878 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:26,878 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-18 08:28:26,878 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-18 08:28:26,879 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-18 08:28:26,879 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:26,879 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-18 08:28:26,879 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-18 08:28:26,879 [s2@group-43AA5345169C-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-43AA5345169C-LeaderStateImpl
2024-01-18 08:28:26,879 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-43AA5345169C: set firstElectionSinceStartup to false for becomeLeader
2024-01-18 08:28:26,879 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-43AA5345169C: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 220ms
2024-01-18 08:28:26,879 [s2@group-43AA5345169C-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-43AA5345169C-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-18 08:28:26,880 [s2@group-43AA5345169C-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-43AA5345169C: set configuration 0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:26,880 [s2@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-18 08:28:26,884 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-43AA5345169C: change Leader from null to s2 at term 1 for appendEntries, leader elected after 230ms
2024-01-18 08:28:26,887 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-43AA5345169C: change Leader from null to s2 at term 1 for appendEntries, leader elected after 229ms
2024-01-18 08:28:26,888 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-43AA5345169C: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:152, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15032"
dataStreamAddress: "localhost:15035"
clientAddress: "localhost:15034"
adminAddress: "localhost:15033"
startupRole: FOLLOWER
, old:)]
2024-01-18 08:28:26,888 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-43AA5345169C: set configuration 0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:26,888 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:26,888 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-43AA5345169C-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-18 08:28:26,889 [s1@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-18 08:28:26,889 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-43AA5345169C: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:153, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15032"
dataStreamAddress: "localhost:15035"
clientAddress: "localhost:15034"
adminAddress: "localhost:15033"
startupRole: FOLLOWER
, old:)]
2024-01-18 08:28:26,889 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-43AA5345169C: set configuration 0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:26,890 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:26,890 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-43AA5345169C-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-18 08:28:26,890 [s0@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-18 08:28:26,897 [s2@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-43AA5345169C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_inprogress_0
2024-01-18 08:28:26,897 [s1@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-43AA5345169C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_inprogress_0
2024-01-18 08:28:26,898 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-43AA5345169C: succeeded to handle AppendEntries. Reply: s2<-s1#152:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-18 08:28:26,898 [s2@group-43AA5345169C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@421e4500
2024-01-18 08:28:26,903 [s0@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-43AA5345169C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_inprogress_0
2024-01-18 08:28:26,903 [s2@group-43AA5345169C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:26,903 [s2@group-43AA5345169C-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-18 08:28:26,903 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-43AA5345169C: succeeded to handle AppendEntries. Reply: s2<-s0#153:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-18 08:28:26,975 [s1@group-43AA5345169C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2a2bc4d3
2024-01-18 08:28:26,977 [s1@group-43AA5345169C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:26,980 [s0@group-43AA5345169C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@790e5125
2024-01-18 08:28:26,981 [s0@group-43AA5345169C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:27,141 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43AA5345169C:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-43AA5345169C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-43AA5345169C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-43AA5345169C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-43AA5345169C:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-43AA5345169C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
2024-01-18 08:28:27,142 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:27,142 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-6F55ED67B128: get 166 returns []
2024-01-18 08:28:27,143 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s2@group-43AA5345169C: receive client request(RaftClientRequest:client-6F55ED67B128->s2@group-43AA5345169C, cid=166, seq=null, RW, first msg to make leader ready)
2024-01-18 08:28:27,144 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s2@group-43AA5345169C-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-6F55ED67B128->s2@group-43AA5345169C, cid=166, seq=null, RW, first msg to make leader ready, entry=(t:1, i:1), STATEMACHINELOGENTRY, 166@client-6F55ED67B128
2024-01-18 08:28:27,144 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-43AA5345169C: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0], cId:167, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 166@client-6F55ED67B128]
2024-01-18 08:28:27,144 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-43AA5345169C: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0], cId:168, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 166@client-6F55ED67B128]
2024-01-18 08:28:27,144 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:27,144 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:27,145 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-43AA5345169C: succeeded to handle AppendEntries. Reply: s2<-s1#168:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-18 08:28:27,145 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-43AA5345169C: succeeded to handle AppendEntries. Reply: s2<-s0#167:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-18 08:28:27,146 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-43AA5345169C: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0], cId:169, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-18 08:28:27,146 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:27,147 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-43AA5345169C: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0], cId:170, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-18 08:28:27,147 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-18 08:28:27,147 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:27,147 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-43AA5345169C: succeeded to handle AppendEntries. Reply: s2<-s0#169:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-18 08:28:27,148 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-43AA5345169C: succeeded to handle AppendEntries. Reply: s2<-s1#170:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-18 08:28:27,149 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s2@group-43AA5345169C: receive client request(RaftClientRequest:client-848C94A538BA->s2@group-43AA5345169C, cid=999, seq=null, RW, message)
2024-01-18 08:28:27,150 [s2@group-43AA5345169C-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-43AA5345169C: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:STATE_MACHINE_EXCEPTION
2024-01-18 08:28:27,150 [s2@group-43AA5345169C-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-43AA5345169C-LeaderStateImpl
2024-01-18 08:28:27,150 [s2@group-43AA5345169C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-43AA5345169C->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-18 08:28:27,151 [s2@group-43AA5345169C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-43AA5345169C->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-18 08:28:27,151 [s2@group-43AA5345169C-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-43AA5345169C-PendingRequests: sendNotLeaderResponses
2024-01-18 08:28:27,152 [s2@group-43AA5345169C-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-43AA5345169C: change Leader from s2 to null at term 1 for StepDownReason:STATE_MACHINE_EXCEPTION
2024-01-18 08:28:27,152 [s2@group-43AA5345169C-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-43AA5345169C-FollowerState
2024-01-18 08:28:27,251 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-18 08:28:27,251 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43AA5345169C:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-43AA5345169C-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-43AA5345169C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-43AA5345169C-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-43AA5345169C:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-43AA5345169C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
2024-01-18 08:28:27,251 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43AA5345169C:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-43AA5345169C-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-43AA5345169C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-43AA5345169C-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-43AA5345169C:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-43AA5345169C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
2024-01-18 08:28:27,355 [s2@group-43AA5345169C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-43AA5345169C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:203445247ns, electionTimeout:203ms
2024-01-18 08:28:27,356 [s2@group-43AA5345169C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-43AA5345169C-FollowerState
2024-01-18 08:28:27,356 [s2@group-43AA5345169C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-43AA5345169C: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-18 08:28:27,356 [s2@group-43AA5345169C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-18 08:28:27,356 [s2@group-43AA5345169C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-43AA5345169C-LeaderElection7
2024-01-18 08:28:27,356 [s2@group-43AA5345169C-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-43AA5345169C-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:27,357 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-43AA5345169C: receive requestVote(PRE_VOTE, s2, group-43AA5345169C, 1, (t:1, i:2))
2024-01-18 08:28:27,357 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-43AA5345169C: receive requestVote(PRE_VOTE, s2, group-43AA5345169C, 1, (t:1, i:2))
2024-01-18 08:28:27,357 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-43AA5345169C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:27,357 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-43AA5345169C-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:27,357 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-43AA5345169C replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-43AA5345169C:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-43AA5345169C-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:27,357 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-43AA5345169C replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-43AA5345169C:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-43AA5345169C-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:27,357 [s2@group-43AA5345169C-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-43AA5345169C-LeaderElection7: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-18 08:28:27,357 [s2@group-43AA5345169C-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2024-01-18 08:28:27,357 [s2@group-43AA5345169C-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-43AA5345169C-LeaderElection7 PRE_VOTE round 0: result PASSED
2024-01-18 08:28:27,358 [s2@group-43AA5345169C-LeaderElection7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7edd931b
2024-01-18 08:28:27,359 [s2@group-43AA5345169C-LeaderElection7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:27,359 [s2@group-43AA5345169C-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-43AA5345169C-LeaderElection7 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:27,360 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-43AA5345169C: receive requestVote(ELECTION, s2, group-43AA5345169C, 2, (t:1, i:2))
2024-01-18 08:28:27,360 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-43AA5345169C: receive requestVote(ELECTION, s2, group-43AA5345169C, 2, (t:1, i:2))
2024-01-18 08:28:27,360 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-43AA5345169C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:27,360 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-43AA5345169C-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-18 08:28:27,360 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-43AA5345169C: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-01-18 08:28:27,360 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-43AA5345169C: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-01-18 08:28:27,360 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-43AA5345169C: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2024-01-18 08:28:27,360 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-43AA5345169C: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2024-01-18 08:28:27,360 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-43AA5345169C-FollowerState
2024-01-18 08:28:27,360 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-43AA5345169C-FollowerState
2024-01-18 08:28:27,360 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-43AA5345169C-FollowerState
2024-01-18 08:28:27,360 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-43AA5345169C-FollowerState
2024-01-18 08:28:27,364 [s1@group-43AA5345169C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-43AA5345169C-FollowerState was interrupted
2024-01-18 08:28:27,365 [s0@group-43AA5345169C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-43AA5345169C-FollowerState was interrupted
2024-01-18 08:28:27,364 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@889eeeb
2024-01-18 08:28:27,364 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6ca03f96
2024-01-18 08:28:27,366 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:27,367 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-43AA5345169C replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-43AA5345169C:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-43AA5345169C-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:27,367 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta with options [REPLACE_EXISTING]
2024-01-18 08:28:27,367 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-43AA5345169C replies to ELECTION vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-43AA5345169C:t2, leader=null, voted=s2, raftlog=Memoized:s0@group-43AA5345169C-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:27,367 [s2@group-43AA5345169C-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-43AA5345169C-LeaderElection7: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-18 08:28:27,367 [s2@group-43AA5345169C-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t2
2024-01-18 08:28:27,367 [s2@group-43AA5345169C-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-43AA5345169C-LeaderElection7 ELECTION round 0: result PASSED
2024-01-18 08:28:27,367 [s2@group-43AA5345169C-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-43AA5345169C-LeaderElection7
2024-01-18 08:28:27,368 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-43AA5345169C: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-01-18 08:28:27,368 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-18 08:28:27,368 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-18 08:28:27,368 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-18 08:28:27,368 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-18 08:28:27,368 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-18 08:28:27,368 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-18 08:28:27,368 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-18 08:28:27,368 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-18 08:28:27,369 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-18 08:28:27,369 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-18 08:28:27,369 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-18 08:28:27,369 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-18 08:28:27,369 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:27,369 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-18 08:28:27,369 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-18 08:28:27,370 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-18 08:28:27,370 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-18 08:28:27,370 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-18 08:28:27,370 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-18 08:28:27,370 [s2@group-43AA5345169C-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-43AA5345169C-LeaderStateImpl
2024-01-18 08:28:27,370 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-43AA5345169C: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 218ms
2024-01-18 08:28:27,370 [s2@group-43AA5345169C-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-43AA5345169C-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2024-01-18 08:28:27,371 [s2@group-43AA5345169C-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-43AA5345169C: set configuration 3: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:27,371 [s2@group-43AA5345169C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_0-2
2024-01-18 08:28:27,371 [s2@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-43AA5345169C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_0-2
2024-01-18 08:28:27,371 [s2@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2024-01-18 08:28:27,373 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-43AA5345169C: change Leader from null to s2 at term 2 for appendEntries, leader elected after 12ms
2024-01-18 08:28:27,378 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-43AA5345169C: receive appendEntries(s2, 2, (t:1, i:2), 2, false, commits:[s2:c2, s0:c2, s1:c1], cId:175, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15032"
dataStreamAddress: "localhost:15035"
clientAddress: "localhost:15034"
adminAddress: "localhost:15033"
startupRole: FOLLOWER
, old:)]
2024-01-18 08:28:27,378 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-43AA5345169C: set configuration 3: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:27,378 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:27,378 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-43AA5345169C-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2024-01-18 08:28:27,379 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-43AA5345169C: change Leader from null to s2 at term 2 for appendEntries, leader elected after 18ms
2024-01-18 08:28:27,379 [s2@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-43AA5345169C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_inprogress_3
2024-01-18 08:28:27,379 [s0@group-43AA5345169C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_0-2
2024-01-18 08:28:27,379 [s0@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-43AA5345169C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_0-2
2024-01-18 08:28:27,380 [s0@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2024-01-18 08:28:27,380 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-43AA5345169C: receive appendEntries(s2, 2, (t:1, i:2), 2, false, commits:[s2:c2, s0:c2, s1:c2], cId:176, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15032"
dataStreamAddress: "localhost:15035"
clientAddress: "localhost:15034"
adminAddress: "localhost:15033"
startupRole: FOLLOWER
, old:)]
2024-01-18 08:28:27,381 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-43AA5345169C: set configuration 3: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null
2024-01-18 08:28:27,381 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:27,381 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-43AA5345169C-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2024-01-18 08:28:27,382 [s1@group-43AA5345169C-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_0-2
2024-01-18 08:28:27,382 [s1@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-43AA5345169C-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_0-2
2024-01-18 08:28:27,382 [s1@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2024-01-18 08:28:27,392 [s0@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-43AA5345169C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_inprogress_3
2024-01-18 08:28:27,393 [s1@group-43AA5345169C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-43AA5345169C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/log_inprogress_3
2024-01-18 08:28:27,393 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-43AA5345169C: succeeded to handle AppendEntries. Reply: s2<-s0#175:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-18 08:28:27,394 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-43AA5345169C: succeeded to handle AppendEntries. Reply: s2<-s1#176:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-18 08:28:27,394 [s2@group-43AA5345169C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@48e62e70
2024-01-18 08:28:27,394 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-43AA5345169C: receive appendEntries(s2, 2, (t:2, i:3), 3, false, commits:[s2:c3, s0:c2, s1:c2], cId:177, entries: [(t:2, i:4), METADATAENTRY(c:3)]
2024-01-18 08:28:27,395 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:27,395 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-43AA5345169C: receive appendEntries(s2, 2, (t:2, i:3), 3, false, commits:[s2:c3, s0:c2, s1:c2], cId:178, entries: [(t:2, i:4), METADATAENTRY(c:3)]
2024-01-18 08:28:27,395 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s0@group-43AA5345169C: succeeded to handle AppendEntries. Reply: s2<-s0#177:OK-t2,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-18 08:28:27,395 [s0@group-43AA5345169C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@77c9b074
2024-01-18 08:28:27,395 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(469)) - truncateIndex=-1, arrayIndex=0
2024-01-18 08:28:27,396 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1516)) - s1@group-43AA5345169C: succeeded to handle AppendEntries. Reply: s2<-s1#178:OK-t2,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-18 08:28:27,396 [s1@group-43AA5345169C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@24ec2fe6
2024-01-18 08:28:27,397 [s2@group-43AA5345169C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s2/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:27,397 [s2@group-43AA5345169C-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 3 >= startIndex == 3
2024-01-18 08:28:27,397 [s1@group-43AA5345169C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s1/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:27,398 [s0@group-43AA5345169C-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/55ba147b/MiniRaftClusterWithSimulatedRpcf6c49e87/s0/9ead7896-b8c5-4580-b5d6-43aa5345169c/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-18 08:28:27,702 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43AA5345169C:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-43AA5345169C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-43AA5345169C:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-43AA5345169C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-43AA5345169C:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-43AA5345169C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
2024-01-18 08:28:27,702 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s2@group-43AA5345169C: receive client request(RaftClientRequest:client-848C94A538BA->s2@group-43AA5345169C, cid=999, seq=null, RW, message)
2024-01-18 08:28:27,708 [s2@group-43AA5345169C-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-43AA5345169C: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:STATE_MACHINE_EXCEPTION
2024-01-18 08:28:27,708 [s2@group-43AA5345169C-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-43AA5345169C-LeaderStateImpl
2024-01-18 08:28:27,708 [s2@group-43AA5345169C->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-43AA5345169C->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-18 08:28:27,708 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-18 08:28:27,708 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-18 08:28:27,708 [s2@group-43AA5345169C-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-43AA5345169C-PendingRequests: sendNotLeaderResponses
2024-01-18 08:28:27,708 [s2@group-43AA5345169C->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-43AA5345169C->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-18 08:28:27,708 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-18 08:28:27,709 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-18 08:28:27,709 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-18 08:28:27,709 [s2@group-43AA5345169C-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-43AA5345169C: change Leader from s2 to null at term 2 for StepDownReason:STATE_MACHINE_EXCEPTION
2024-01-18 08:28:27,709 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-43AA5345169C:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-43AA5345169C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-43AA5345169C:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-43AA5345169C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-43AA5345169C:t2, leader=null, voted=s2, raftlog=Memoized:s2@group-43AA5345169C-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15024, s1|localhost:15028, s2|localhost:15032]|listeners:[], old=null RUNNING
2024-01-18 08:28:27,709 [s2@group-43AA5345169C-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-43AA5345169C-FollowerState
2024-01-18 08:28:27,711 [MiniRaftCluster-10] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-18 08:28:27,712 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-43AA5345169C: shutdown
2024-01-18 08:28:27,712 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-43AA5345169C,id=s0
2024-01-18 08:28:27,712 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-43AA5345169C-FollowerState
2024-01-18 08:28:27,713 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-43AA5345169C-StateMachineUpdater: set stopIndex = 4
2024-01-18 08:28:27,713 [s0@group-43AA5345169C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-43AA5345169C-FollowerState was interrupted
2024-01-18 08:28:27,713 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-18 08:28:27,713 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,713 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,714 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-43AA5345169C: shutdown
2024-01-18 08:28:27,713 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,713 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,714 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,713 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-43AA5345169C: applyIndex: 4
2024-01-18 08:28:27,714 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,714 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-18 08:28:27,714 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-43AA5345169C,id=s1
2024-01-18 08:28:27,714 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,714 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,714 [s0@group-43AA5345169C-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-43AA5345169C-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-18 08:28:27,714 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,714 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-43AA5345169C-FollowerState
2024-01-18 08:28:27,715 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-43AA5345169C: shutdown
2024-01-18 08:28:27,715 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-43AA5345169C,id=s2
2024-01-18 08:28:27,715 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-43AA5345169C-FollowerState
2024-01-18 08:28:27,715 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-43AA5345169C-StateMachineUpdater: set stopIndex = 4
2024-01-18 08:28:27,715 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,715 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-43AA5345169C-StateMachineUpdater: set stopIndex = 4
2024-01-18 08:28:27,715 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-43AA5345169C: applyIndex: 4
2024-01-18 08:28:27,715 [s1@group-43AA5345169C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-43AA5345169C-FollowerState was interrupted
2024-01-18 08:28:27,715 [s2@group-43AA5345169C-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-43AA5345169C-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-18 08:28:27,716 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-43AA5345169C: applyIndex: 4
2024-01-18 08:28:27,715 [s2@group-43AA5345169C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-43AA5345169C-FollowerState was interrupted
2024-01-18 08:28:27,715 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,715 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,716 [s1@group-43AA5345169C-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-43AA5345169C-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-18 08:28:27,715 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,715 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,715 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,717 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,717 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:27,717 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-18 08:28:28,395 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-43AA5345169C-SegmentedRaftLogWorker close()
2024-01-18 08:28:28,396 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-18 08:28:28,396 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-43AA5345169C-SegmentedRaftLogWorker close()
2024-01-18 08:28:28,397 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-43AA5345169C-SegmentedRaftLogWorker close()
2024-01-18 08:28:28,397 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-18 08:28:28,397 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-18 08:28:28,398 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
</testsuite>