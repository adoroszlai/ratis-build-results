<?xml version="1.0" encoding="UTF-8"?>
<testsuite xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://maven.apache.org/surefire/maven-surefire-plugin/xsd/surefire-test-report-3.0.xsd" version="3.0" name="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="59.376" tests="23" errors="0" skipped="0" failures="1">
  <properties>
    <property name="awt.toolkit" value="sun.awt.X11.XToolkit"/>
    <property name="file.encoding.pkg" value="sun.io"/>
    <property name="java.specification.version" value="1.8"/>
    <property name="sun.cpu.isalist" value=""/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/test-classes:/home/runner/work/ratis/ratis/ratis-test/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/classes:/home/runner/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/1.0.5/ratis-thirdparty-misc-1.0.5.jar:/home/runner/work/ratis/ratis/ratis-proto/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/test-classes:/home/runner/work/ratis/ratis/ratis-client/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/classes:/home/runner/work/ratis/ratis/ratis-server-api/target/classes:/home/runner/work/ratis/ratis/ratis-metrics-api/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/test-classes:/home/runner/work/ratis/ratis/ratis-metrics-default/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/test-classes:/home/runner/work/ratis/ratis/ratis-grpc/target/classes:/home/runner/work/ratis/ratis/ratis-grpc/target/test-classes:/home/runner/work/ratis/ratis/ratis-shell/target/classes:/home/runner/.m2/repository/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar:/home/runner/.m2/repository/org/reflections/reflections/0.10.2/reflections-0.10.2.jar:/home/runner/.m2/repository/org/javassist/javassist/3.28.0-GA/javassist-3.28.0-GA.jar:/home/runner/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/home/runner/.m2/repository/org/bouncycastle/bcprov-jdk18on/1.76/bcprov-jdk18on-1.76.jar:/home/runner/.m2/repository/org/bouncycastle/bcpkix-jdk18on/1.76/bcpkix-jdk18on-1.76.jar:/home/runner/.m2/repository/org/bouncycastle/bcutil-jdk18on/1.76/bcutil-jdk18on-1.76.jar:/home/runner/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/home/runner/.m2/repository/org/slf4j/slf4j-reload4j/2.0.7/slf4j-reload4j-2.0.7.jar:/home/runner/.m2/repository/ch/qos/reload4j/reload4j/1.2.22/reload4j-1.2.22.jar:/home/runner/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/home/runner/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/runner/.m2/repository/org/mockito/mockito-core/4.3.1/mockito-core-4.3.1.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy/1.12.7/byte-buddy-1.12.7.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.7/byte-buddy-agent-1.12.7.jar:/home/runner/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:"/>
    <property name="java.vm.vendor" value="Temurin"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="java.vendor.url" value="https://adoptium.net/"/>
    <property name="user.timezone" value=""/>
    <property name="java.vm.specification.version" value="1.8"/>
    <property name="os.name" value="Linux"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="sun.boot.library.path" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/amd64"/>
    <property name="sun.java.command" value="/home/runner/work/ratis/ratis/ratis-test/target/surefire/surefirebooter-20240117160632368_251.jar /home/runner/work/ratis/ratis/ratis-test/target/surefire 2024-01-17T16-06-02_793-jvmRun1 surefire-20240117160632368_249tmp surefire_29-20240117160632368_250tmp"/>
    <property name="surefire.test.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/test-classes:/home/runner/work/ratis/ratis/ratis-test/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/classes:/home/runner/.m2/repository/org/apache/ratis/ratis-thirdparty-misc/1.0.5/ratis-thirdparty-misc-1.0.5.jar:/home/runner/work/ratis/ratis/ratis-proto/target/classes:/home/runner/work/ratis/ratis/ratis-common/target/test-classes:/home/runner/work/ratis/ratis/ratis-client/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/classes:/home/runner/work/ratis/ratis/ratis-server-api/target/classes:/home/runner/work/ratis/ratis/ratis-metrics-api/target/classes:/home/runner/work/ratis/ratis/ratis-server/target/test-classes:/home/runner/work/ratis/ratis/ratis-metrics-default/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/classes:/home/runner/work/ratis/ratis/ratis-netty/target/test-classes:/home/runner/work/ratis/ratis/ratis-grpc/target/classes:/home/runner/work/ratis/ratis/ratis-grpc/target/test-classes:/home/runner/work/ratis/ratis/ratis-shell/target/classes:/home/runner/.m2/repository/commons-cli/commons-cli/1.5.0/commons-cli-1.5.0.jar:/home/runner/.m2/repository/org/reflections/reflections/0.10.2/reflections-0.10.2.jar:/home/runner/.m2/repository/org/javassist/javassist/3.28.0-GA/javassist-3.28.0-GA.jar:/home/runner/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/home/runner/.m2/repository/org/bouncycastle/bcprov-jdk18on/1.76/bcprov-jdk18on-1.76.jar:/home/runner/.m2/repository/org/bouncycastle/bcpkix-jdk18on/1.76/bcpkix-jdk18on-1.76.jar:/home/runner/.m2/repository/org/bouncycastle/bcutil-jdk18on/1.76/bcutil-jdk18on-1.76.jar:/home/runner/.m2/repository/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar:/home/runner/.m2/repository/org/slf4j/slf4j-reload4j/2.0.7/slf4j-reload4j-2.0.7.jar:/home/runner/.m2/repository/ch/qos/reload4j/reload4j/1.2.22/reload4j-1.2.22.jar:/home/runner/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar:/home/runner/.m2/repository/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/home/runner/.m2/repository/org/mockito/mockito-core/4.3.1/mockito-core-4.3.1.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy/1.12.7/byte-buddy-1.12.7.jar:/home/runner/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.7/byte-buddy-agent-1.12.7.jar:/home/runner/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="user.home" value="/home/runner"/>
    <property name="user.language" value="en"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="java.home" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre"/>
    <property name="basedir" value="/home/runner/work/ratis/ratis/ratis-test"/>
    <property name="file.separator" value="/"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="java.awt.graphicsenv" value="sun.awt.X11GraphicsEnvironment"/>
    <property name="surefire.real.class.path" value="/home/runner/work/ratis/ratis/ratis-test/target/surefire/surefirebooter-20240117160632368_251.jar:/home/runner/.m2/repository/org/jacoco/org.jacoco.agent/0.8.11/org.jacoco.agent-0.8.11-runtime.jar"/>
    <property name="sun.boot.class.path" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/resources.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/rt.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/sunrsasign.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jsse.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jce.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/charsets.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/jfr.jar:/usr/lib/jvm/temurin-8-jdk-amd64/jre/classes"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="java.runtime.version" value="1.8.0_392-b08"/>
    <property name="java.net.preferIPv4Stack" value="true"/>
    <property name="user.name" value="runner"/>
    <property name="path.separator" value=":"/>
    <property name="os.version" value="5.15.0-1053-azure"/>
    <property name="java.endorsed.dirs" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/endorsed"/>
    <property name="java.runtime.name" value="OpenJDK Runtime Environment"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="java.vm.name" value="OpenJDK 64-Bit Server VM"/>
    <property name="localRepository" value="/home/runner/.m2/repository"/>
    <property name="java.vendor.url.bug" value="https://github.com/adoptium/adoptium-support/issues"/>
    <property name="java.io.tmpdir" value="/tmp"/>
    <property name="java.version" value="1.8.0_392"/>
    <property name="user.dir" value="/home/runner/work/ratis/ratis/ratis-test"/>
    <property name="os.arch" value="amd64"/>
    <property name="ratis.tmp.dir" value="/home/runner/work/ratis/ratis/ratis-test/target/tmp"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="java.awt.printerjob" value="sun.print.PSPrinterJob"/>
    <property name="ratis.log.dir" value="/home/runner/work/ratis/ratis/ratis-test/target/log"/>
    <property name="sun.os.patch.level" value="unknown"/>
    <property name="java.library.path" value="/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib"/>
    <property name="java.vm.info" value="mixed mode"/>
    <property name="java.vendor" value="Temurin"/>
    <property name="java.vm.version" value="25.392-b08"/>
    <property name="java.specification.maintenance.version" value="5"/>
    <property name="java.ext.dirs" value="/usr/lib/jvm/temurin-8-jdk-amd64/jre/lib/ext:/usr/java/packages/lib/ext"/>
    <property name="sun.io.unicode.encoding" value="UnicodeLittle"/>
    <property name="java.class.version" value="52.0"/>
  </properties>
  <testcase name="testAddFollowerWhenExistsListener" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="2.91">
    <system-out><![CDATA[2024-01-17 16:15:25,673 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:15:25,679 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:15:25,688 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:15:25,688 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:15:25,711 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2024-01-17 16:15:25,831 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]
2024-01-17 16:15:25,831 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:15:25,831 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:15:25,832 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:25,832 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:15:25,832 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:15:25,832 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:15:25,839 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s3, group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-01-17 16:15:25,841 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3
2024-01-17 16:15:25,842 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3 does not exist.
2024-01-17 16:15:25,842 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3
2024-01-17 16:15:25,861 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:25,872 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:25,878 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:25,878 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:25,879 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:25,907 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3] (custom)
2024-01-17 16:15:25,910 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:25,911 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:25,921 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-A74ECF87D508:java.util.concurrent.CompletableFuture@3b74c93d[Not completed]
2024-01-17 16:15:25,922 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-01-17 16:15:25,922 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0
2024-01-17 16:15:25,922 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0 does not exist.
2024-01-17 16:15:25,922 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0
2024-01-17 16:15:25,923 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:25,923 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:25,924 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:25,924 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:25,924 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:25,925 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0] (custom)
2024-01-17 16:15:25,925 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:25,925 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:25,932 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-A74ECF87D508:java.util.concurrent.CompletableFuture@3e15ef56[Not completed]
2024-01-17 16:15:25,932 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-01-17 16:15:25,932 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1
2024-01-17 16:15:25,933 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1 does not exist.
2024-01-17 16:15:25,933 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1
2024-01-17 16:15:25,933 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:25,934 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:25,934 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:25,934 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:25,935 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:25,935 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1] (custom)
2024-01-17 16:15:25,937 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:25,937 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:25,939 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s3: new RaftServerImpl for group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with BaseStateMachine:uninitialized
2024-01-17 16:15:25,939 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with BaseStateMachine:uninitialized
2024-01-17 16:15:25,940 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-A74ECF87D508:java.util.concurrent.CompletableFuture@76ddaaec[Not completed]
2024-01-17 16:15:25,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-01-17 16:15:25,941 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2
2024-01-17 16:15:25,941 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2 does not exist.
2024-01-17 16:15:25,941 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2
2024-01-17 16:15:25,942 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:25,942 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:25,942 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:25,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:25,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:25,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2] (custom)
2024-01-17 16:15:25,944 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:25,944 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:25,944 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:25,944 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:25,944 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:25,945 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:25,944 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:25,945 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:25,945 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:25,945 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:25,946 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:25,946 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:25,944 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:25,951 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with BaseStateMachine:uninitialized
2024-01-17 16:15:25,945 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:25,954 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:25,954 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:25,958 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-A74ECF87D508: ConfigurationManager, init=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:25,959 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:25,959 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:25,959 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:25,959 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:25,959 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:25,959 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:25,960 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:25,960 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-A74ECF87D508: ConfigurationManager, init=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:25,958 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A74ECF87D508: ConfigurationManager, init=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:25,962 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-A74ECF87D508:java.util.concurrent.CompletableFuture@2f3f0c38[Not completed]
2024-01-17 16:15:25,968 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-A74ECF87D508:[s3|localhost:15012, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with BaseStateMachine:uninitialized
2024-01-17 16:15:25,969 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:25,969 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:25,970 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:25,970 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:25,971 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:25,972 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:25,972 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:25,972 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:25,973 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:25,973 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-A74ECF87D508: ConfigurationManager, init=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:25,973 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:25,973 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:25,977 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:25,977 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:25,977 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:25,978 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:25,983 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:25,983 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:25,983 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:25,984 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:25,984 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:25,984 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:25,985 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:25,985 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:25,989 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:25,989 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:25,990 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:25,991 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:25,991 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:25,991 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:25,991 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:25,991 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:26,000 [s2-groupManagement] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2024-01-17 16:15:26,116 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:26,116 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:26,117 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:26,118 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:26,122 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:26,122 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:26,123 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:26,123 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:26,123 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:26,124 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:26,124 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:26,124 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:26,124 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:26,124 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:26,124 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:26,125 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:26,122 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:26,125 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:26,125 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:26,125 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:26,125 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:26,125 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:26,125 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:26,125 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:26,128 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:26,130 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:26,130 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3] (custom)
2024-01-17 16:15:26,136 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508 does not exist. Creating ...
2024-01-17 16:15:26,138 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508
2024-01-17 16:15:26,141 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:26,141 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current
2024-01-17 16:15:26,141 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/sm
2024-01-17 16:15:26,165 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@24e62609
2024-01-17 16:15:26,173 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:26,173 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508 has been successfully formatted.
2024-01-17 16:15:26,175 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:26,180 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:26,195 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:26,195 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,198 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:26,198 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:26,203 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:26,212 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:26,212 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:26,212 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,214 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-A74ECF87D508-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:26,224 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s3@group-A74ECF87D508-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508
2024-01-17 16:15:26,224 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:26,225 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:26,228 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:26,229 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:26,229 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:26,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:26,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:26,231 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:26,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:26,238 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,240 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:26,241 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:26,241 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:26,253 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-A74ECF87D508-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:26,253 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-A74ECF87D508-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:26,255 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(349)) - s3@group-A74ECF87D508: start as a listener, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,255 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-A74ECF87D508: changes role from      null to LISTENER at term 0 for startAsListener
2024-01-17 16:15:26,257 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-A74ECF87D508-FollowerState
2024-01-17 16:15:26,257 [s3@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:26,257 [s3@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:26,259 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A74ECF87D508,id=s3
2024-01-17 16:15:26,259 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-A74ECF87D508,id=s3
2024-01-17 16:15:26,261 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:26,262 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:26,262 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:26,263 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:26,267 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s3: start RPC server
2024-01-17 16:15:26,273 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-01-17 16:15:26,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:26,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:26,273 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0] (custom)
2024-01-17 16:15:26,274 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508 does not exist. Creating ...
2024-01-17 16:15:26,274 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508
2024-01-17 16:15:26,275 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:26,275 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current
2024-01-17 16:15:26,276 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/sm
2024-01-17 16:15:26,276 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@36a47be3
2024-01-17 16:15:26,277 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:26,277 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508 has been successfully formatted.
2024-01-17 16:15:26,277 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:26,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:26,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:26,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:26,278 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:26,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:26,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:26,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:26,280 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,281 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-A74ECF87D508-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:26,281 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-A74ECF87D508-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508
2024-01-17 16:15:26,281 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:26,281 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:26,281 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:26,281 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:26,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:26,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:26,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:26,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:26,282 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:26,284 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,284 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:26,284 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:26,284 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:26,285 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A74ECF87D508-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:26,285 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A74ECF87D508-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:26,285 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-A74ECF87D508: start as a follower, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,285 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-A74ECF87D508: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:26,285 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-A74ECF87D508-FollowerState
2024-01-17 16:15:26,286 [s0@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:26,286 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A74ECF87D508,id=s0
2024-01-17 16:15:26,286 [s0@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:26,286 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-A74ECF87D508,id=s0
2024-01-17 16:15:26,286 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:26,286 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:26,286 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:26,286 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:26,287 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:15:26,288 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:15:26,288 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:26,288 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:26,288 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1] (custom)
2024-01-17 16:15:26,288 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508 does not exist. Creating ...
2024-01-17 16:15:26,289 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508
2024-01-17 16:15:26,290 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:26,290 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current
2024-01-17 16:15:26,290 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/sm
2024-01-17 16:15:26,290 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1b8f0493
2024-01-17 16:15:26,292 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:26,292 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508 has been successfully formatted.
2024-01-17 16:15:26,292 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:26,293 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:26,293 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:26,293 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,293 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:26,293 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:26,294 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:26,295 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:26,295 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:26,295 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,296 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-A74ECF87D508-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:26,296 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-A74ECF87D508-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508
2024-01-17 16:15:26,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:26,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:26,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:26,297 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:26,297 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:26,297 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:26,297 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:26,297 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:26,298 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:26,299 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:26,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:26,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:26,300 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A74ECF87D508-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:26,300 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A74ECF87D508-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:26,301 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-A74ECF87D508: start as a follower, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,301 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-A74ECF87D508: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:26,301 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-A74ECF87D508-FollowerState
2024-01-17 16:15:26,301 [s1@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:26,301 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A74ECF87D508,id=s1
2024-01-17 16:15:26,302 [s1@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:26,302 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-A74ECF87D508,id=s1
2024-01-17 16:15:26,302 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:26,302 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:26,302 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:26,302 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:26,303 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:15:26,304 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:15:26,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:26,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:26,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2] (custom)
2024-01-17 16:15:26,304 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508 does not exist. Creating ...
2024-01-17 16:15:26,305 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508
2024-01-17 16:15:26,306 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:26,306 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current
2024-01-17 16:15:26,306 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/sm
2024-01-17 16:15:26,306 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2b6a33b
2024-01-17 16:15:26,307 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:26,307 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508 has been successfully formatted.
2024-01-17 16:15:26,307 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:26,308 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:26,308 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:26,308 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,308 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:26,308 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:26,309 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:26,309 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:26,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:26,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,310 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-A74ECF87D508-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:26,310 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-A74ECF87D508-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508
2024-01-17 16:15:26,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:26,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:26,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:26,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:26,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:26,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:26,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:26,311 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:26,311 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:26,312 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,312 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:26,312 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:26,312 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:26,313 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A74ECF87D508-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:26,313 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A74ECF87D508-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:26,313 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-A74ECF87D508: start as a follower, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,313 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-A74ECF87D508: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:26,313 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-A74ECF87D508-FollowerState
2024-01-17 16:15:26,314 [s2@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:26,314 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A74ECF87D508,id=s2
2024-01-17 16:15:26,314 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-A74ECF87D508,id=s2
2024-01-17 16:15:26,314 [s2@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:26,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:26,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:26,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:26,314 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:26,315 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:15:26,315 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:15:26,319 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:26,320 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A74ECF87D508:t0, leader=null, voted=, raftlog=Memoized:s3@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-A74ECF87D508:t0, leader=null, voted=, raftlog=Memoized:s0@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A74ECF87D508:t0, leader=null, voted=, raftlog=Memoized:s1@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A74ECF87D508:t0, leader=null, voted=, raftlog=Memoized:s2@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
2024-01-17 16:15:26,323 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A74ECF87D508:t0, leader=null, voted=, raftlog=Memoized:s3@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-A74ECF87D508:t0, leader=null, voted=, raftlog=Memoized:s0@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A74ECF87D508:t0, leader=null, voted=, raftlog=Memoized:s1@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A74ECF87D508:t0, leader=null, voted=, raftlog=Memoized:s2@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
2024-01-17 16:15:26,470 [s1@group-A74ECF87D508-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-A74ECF87D508-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169204791ns, electionTimeout:167ms
2024-01-17 16:15:26,471 [s1@group-A74ECF87D508-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-A74ECF87D508-FollowerState
2024-01-17 16:15:26,471 [s1@group-A74ECF87D508-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-A74ECF87D508: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:15:26,475 [s1@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:26,475 [s1@group-A74ECF87D508-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-A74ECF87D508-LeaderElection1
2024-01-17 16:15:26,479 [s1@group-A74ECF87D508-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-A74ECF87D508-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,485 [s3@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:26,485 [s3@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:26,517 [s1@group-A74ECF87D508-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:26,517 [s1@group-A74ECF87D508-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:26,519 [s2@group-A74ECF87D508-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-A74ECF87D508-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205710931ns, electionTimeout:205ms
2024-01-17 16:15:26,519 [s2@group-A74ECF87D508-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-A74ECF87D508-FollowerState
2024-01-17 16:15:26,519 [s2@group-A74ECF87D508-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-A74ECF87D508: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:15:26,519 [s2@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:26,520 [s2@group-A74ECF87D508-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-A74ECF87D508-LeaderElection2
2024-01-17 16:15:26,522 [s2@group-A74ECF87D508-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-A74ECF87D508-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,522 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-A74ECF87D508: receive requestVote(PRE_VOTE, s1, group-A74ECF87D508, 0, (t:0, i:0))
2024-01-17 16:15:26,522 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-A74ECF87D508: receive requestVote(PRE_VOTE, s1, group-A74ECF87D508, 0, (t:0, i:0))
2024-01-17 16:15:26,522 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:26,522 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:26,523 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-A74ECF87D508: receive requestVote(PRE_VOTE, s2, group-A74ECF87D508, 0, (t:0, i:0))
2024-01-17 16:15:26,523 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-A74ECF87D508: receive requestVote(PRE_VOTE, s2, group-A74ECF87D508, 0, (t:0, i:0))
2024-01-17 16:15:26,525 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A74ECF87D508-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:26,525 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A74ECF87D508-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:26,525 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-A74ECF87D508-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:26,535 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-A74ECF87D508 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-A74ECF87D508:t0, leader=null, voted=, raftlog=Memoized:s0@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,535 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-A74ECF87D508 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-A74ECF87D508:t0, leader=null, voted=, raftlog=Memoized:s1@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,535 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A74ECF87D508-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:26,535 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-A74ECF87D508 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-A74ECF87D508:t0, leader=null, voted=, raftlog=Memoized:s2@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,536 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-A74ECF87D508 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-A74ECF87D508:t0, leader=null, voted=, raftlog=Memoized:s0@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,549 [s1@group-A74ECF87D508-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-A74ECF87D508-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:26,549 [s2@group-A74ECF87D508-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-A74ECF87D508-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:26,549 [s1@group-A74ECF87D508-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2024-01-17 16:15:26,550 [s2@group-A74ECF87D508-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2024-01-17 16:15:26,550 [s1@group-A74ECF87D508-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-A74ECF87D508-LeaderElection1 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:26,550 [s2@group-A74ECF87D508-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-A74ECF87D508-LeaderElection2 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:26,550 [s2@group-A74ECF87D508-LeaderElection2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2d31a0f4
2024-01-17 16:15:26,550 [s1@group-A74ECF87D508-LeaderElection1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1f26104
2024-01-17 16:15:26,552 [s2@group-A74ECF87D508-LeaderElection2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:26,552 [s2@group-A74ECF87D508-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-A74ECF87D508-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,552 [s1@group-A74ECF87D508-LeaderElection1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:26,552 [s1@group-A74ECF87D508-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-A74ECF87D508-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,552 [s0@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:26,553 [s0@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:26,553 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:26,553 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:26,553 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-A74ECF87D508: receive requestVote(ELECTION, s2, group-A74ECF87D508, 1, (t:0, i:0))
2024-01-17 16:15:26,553 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-A74ECF87D508: receive requestVote(ELECTION, s1, group-A74ECF87D508, 1, (t:0, i:0))
2024-01-17 16:15:26,553 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A74ECF87D508-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:26,554 [s1@group-A74ECF87D508-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:26,554 [s1@group-A74ECF87D508-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:26,554 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-A74ECF87D508: receive requestVote(ELECTION, s2, group-A74ECF87D508, 1, (t:0, i:0))
2024-01-17 16:15:26,554 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A74ECF87D508-CANDIDATE: reject ELECTION from s2: already has voted for s1 at current term 1
2024-01-17 16:15:26,554 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-A74ECF87D508: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:15:26,554 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-A74ECF87D508 replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-A74ECF87D508:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,554 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-A74ECF87D508-FollowerState
2024-01-17 16:15:26,554 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-A74ECF87D508-FollowerState
2024-01-17 16:15:26,555 [s0@group-A74ECF87D508-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A74ECF87D508-FollowerState was interrupted
2024-01-17 16:15:26,555 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-A74ECF87D508: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:15:26,555 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7e1d8265
2024-01-17 16:15:26,556 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-A74ECF87D508: receive requestVote(ELECTION, s1, group-A74ECF87D508, 1, (t:0, i:0))
2024-01-17 16:15:26,556 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-A74ECF87D508-CANDIDATE: reject ELECTION from s1: already has voted for s2 at current term 1
2024-01-17 16:15:26,556 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:26,556 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-A74ECF87D508 replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-A74ECF87D508:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,556 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-A74ECF87D508 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-A74ECF87D508:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,557 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A74ECF87D508-FOLLOWER: reject ELECTION from s1: already has voted for s2 at current term 1
2024-01-17 16:15:26,557 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-A74ECF87D508 replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-A74ECF87D508:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,575 [s1@group-A74ECF87D508-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-A74ECF87D508-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:26,575 [s1@group-A74ECF87D508-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2024-01-17 16:15:26,575 [s1@group-A74ECF87D508-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2024-01-17 16:15:26,575 [s1@group-A74ECF87D508-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-A74ECF87D508-LeaderElection1 ELECTION round 0: result REJECTED
2024-01-17 16:15:26,576 [s1@group-A74ECF87D508-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-A74ECF87D508: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-01-17 16:15:26,576 [s2@group-A74ECF87D508-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-A74ECF87D508-LeaderElection2: ELECTION PASSED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:26,576 [s1@group-A74ECF87D508-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-A74ECF87D508-LeaderElection1
2024-01-17 16:15:26,576 [s2@group-A74ECF87D508-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2024-01-17 16:15:26,576 [s2@group-A74ECF87D508-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:FAIL-t1
2024-01-17 16:15:26,576 [s2@group-A74ECF87D508-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-A74ECF87D508-LeaderElection2 ELECTION round 0: result PASSED
2024-01-17 16:15:26,576 [s2@group-A74ECF87D508-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-A74ECF87D508-LeaderElection2
2024-01-17 16:15:26,577 [s1@group-A74ECF87D508-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-A74ECF87D508-FollowerState
2024-01-17 16:15:26,577 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-A74ECF87D508: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:15:26,577 [s1@group-A74ECF87D508-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-A74ECF87D508: set firstElectionSinceStartup to false for REJECTED
2024-01-17 16:15:26,586 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:26,599 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:26,600 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:26,605 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:26,605 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:26,606 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:26,615 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:26,617 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:26,617 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:26,618 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:26,618 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:26,628 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:26,628 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,629 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:26,631 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:26,632 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:26,632 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,632 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:26,632 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:26,633 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:26,634 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:26,634 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:26,634 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:26,634 [s2@group-A74ECF87D508-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-A74ECF87D508-LeaderStateImpl
2024-01-17 16:15:26,634 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-A74ECF87D508: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:15:26,634 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-A74ECF87D508: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 661ms
2024-01-17 16:15:26,666 [s2@group-A74ECF87D508-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-A74ECF87D508-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:26,695 [s2@group-A74ECF87D508-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-A74ECF87D508: set configuration 0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,708 [s2@group-A74ECF87D508-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:26,718 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-A74ECF87D508: change Leader from null to s2 at term 1 for appendEntries, leader elected after 748ms
2024-01-17 16:15:26,718 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@c772e70
2024-01-17 16:15:26,718 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-A74ECF87D508: change Leader from null to s2 at term 1 for appendEntries, leader elected after 749ms
2024-01-17 16:15:26,721 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:26,722 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s3@group-A74ECF87D508: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:15:26,722 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-A74ECF87D508: change Leader from null to s2 at term 1 for appendEntries, leader elected after 752ms
2024-01-17 16:15:26,722 [s2@group-A74ECF87D508-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-A74ECF87D508-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/log_inprogress_0
2024-01-17 16:15:26,774 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #2 failed: java.lang.IllegalStateException: Leader: s2@group-A74ECF87D508 not ready
2024-01-17 16:15:26,920 [s0@group-A74ECF87D508-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A74ECF87D508-FollowerState: change to CANDIDATE, lastRpcElapsedTime:198961331ns, electionTimeout:157ms
2024-01-17 16:15:26,920 [s0@group-A74ECF87D508-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-A74ECF87D508-FollowerState
2024-01-17 16:15:26,921 [s0@group-A74ECF87D508-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-A74ECF87D508: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:26,921 [s0@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:26,921 [s0@group-A74ECF87D508-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-A74ECF87D508-LeaderElection3
2024-01-17 16:15:26,924 [s0@group-A74ECF87D508-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-A74ECF87D508: change Leader from s2 to null at term 1 for PRE_VOTE
2024-01-17 16:15:26,924 [s0@group-A74ECF87D508-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-A74ECF87D508-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,926 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-A74ECF87D508: receive requestVote(PRE_VOTE, s0, group-A74ECF87D508, 1, (t:0, i:0))
2024-01-17 16:15:26,926 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A74ECF87D508-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:26,926 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-A74ECF87D508 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-A74ECF87D508:t1, leader=s2, voted=s1, raftlog=Memoized:s1@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,927 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-A74ECF87D508: receive requestVote(PRE_VOTE, s0, group-A74ECF87D508, 1, (t:0, i:0))
2024-01-17 16:15:26,928 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-A74ECF87D508-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2024-01-17 16:15:26,928 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-A74ECF87D508 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-A74ECF87D508:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-A74ECF87D508-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,933 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1, s3:c-1], cId:8, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:26,934 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1, s3:c-1], cId:7, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:26,934 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-A74ECF87D508: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2024-01-17 16:15:26,934 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-A74ECF87D508-LeaderElection3
2024-01-17 16:15:26,934 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-A74ECF87D508: set configuration 0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,934 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-A74ECF87D508-FollowerState
2024-01-17 16:15:26,935 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-A74ECF87D508: change Leader from null to s2 at term 1 for appendEntries, leader elected after 10ms
2024-01-17 16:15:26,935 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-A74ECF87D508: set configuration 0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,936 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-A74ECF87D508-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:26,937 [s0@group-A74ECF87D508-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:26,940 [s0@group-A74ECF87D508-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-A74ECF87D508-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:26,940 [s0@group-A74ECF87D508-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2024-01-17 16:15:26,940 [s0@group-A74ECF87D508-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-A74ECF87D508-LeaderElection3 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:26,940 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s3@group-A74ECF87D508-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:26,941 [s3@group-A74ECF87D508-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:26,945 [s0@group-A74ECF87D508-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-A74ECF87D508-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/log_inprogress_0
2024-01-17 16:15:26,945 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1, s3:c-1], cId:9, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:26,946 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-A74ECF87D508: set configuration 0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:26,946 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-A74ECF87D508-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:26,946 [s1@group-A74ECF87D508-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:26,947 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s0#7:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:26,950 [s3@group-A74ECF87D508-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s3@group-A74ECF87D508-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/log_inprogress_0
2024-01-17 16:15:26,953 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s3#8:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:26,956 [s1@group-A74ECF87D508-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-A74ECF87D508-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/log_inprogress_0
2024-01-17 16:15:26,957 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s1#9:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:26,964 [s2@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2156c6b3
2024-01-17 16:15:26,967 [s2@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:26,968 [s2@group-A74ECF87D508-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:15:27,037 [s0@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1fdf7e8e
2024-01-17 16:15:27,040 [s0@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,043 [s3@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6db2043d
2024-01-17 16:15:27,045 [s3@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,048 [s1@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5e045010
2024-01-17 16:15:27,050 [s1@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,225 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A74ECF87D508:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-A74ECF87D508-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-A74ECF87D508:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-A74ECF87D508-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A74ECF87D508:t1, leader=s2, voted=s1, raftlog=Memoized:s1@group-A74ECF87D508-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-A74ECF87D508:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-A74ECF87D508-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
2024-01-17 16:15:27,230 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:27,256 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-2BCF51CBEB68: get 28 returns []
2024-01-17 16:15:27,258 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s2@group-A74ECF87D508: receive client request(RaftClientRequest:client-2BCF51CBEB68->s2@group-A74ECF87D508, cid=28, seq=null, RW, message)
2024-01-17 16:15:27,273 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s2@group-A74ECF87D508-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-2BCF51CBEB68->s2@group-A74ECF87D508, cid=28, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 28@client-2BCF51CBEB68
2024-01-17 16:15:27,275 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0, s3:c0], cId:30, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 28@client-2BCF51CBEB68]
2024-01-17 16:15:27,275 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0, s3:c0], cId:29, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 28@client-2BCF51CBEB68]
2024-01-17 16:15:27,277 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s1#30:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:27,277 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s0#29:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:27,276 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0, s3:c0], cId:31, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 28@client-2BCF51CBEB68]
2024-01-17 16:15:27,278 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s3#31:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:27,293 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0, s3:c0], cId:32, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:27,294 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0, s3:c0], cId:34, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:27,294 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s1#32:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:27,293 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0, s3:c0], cId:33, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:27,297 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s3#33:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:27,298 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s0#34:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:27,310 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-2BCF51CBEB68: add replied callId 28
2024-01-17 16:15:27,311 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(463)) - Add new peers [s4]
2024-01-17 16:15:27,312 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s4, group-A74ECF87D508:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], format? true
2024-01-17 16:15:27,312 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4
2024-01-17 16:15:27,312 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4 does not exist.
2024-01-17 16:15:27,312 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4
2024-01-17 16:15:27,313 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:27,313 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:27,313 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:27,314 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:27,314 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:27,314 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4] (custom)
2024-01-17 16:15:27,314 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:27,314 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:27,315 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-A74ECF87D508:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] returns group-A74ECF87D508:java.util.concurrent.CompletableFuture@3fbf5025[Not completed]
2024-01-17 16:15:27,315 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s4: new RaftServerImpl for group-A74ECF87D508:[s3|localhost:15012, s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008] with BaseStateMachine:uninitialized
2024-01-17 16:15:27,315 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:27,315 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:27,315 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:27,315 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:27,315 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:27,315 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:27,315 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:27,315 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-A74ECF87D508: ConfigurationManager, init=-1: peers:[s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:27,316 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:27,316 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:27,316 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:27,316 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:27,316 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:27,316 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:27,320 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:27,320 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:27,320 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:27,320 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:27,320 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:27,320 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:27,320 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:27,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:27,321 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4] (custom)
2024-01-17 16:15:27,321 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508 does not exist. Creating ...
2024-01-17 16:15:27,322 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508
2024-01-17 16:15:27,322 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:27,323 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current
2024-01-17 16:15:27,323 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/sm
2024-01-17 16:15:27,323 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@422f7698
2024-01-17 16:15:27,324 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:27,324 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508 has been successfully formatted.
2024-01-17 16:15:27,324 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:27,324 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:27,324 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:27,324 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:27,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:27,325 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:27,326 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:27,326 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:27,326 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:27,326 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:27,327 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-A74ECF87D508-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:27,327 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s4@group-A74ECF87D508-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508
2024-01-17 16:15:27,327 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:27,327 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:27,327 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:27,327 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:27,327 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:27,327 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:27,328 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:27,328 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:27,328 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:27,330 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:27,330 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:27,330 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:27,330 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:27,330 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-A74ECF87D508-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:27,330 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-A74ECF87D508-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:27,330 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s4@group-A74ECF87D508: start as a follower, conf=-1: peers:[s4|localhost:15016, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:27,331 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s4@group-A74ECF87D508: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:27,331 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s4: start s4@group-A74ECF87D508-FollowerState
2024-01-17 16:15:27,331 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A74ECF87D508,id=s4
2024-01-17 16:15:27,331 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-A74ECF87D508,id=s4
2024-01-17 16:15:27,331 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:27,332 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:27,332 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:27,332 [s4@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:27,332 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:27,332 [s4@group-A74ECF87D508-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:27,332 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s4: start RPC server
2024-01-17 16:15:27,347 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-01-17 16:15:27,349 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1273)) - s2@group-A74ECF87D508: receive setConfiguration SetConfigurationRequest:client-2BCF51CBEB68->s2@group-A74ECF87D508, cid=35, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s4, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], listeners:[s3|localhost:15012]
2024-01-17 16:15:27,350 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(490)) - s2@group-A74ECF87D508-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-2BCF51CBEB68->s2@group-A74ECF87D508, cid=35, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s4, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008], listeners:[s3|localhost:15012]
2024-01-17 16:15:27,352 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:27,353 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:27,353 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:27,353 [s2-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:27,354 [s2@group-A74ECF87D508->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:setAttemptedToInstallSnapshot(154)) - Follower s2@group-A74ECF87D508->s4 acknowledged installing snapshot
2024-01-17 16:15:27,355 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@324d8d8f
2024-01-17 16:15:27,356 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:27,356 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s4@group-A74ECF87D508: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:15:27,356 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s4@group-A74ECF87D508: change Leader from null to s2 at term 1 for appendEntries, leader elected after 40ms
2024-01-17 16:15:27,379 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-A74ECF87D508: receive appendEntries(s2, 1, null, 2, true, commits:[s2:c2, s0:c1, s1:c1, s3:c1, s4:c-1], cId:38, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:), (t:1, i:1), STATEMACHINELOGENTRY, 28@client-2BCF51CBEB68, (t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:27,380 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-A74ECF87D508: set configuration 0: peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:27,380 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s4@group-A74ECF87D508-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:27,380 [s4@group-A74ECF87D508-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:27,391 [s4@group-A74ECF87D508-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s4@group-A74ECF87D508-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/log_inprogress_0
2024-01-17 16:15:27,392 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s4#38:OK-t1,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2024-01-17 16:15:27,392 [s4@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4b629869
2024-01-17 16:15:27,394 [s4@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,417 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:2), 2, false, commits:[s2:c2, s0:c2, s1:c2, s3:c2, s4:c2], cId:47, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s4"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
)]
2024-01-17 16:15:27,417 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c2, s1:c2, s3:c2, s4:c2], cId:48, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s4"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
)]
2024-01-17 16:15:27,417 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-A74ECF87D508: set configuration 3: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012]
2024-01-17 16:15:27,418 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-A74ECF87D508: set configuration 3: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012]
2024-01-17 16:15:27,418 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:2), 2, false, commits:[s2:c2, s0:c2, s1:c2, s3:c2, s4:c2], cId:45, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s4"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
)]
2024-01-17 16:15:27,419 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-A74ECF87D508: set configuration 3: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012]
2024-01-17 16:15:27,419 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s0#47:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:27,419 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s4#48:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:27,420 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:2), 2, false, commits:[s2:c2, s0:c2, s1:c2, s3:c2, s4:c2], cId:46, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s4"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
)]
2024-01-17 16:15:27,420 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-A74ECF87D508: set configuration 3: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012]
2024-01-17 16:15:27,421 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s3#45:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:27,422 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s1#46:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:27,422 [s2@group-A74ECF87D508-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-A74ECF87D508: set configuration 3: peers:[s4, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=peers:[s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012]
2024-01-17 16:15:27,436 [s2@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@471832b8
2024-01-17 16:15:27,437 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits:[s2:c3, s0:c2, s1:c2, s3:c2, s4:c2], cId:49, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2024-01-17 16:15:27,438 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits:[s2:c3, s0:c2, s1:c2, s3:c2, s4:c2], cId:50, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2024-01-17 16:15:27,438 [s1@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2bc65a43
2024-01-17 16:15:27,439 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits:[s2:c3, s0:c2, s1:c2, s3:c2, s4:c2], cId:51, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2024-01-17 16:15:27,440 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s4#50:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:15:27,440 [s4@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@45a57f75
2024-01-17 16:15:27,441 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s1#49:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:15:27,441 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s0#51:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:15:27,441 [s0@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@11188305
2024-01-17 16:15:27,442 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits:[s2:c3, s0:c2, s1:c2, s3:c2, s4:c2], cId:52, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2024-01-17 16:15:27,442 [s1@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,443 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s3#52:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:15:27,443 [s3@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@698d9d53
2024-01-17 16:15:27,445 [s2@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,446 [s0@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,446 [s4@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,446 [s3@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,447 [s2@group-A74ECF87D508-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-A74ECF87D508: set configuration 5: peers:[s4, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:27,456 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:4), 3, false, commits:[s2:c3, s0:c3, s1:c2, s3:c2, s4:c2], cId:53, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s4"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:27,457 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-A74ECF87D508: set configuration 5: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:27,459 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:4), 3, false, commits:[s2:c3, s0:c3, s1:c3, s3:c2, s4:c2], cId:54, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s4"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:27,460 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-A74ECF87D508: set configuration 5: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:27,461 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s0#53:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:15:27,462 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:4), 3, false, commits:[s2:c3, s0:c3, s1:c3, s3:c3, s4:c2], cId:55, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s4"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:27,462 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-A74ECF87D508: set configuration 5: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:27,463 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s1#54:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:15:27,464 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s3#55:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:15:27,464 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:4), 3, false, commits:[s2:c3, s0:c3, s1:c3, s3:c3, s4:c3], cId:56, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s4"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15000"
dataStreamAddress: "localhost:15003"
clientAddress: "localhost:15002"
adminAddress: "localhost:15001"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15004"
dataStreamAddress: "localhost:15007"
clientAddress: "localhost:15006"
adminAddress: "localhost:15005"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15008"
dataStreamAddress: "localhost:15011"
clientAddress: "localhost:15010"
adminAddress: "localhost:15009"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:27,465 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-A74ECF87D508: set configuration 5: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null
2024-01-17 16:15:27,465 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s4#56:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:15:27,483 [s2@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5a82727c
2024-01-17 16:15:27,484 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:5), 5, false, commits:[s2:c5, s0:c3, s1:c3, s3:c3, s4:c3], cId:57, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:15:27,485 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:5), 5, false, commits:[s2:c5, s0:c3, s1:c3, s3:c3, s4:c3], cId:58, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:15:27,485 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s3#57:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:15:27,485 [s3@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2c8f0e06
2024-01-17 16:15:27,486 [s2@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s2/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,486 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:5), 5, false, commits:[s2:c5, s0:c3, s1:c3, s3:c3, s4:c3], cId:59, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:15:27,487 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s0#58:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:15:27,487 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s1#59:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:15:27,487 [s0@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@152715fe
2024-01-17 16:15:27,488 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-A74ECF87D508: receive appendEntries(s2, 1, (t:1, i:5), 5, false, commits:[s2:c5, s0:c3, s1:c3, s3:c3, s4:c3], cId:60, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:15:27,487 [s1@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2294a3dd
2024-01-17 16:15:27,489 [s0@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s0/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,489 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-A74ECF87D508: succeeded to handle AppendEntries. Reply: s2<-s4#60:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:15:27,489 [s3@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s3/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,489 [s4@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@419af319
2024-01-17 16:15:27,492 [s4@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s4/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,492 [s1@group-A74ECF87D508-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpca5fa0ee8/s1/e8568fe0-362c-4d48-a264-a74ecf87d508/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:27,503 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-2BCF51CBEB68: add replied callId 35
2024-01-17 16:15:27,505 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:27,505 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:27,505 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:27,505 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:27,505 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:27,505 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-A74ECF87D508:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-A74ECF87D508-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-A74ECF87D508:t1, leader=s2, voted=null, raftlog=Memoized:s4@group-A74ECF87D508-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-A74ECF87D508:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-A74ECF87D508-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A74ECF87D508:t1, leader=s2, voted=s1, raftlog=Memoized:s1@group-A74ECF87D508-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-A74ECF87D508:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-A74ECF87D508-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s4, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null RUNNING
2024-01-17 16:15:27,507 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s3: close
2024-01-17 16:15:27,508 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s3@group-A74ECF87D508: shutdown
2024-01-17 16:15:27,508 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s4: close
2024-01-17 16:15:27,508 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s4@group-A74ECF87D508: shutdown
2024-01-17 16:15:27,508 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A74ECF87D508,id=s3
2024-01-17 16:15:27,508 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s3: shutdown s3@group-A74ECF87D508-FollowerState
2024-01-17 16:15:27,508 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A74ECF87D508,id=s4
2024-01-17 16:15:27,508 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s4: shutdown s4@group-A74ECF87D508-FollowerState
2024-01-17 16:15:27,509 [s4@group-A74ECF87D508-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-A74ECF87D508-FollowerState was interrupted
2024-01-17 16:15:27,509 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:15:27,509 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s3@group-A74ECF87D508-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:15:27,510 [s3@group-A74ECF87D508-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-A74ECF87D508-FollowerState was interrupted
2024-01-17 16:15:27,510 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,510 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,510 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,511 [MiniRaftCluster-5] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:15:27,511 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,511 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,511 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s3@group-A74ECF87D508: applyIndex: 5
2024-01-17 16:15:27,509 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s4@group-A74ECF87D508-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:15:27,511 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s4@group-A74ECF87D508: applyIndex: 5
2024-01-17 16:15:27,512 [s4@group-A74ECF87D508-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-A74ECF87D508-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:27,511 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-A74ECF87D508: shutdown
2024-01-17 16:15:27,511 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,510 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,510 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,512 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,510 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,512 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,512 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,513 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,513 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,513 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,510 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,513 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,513 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,513 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,510 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,510 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,509 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-A74ECF87D508: shutdown
2024-01-17 16:15:27,514 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A74ECF87D508,id=s0
2024-01-17 16:15:27,514 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-A74ECF87D508-FollowerState
2024-01-17 16:15:27,509 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:15:27,512 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A74ECF87D508,id=s2
2024-01-17 16:15:27,514 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-A74ECF87D508-LeaderStateImpl
2024-01-17 16:15:27,514 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,512 [s3@group-A74ECF87D508-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-A74ECF87D508-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:27,514 [s2@group-A74ECF87D508->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-A74ECF87D508->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:27,515 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,515 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,515 [s2@group-A74ECF87D508->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-A74ECF87D508->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:27,514 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-A74ECF87D508: shutdown
2024-01-17 16:15:27,515 [s2@group-A74ECF87D508->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-A74ECF87D508->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:27,515 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A74ECF87D508,id=s1
2024-01-17 16:15:27,515 [s2@group-A74ECF87D508->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-A74ECF87D508->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:27,515 [s0@group-A74ECF87D508-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A74ECF87D508-FollowerState was interrupted
2024-01-17 16:15:27,516 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,516 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,515 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-A74ECF87D508-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:15:27,516 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-A74ECF87D508: applyIndex: 5
2024-01-17 16:15:27,515 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-A74ECF87D508-FollowerState
2024-01-17 16:15:27,516 [s0@group-A74ECF87D508-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-A74ECF87D508-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:27,515 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,515 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,517 [s1@group-A74ECF87D508-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A74ECF87D508-FollowerState was interrupted
2024-01-17 16:15:27,515 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,515 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:27,515 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-A74ECF87D508-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:27,516 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-A74ECF87D508-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:15:27,517 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-A74ECF87D508: applyIndex: 5
2024-01-17 16:15:27,517 [s1@group-A74ECF87D508-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-A74ECF87D508-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:27,521 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-A74ECF87D508-StateMachineUpdater: set stopIndex = 6
2024-01-17 16:15:27,521 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-A74ECF87D508: applyIndex: 6
2024-01-17 16:15:27,522 [s2@group-A74ECF87D508-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-A74ECF87D508-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:28,485 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-A74ECF87D508-SegmentedRaftLogWorker close()
2024-01-17 16:15:28,486 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s3@group-A74ECF87D508-SegmentedRaftLogWorker close()
2024-01-17 16:15:28,487 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:15:28,488 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-A74ECF87D508-SegmentedRaftLogWorker close()
2024-01-17 16:15:28,488 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-A74ECF87D508-SegmentedRaftLogWorker close()
2024-01-17 16:15:28,488 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-01-17 16:15:28,489 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:15:28,490 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:15:28,490 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s4@group-A74ECF87D508-SegmentedRaftLogWorker close()
2024-01-17 16:15:28,491 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-01-17 16:15:28,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2024-01-17 16:15:28,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:28,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:28,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:28,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:28,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:28,492 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s3:   CLOSED  LISTENER s3@group-A74ECF87D508:t1, leader=s2, voted=null, raftlog=Memoized:s3@group-A74ECF87D508-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null CLOSED
  s4:   CLOSED  FOLLOWER s4@group-A74ECF87D508:t1, leader=s2, voted=null, raftlog=Memoized:s4@group-A74ECF87D508-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null CLOSED
  s0:   CLOSED  FOLLOWER s0@group-A74ECF87D508:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-A74ECF87D508-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-A74ECF87D508:t1, leader=s2, voted=s1, raftlog=Memoized:s1@group-A74ECF87D508-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s4|, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-A74ECF87D508:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-A74ECF87D508-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s4, s0|localhost:15000, s1|localhost:15004, s2|localhost:15008]|listeners:[s3|localhost:15012], old=null CLOSED
2024-01-17 16:15:28,493 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testRemoveListener" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="1.553">
    <system-out><![CDATA[2024-01-17 16:15:28,495 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:15:28,495 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:15:28,495 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:15:28,495 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:15:28,495 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:15:28,496 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]
2024-01-17 16:15:28,496 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:15:28,496 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:15:28,496 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:28,496 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:15:28,496 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:15:28,496 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:15:28,497 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s3, group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028], format? true
2024-01-17 16:15:28,497 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3
2024-01-17 16:15:28,497 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3 does not exist.
2024-01-17 16:15:28,497 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3
2024-01-17 16:15:28,497 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:28,498 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:28,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:28,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:28,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:28,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3] (custom)
2024-01-17 16:15:28,499 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:28,499 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:28,499 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028] returns group-7270247BFEB7:java.util.concurrent.CompletableFuture@2b00bea1[Not completed]
2024-01-17 16:15:28,500 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s3: new RaftServerImpl for group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028] with BaseStateMachine:uninitialized
2024-01-17 16:15:28,500 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028], format? true
2024-01-17 16:15:28,500 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:28,500 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:28,500 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:28,500 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:28,500 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:28,500 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:28,500 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:28,500 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-7270247BFEB7: ConfigurationManager, init=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:28,500 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:28,500 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:28,501 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:28,501 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:28,501 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:28,501 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:28,503 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:28,503 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:28,503 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:28,503 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:28,500 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0
2024-01-17 16:15:28,503 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:28,504 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:28,504 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0 does not exist.
2024-01-17 16:15:28,504 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0
2024-01-17 16:15:28,504 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:28,504 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:28,504 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:28,504 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:28,505 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:28,505 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0] (custom)
2024-01-17 16:15:28,505 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:28,505 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:28,509 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028] returns group-7270247BFEB7:java.util.concurrent.CompletableFuture@5fa6ae9e[Not completed]
2024-01-17 16:15:28,509 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028] with BaseStateMachine:uninitialized
2024-01-17 16:15:28,509 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028], format? true
2024-01-17 16:15:28,510 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1
2024-01-17 16:15:28,510 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:28,510 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:28,510 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1 does not exist.
2024-01-17 16:15:28,510 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1
2024-01-17 16:15:28,510 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:28,510 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:28,510 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:28,510 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:28,510 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:28,510 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:28,510 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-7270247BFEB7: ConfigurationManager, init=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:28,511 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:28,511 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:28,511 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:28,511 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:28,511 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:28,511 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:28,511 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:28,511 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:28,511 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1] (custom)
2024-01-17 16:15:28,511 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:28,511 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:28,511 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:28,512 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:28,513 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:28,514 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:28,514 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:28,514 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:28,514 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:28,514 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:28,515 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028] returns group-7270247BFEB7:java.util.concurrent.CompletableFuture@1e918cbd[Not completed]
2024-01-17 16:15:28,515 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028], format? true
2024-01-17 16:15:28,515 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2
2024-01-17 16:15:28,515 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2 does not exist.
2024-01-17 16:15:28,515 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2
2024-01-17 16:15:28,515 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028] with BaseStateMachine:uninitialized
2024-01-17 16:15:28,515 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:28,516 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:28,516 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:28,516 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:28,516 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:28,516 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:28,516 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:28,516 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:28,516 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:28,516 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:28,516 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:28,516 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:28,516 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2] (custom)
2024-01-17 16:15:28,516 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-7270247BFEB7: ConfigurationManager, init=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:28,517 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:28,517 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:28,517 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:28,517 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:28,517 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:28,517 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:28,517 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:28,517 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:28,519 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:28,519 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:28,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:28,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:28,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:28,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:28,523 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028] returns group-7270247BFEB7:java.util.concurrent.CompletableFuture@a63a066[Not completed]
2024-01-17 16:15:28,523 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:28,523 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:28,523 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-7270247BFEB7:[s3|localhost:15032, s0|localhost:15020, s1|localhost:15024, s2|localhost:15028] with BaseStateMachine:uninitialized
2024-01-17 16:15:28,524 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3] (custom)
2024-01-17 16:15:28,524 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:28,524 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:28,524 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:28,524 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7 does not exist. Creating ...
2024-01-17 16:15:28,524 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:28,524 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:28,524 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:28,524 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:28,524 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-7270247BFEB7: ConfigurationManager, init=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:28,524 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7
2024-01-17 16:15:28,524 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:28,524 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:28,524 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:28,525 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:28,525 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:28,525 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:28,525 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:28,525 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current
2024-01-17 16:15:28,526 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/sm
2024-01-17 16:15:28,526 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@48785720
2024-01-17 16:15:28,527 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:28,527 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7 has been successfully formatted.
2024-01-17 16:15:28,527 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:28,527 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:28,527 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:28,527 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:28,528 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,528 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:28,528 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:28,527 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:28,528 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:28,528 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:28,528 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:28,529 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:28,529 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:28,529 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:28,529 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:28,529 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,529 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-7270247BFEB7-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:28,529 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s3@group-7270247BFEB7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7
2024-01-17 16:15:28,529 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:28,529 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:28,530 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:28,530 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:28,530 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:28,530 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:28,530 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:28,530 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:28,530 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:28,532 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,532 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:28,532 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:28,532 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:28,533 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-7270247BFEB7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:28,533 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-7270247BFEB7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:28,535 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(349)) - s3@group-7270247BFEB7: start as a listener, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,536 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-7270247BFEB7: changes role from      null to LISTENER at term 0 for startAsListener
2024-01-17 16:15:28,536 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-7270247BFEB7-FollowerState
2024-01-17 16:15:28,536 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7270247BFEB7,id=s3
2024-01-17 16:15:28,536 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-7270247BFEB7,id=s3
2024-01-17 16:15:28,536 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:28,536 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:28,536 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:28,536 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:28,537 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s3: start RPC server
2024-01-17 16:15:28,537 [s3@group-7270247BFEB7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:28,537 [s3@group-7270247BFEB7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:28,537 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:28,537 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:28,538 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0] (custom)
2024-01-17 16:15:28,538 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7 does not exist. Creating ...
2024-01-17 16:15:28,538 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7
2024-01-17 16:15:28,538 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-01-17 16:15:28,539 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:28,539 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current
2024-01-17 16:15:28,539 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/sm
2024-01-17 16:15:28,539 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@432ae311
2024-01-17 16:15:28,540 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:28,540 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7 has been successfully formatted.
2024-01-17 16:15:28,540 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:28,541 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:28,541 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:28,541 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,541 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:28,541 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:28,542 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:28,542 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:28,542 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:28,542 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,543 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-7270247BFEB7-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:28,543 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-7270247BFEB7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7
2024-01-17 16:15:28,543 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:28,543 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:28,543 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:28,543 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:28,543 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:28,543 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:28,544 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:28,544 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:28,544 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:28,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:28,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:28,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:28,545 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7270247BFEB7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:28,545 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7270247BFEB7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:28,546 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-7270247BFEB7: start as a follower, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,546 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-7270247BFEB7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:28,546 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-7270247BFEB7-FollowerState
2024-01-17 16:15:28,546 [s0@group-7270247BFEB7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:28,546 [s0@group-7270247BFEB7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:28,546 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7270247BFEB7,id=s0
2024-01-17 16:15:28,546 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-7270247BFEB7,id=s0
2024-01-17 16:15:28,546 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:28,546 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:28,546 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:28,547 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:28,547 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:15:28,548 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:15:28,548 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:28,548 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:28,548 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1] (custom)
2024-01-17 16:15:28,548 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7 does not exist. Creating ...
2024-01-17 16:15:28,548 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7
2024-01-17 16:15:28,549 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:28,549 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current
2024-01-17 16:15:28,549 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/sm
2024-01-17 16:15:28,549 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3c78be47
2024-01-17 16:15:28,550 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:28,550 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7 has been successfully formatted.
2024-01-17 16:15:28,550 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:28,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:28,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:28,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:28,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:28,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:28,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:28,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:28,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,552 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-7270247BFEB7-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:28,552 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-7270247BFEB7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7
2024-01-17 16:15:28,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:28,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:28,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:28,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:28,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:28,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:28,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:28,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:28,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:28,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:28,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:28,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:28,556 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7270247BFEB7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:28,556 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7270247BFEB7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:28,556 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-7270247BFEB7: start as a follower, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,556 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-7270247BFEB7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:28,556 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-7270247BFEB7-FollowerState
2024-01-17 16:15:28,557 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7270247BFEB7,id=s1
2024-01-17 16:15:28,557 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-7270247BFEB7,id=s1
2024-01-17 16:15:28,557 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:28,557 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:28,557 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:28,557 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:28,557 [s1@group-7270247BFEB7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:28,557 [s1@group-7270247BFEB7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:28,557 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:15:28,561 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:15:28,561 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:28,562 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:28,562 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2] (custom)
2024-01-17 16:15:28,562 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7 does not exist. Creating ...
2024-01-17 16:15:28,562 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7
2024-01-17 16:15:28,563 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:28,563 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current
2024-01-17 16:15:28,563 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/sm
2024-01-17 16:15:28,563 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5a65239b
2024-01-17 16:15:28,564 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:28,564 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7 has been successfully formatted.
2024-01-17 16:15:28,564 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:28,564 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:28,564 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:28,565 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,565 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:28,565 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:28,565 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:28,565 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:28,565 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:28,565 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,566 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-7270247BFEB7-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:28,566 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-7270247BFEB7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7
2024-01-17 16:15:28,566 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:28,566 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:28,566 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:28,566 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:28,566 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:28,566 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:28,566 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:28,566 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:28,566 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:28,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:28,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:28,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:28,568 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-7270247BFEB7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:28,568 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-7270247BFEB7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:28,568 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-7270247BFEB7: start as a follower, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,568 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-7270247BFEB7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:28,568 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-7270247BFEB7-FollowerState
2024-01-17 16:15:28,569 [s2@group-7270247BFEB7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:28,569 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7270247BFEB7,id=s2
2024-01-17 16:15:28,569 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-7270247BFEB7,id=s2
2024-01-17 16:15:28,569 [s2@group-7270247BFEB7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:28,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:28,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:28,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:28,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:28,569 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:15:28,570 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:28,570 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:15:28,570 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-7270247BFEB7:t0, leader=null, voted=, raftlog=Memoized:s3@group-7270247BFEB7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-7270247BFEB7:t0, leader=null, voted=, raftlog=Memoized:s0@group-7270247BFEB7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7270247BFEB7:t0, leader=null, voted=, raftlog=Memoized:s1@group-7270247BFEB7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7270247BFEB7:t0, leader=null, voted=, raftlog=Memoized:s2@group-7270247BFEB7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null RUNNING
2024-01-17 16:15:28,571 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-7270247BFEB7:t0, leader=null, voted=, raftlog=Memoized:s3@group-7270247BFEB7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-7270247BFEB7:t0, leader=null, voted=, raftlog=Memoized:s0@group-7270247BFEB7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7270247BFEB7:t0, leader=null, voted=, raftlog=Memoized:s1@group-7270247BFEB7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7270247BFEB7:t0, leader=null, voted=, raftlog=Memoized:s2@group-7270247BFEB7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null RUNNING
2024-01-17 16:15:28,698 [s0@group-7270247BFEB7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7270247BFEB7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:152468400ns, electionTimeout:152ms
2024-01-17 16:15:28,699 [s0@group-7270247BFEB7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-7270247BFEB7-FollowerState
2024-01-17 16:15:28,699 [s0@group-7270247BFEB7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-7270247BFEB7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:15:28,699 [s0@group-7270247BFEB7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:28,699 [s0@group-7270247BFEB7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-7270247BFEB7-LeaderElection4
2024-01-17 16:15:28,699 [s0@group-7270247BFEB7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-7270247BFEB7-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,700 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:28,700 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:28,700 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-7270247BFEB7: receive requestVote(PRE_VOTE, s0, group-7270247BFEB7, 0, (t:0, i:0))
2024-01-17 16:15:28,700 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7270247BFEB7-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:28,700 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-7270247BFEB7: receive requestVote(PRE_VOTE, s0, group-7270247BFEB7, 0, (t:0, i:0))
2024-01-17 16:15:28,700 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-7270247BFEB7 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-7270247BFEB7:t0, leader=null, voted=, raftlog=Memoized:s1@group-7270247BFEB7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,700 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7270247BFEB7-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:28,700 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-7270247BFEB7 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-7270247BFEB7:t0, leader=null, voted=, raftlog=Memoized:s2@group-7270247BFEB7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,700 [s0@group-7270247BFEB7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7270247BFEB7-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:28,701 [s0@group-7270247BFEB7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2024-01-17 16:15:28,701 [s0@group-7270247BFEB7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-7270247BFEB7-LeaderElection4 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:28,701 [s0@group-7270247BFEB7-LeaderElection4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@f50a443
2024-01-17 16:15:28,702 [s0@group-7270247BFEB7-LeaderElection4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:28,702 [s0@group-7270247BFEB7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-7270247BFEB7-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,702 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:28,702 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:28,703 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-7270247BFEB7: receive requestVote(ELECTION, s0, group-7270247BFEB7, 1, (t:0, i:0))
2024-01-17 16:15:28,703 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7270247BFEB7-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:28,703 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-7270247BFEB7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:15:28,703 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-7270247BFEB7-FollowerState
2024-01-17 16:15:28,703 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-7270247BFEB7-FollowerState
2024-01-17 16:15:28,703 [s2@group-7270247BFEB7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7270247BFEB7-FollowerState was interrupted
2024-01-17 16:15:28,703 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-7270247BFEB7: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:15:28,703 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@e5797fb
2024-01-17 16:15:28,703 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-7270247BFEB7: receive requestVote(ELECTION, s0, group-7270247BFEB7, 1, (t:0, i:0))
2024-01-17 16:15:28,704 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7270247BFEB7-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:28,704 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-7270247BFEB7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:15:28,704 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-7270247BFEB7-FollowerState
2024-01-17 16:15:28,704 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-7270247BFEB7-FollowerState
2024-01-17 16:15:28,704 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-7270247BFEB7: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:15:28,704 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4494961b
2024-01-17 16:15:28,704 [s1@group-7270247BFEB7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7270247BFEB7-FollowerState was interrupted
2024-01-17 16:15:28,705 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:28,705 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-7270247BFEB7 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-7270247BFEB7:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-7270247BFEB7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,705 [s0@group-7270247BFEB7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7270247BFEB7-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:28,705 [s0@group-7270247BFEB7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2024-01-17 16:15:28,705 [s0@group-7270247BFEB7-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-7270247BFEB7-LeaderElection4 ELECTION round 0: result PASSED
2024-01-17 16:15:28,705 [s0@group-7270247BFEB7-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-7270247BFEB7-LeaderElection4
2024-01-17 16:15:28,705 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:28,705 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-7270247BFEB7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:15:28,705 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-7270247BFEB7 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-7270247BFEB7:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-7270247BFEB7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,705 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:28,706 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:28,706 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:28,706 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:28,706 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:28,706 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:28,707 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:28,707 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:28,707 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:28,707 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:28,707 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:28,708 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:28,708 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,708 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:28,708 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:28,708 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:28,708 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,708 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:28,709 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:28,709 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:28,709 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:28,709 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:28,709 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:28,710 [s0@group-7270247BFEB7-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-7270247BFEB7-LeaderStateImpl
2024-01-17 16:15:28,710 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-7270247BFEB7: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:15:28,710 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-7270247BFEB7: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 198ms
2024-01-17 16:15:28,710 [s0@group-7270247BFEB7-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-7270247BFEB7-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:28,710 [s3@group-7270247BFEB7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:28,710 [s3@group-7270247BFEB7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:28,710 [s0@group-7270247BFEB7-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-7270247BFEB7: set configuration 0: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,710 [s0@group-7270247BFEB7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:28,713 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-7270247BFEB7: change Leader from null to s0 at term 1 for appendEntries, leader elected after 196ms
2024-01-17 16:15:28,714 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-7270247BFEB7: change Leader from null to s0 at term 1 for appendEntries, leader elected after 189ms
2024-01-17 16:15:28,715 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-7270247BFEB7: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1], cId:65, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:28,715 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-7270247BFEB7: set configuration 0: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,715 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-7270247BFEB7-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:28,716 [s1@group-7270247BFEB7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:28,716 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-7270247BFEB7: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1], cId:68, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:28,716 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-7270247BFEB7: set configuration 0: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,717 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-7270247BFEB7-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:28,717 [s2@group-7270247BFEB7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:28,723 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4bd5c676
2024-01-17 16:15:28,724 [s0@group-7270247BFEB7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-7270247BFEB7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/log_inprogress_0
2024-01-17 16:15:28,727 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:28,727 [s1@group-7270247BFEB7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-7270247BFEB7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/log_inprogress_0
2024-01-17 16:15:28,727 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s3@group-7270247BFEB7: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:15:28,727 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-7270247BFEB7: change Leader from null to s0 at term 1 for appendEntries, leader elected after 226ms
2024-01-17 16:15:28,728 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s1#65:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:28,729 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-7270247BFEB7: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1], cId:69, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:28,729 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-7270247BFEB7: set configuration 0: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null
2024-01-17 16:15:28,729 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s3@group-7270247BFEB7-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:28,729 [s0@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@13cf4aed
2024-01-17 16:15:28,730 [s2@group-7270247BFEB7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-7270247BFEB7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/log_inprogress_0
2024-01-17 16:15:28,730 [s3@group-7270247BFEB7-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:28,730 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s2#68:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:28,731 [s0@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:28,731 [s0@group-7270247BFEB7-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:15:28,738 [s3@group-7270247BFEB7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s3@group-7270247BFEB7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current/log_inprogress_0
2024-01-17 16:15:28,739 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s3#69:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:28,805 [s1@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@342642b0
2024-01-17 16:15:28,807 [s1@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:28,807 [s2@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4027c2a3
2024-01-17 16:15:28,808 [s2@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:28,817 [s3@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2f9bc6d4
2024-01-17 16:15:28,818 [s3@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s3/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:29,021 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-7270247BFEB7:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-7270247BFEB7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-7270247BFEB7:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7270247BFEB7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7270247BFEB7:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-7270247BFEB7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7270247BFEB7:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7270247BFEB7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032], old=null RUNNING
2024-01-17 16:15:29,022 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:29,022 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-EB60A602BCCA: get 88 returns []
2024-01-17 16:15:29,022 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s0@group-7270247BFEB7: receive client request(RaftClientRequest:client-EB60A602BCCA->s0@group-7270247BFEB7, cid=88, seq=null, RW, message)
2024-01-17 16:15:29,023 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s0@group-7270247BFEB7-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-EB60A602BCCA->s0@group-7270247BFEB7, cid=88, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 88@client-EB60A602BCCA
2024-01-17 16:15:29,024 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0, s3:c0], cId:89, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 88@client-EB60A602BCCA]
2024-01-17 16:15:29,024 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0, s3:c0], cId:90, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 88@client-EB60A602BCCA]
2024-01-17 16:15:29,024 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0, s3:c0], cId:91, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 88@client-EB60A602BCCA]
2024-01-17 16:15:29,025 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s1#90:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:29,025 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s3#91:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:29,025 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s2#89:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:29,026 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0], cId:92, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:29,026 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0], cId:93, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:29,026 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0], cId:94, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:29,026 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s3#94:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:29,026 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s1#92:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:29,027 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-EB60A602BCCA: add replied callId 88
2024-01-17 16:15:29,026 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s2#93:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:29,030 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1273)) - s0@group-7270247BFEB7: receive setConfiguration SetConfigurationRequest:client-EB60A602BCCA->s0@group-7270247BFEB7, cid=95, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s1|localhost:15024, s2|localhost:15028, s0|localhost:15020], listeners:[]
2024-01-17 16:15:29,030 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(490)) - s0@group-7270247BFEB7-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-EB60A602BCCA->s0@group-7270247BFEB7, cid=95, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s1|localhost:15024, s2|localhost:15028, s0|localhost:15020], listeners:[]
2024-01-17 16:15:29,030 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-7270247BFEB7: set configuration 3: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032]
2024-01-17 16:15:29,032 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c1], cId:96, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
)]
2024-01-17 16:15:29,032 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-7270247BFEB7: set configuration 3: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032]
2024-01-17 16:15:29,032 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c1], cId:97, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
)]
2024-01-17 16:15:29,032 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-7270247BFEB7: set configuration 3: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032]
2024-01-17 16:15:29,033 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s3#97:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:29,033 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c1], cId:98, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
)]
2024-01-17 16:15:29,034 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-7270247BFEB7: set configuration 3: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032]
2024-01-17 16:15:29,034 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s1#96:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:29,034 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s2#98:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:29,035 [s0@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1937219d
2024-01-17 16:15:29,035 [s0@group-7270247BFEB7-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-7270247BFEB7: set configuration 5: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=null
2024-01-17 16:15:29,036 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c2, s2:c2], cId:99, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:29,036 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-7270247BFEB7: set configuration 5: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=null
2024-01-17 16:15:29,037 [s0@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:29,037 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c2, s2:c2], cId:100, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15020"
dataStreamAddress: "localhost:15023"
clientAddress: "localhost:15022"
adminAddress: "localhost:15021"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15024"
dataStreamAddress: "localhost:15027"
clientAddress: "localhost:15026"
adminAddress: "localhost:15025"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15028"
dataStreamAddress: "localhost:15031"
clientAddress: "localhost:15030"
adminAddress: "localhost:15029"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:29,037 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s1#99:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:15:29,037 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-7270247BFEB7: set configuration 5: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=null
2024-01-17 16:15:29,037 [s1@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3ae1ba44
2024-01-17 16:15:29,038 [s0@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5c35acdf
2024-01-17 16:15:29,038 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits:[s0:c5, s1:c3, s2:c2], cId:101, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:15:29,039 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s1#101:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:15:29,039 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s2#100:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:15:29,039 [s2@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4ee024d7
2024-01-17 16:15:29,039 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-EB60A602BCCA: add replied callId 95
2024-01-17 16:15:29,039 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:29,040 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:29,040 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:29,040 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:29,040 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:29,040 [s1@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:29,040 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-7270247BFEB7:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-7270247BFEB7-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032] RUNNING
  s0:  RUNNING    LEADER s0@group-7270247BFEB7:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7270247BFEB7-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7270247BFEB7:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-7270247BFEB7-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7270247BFEB7:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7270247BFEB7-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=null RUNNING
2024-01-17 16:15:29,040 [s1@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3ede29c0
2024-01-17 16:15:29,040 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s3: close
2024-01-17 16:15:29,041 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:15:29,041 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-7270247BFEB7: shutdown
2024-01-17 16:15:29,041 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:15:29,041 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s3@group-7270247BFEB7: shutdown
2024-01-17 16:15:29,041 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-7270247BFEB7: shutdown
2024-01-17 16:15:29,040 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-7270247BFEB7: receive appendEntries(s0, 1, (t:1, i:5), 6, false, commits:[s0:c6, s1:c5, s2:c3], cId:102, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:15:29,041 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7270247BFEB7,id=s1
2024-01-17 16:15:29,041 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7270247BFEB7,id=s3
2024-01-17 16:15:29,041 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s3: shutdown s3@group-7270247BFEB7-FollowerState
2024-01-17 16:15:29,041 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7270247BFEB7,id=s0
2024-01-17 16:15:29,040 [s0@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s0/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:29,041 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-7270247BFEB7-LeaderStateImpl
2024-01-17 16:15:29,041 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-7270247BFEB7-FollowerState
2024-01-17 16:15:29,042 [s2@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:29,042 [s1@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s1/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:29,042 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-7270247BFEB7: succeeded to handle AppendEntries. Reply: s0<-s2#102:OK-t1,SUCCESS,nextIndex=7,followerCommit=6,matchIndex=6
2024-01-17 16:15:29,042 [s2@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4adfa9d3
2024-01-17 16:15:29,043 [s2@group-7270247BFEB7-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcbc90a2e3/s2/fc39ade3-240d-47af-92b8-7270247bfeb7/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:29,043 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,043 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,044 [s0@group-7270247BFEB7->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-7270247BFEB7->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:29,043 [s1@group-7270247BFEB7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7270247BFEB7-FollowerState was interrupted
2024-01-17 16:15:29,043 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-7270247BFEB7-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:15:29,043 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,044 [s3@group-7270247BFEB7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-7270247BFEB7-FollowerState was interrupted
2024-01-17 16:15:29,044 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,044 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s3@group-7270247BFEB7-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:15:29,044 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s3@group-7270247BFEB7: applyIndex: 2
2024-01-17 16:15:29,044 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:15:29,044 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,044 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-7270247BFEB7-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:29,045 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,045 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,045 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,045 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,045 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,045 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,045 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,045 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,045 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,044 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-7270247BFEB7: shutdown
2024-01-17 16:15:29,045 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7270247BFEB7,id=s2
2024-01-17 16:15:29,046 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-7270247BFEB7-FollowerState
2024-01-17 16:15:29,046 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,044 [s3@group-7270247BFEB7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-7270247BFEB7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:29,046 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,044 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-7270247BFEB7: applyIndex: 5
2024-01-17 16:15:29,046 [s1@group-7270247BFEB7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-7270247BFEB7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:29,046 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-7270247BFEB7-StateMachineUpdater: set stopIndex = 6
2024-01-17 16:15:29,046 [s2@group-7270247BFEB7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7270247BFEB7-FollowerState was interrupted
2024-01-17 16:15:29,044 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,044 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,046 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,045 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-7270247BFEB7-StateMachineUpdater: set stopIndex = 6
2024-01-17 16:15:29,045 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,047 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-7270247BFEB7: applyIndex: 6
2024-01-17 16:15:29,045 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,047 [s2@group-7270247BFEB7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-7270247BFEB7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:29,046 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-7270247BFEB7: applyIndex: 6
2024-01-17 16:15:29,047 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,047 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:29,047 [s0@group-7270247BFEB7-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-7270247BFEB7-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:29,047 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:30,034 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s3@group-7270247BFEB7-SegmentedRaftLogWorker close()
2024-01-17 16:15:30,035 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-01-17 16:15:30,039 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-7270247BFEB7-SegmentedRaftLogWorker close()
2024-01-17 16:15:30,039 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:15:30,039 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-7270247BFEB7-SegmentedRaftLogWorker close()
2024-01-17 16:15:30,040 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:15:30,042 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-7270247BFEB7-SegmentedRaftLogWorker close()
2024-01-17 16:15:30,043 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:15:30,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2024-01-17 16:15:30,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:30,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:30,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:30,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:30,043 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:30,044 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s3:   CLOSED  LISTENER s3@group-7270247BFEB7:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-7270247BFEB7-SegmentedRaftLog:CLOSED:c2, conf=3: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[s3|localhost:15032] CLOSED
  s0:   CLOSED    LEADER s0@group-7270247BFEB7:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7270247BFEB7-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-7270247BFEB7:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-7270247BFEB7-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-7270247BFEB7:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7270247BFEB7-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0|localhost:15020, s1|localhost:15024, s2|localhost:15028]|listeners:[], old=null CLOSED
2024-01-17 16:15:30,047 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testEnforceLeader" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="2.506">
    <system-out><![CDATA[2024-01-17 16:15:30,048 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:15:30,048 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:15:30,048 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:15:30,048 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:15:30,049 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(299)) - Running testEnforceLeader
2024-01-17 16:15:30,049 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:15:30,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]
2024-01-17 16:15:30,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:15:30,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:15:30,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:30,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:15:30,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:15:30,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:15:30,050 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s3, group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044], format? true
2024-01-17 16:15:30,051 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3
2024-01-17 16:15:30,051 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3 does not exist.
2024-01-17 16:15:30,051 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3
2024-01-17 16:15:30,051 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:30,051 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:30,052 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:30,052 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:30,052 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:30,052 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3] (custom)
2024-01-17 16:15:30,052 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:30,052 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:30,052 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044] returns group-8BF9AF8662C0:java.util.concurrent.CompletableFuture@5992b70[Not completed]
2024-01-17 16:15:30,052 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s3: new RaftServerImpl for group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044] with BaseStateMachine:uninitialized
2024-01-17 16:15:30,052 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s4, group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044], format? true
2024-01-17 16:15:30,053 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:30,053 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4
2024-01-17 16:15:30,053 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:30,053 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:30,053 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4 does not exist.
2024-01-17 16:15:30,053 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4
2024-01-17 16:15:30,053 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:30,053 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:30,053 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:30,053 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:30,053 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:30,053 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:30,053 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-8BF9AF8662C0: ConfigurationManager, init=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:30,053 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:30,053 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:30,053 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:30,054 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:30,054 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:30,054 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:30,054 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:30,054 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4] (custom)
2024-01-17 16:15:30,054 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:30,054 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:30,054 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:30,054 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:30,055 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044] returns group-8BF9AF8662C0:java.util.concurrent.CompletableFuture@71119188[Not completed]
2024-01-17 16:15:30,055 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s4: new RaftServerImpl for group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044] with BaseStateMachine:uninitialized
2024-01-17 16:15:30,055 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044], format? true
2024-01-17 16:15:30,055 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0
2024-01-17 16:15:30,055 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:30,055 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0 does not exist.
2024-01-17 16:15:30,055 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0
2024-01-17 16:15:30,055 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:30,055 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:30,055 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:30,055 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:30,055 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:30,055 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:30,056 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:30,056 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:30,056 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:30,056 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:30,056 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:30,056 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:30,056 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:30,056 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-8BF9AF8662C0: ConfigurationManager, init=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:30,056 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:30,056 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:30,056 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:30,056 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0] (custom)
2024-01-17 16:15:30,056 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:30,056 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:30,056 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:30,057 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:30,057 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:30,056 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:30,057 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:30,057 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:30,057 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:30,058 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:30,059 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:30,059 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:30,059 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:30,059 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:30,059 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:30,059 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044] returns group-8BF9AF8662C0:java.util.concurrent.CompletableFuture@1915fa26[Not completed]
2024-01-17 16:15:30,059 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044] with BaseStateMachine:uninitialized
2024-01-17 16:15:30,059 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044], format? true
2024-01-17 16:15:30,059 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:30,059 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1
2024-01-17 16:15:30,059 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:30,059 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1 does not exist.
2024-01-17 16:15:30,060 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1
2024-01-17 16:15:30,060 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:30,060 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:30,060 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:30,060 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:30,060 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:30,060 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:30,060 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:30,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:30,060 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-8BF9AF8662C0: ConfigurationManager, init=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:30,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:30,060 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:30,060 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:30,060 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:30,061 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1] (custom)
2024-01-17 16:15:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:30,061 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:30,061 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:30,061 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:30,061 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044] returns group-8BF9AF8662C0:java.util.concurrent.CompletableFuture@24fa16ed[Not completed]
2024-01-17 16:15:30,062 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044], format? true
2024-01-17 16:15:30,062 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2
2024-01-17 16:15:30,062 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2 does not exist.
2024-01-17 16:15:30,062 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2
2024-01-17 16:15:30,062 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:30,063 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:30,063 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:30,063 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:30,063 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:30,063 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044] with BaseStateMachine:uninitialized
2024-01-17 16:15:30,063 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:30,063 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:30,063 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:30,063 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2] (custom)
2024-01-17 16:15:30,063 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:30,063 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:30,063 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:30,064 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:30,063 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:30,064 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:30,063 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:30,064 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:30,064 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:30,064 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:30,064 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:30,064 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:30,064 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-8BF9AF8662C0: ConfigurationManager, init=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:30,064 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:30,064 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:30,064 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:30,064 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:30,065 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:30,066 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:30,066 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:30,066 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:30,066 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:30,066 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:30,066 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:30,069 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044] returns group-8BF9AF8662C0:java.util.concurrent.CompletableFuture@569bfeac[Not completed]
2024-01-17 16:15:30,069 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-8BF9AF8662C0:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044] with BaseStateMachine:uninitialized
2024-01-17 16:15:30,069 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:30,069 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:30,069 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:30,069 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:30,070 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:30,070 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:30,070 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:30,070 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:30,070 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3] (custom)
2024-01-17 16:15:30,070 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:30,070 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-8BF9AF8662C0: ConfigurationManager, init=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:30,070 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:30,070 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0 does not exist. Creating ...
2024-01-17 16:15:30,070 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:30,070 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:30,070 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:30,070 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:30,070 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:30,070 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0
2024-01-17 16:15:30,071 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:30,072 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current
2024-01-17 16:15:30,072 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:30,072 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/sm
2024-01-17 16:15:30,072 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:30,072 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:30,072 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@60047fbd
2024-01-17 16:15:30,072 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:30,072 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:30,072 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:30,073 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:30,073 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0 has been successfully formatted.
2024-01-17 16:15:30,073 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:30,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:30,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:30,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:30,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:30,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:30,075 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:30,075 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:30,075 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,075 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-8BF9AF8662C0-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:30,075 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s3@group-8BF9AF8662C0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0
2024-01-17 16:15:30,075 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:30,075 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:30,075 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:30,075 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:30,075 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:30,076 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:30,076 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:30,076 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:30,076 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:30,078 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,078 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:30,078 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:30,078 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:30,078 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-8BF9AF8662C0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:30,078 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-8BF9AF8662C0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:30,079 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s3@group-8BF9AF8662C0: start as a follower, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,079 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-8BF9AF8662C0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:30,079 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,080 [s3@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:30,080 [s3@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:30,080 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s3
2024-01-17 16:15:30,080 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s3
2024-01-17 16:15:30,080 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:30,080 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:30,080 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:30,080 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:30,080 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s3: start RPC server
2024-01-17 16:15:30,081 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-01-17 16:15:30,081 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:30,081 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:30,082 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4] (custom)
2024-01-17 16:15:30,082 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0 does not exist. Creating ...
2024-01-17 16:15:30,082 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0
2024-01-17 16:15:30,083 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:30,083 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current
2024-01-17 16:15:30,083 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/sm
2024-01-17 16:15:30,083 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1a5f5c87
2024-01-17 16:15:30,084 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:30,085 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0 has been successfully formatted.
2024-01-17 16:15:30,085 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:30,085 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:30,085 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:30,085 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,085 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:30,085 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:30,086 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:30,086 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:30,086 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:30,086 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,086 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-8BF9AF8662C0-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:30,086 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s4@group-8BF9AF8662C0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0
2024-01-17 16:15:30,087 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:30,087 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:30,087 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:30,087 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:30,087 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:30,087 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:30,087 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:30,087 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:30,087 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:30,089 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,089 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:30,089 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:30,089 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:30,089 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-8BF9AF8662C0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:30,089 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-8BF9AF8662C0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:30,089 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s4@group-8BF9AF8662C0: start as a follower, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,089 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s4@group-8BF9AF8662C0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:30,089 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s4: start s4@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,090 [s4@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:30,090 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s4
2024-01-17 16:15:30,090 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s4
2024-01-17 16:15:30,090 [s4@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:30,090 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:30,090 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:30,090 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:30,090 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:30,090 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s4: start RPC server
2024-01-17 16:15:30,091 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-01-17 16:15:30,091 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:30,091 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:30,092 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0] (custom)
2024-01-17 16:15:30,092 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0 does not exist. Creating ...
2024-01-17 16:15:30,092 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0
2024-01-17 16:15:30,093 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:30,093 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current
2024-01-17 16:15:30,093 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/sm
2024-01-17 16:15:30,093 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7b665d2b
2024-01-17 16:15:30,094 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:30,094 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0 has been successfully formatted.
2024-01-17 16:15:30,094 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:30,098 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:30,098 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:30,098 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,098 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:30,098 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-8BF9AF8662C0-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-8BF9AF8662C0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:30,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:30,103 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:30,103 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:30,104 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,104 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:30,104 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:30,104 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:30,104 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-8BF9AF8662C0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:30,104 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-8BF9AF8662C0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:30,105 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-8BF9AF8662C0: start as a follower, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,105 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-8BF9AF8662C0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:30,105 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,105 [s0@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:30,105 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s0
2024-01-17 16:15:30,105 [s0@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:30,105 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s0
2024-01-17 16:15:30,105 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:30,105 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:30,105 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:30,105 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:30,106 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:15:30,106 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:15:30,106 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:30,107 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:30,107 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1] (custom)
2024-01-17 16:15:30,107 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0 does not exist. Creating ...
2024-01-17 16:15:30,107 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0
2024-01-17 16:15:30,108 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:30,108 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current
2024-01-17 16:15:30,108 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/sm
2024-01-17 16:15:30,108 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@53f163f5
2024-01-17 16:15:30,109 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:30,109 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0 has been successfully formatted.
2024-01-17 16:15:30,109 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:30,110 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:30,110 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:30,110 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,110 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:30,110 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:30,110 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:30,111 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:30,111 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:30,111 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,111 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-8BF9AF8662C0-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:30,111 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-8BF9AF8662C0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0
2024-01-17 16:15:30,111 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:30,111 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:30,111 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:30,111 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:30,111 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:30,112 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:30,112 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:30,112 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:30,112 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:30,113 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,113 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:30,113 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:30,113 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:30,113 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-8BF9AF8662C0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:30,113 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-8BF9AF8662C0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:30,114 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-8BF9AF8662C0: start as a follower, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,114 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-8BF9AF8662C0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:30,114 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,114 [s1@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:30,114 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s1
2024-01-17 16:15:30,114 [s1@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:30,114 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s1
2024-01-17 16:15:30,114 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:30,114 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:30,114 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:30,114 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:30,115 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:15:30,115 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:15:30,115 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:30,115 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:30,116 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2] (custom)
2024-01-17 16:15:30,116 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0 does not exist. Creating ...
2024-01-17 16:15:30,116 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0
2024-01-17 16:15:30,117 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:30,117 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current
2024-01-17 16:15:30,117 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/sm
2024-01-17 16:15:30,117 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4e11d02b
2024-01-17 16:15:30,117 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:30,117 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0 has been successfully formatted.
2024-01-17 16:15:30,118 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:30,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:30,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:30,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:30,118 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-8BF9AF8662C0-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-8BF9AF8662C0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:30,119 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:30,121 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,121 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:30,121 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:30,121 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:30,121 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-8BF9AF8662C0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:30,121 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-8BF9AF8662C0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:30,121 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-8BF9AF8662C0: start as a follower, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,121 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-8BF9AF8662C0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:30,122 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,122 [s2@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:30,122 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s2
2024-01-17 16:15:30,122 [s2@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:30,122 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s2
2024-01-17 16:15:30,122 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:30,122 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:30,122 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:30,122 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:30,122 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:15:30,123 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:15:30,123 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:30,124 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s3@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s4@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s0@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s1@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s2@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
2024-01-17 16:15:30,124 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s3@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s4@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s0@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s1@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s2@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
2024-01-17 16:15:30,285 [s0@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-8BF9AF8662C0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180464569ns, electionTimeout:180ms
2024-01-17 16:15:30,286 [s0@group-8BF9AF8662C0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,286 [s0@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-8BF9AF8662C0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:15:30,286 [s0@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:30,286 [s0@group-8BF9AF8662C0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-8BF9AF8662C0-LeaderElection5
2024-01-17 16:15:30,287 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-8BF9AF8662C0-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,287 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s4@group-8BF9AF8662C0: receive requestVote(PRE_VOTE, s0, group-8BF9AF8662C0, 0, (t:0, i:0))
2024-01-17 16:15:30,287 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s3@group-8BF9AF8662C0: receive requestVote(PRE_VOTE, s0, group-8BF9AF8662C0, 0, (t:0, i:0))
2024-01-17 16:15:30,288 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-8BF9AF8662C0-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:30,288 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-8BF9AF8662C0-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:30,288 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s4@group-8BF9AF8662C0 replies to PRE_VOTE vote request: s0<-s4#0:OK-t0. Peer's state: s4@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s4@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,288 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s3@group-8BF9AF8662C0 replies to PRE_VOTE vote request: s0<-s3#0:OK-t0. Peer's state: s3@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s3@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,288 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:30,288 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:30,288 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-8BF9AF8662C0: receive requestVote(PRE_VOTE, s0, group-8BF9AF8662C0, 0, (t:0, i:0))
2024-01-17 16:15:30,288 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-8BF9AF8662C0: receive requestVote(PRE_VOTE, s0, group-8BF9AF8662C0, 0, (t:0, i:0))
2024-01-17 16:15:30,288 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8BF9AF8662C0-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:30,288 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-8BF9AF8662C0-LeaderElection5: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:30,288 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-8BF9AF8662C0 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s1@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,288 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s3#0:OK-t0
2024-01-17 16:15:30,288 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8BF9AF8662C0-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:30,288 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s4#0:OK-t0
2024-01-17 16:15:30,288 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-8BF9AF8662C0 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-8BF9AF8662C0:t0, leader=null, voted=, raftlog=Memoized:s2@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,289 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-8BF9AF8662C0-LeaderElection5 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:30,289 [s0@group-8BF9AF8662C0-LeaderElection5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1571d7f1
2024-01-17 16:15:30,290 [s0@group-8BF9AF8662C0-LeaderElection5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:30,290 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-8BF9AF8662C0-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,290 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s3@group-8BF9AF8662C0: receive requestVote(ELECTION, s0, group-8BF9AF8662C0, 1, (t:0, i:0))
2024-01-17 16:15:30,291 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-8BF9AF8662C0: receive requestVote(ELECTION, s0, group-8BF9AF8662C0, 1, (t:0, i:0))
2024-01-17 16:15:30,291 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-8BF9AF8662C0: receive requestVote(ELECTION, s0, group-8BF9AF8662C0, 1, (t:0, i:0))
2024-01-17 16:15:30,291 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8BF9AF8662C0-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:30,291 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8BF9AF8662C0-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:30,292 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-8BF9AF8662C0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:15:30,291 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s4@group-8BF9AF8662C0: receive requestVote(ELECTION, s0, group-8BF9AF8662C0, 1, (t:0, i:0))
2024-01-17 16:15:30,291 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:30,292 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-8BF9AF8662C0-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:30,292 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,292 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-8BF9AF8662C0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:15:30,291 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-8BF9AF8662C0-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:30,292 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,292 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-8BF9AF8662C0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:15:30,292 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s4@group-8BF9AF8662C0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:15:30,292 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s4: shutdown s4@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,292 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:30,292 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s3: shutdown s3@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,294 [s2@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8BF9AF8662C0-FollowerState was interrupted
2024-01-17 16:15:30,294 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,294 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s4: start s4@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,294 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,294 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-8BF9AF8662C0: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:15:30,294 [s4@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-8BF9AF8662C0-FollowerState was interrupted
2024-01-17 16:15:30,294 [s1@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-8BF9AF8662C0-FollowerState was interrupted
2024-01-17 16:15:30,294 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:30,296 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@296684cc
2024-01-17 16:15:30,296 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-8BF9AF8662C0: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:15:30,295 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s3@group-8BF9AF8662C0: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:15:30,296 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1c8c0be7
2024-01-17 16:15:30,296 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1ff21aad
2024-01-17 16:15:30,294 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s4@group-8BF9AF8662C0: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:15:30,294 [s3@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-8BF9AF8662C0-FollowerState was interrupted
2024-01-17 16:15:30,297 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@8bf26b0
2024-01-17 16:15:30,297 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:30,297 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-8BF9AF8662C0 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-8BF9AF8662C0:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,297 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:30,298 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s3@group-8BF9AF8662C0 replies to ELECTION vote request: s0<-s3#0:OK-t1. Peer's state: s3@group-8BF9AF8662C0:t1, leader=null, voted=s0, raftlog=Memoized:s3@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,298 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-8BF9AF8662C0-LeaderElection5: ELECTION PASSED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:30,298 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:30,298 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s3#0:OK-t1
2024-01-17 16:15:30,298 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-8BF9AF8662C0 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-8BF9AF8662C0:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,298 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s1#0:OK-t1
2024-01-17 16:15:30,298 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:30,298 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-8BF9AF8662C0-LeaderElection5 ELECTION round 0: result PASSED
2024-01-17 16:15:30,298 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-8BF9AF8662C0-LeaderElection5
2024-01-17 16:15:30,298 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s4@group-8BF9AF8662C0 replies to ELECTION vote request: s0<-s4#0:OK-t1. Peer's state: s4@group-8BF9AF8662C0:t1, leader=null, voted=s0, raftlog=Memoized:s4@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,298 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-8BF9AF8662C0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:15:30,298 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:30,299 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:30,299 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:30,300 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:30,300 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:30,300 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:30,301 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:30,301 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:30,301 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:30,301 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:30,301 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:30,301 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:30,301 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,302 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:30,302 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:30,302 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:30,302 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,302 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:30,302 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:30,304 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:30,304 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,304 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:30,304 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:30,305 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:30,305 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:30,305 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:30,305 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:30,305 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-8BF9AF8662C0-LeaderStateImpl
2024-01-17 16:15:30,305 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-8BF9AF8662C0: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:15:30,305 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-8BF9AF8662C0: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 244ms
2024-01-17 16:15:30,305 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-8BF9AF8662C0-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:30,306 [s0@group-8BF9AF8662C0-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8BF9AF8662C0: set configuration 0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,306 [s0@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:30,311 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-8BF9AF8662C0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 257ms
2024-01-17 16:15:30,312 [s0@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-8BF9AF8662C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0
2024-01-17 16:15:30,313 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-8BF9AF8662C0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 248ms
2024-01-17 16:15:30,314 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-8BF9AF8662C0: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], cId:108, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15048"
dataStreamAddress: "localhost:15051"
clientAddress: "localhost:15050"
adminAddress: "localhost:15049"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15052"
dataStreamAddress: "localhost:15055"
clientAddress: "localhost:15054"
adminAddress: "localhost:15053"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15036"
dataStreamAddress: "localhost:15039"
clientAddress: "localhost:15038"
adminAddress: "localhost:15037"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15040"
dataStreamAddress: "localhost:15043"
clientAddress: "localhost:15042"
adminAddress: "localhost:15041"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15044"
dataStreamAddress: "localhost:15047"
clientAddress: "localhost:15046"
adminAddress: "localhost:15045"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:30,315 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s4@group-8BF9AF8662C0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 258ms
2024-01-17 16:15:30,315 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-8BF9AF8662C0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 244ms
2024-01-17 16:15:30,315 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-8BF9AF8662C0: set configuration 0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,315 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s3@group-8BF9AF8662C0-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:30,316 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-8BF9AF8662C0: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], cId:112, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15048"
dataStreamAddress: "localhost:15051"
clientAddress: "localhost:15050"
adminAddress: "localhost:15049"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15052"
dataStreamAddress: "localhost:15055"
clientAddress: "localhost:15054"
adminAddress: "localhost:15053"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15036"
dataStreamAddress: "localhost:15039"
clientAddress: "localhost:15038"
adminAddress: "localhost:15037"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15040"
dataStreamAddress: "localhost:15043"
clientAddress: "localhost:15042"
adminAddress: "localhost:15041"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15044"
dataStreamAddress: "localhost:15047"
clientAddress: "localhost:15046"
adminAddress: "localhost:15045"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:30,316 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-8BF9AF8662C0: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], cId:113, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15048"
dataStreamAddress: "localhost:15051"
clientAddress: "localhost:15050"
adminAddress: "localhost:15049"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15052"
dataStreamAddress: "localhost:15055"
clientAddress: "localhost:15054"
adminAddress: "localhost:15053"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15036"
dataStreamAddress: "localhost:15039"
clientAddress: "localhost:15038"
adminAddress: "localhost:15037"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15040"
dataStreamAddress: "localhost:15043"
clientAddress: "localhost:15042"
adminAddress: "localhost:15041"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15044"
dataStreamAddress: "localhost:15047"
clientAddress: "localhost:15046"
adminAddress: "localhost:15045"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:30,317 [s3@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:30,317 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8BF9AF8662C0: set configuration 0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,322 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-8BF9AF8662C0-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:30,317 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-8BF9AF8662C0: set configuration 0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,323 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s4@group-8BF9AF8662C0-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:30,323 [s1@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:30,324 [s4@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:30,324 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-8BF9AF8662C0: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], cId:114, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15048"
dataStreamAddress: "localhost:15051"
clientAddress: "localhost:15050"
adminAddress: "localhost:15049"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15052"
dataStreamAddress: "localhost:15055"
clientAddress: "localhost:15054"
adminAddress: "localhost:15053"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15036"
dataStreamAddress: "localhost:15039"
clientAddress: "localhost:15038"
adminAddress: "localhost:15037"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15040"
dataStreamAddress: "localhost:15043"
clientAddress: "localhost:15042"
adminAddress: "localhost:15041"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15044"
dataStreamAddress: "localhost:15047"
clientAddress: "localhost:15046"
adminAddress: "localhost:15045"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:30,324 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8BF9AF8662C0: set configuration 0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:30,324 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-8BF9AF8662C0-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:30,325 [s2@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:30,334 [s3@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s3@group-8BF9AF8662C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0
2024-01-17 16:15:30,338 [s1@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-8BF9AF8662C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0
2024-01-17 16:15:30,339 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-8BF9AF8662C0: succeeded to handle AppendEntries. Reply: s0<-s3#108:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:30,339 [s2@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-8BF9AF8662C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0
2024-01-17 16:15:30,339 [s4@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s4@group-8BF9AF8662C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0
2024-01-17 16:15:30,339 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-8BF9AF8662C0: succeeded to handle AppendEntries. Reply: s0<-s1#112:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:30,340 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-8BF9AF8662C0: succeeded to handle AppendEntries. Reply: s0<-s2#114:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:30,340 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-8BF9AF8662C0: succeeded to handle AppendEntries. Reply: s0<-s4#113:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:30,340 [s0@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@238d36b7
2024-01-17 16:15:30,341 [s0@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:30,342 [s0@group-8BF9AF8662C0-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:15:30,417 [s4@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@193311a3
2024-01-17 16:15:30,417 [s1@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@489d283c
2024-01-17 16:15:30,417 [s3@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1f5ffdd2
2024-01-17 16:15:30,417 [s2@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1e478454
2024-01-17 16:15:30,419 [s3@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:30,420 [s2@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:30,421 [s1@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:30,422 [s4@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:30,575 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
2024-01-17 16:15:30,575 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(305)) - firstLeader = s0
2024-01-17 16:15:30,575 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(310)) - enforce leader to s3
2024-01-17 16:15:30,575 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(316)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
2024-01-17 16:15:30,576 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:31,043 [s3@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-8BF9AF8662C0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:473234127ns, electionTimeout:280ms
2024-01-17 16:15:31,044 [s3@group-8BF9AF8662C0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s3: shutdown s3@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:31,044 [s3@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-8BF9AF8662C0: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:31,044 [s3@group-8BF9AF8662C0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:31,044 [s3@group-8BF9AF8662C0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-8BF9AF8662C0-LeaderElection6
2024-01-17 16:15:31,044 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-8BF9AF8662C0: change Leader from s0 to null at term 1 for PRE_VOTE
2024-01-17 16:15:31,045 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s3@group-8BF9AF8662C0-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,195 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s4@group-8BF9AF8662C0: receive requestVote(PRE_VOTE, s3, group-8BF9AF8662C0, 1, (t:1, i:0))
2024-01-17 16:15:31,195 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-8BF9AF8662C0: receive requestVote(PRE_VOTE, s3, group-8BF9AF8662C0, 1, (t:1, i:0))
2024-01-17 16:15:31,196 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8BF9AF8662C0-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-01-17 16:15:31,195 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-8BF9AF8662C0: receive requestVote(PRE_VOTE, s3, group-8BF9AF8662C0, 1, (t:1, i:0))
2024-01-17 16:15:31,196 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-8BF9AF8662C0 replies to PRE_VOTE vote request: s3<-s2#0:OK-t1. Peer's state: s2@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,195 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-8BF9AF8662C0: receive requestVote(PRE_VOTE, s3, group-8BF9AF8662C0, 1, (t:1, i:0))
2024-01-17 16:15:31,196 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8BF9AF8662C0-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2024-01-17 16:15:31,196 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-8BF9AF8662C0 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,196 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8BF9AF8662C0-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-01-17 16:15:31,196 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-8BF9AF8662C0-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-01-17 16:15:31,196 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-8BF9AF8662C0 replies to PRE_VOTE vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,196 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s4@group-8BF9AF8662C0 replies to PRE_VOTE vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-8BF9AF8662C0:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,196 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-8BF9AF8662C0-LeaderElection6: PRE_VOTE PASSED received 3 response(s) and 0 exception(s):
2024-01-17 16:15:31,196 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s0#0:FAIL-t1
2024-01-17 16:15:31,196 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t1
2024-01-17 16:15:31,196 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 2: s3<-s2#0:OK-t1
2024-01-17 16:15:31,197 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s3@group-8BF9AF8662C0-LeaderElection6 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:31,198 [s3@group-8BF9AF8662C0-LeaderElection6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@ead48d8
2024-01-17 16:15:31,198 [s3@group-8BF9AF8662C0-LeaderElection6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:31,198 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s3@group-8BF9AF8662C0-LeaderElection6 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,349 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s4@group-8BF9AF8662C0: receive requestVote(ELECTION, s3, group-8BF9AF8662C0, 2, (t:1, i:0))
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-8BF9AF8662C0: receive requestVote(ELECTION, s3, group-8BF9AF8662C0, 2, (t:1, i:0))
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-8BF9AF8662C0: receive requestVote(ELECTION, s3, group-8BF9AF8662C0, 2, (t:1, i:0))
2024-01-17 16:15:31,349 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-8BF9AF8662C0: receive requestVote(ELECTION, s3, group-8BF9AF8662C0, 2, (t:1, i:0))
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-8BF9AF8662C0-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2024-01-17 16:15:31,350 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-8BF9AF8662C0-LEADER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-8BF9AF8662C0: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-8BF9AF8662C0-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-8BF9AF8662C0: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s3
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-8BF9AF8662C0-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s4@group-8BF9AF8662C0: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-8BF9AF8662C0: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:31,350 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-8BF9AF8662C0: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-01-17 16:15:31,351 [s1@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-8BF9AF8662C0-FollowerState was interrupted
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-8BF9AF8662C0: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s3
2024-01-17 16:15:31,351 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:31,351 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:31,351 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1dbd119b
2024-01-17 16:15:31,351 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3add2d9
2024-01-17 16:15:31,350 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s4@group-8BF9AF8662C0: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s3
2024-01-17 16:15:31,351 [s2@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8BF9AF8662C0-FollowerState was interrupted
2024-01-17 16:15:31,351 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s4: shutdown s4@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:31,351 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-8BF9AF8662C0: changes role from    LEADER to FOLLOWER at term 2 for candidate:s3
2024-01-17 16:15:31,352 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s4: start s4@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:31,352 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-8BF9AF8662C0-LeaderStateImpl
2024-01-17 16:15:31,352 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3dc990bb
2024-01-17 16:15:31,352 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-8BF9AF8662C0-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:31,352 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:31,353 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-8BF9AF8662C0 replies to ELECTION vote request: s3<-s1#0:OK-t2. Peer's state: s1@group-8BF9AF8662C0:t2, leader=null, voted=s3, raftlog=Memoized:s1@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,353 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:31,353 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s4@group-8BF9AF8662C0 replies to ELECTION vote request: s3<-s4#0:OK-t2. Peer's state: s4@group-8BF9AF8662C0:t2, leader=null, voted=s3, raftlog=Memoized:s4@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,352 [s4@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-8BF9AF8662C0-FollowerState was interrupted
2024-01-17 16:15:31,354 [s0@group-8BF9AF8662C0->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s0@group-8BF9AF8662C0->s3-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:15:31,354 [s0@group-8BF9AF8662C0->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s0@group-8BF9AF8662C0->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:15:31,352 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:31,354 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-8BF9AF8662C0-LeaderElection6: ELECTION PASSED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:31,354 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-8BF9AF8662C0 replies to ELECTION vote request: s3<-s2#0:OK-t2. Peer's state: s2@group-8BF9AF8662C0:t2, leader=null, voted=s3, raftlog=Memoized:s2@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,354 [s0@group-8BF9AF8662C0->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s0@group-8BF9AF8662C0->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:15:31,354 [s0@group-8BF9AF8662C0->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s0@group-8BF9AF8662C0->s4-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:15:31,354 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t2
2024-01-17 16:15:31,355 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t2
2024-01-17 16:15:31,355 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:31,355 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s3@group-8BF9AF8662C0-LeaderElection6 ELECTION round 0: result PASSED
2024-01-17 16:15:31,355 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s3: shutdown s3@group-8BF9AF8662C0-LeaderElection6
2024-01-17 16:15:31,356 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@35da4d16
2024-01-17 16:15:31,356 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-8BF9AF8662C0: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-01-17 16:15:31,356 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:31,356 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:31,356 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:31,356 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:31,356 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:31,356 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:31,356 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-8BF9AF8662C0 replies to ELECTION vote request: s3<-s0#0:OK-t2. Peer's state: s0@group-8BF9AF8662C0:t2, leader=null, voted=s3, raftlog=Memoized:s0@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,356 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:31,357 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:31,357 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:31,357 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:31,357 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:31,357 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:31,357 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:31,357 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:31,357 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:31,357 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:31,357 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-8BF9AF8662C0-LeaderStateImpl
2024-01-17 16:15:31,358 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-8BF9AF8662C0: change Leader from null to s3 at term 2 for becomeLeader, leader elected after 313ms
2024-01-17 16:15:31,359 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s3@group-8BF9AF8662C0-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:15:31,359 [s3@group-8BF9AF8662C0-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-8BF9AF8662C0: set configuration 1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,360 [s3@group-8BF9AF8662C0-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_0-0
2024-01-17 16:15:31,361 [s3@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s3@group-8BF9AF8662C0-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_0-0
2024-01-17 16:15:31,361 [s3@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:15:31,368 [s3@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s3@group-8BF9AF8662C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_1
2024-01-17 16:15:31,476 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1580)) - s4@group-8BF9AF8662C0: Not recognize s0 (term=1) as leader, state: s4@group-8BF9AF8662C0:t2, leader=null, voted=s3, raftlog=Memoized:s4@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null reply: s0<-s4#163:FAIL-t2,NOT_LEADER,nextIndex=1,followerCommit=0,matchIndex=-1
2024-01-17 16:15:31,476 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1580)) - s2@group-8BF9AF8662C0: Not recognize s0 (term=1) as leader, state: s2@group-8BF9AF8662C0:t2, leader=null, voted=s3, raftlog=Memoized:s2@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null reply: s0<-s2#164:FAIL-t2,NOT_LEADER,nextIndex=1,followerCommit=0,matchIndex=-1
2024-01-17 16:15:31,476 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1580)) - s1@group-8BF9AF8662C0: Not recognize s0 (term=1) as leader, state: s1@group-8BF9AF8662C0:t2, leader=null, voted=s3, raftlog=Memoized:s1@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null reply: s0<-s1#162:FAIL-t2,NOT_LEADER,nextIndex=1,followerCommit=0,matchIndex=-1
2024-01-17 16:15:31,477 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:31,511 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-8BF9AF8662C0: change Leader from null to s3 at term 2 for appendEntries, leader elected after 161ms
2024-01-17 16:15:31,511 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-8BF9AF8662C0: change Leader from null to s3 at term 2 for appendEntries, leader elected after 161ms
2024-01-17 16:15:31,511 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-8BF9AF8662C0: change Leader from null to s3 at term 2 for appendEntries, leader elected after 161ms
2024-01-17 16:15:31,514 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s4@group-8BF9AF8662C0: change Leader from null to s3 at term 2 for appendEntries, leader elected after 163ms
2024-01-17 16:15:31,515 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-8BF9AF8662C0: receive appendEntries(s3, 2, (t:1, i:0), 0, false, commits:[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], cId:174, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15048"
dataStreamAddress: "localhost:15051"
clientAddress: "localhost:15050"
adminAddress: "localhost:15049"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15052"
dataStreamAddress: "localhost:15055"
clientAddress: "localhost:15054"
adminAddress: "localhost:15053"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15036"
dataStreamAddress: "localhost:15039"
clientAddress: "localhost:15038"
adminAddress: "localhost:15037"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15040"
dataStreamAddress: "localhost:15043"
clientAddress: "localhost:15042"
adminAddress: "localhost:15041"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15044"
dataStreamAddress: "localhost:15047"
clientAddress: "localhost:15046"
adminAddress: "localhost:15045"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:31,515 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-8BF9AF8662C0: receive appendEntries(s3, 2, (t:1, i:0), 0, false, commits:[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], cId:175, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15048"
dataStreamAddress: "localhost:15051"
clientAddress: "localhost:15050"
adminAddress: "localhost:15049"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15052"
dataStreamAddress: "localhost:15055"
clientAddress: "localhost:15054"
adminAddress: "localhost:15053"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15036"
dataStreamAddress: "localhost:15039"
clientAddress: "localhost:15038"
adminAddress: "localhost:15037"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15040"
dataStreamAddress: "localhost:15043"
clientAddress: "localhost:15042"
adminAddress: "localhost:15041"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15044"
dataStreamAddress: "localhost:15047"
clientAddress: "localhost:15046"
adminAddress: "localhost:15045"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:31,515 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-8BF9AF8662C0: set configuration 1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,515 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-8BF9AF8662C0-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:15:31,515 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-8BF9AF8662C0: receive appendEntries(s3, 2, (t:1, i:0), 0, false, commits:[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], cId:173, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15048"
dataStreamAddress: "localhost:15051"
clientAddress: "localhost:15050"
adminAddress: "localhost:15049"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15052"
dataStreamAddress: "localhost:15055"
clientAddress: "localhost:15054"
adminAddress: "localhost:15053"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15036"
dataStreamAddress: "localhost:15039"
clientAddress: "localhost:15038"
adminAddress: "localhost:15037"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15040"
dataStreamAddress: "localhost:15043"
clientAddress: "localhost:15042"
adminAddress: "localhost:15041"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15044"
dataStreamAddress: "localhost:15047"
clientAddress: "localhost:15046"
adminAddress: "localhost:15045"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:31,515 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-8BF9AF8662C0: set configuration 1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,516 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-8BF9AF8662C0-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:15:31,517 [s2@group-8BF9AF8662C0-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_0-0
2024-01-17 16:15:31,517 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-8BF9AF8662C0: set configuration 1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,517 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-8BF9AF8662C0: receive appendEntries(s3, 2, (t:1, i:0), 0, false, commits:[s3:c0, s4:c0, s0:c0, s1:c0, s2:c0], cId:176, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15048"
dataStreamAddress: "localhost:15051"
clientAddress: "localhost:15050"
adminAddress: "localhost:15049"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15052"
dataStreamAddress: "localhost:15055"
clientAddress: "localhost:15054"
adminAddress: "localhost:15053"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15036"
dataStreamAddress: "localhost:15039"
clientAddress: "localhost:15038"
adminAddress: "localhost:15037"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15040"
dataStreamAddress: "localhost:15043"
clientAddress: "localhost:15042"
adminAddress: "localhost:15041"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15044"
dataStreamAddress: "localhost:15047"
clientAddress: "localhost:15046"
adminAddress: "localhost:15045"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:31,517 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-8BF9AF8662C0-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:15:31,518 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-8BF9AF8662C0: set configuration 1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null
2024-01-17 16:15:31,518 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s4@group-8BF9AF8662C0-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:15:31,518 [s0@group-8BF9AF8662C0-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_0-0
2024-01-17 16:15:31,519 [s0@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-8BF9AF8662C0-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_0-0
2024-01-17 16:15:31,519 [s4@group-8BF9AF8662C0-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_0-0
2024-01-17 16:15:31,517 [s1@group-8BF9AF8662C0-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_0-0
2024-01-17 16:15:31,519 [s1@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-8BF9AF8662C0-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_0-0
2024-01-17 16:15:31,519 [s4@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s4@group-8BF9AF8662C0-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_0-0
2024-01-17 16:15:31,519 [s0@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:15:31,517 [s2@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-8BF9AF8662C0-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_0-0
2024-01-17 16:15:31,519 [s1@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:15:31,520 [s2@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:15:31,520 [s4@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:15:31,539 [s0@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-8BF9AF8662C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_1
2024-01-17 16:15:31,539 [s1@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-8BF9AF8662C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_1
2024-01-17 16:15:31,539 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-8BF9AF8662C0: succeeded to handle AppendEntries. Reply: s3<-s0#173:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:31,540 [s2@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-8BF9AF8662C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_1
2024-01-17 16:15:31,540 [s4@group-8BF9AF8662C0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s4@group-8BF9AF8662C0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/log_inprogress_1
2024-01-17 16:15:31,540 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-8BF9AF8662C0: succeeded to handle AppendEntries. Reply: s3<-s1#175:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:31,540 [s3@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@11981049
2024-01-17 16:15:31,541 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-8BF9AF8662C0: succeeded to handle AppendEntries. Reply: s3<-s4#176:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:31,541 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-8BF9AF8662C0: receive appendEntries(s3, 2, (t:2, i:1), 1, false, commits:[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], cId:177, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:31,541 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-8BF9AF8662C0: succeeded to handle AppendEntries. Reply: s3<-s2#174:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:31,542 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-8BF9AF8662C0: receive appendEntries(s3, 2, (t:2, i:1), 1, false, commits:[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], cId:178, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:31,542 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-8BF9AF8662C0: succeeded to handle AppendEntries. Reply: s3<-s0#177:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:31,542 [s0@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2d4adcb6
2024-01-17 16:15:31,542 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-8BF9AF8662C0: receive appendEntries(s3, 2, (t:2, i:1), 1, false, commits:[s3:c1, s4:c0, s0:c0, s1:c0, s2:c0], cId:179, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:31,543 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-8BF9AF8662C0: succeeded to handle AppendEntries. Reply: s3<-s4#179:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:31,543 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-8BF9AF8662C0: succeeded to handle AppendEntries. Reply: s3<-s2#178:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:31,543 [s4@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@17f4ecf5
2024-01-17 16:15:31,543 [s2@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@108079ec
2024-01-17 16:15:31,544 [s3@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s3/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:31,544 [s3@group-8BF9AF8662C0-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 1 >= startIndex == 1
2024-01-17 16:15:31,544 [s0@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s0/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:31,545 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-8BF9AF8662C0: receive appendEntries(s3, 2, (t:2, i:1), 2, false, commits:[s3:c2, s4:c1, s0:c1, s1:c0, s2:c1], cId:180, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:31,545 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-8BF9AF8662C0: succeeded to handle AppendEntries. Reply: s3<-s1#180:OK-t2,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2024-01-17 16:15:31,546 [s1@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@465adf5f
2024-01-17 16:15:31,546 [s4@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s4/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:31,547 [s2@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s2/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:31,547 [s1@group-8BF9AF8662C0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6a49b9ea/s1/4cda8461-4874-4dff-80a7-8bf9af8662c0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:32,378 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(323)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-8BF9AF8662C0:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8BF9AF8662C0:t2, leader=s3, voted=s3, raftlog=Memoized:s4@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8BF9AF8662C0:t2, leader=s3, voted=s3, raftlog=Memoized:s0@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8BF9AF8662C0:t2, leader=s3, voted=s3, raftlog=Memoized:s1@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8BF9AF8662C0:t2, leader=s3, voted=s3, raftlog=Memoized:s2@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
2024-01-17 16:15:32,378 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:32,378 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:32,378 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:32,378 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:32,378 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:32,378 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-8BF9AF8662C0:t2, leader=s3, voted=s3, raftlog=Memoized:s3@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-8BF9AF8662C0:t2, leader=s3, voted=s3, raftlog=Memoized:s4@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-8BF9AF8662C0:t2, leader=s3, voted=s3, raftlog=Memoized:s0@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-8BF9AF8662C0:t2, leader=s3, voted=s3, raftlog=Memoized:s1@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-8BF9AF8662C0:t2, leader=s3, voted=s3, raftlog=Memoized:s2@group-8BF9AF8662C0-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15048, s4|localhost:15052, s0|localhost:15036, s1|localhost:15040, s2|localhost:15044]|listeners:[], old=null RUNNING
2024-01-17 16:15:32,379 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s3: close
2024-01-17 16:15:32,379 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:15:32,379 [MiniRaftCluster-23] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:15:32,379 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s4: close
2024-01-17 16:15:32,379 [MiniRaftCluster-22] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:15:32,379 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s3@group-8BF9AF8662C0: shutdown
2024-01-17 16:15:32,380 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s3
2024-01-17 16:15:32,380 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s3: shutdown s3@group-8BF9AF8662C0-LeaderStateImpl
2024-01-17 16:15:32,380 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s3@group-8BF9AF8662C0-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:32,381 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,381 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,381 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-8BF9AF8662C0: shutdown
2024-01-17 16:15:32,381 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-8BF9AF8662C0: shutdown
2024-01-17 16:15:32,384 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s0
2024-01-17 16:15:32,384 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:32,384 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s2
2024-01-17 16:15:32,384 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:32,384 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-8BF9AF8662C0-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:15:32,384 [s3@group-8BF9AF8662C0->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s3@group-8BF9AF8662C0->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:32,384 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-8BF9AF8662C0: applyIndex: 2
2024-01-17 16:15:32,384 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,384 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-8BF9AF8662C0: shutdown
2024-01-17 16:15:32,385 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s1
2024-01-17 16:15:32,385 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,385 [s2@group-8BF9AF8662C0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-8BF9AF8662C0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:32,384 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,387 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,384 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,384 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,384 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,384 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,383 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,383 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,383 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s4@group-8BF9AF8662C0: shutdown
2024-01-17 16:15:32,389 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-8BF9AF8662C0,id=s4
2024-01-17 16:15:32,389 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s4: shutdown s4@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:32,389 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s4@group-8BF9AF8662C0-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:15:32,383 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,383 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,389 [s4@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-8BF9AF8662C0-FollowerState was interrupted
2024-01-17 16:15:32,388 [s0@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-8BF9AF8662C0-FollowerState was interrupted
2024-01-17 16:15:32,387 [s3@group-8BF9AF8662C0->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s3@group-8BF9AF8662C0->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:32,387 [s3@group-8BF9AF8662C0->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s3@group-8BF9AF8662C0->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:32,389 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,385 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-8BF9AF8662C0-FollowerState
2024-01-17 16:15:32,389 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,385 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,391 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,384 [s3@group-8BF9AF8662C0->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s3@group-8BF9AF8662C0->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:32,384 [s2@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-8BF9AF8662C0-FollowerState was interrupted
2024-01-17 16:15:32,384 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-8BF9AF8662C0-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:15:32,391 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-8BF9AF8662C0: applyIndex: 2
2024-01-17 16:15:32,391 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,392 [s0@group-8BF9AF8662C0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-8BF9AF8662C0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:32,391 [s1@group-8BF9AF8662C0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-8BF9AF8662C0-FollowerState was interrupted
2024-01-17 16:15:32,391 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s3@group-8BF9AF8662C0-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:15:32,392 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s3@group-8BF9AF8662C0: applyIndex: 2
2024-01-17 16:15:32,391 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-8BF9AF8662C0-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:15:32,391 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,391 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,391 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,395 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,391 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,390 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,389 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,389 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,389 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,389 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s4@group-8BF9AF8662C0: applyIndex: 2
2024-01-17 16:15:32,396 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,396 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:32,396 [s4@group-8BF9AF8662C0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-8BF9AF8662C0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:32,392 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-8BF9AF8662C0: applyIndex: 2
2024-01-17 16:15:32,392 [s3@group-8BF9AF8662C0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-8BF9AF8662C0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:32,396 [s1@group-8BF9AF8662C0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-8BF9AF8662C0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:32,543 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-8BF9AF8662C0-SegmentedRaftLogWorker close()
2024-01-17 16:15:32,544 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:15:32,545 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s3@group-8BF9AF8662C0-SegmentedRaftLogWorker close()
2024-01-17 16:15:32,545 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-8BF9AF8662C0-SegmentedRaftLogWorker close()
2024-01-17 16:15:32,545 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s4@group-8BF9AF8662C0-SegmentedRaftLogWorker close()
2024-01-17 16:15:32,546 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-8BF9AF8662C0-SegmentedRaftLogWorker close()
2024-01-17 16:15:32,548 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-01-17 16:15:32,551 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:15:32,552 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:15:32,552 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-01-17 16:15:32,552 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testLostMajorityHeartbeats" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="1.68">
    <system-out><![CDATA[2024-01-17 16:15:32,553 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:15:32,553 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:15:32,553 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:15:32,553 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:15:32,554 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(134)) - Running runWithNewCluster
2024-01-17 16:15:32,554 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:15:32,555 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-0B5AD8448EBB:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]
2024-01-17 16:15:32,555 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:15:32,555 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:15:32,555 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:32,555 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:15:32,555 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:15:32,555 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:15:32,555 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-0B5AD8448EBB:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064], format? true
2024-01-17 16:15:32,555 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0
2024-01-17 16:15:32,555 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0 does not exist.
2024-01-17 16:15:32,555 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0
2024-01-17 16:15:32,555 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:32,556 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:32,556 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:32,556 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:32,556 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:32,556 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0] (custom)
2024-01-17 16:15:32,556 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:32,556 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:32,556 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-0B5AD8448EBB:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064] returns group-0B5AD8448EBB:java.util.concurrent.CompletableFuture@547860e0[Not completed]
2024-01-17 16:15:32,557 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-0B5AD8448EBB:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064] with BaseStateMachine:uninitialized
2024-01-17 16:15:32,557 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-0B5AD8448EBB:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064], format? true
2024-01-17 16:15:32,557 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1
2024-01-17 16:15:32,557 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:32,557 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1 does not exist.
2024-01-17 16:15:32,557 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1
2024-01-17 16:15:32,557 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:32,557 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:32,557 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:32,557 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:32,557 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:32,557 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:32,557 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:32,557 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:32,558 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-0B5AD8448EBB: ConfigurationManager, init=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:32,558 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:32,558 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:32,558 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:32,558 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:32,558 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:32,558 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:32,558 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:32,558 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1] (custom)
2024-01-17 16:15:32,558 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:32,558 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:32,558 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:32,558 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:32,559 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-0B5AD8448EBB:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064] returns group-0B5AD8448EBB:java.util.concurrent.CompletableFuture@34579faf[Not completed]
2024-01-17 16:15:32,559 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-0B5AD8448EBB:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064] with BaseStateMachine:uninitialized
2024-01-17 16:15:32,559 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-0B5AD8448EBB:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064], format? true
2024-01-17 16:15:32,559 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2
2024-01-17 16:15:32,559 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:32,559 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2 does not exist.
2024-01-17 16:15:32,559 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2
2024-01-17 16:15:32,559 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:32,559 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:32,560 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:32,560 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:32,560 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:32,560 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:32,560 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:32,560 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:32,560 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:32,560 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:32,560 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:32,560 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-0B5AD8448EBB: ConfigurationManager, init=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:32,560 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2] (custom)
2024-01-17 16:15:32,560 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:32,560 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:32,560 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:32,560 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:32,560 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:32,560 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:32,561 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:32,561 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:32,561 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-0B5AD8448EBB:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064] returns group-0B5AD8448EBB:java.util.concurrent.CompletableFuture@38bb0d06[Not completed]
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-0B5AD8448EBB:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064] with BaseStateMachine:uninitialized
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-0B5AD8448EBB: ConfigurationManager, init=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:32,561 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:32,562 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:32,562 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:32,562 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:32,562 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:32,562 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:32,562 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:32,562 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:32,562 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:32,562 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:32,562 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:32,563 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:32,563 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:32,563 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:32,563 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:32,563 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:32,563 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:32,563 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0] (custom)
2024-01-17 16:15:32,564 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb does not exist. Creating ...
2024-01-17 16:15:32,564 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:32,564 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:32,564 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:32,564 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:32,564 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:32,564 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:32,564 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb
2024-01-17 16:15:32,565 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:32,565 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current
2024-01-17 16:15:32,565 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/sm
2024-01-17 16:15:32,565 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2ab49de2
2024-01-17 16:15:32,566 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:32,566 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb has been successfully formatted.
2024-01-17 16:15:32,566 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:32,566 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:32,566 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:32,566 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:32,566 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:32,566 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-0B5AD8448EBB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-0B5AD8448EBB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:32,567 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:32,568 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:32,569 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:32,569 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:32,569 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:32,569 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:32,569 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-0B5AD8448EBB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:32,569 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-0B5AD8448EBB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:32,569 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-0B5AD8448EBB: start as a follower, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:32,569 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-0B5AD8448EBB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:32,569 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:32,570 [s0@group-0B5AD8448EBB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:32,570 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0B5AD8448EBB,id=s0
2024-01-17 16:15:32,570 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-0B5AD8448EBB,id=s0
2024-01-17 16:15:32,570 [s0@group-0B5AD8448EBB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:32,570 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:32,570 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:32,570 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:32,570 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:32,570 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:15:32,571 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:15:32,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:32,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:32,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1] (custom)
2024-01-17 16:15:32,572 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb does not exist. Creating ...
2024-01-17 16:15:32,572 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb
2024-01-17 16:15:32,572 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:32,573 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current
2024-01-17 16:15:32,573 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/sm
2024-01-17 16:15:32,573 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4f3678b6
2024-01-17 16:15:32,574 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:32,574 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb has been successfully formatted.
2024-01-17 16:15:32,574 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:32,574 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:32,574 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:32,574 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:32,574 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:32,574 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:32,575 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:32,575 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:32,575 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:32,575 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:32,575 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-0B5AD8448EBB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:32,575 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-0B5AD8448EBB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb
2024-01-17 16:15:32,575 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:32,575 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:32,575 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:32,576 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:32,576 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:32,576 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:32,576 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:32,576 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:32,576 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:32,577 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:32,577 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:32,577 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:32,577 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:32,577 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-0B5AD8448EBB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:32,577 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-0B5AD8448EBB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:32,578 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-0B5AD8448EBB: start as a follower, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:32,578 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-0B5AD8448EBB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:32,578 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:32,578 [s1@group-0B5AD8448EBB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:32,578 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0B5AD8448EBB,id=s1
2024-01-17 16:15:32,579 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-0B5AD8448EBB,id=s1
2024-01-17 16:15:32,579 [s1@group-0B5AD8448EBB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:32,579 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:32,579 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:32,579 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:32,579 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:32,579 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:15:32,580 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:15:32,580 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:32,580 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:32,580 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2] (custom)
2024-01-17 16:15:32,580 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb does not exist. Creating ...
2024-01-17 16:15:32,581 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb
2024-01-17 16:15:32,581 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:32,581 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current
2024-01-17 16:15:32,581 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/sm
2024-01-17 16:15:32,581 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@11c6b0b7
2024-01-17 16:15:32,582 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:32,582 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb has been successfully formatted.
2024-01-17 16:15:32,582 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:32,582 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:32,583 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:32,583 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:32,583 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:32,583 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:32,583 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:32,583 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:32,583 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:32,583 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:32,583 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-0B5AD8448EBB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:32,584 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-0B5AD8448EBB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb
2024-01-17 16:15:32,584 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:32,584 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:32,584 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:32,584 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:32,584 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:32,584 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:32,584 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:32,584 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:32,584 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:32,585 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:32,585 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:32,585 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:32,585 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:32,586 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-0B5AD8448EBB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:32,586 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-0B5AD8448EBB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:32,586 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-0B5AD8448EBB: start as a follower, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:32,586 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-0B5AD8448EBB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:32,586 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:32,586 [s2@group-0B5AD8448EBB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:32,586 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0B5AD8448EBB,id=s2
2024-01-17 16:15:32,586 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-0B5AD8448EBB,id=s2
2024-01-17 16:15:32,586 [s2@group-0B5AD8448EBB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:32,586 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:32,586 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:32,586 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:32,586 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:32,587 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:15:32,587 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:15:32,587 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:32,587 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:32,588 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0B5AD8448EBB:t0, leader=null, voted=, raftlog=Memoized:s0@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0B5AD8448EBB:t0, leader=null, voted=, raftlog=Memoized:s1@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0B5AD8448EBB:t0, leader=null, voted=, raftlog=Memoized:s2@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null RUNNING
2024-01-17 16:15:32,588 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0B5AD8448EBB:t0, leader=null, voted=, raftlog=Memoized:s0@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0B5AD8448EBB:t0, leader=null, voted=, raftlog=Memoized:s1@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0B5AD8448EBB:t0, leader=null, voted=, raftlog=Memoized:s2@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null RUNNING
2024-01-17 16:15:32,745 [s2@group-0B5AD8448EBB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-0B5AD8448EBB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:159526017ns, electionTimeout:159ms
2024-01-17 16:15:32,746 [s2@group-0B5AD8448EBB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:32,746 [s2@group-0B5AD8448EBB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-0B5AD8448EBB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:15:32,746 [s2@group-0B5AD8448EBB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:32,746 [s2@group-0B5AD8448EBB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-0B5AD8448EBB-LeaderElection7
2024-01-17 16:15:32,747 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-0B5AD8448EBB-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:32,747 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:32,747 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:32,747 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-0B5AD8448EBB: receive requestVote(PRE_VOTE, s2, group-0B5AD8448EBB, 0, (t:0, i:0))
2024-01-17 16:15:32,748 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0B5AD8448EBB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:32,748 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-0B5AD8448EBB replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-0B5AD8448EBB:t0, leader=null, voted=, raftlog=Memoized:s1@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:32,747 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-0B5AD8448EBB: receive requestVote(PRE_VOTE, s2, group-0B5AD8448EBB, 0, (t:0, i:0))
2024-01-17 16:15:32,748 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0B5AD8448EBB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:32,748 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-0B5AD8448EBB-LeaderElection7: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:32,748 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-0B5AD8448EBB replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-0B5AD8448EBB:t0, leader=null, voted=, raftlog=Memoized:s0@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:32,748 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2024-01-17 16:15:32,748 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-0B5AD8448EBB-LeaderElection7 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:32,748 [s2@group-0B5AD8448EBB-LeaderElection7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5d892b98
2024-01-17 16:15:32,749 [s2@group-0B5AD8448EBB-LeaderElection7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:32,749 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-0B5AD8448EBB-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:32,750 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:32,750 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:32,750 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-0B5AD8448EBB: receive requestVote(ELECTION, s2, group-0B5AD8448EBB, 1, (t:0, i:0))
2024-01-17 16:15:32,750 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0B5AD8448EBB-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:32,750 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-0B5AD8448EBB: receive requestVote(ELECTION, s2, group-0B5AD8448EBB, 1, (t:0, i:0))
2024-01-17 16:15:32,750 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-0B5AD8448EBB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:15:32,750 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:32,750 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0B5AD8448EBB-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:32,750 [s0@group-0B5AD8448EBB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0B5AD8448EBB-FollowerState was interrupted
2024-01-17 16:15:32,750 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-0B5AD8448EBB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:15:32,751 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:32,751 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:32,751 [s1@group-0B5AD8448EBB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0B5AD8448EBB-FollowerState was interrupted
2024-01-17 16:15:32,751 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-0B5AD8448EBB: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:15:32,751 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:32,751 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-0B5AD8448EBB: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:15:32,751 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2710684d
2024-01-17 16:15:32,751 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@9d77a
2024-01-17 16:15:32,752 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:32,752 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-0B5AD8448EBB replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-0B5AD8448EBB:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:32,752 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-0B5AD8448EBB-LeaderElection7: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:32,752 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:32,752 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2024-01-17 16:15:32,752 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-0B5AD8448EBB replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-0B5AD8448EBB:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:32,752 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-0B5AD8448EBB-LeaderElection7 ELECTION round 0: result PASSED
2024-01-17 16:15:32,753 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-0B5AD8448EBB-LeaderElection7
2024-01-17 16:15:32,753 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-0B5AD8448EBB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:15:32,753 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:32,753 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:32,753 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:32,753 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:32,753 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:32,753 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:32,753 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:32,754 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:32,754 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:32,754 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:32,754 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:32,754 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:32,754 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:32,755 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:32,755 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:32,755 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:32,755 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:32,755 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:32,755 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:32,755 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-0B5AD8448EBB-LeaderStateImpl
2024-01-17 16:15:32,755 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-0B5AD8448EBB: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:15:32,756 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-0B5AD8448EBB: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 194ms
2024-01-17 16:15:32,756 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-0B5AD8448EBB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:32,756 [s2@group-0B5AD8448EBB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:32,757 [s2@group-0B5AD8448EBB-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-0B5AD8448EBB: set configuration 0: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:32,759 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-0B5AD8448EBB: change Leader from null to s2 at term 1 for appendEntries, leader elected after 199ms
2024-01-17 16:15:32,760 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-0B5AD8448EBB: change Leader from null to s2 at term 1 for appendEntries, leader elected after 202ms
2024-01-17 16:15:32,762 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-0B5AD8448EBB: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:265, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15056"
dataStreamAddress: "localhost:15059"
clientAddress: "localhost:15058"
adminAddress: "localhost:15057"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15060"
dataStreamAddress: "localhost:15063"
clientAddress: "localhost:15062"
adminAddress: "localhost:15061"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15064"
dataStreamAddress: "localhost:15067"
clientAddress: "localhost:15066"
adminAddress: "localhost:15065"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:32,762 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-0B5AD8448EBB: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:266, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15056"
dataStreamAddress: "localhost:15059"
clientAddress: "localhost:15058"
adminAddress: "localhost:15057"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15060"
dataStreamAddress: "localhost:15063"
clientAddress: "localhost:15062"
adminAddress: "localhost:15061"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15064"
dataStreamAddress: "localhost:15067"
clientAddress: "localhost:15066"
adminAddress: "localhost:15065"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:32,762 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-0B5AD8448EBB: set configuration 0: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:32,762 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-0B5AD8448EBB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:32,763 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-0B5AD8448EBB: set configuration 0: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:32,763 [s1@group-0B5AD8448EBB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:32,763 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-0B5AD8448EBB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:32,764 [s0@group-0B5AD8448EBB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:32,766 [s2@group-0B5AD8448EBB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-0B5AD8448EBB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_inprogress_0
2024-01-17 16:15:32,773 [s0@group-0B5AD8448EBB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-0B5AD8448EBB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_inprogress_0
2024-01-17 16:15:32,774 [s1@group-0B5AD8448EBB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-0B5AD8448EBB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_inprogress_0
2024-01-17 16:15:32,774 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-0B5AD8448EBB: succeeded to handle AppendEntries. Reply: s2<-s1#265:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:32,774 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-0B5AD8448EBB: succeeded to handle AppendEntries. Reply: s2<-s0#266:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:32,775 [s2@group-0B5AD8448EBB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@285e168a
2024-01-17 16:15:32,776 [s2@group-0B5AD8448EBB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s2/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:32,776 [s2@group-0B5AD8448EBB-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:15:32,851 [s0@group-0B5AD8448EBB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@32ddebdc
2024-01-17 16:15:32,851 [s1@group-0B5AD8448EBB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@149af03c
2024-01-17 16:15:32,852 [s1@group-0B5AD8448EBB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:32,853 [s0@group-0B5AD8448EBB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:33,039 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0B5AD8448EBB:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0B5AD8448EBB:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0B5AD8448EBB:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null RUNNING
2024-01-17 16:15:33,209 [s1@group-0B5AD8448EBB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-0B5AD8448EBB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205069140ns, electionTimeout:204ms
2024-01-17 16:15:33,209 [s1@group-0B5AD8448EBB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:33,209 [s1@group-0B5AD8448EBB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-0B5AD8448EBB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:33,209 [s1@group-0B5AD8448EBB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:33,209 [s1@group-0B5AD8448EBB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-0B5AD8448EBB-LeaderElection8
2024-01-17 16:15:33,209 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-0B5AD8448EBB: change Leader from s2 to null at term 1 for PRE_VOTE
2024-01-17 16:15:33,210 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-0B5AD8448EBB-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:33,210 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-0B5AD8448EBB: receive requestVote(PRE_VOTE, s1, group-0B5AD8448EBB, 1, (t:1, i:0))
2024-01-17 16:15:33,210 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2024-01-17 16:15:33,210 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0B5AD8448EBB-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:33,210 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-0B5AD8448EBB replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-0B5AD8448EBB:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:33,211 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-0B5AD8448EBB-LeaderElection8: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:33,211 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2024-01-17 16:15:33,211 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-0B5AD8448EBB-LeaderElection8 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:33,211 [s1@group-0B5AD8448EBB-LeaderElection8] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@662184ac
2024-01-17 16:15:33,212 [s1@group-0B5AD8448EBB-LeaderElection8] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:33,212 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-0B5AD8448EBB-LeaderElection8 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:33,212 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-0B5AD8448EBB: receive requestVote(ELECTION, s1, group-0B5AD8448EBB, 2, (t:1, i:0))
2024-01-17 16:15:33,213 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0B5AD8448EBB-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:33,213 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2024-01-17 16:15:33,213 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-0B5AD8448EBB: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-01-17 16:15:33,213 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-0B5AD8448EBB: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2024-01-17 16:15:33,213 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:33,213 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:33,213 [s0@group-0B5AD8448EBB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0B5AD8448EBB-FollowerState was interrupted
2024-01-17 16:15:33,213 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6e077cd
2024-01-17 16:15:33,214 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:33,214 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-0B5AD8448EBB replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-0B5AD8448EBB:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:33,214 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-0B5AD8448EBB-LeaderElection8: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:33,214 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t2
2024-01-17 16:15:33,214 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-0B5AD8448EBB-LeaderElection8 ELECTION round 0: result PASSED
2024-01-17 16:15:33,214 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-0B5AD8448EBB-LeaderElection8
2024-01-17 16:15:33,214 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-0B5AD8448EBB: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-01-17 16:15:33,215 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:33,215 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:33,215 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:33,215 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:33,215 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:33,215 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:33,215 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:33,215 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:33,215 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:33,215 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:33,215 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:33,216 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:33,216 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:33,216 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:33,216 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:33,216 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:33,216 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:33,216 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:33,216 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:33,216 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-0B5AD8448EBB-LeaderStateImpl
2024-01-17 16:15:33,216 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-0B5AD8448EBB: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 6ms
2024-01-17 16:15:33,216 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-0B5AD8448EBB-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:15:33,217 [s1@group-0B5AD8448EBB-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-0B5AD8448EBB: set configuration 1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:33,217 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-0B5AD8448EBB: change Leader from null to s1 at term 2 for appendEntries, leader elected after 4ms
2024-01-17 16:15:33,217 [s1@group-0B5AD8448EBB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_0-0
2024-01-17 16:15:33,217 [s1@group-0B5AD8448EBB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-0B5AD8448EBB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_0-0
2024-01-17 16:15:33,217 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2024-01-17 16:15:33,218 [s1@group-0B5AD8448EBB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:15:33,219 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-0B5AD8448EBB: receive appendEntries(s1, 2, (t:1, i:0), 0, false, commits:[s1:c0, s0:c0, s2:c0], cId:287, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15056"
dataStreamAddress: "localhost:15059"
clientAddress: "localhost:15058"
adminAddress: "localhost:15057"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15060"
dataStreamAddress: "localhost:15063"
clientAddress: "localhost:15062"
adminAddress: "localhost:15061"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15064"
dataStreamAddress: "localhost:15067"
clientAddress: "localhost:15066"
adminAddress: "localhost:15065"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:33,219 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-0B5AD8448EBB: set configuration 1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:33,219 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-0B5AD8448EBB-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:15:33,220 [s0@group-0B5AD8448EBB-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_0-0
2024-01-17 16:15:33,220 [s0@group-0B5AD8448EBB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-0B5AD8448EBB-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_0-0
2024-01-17 16:15:33,220 [s0@group-0B5AD8448EBB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:15:33,228 [s1@group-0B5AD8448EBB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-0B5AD8448EBB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_inprogress_1
2024-01-17 16:15:33,229 [s0@group-0B5AD8448EBB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-0B5AD8448EBB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/log_inprogress_1
2024-01-17 16:15:33,229 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-0B5AD8448EBB: succeeded to handle AppendEntries. Reply: s1<-s0#287:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:33,230 [s1@group-0B5AD8448EBB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1a5d0cdf
2024-01-17 16:15:33,230 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-0B5AD8448EBB: receive appendEntries(s1, 2, (t:2, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c0], cId:288, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:33,231 [s1@group-0B5AD8448EBB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s1/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:33,231 [s1@group-0B5AD8448EBB-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 1 >= startIndex == 1
2024-01-17 16:15:33,232 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-0B5AD8448EBB: succeeded to handle AppendEntries. Reply: s1<-s0#288:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:33,232 [s0@group-0B5AD8448EBB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3c1a03f7
2024-01-17 16:15:33,233 [s0@group-0B5AD8448EBB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce5f5e4b2/s0/f9d3e7a9-1d01-413c-a995-0b5ad8448ebb/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:33,376 [s2@group-0B5AD8448EBB-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1114)) - s2@group-0B5AD8448EBB-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 622ms. Conf: 0: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null
2024-01-17 16:15:33,376 [s2@group-0B5AD8448EBB-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s2@group-0B5AD8448EBB->s0(c0,m0,n1, caughtUp=true, lastRpcSendTime=297, lastRpcResponseTime=372)
2024-01-17 16:15:33,376 [s2@group-0B5AD8448EBB-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s2@group-0B5AD8448EBB->s1(c0,m0,n1, caughtUp=true, lastRpcSendTime=297, lastRpcResponseTime=372)
2024-01-17 16:15:33,376 [s2@group-0B5AD8448EBB-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-0B5AD8448EBB: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:15:33,376 [s2@group-0B5AD8448EBB-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-0B5AD8448EBB-LeaderStateImpl
2024-01-17 16:15:33,377 [s2@group-0B5AD8448EBB->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-0B5AD8448EBB->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:15:33,377 [s2@group-0B5AD8448EBB->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-0B5AD8448EBB->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:15:33,377 [s2@group-0B5AD8448EBB-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-0B5AD8448EBB-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:33,377 [s2@group-0B5AD8448EBB-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-0B5AD8448EBB: change Leader from s2 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:15:33,377 [s2@group-0B5AD8448EBB-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:33,593 [s2@group-0B5AD8448EBB-FollowerState] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(108)) - s2@group-0B5AD8448EBB-FollowerState: Skipping leader election since it stepped down recently (elapsed = 215ms < waitTime = 10s)
2024-01-17 16:15:33,642 [Time-limited test] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(108)) - s2@group-0B5AD8448EBB-FollowerState: Skipping leader election since it stepped down recently (elapsed = 265ms < waitTime = 10s)
2024-01-17 16:15:33,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:33,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:33,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:33,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:33,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:33,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0B5AD8448EBB:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-0B5AD8448EBB:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0B5AD8448EBB:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-0B5AD8448EBB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15056, s1|localhost:15060, s2|localhost:15064]|listeners:[], old=null RUNNING
2024-01-17 16:15:33,643 [MiniRaftCluster-24] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:15:33,643 [MiniRaftCluster-25] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:15:33,644 [MiniRaftCluster-26] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:15:33,644 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-0B5AD8448EBB: shutdown
2024-01-17 16:15:33,644 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,644 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0B5AD8448EBB,id=s0
2024-01-17 16:15:33,644 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:33,644 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,644 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,644 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-0B5AD8448EBB: shutdown
2024-01-17 16:15:33,645 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0B5AD8448EBB,id=s1
2024-01-17 16:15:33,644 [s0@group-0B5AD8448EBB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0B5AD8448EBB-FollowerState was interrupted
2024-01-17 16:15:33,644 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-0B5AD8448EBB-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:15:33,644 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,644 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,644 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,646 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,645 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-0B5AD8448EBB: applyIndex: 2
2024-01-17 16:15:33,645 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s1: shutdown s1@group-0B5AD8448EBB-LeaderStateImpl
2024-01-17 16:15:33,646 [s0@group-0B5AD8448EBB-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-0B5AD8448EBB-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:33,646 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,646 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,645 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,645 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,645 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,646 [s1@group-0B5AD8448EBB->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-0B5AD8448EBB->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:33,647 [s1@group-0B5AD8448EBB->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s1@group-0B5AD8448EBB->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:15:33,647 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2024-01-17 16:15:33,647 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2024-01-17 16:15:33,647 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-0B5AD8448EBB: receive requestVote(PRE_VOTE, s1, group-0B5AD8448EBB, 1, (t:1, i:0))
2024-01-17 16:15:33,644 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-0B5AD8448EBB: shutdown
2024-01-17 16:15:33,647 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2024-01-17 16:15:33,647 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-0B5AD8448EBB: receive requestVote(ELECTION, s1, group-0B5AD8448EBB, 2, (t:1, i:0))
2024-01-17 16:15:33,647 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,646 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,646 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:33,648 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-0B5AD8448EBB-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:33,647 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0B5AD8448EBB,id=s2
2024-01-17 16:15:33,648 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-0B5AD8448EBB-FollowerState
2024-01-17 16:15:33,648 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-0B5AD8448EBB-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:33,648 [s2@group-0B5AD8448EBB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0B5AD8448EBB-FollowerState was interrupted
2024-01-17 16:15:33,649 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-0B5AD8448EBB: applyIndex: 0
2024-01-17 16:15:33,649 [s2@group-0B5AD8448EBB-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-0B5AD8448EBB-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:33,649 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-0B5AD8448EBB-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:15:33,649 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-0B5AD8448EBB: applyIndex: 2
2024-01-17 16:15:33,649 [s1@group-0B5AD8448EBB-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-0B5AD8448EBB-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:33,768 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-0B5AD8448EBB-SegmentedRaftLogWorker close()
2024-01-17 16:15:33,769 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:15:34,231 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-0B5AD8448EBB-SegmentedRaftLogWorker close()
2024-01-17 16:15:34,232 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:15:34,232 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-0B5AD8448EBB-SegmentedRaftLogWorker close()
2024-01-17 16:15:34,233 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:15:34,233 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testLateServerStart" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="3.488">
    <system-out><![CDATA[2024-01-17 16:15:34,234 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:15:34,234 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:15:34,234 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:15:34,234 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:15:34,234 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(332)) - Running testLateServerStart
2024-01-17 16:15:34,234 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:15:34,235 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-5532529327FB:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]
2024-01-17 16:15:34,235 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:15:34,235 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-5532529327FB:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076], format? true
2024-01-17 16:15:34,235 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0
2024-01-17 16:15:34,235 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0 does not exist.
2024-01-17 16:15:34,235 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0
2024-01-17 16:15:34,235 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:34,236 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:34,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:34,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:34,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:34,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0] (custom)
2024-01-17 16:15:34,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:34,236 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:34,237 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-5532529327FB:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076] returns group-5532529327FB:java.util.concurrent.CompletableFuture@275c05a7[Not completed]
2024-01-17 16:15:34,237 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-5532529327FB:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076] with BaseStateMachine:uninitialized
2024-01-17 16:15:34,237 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-5532529327FB:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076], format? true
2024-01-17 16:15:34,237 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1
2024-01-17 16:15:34,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:34,237 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1 does not exist.
2024-01-17 16:15:34,237 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1
2024-01-17 16:15:34,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:34,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:34,237 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:34,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:34,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:34,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:34,237 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:34,237 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:34,237 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:34,238 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-5532529327FB: ConfigurationManager, init=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:34,238 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:34,238 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:34,238 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:34,238 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:34,238 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:34,238 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1] (custom)
2024-01-17 16:15:34,238 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:34,238 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:34,238 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:34,238 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:34,238 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:34,239 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-5532529327FB:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076] returns group-5532529327FB:java.util.concurrent.CompletableFuture@53f65cec[Not completed]
2024-01-17 16:15:34,239 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-5532529327FB:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076] with BaseStateMachine:uninitialized
2024-01-17 16:15:34,239 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-5532529327FB:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076], format? true
2024-01-17 16:15:34,239 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2
2024-01-17 16:15:34,239 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:34,239 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2 does not exist.
2024-01-17 16:15:34,239 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2
2024-01-17 16:15:34,239 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:34,239 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:34,239 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:34,239 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:34,240 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:34,240 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:34,240 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:34,240 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:34,240 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:34,240 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:34,240 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2] (custom)
2024-01-17 16:15:34,240 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:34,240 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:34,240 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-5532529327FB:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076] returns group-5532529327FB:java.util.concurrent.CompletableFuture@7a304edc[Not completed]
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-5532529327FB:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076] with BaseStateMachine:uninitialized
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-5532529327FB: ConfigurationManager, init=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:34,241 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:34,242 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:34,242 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:34,242 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:34,242 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:34,242 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:34,242 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:34,239 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:34,240 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:34,243 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:34,243 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:34,243 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:34,243 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:34,244 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:34,244 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-5532529327FB: ConfigurationManager, init=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:34,244 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:34,244 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:34,244 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:34,244 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:34,244 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:34,244 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:34,245 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:34,245 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:34,245 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:34,245 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:34,245 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:34,245 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:34,245 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:34,245 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:34,245 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0] (custom)
2024-01-17 16:15:34,245 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb does not exist. Creating ...
2024-01-17 16:15:34,245 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb
2024-01-17 16:15:34,246 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:34,246 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current
2024-01-17 16:15:34,246 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/sm
2024-01-17 16:15:34,246 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4613ea7b
2024-01-17 16:15:34,247 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:34,247 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb has been successfully formatted.
2024-01-17 16:15:34,247 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:34,247 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-5532529327FB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-5532529327FB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:34,248 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:34,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:34,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:34,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:34,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:34,249 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:34,250 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:34,251 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:34,251 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:34,251 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:34,251 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5532529327FB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:34,251 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5532529327FB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:34,251 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-5532529327FB: start as a follower, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:34,251 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-5532529327FB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:34,251 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-5532529327FB-FollowerState
2024-01-17 16:15:34,251 [s0@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:34,251 [s0@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:34,251 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5532529327FB,id=s0
2024-01-17 16:15:34,251 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-5532529327FB,id=s0
2024-01-17 16:15:34,252 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:34,252 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:34,252 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:34,252 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:34,252 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:15:34,253 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:15:34,253 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:34,253 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:34,253 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1] (custom)
2024-01-17 16:15:34,253 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb does not exist. Creating ...
2024-01-17 16:15:34,254 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb
2024-01-17 16:15:34,254 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:34,254 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current
2024-01-17 16:15:34,254 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/sm
2024-01-17 16:15:34,255 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6597aa5e
2024-01-17 16:15:34,255 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:34,255 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb has been successfully formatted.
2024-01-17 16:15:34,256 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:34,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:34,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:34,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:34,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:34,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:34,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:34,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-5532529327FB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-5532529327FB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:34,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:34,259 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:34,259 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:34,259 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:34,259 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:34,259 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5532529327FB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:34,259 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5532529327FB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:34,259 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-5532529327FB: start as a follower, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:34,259 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:34,259 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-FollowerState
2024-01-17 16:15:34,259 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:34,259 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5532529327FB,id=s1
2024-01-17 16:15:34,260 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-5532529327FB,id=s1
2024-01-17 16:15:34,260 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:34,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:34,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:34,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:34,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:34,260 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:15:34,260 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:15:34,260 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:34,261 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5532529327FB:t0, leader=null, voted=, raftlog=Memoized:s0@group-5532529327FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5532529327FB:t0, leader=null, voted=, raftlog=Memoized:s1@group-5532529327FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-5532529327FB:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null NEW
2024-01-17 16:15:34,261 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5532529327FB:t0, leader=null, voted=, raftlog=Memoized:s0@group-5532529327FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5532529327FB:t0, leader=null, voted=, raftlog=Memoized:s1@group-5532529327FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-5532529327FB:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null NEW
2024-01-17 16:15:34,407 [s0@group-5532529327FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5532529327FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:155425504ns, electionTimeout:155ms
2024-01-17 16:15:34,407 [s0@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-5532529327FB-FollowerState
2024-01-17 16:15:34,407 [s0@group-5532529327FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-5532529327FB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:15:34,407 [s0@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:34,407 [s0@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-5532529327FB-LeaderElection9
2024-01-17 16:15:34,408 [s0@group-5532529327FB-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-5532529327FB-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:34,408 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:34,408 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-5532529327FB: receive requestVote(PRE_VOTE, s0, group-5532529327FB, 0, (t:0, i:0))
2024-01-17 16:15:34,408 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:34,408 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5532529327FB-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:34,408 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-5532529327FB replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-5532529327FB:t0, leader=null, voted=, raftlog=Memoized:s1@group-5532529327FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:34,408 [s0@group-5532529327FB-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5532529327FB-LeaderElection9: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:34,409 [s0@group-5532529327FB-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2024-01-17 16:15:34,409 [s0@group-5532529327FB-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-5532529327FB-LeaderElection9 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:34,409 [s0@group-5532529327FB-LeaderElection9] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2d68700b
2024-01-17 16:15:34,410 [s0@group-5532529327FB-LeaderElection9] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:34,410 [s0@group-5532529327FB-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-5532529327FB-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:34,410 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:34,410 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-5532529327FB: receive requestVote(ELECTION, s0, group-5532529327FB, 1, (t:0, i:0))
2024-01-17 16:15:34,410 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:34,411 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5532529327FB-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:34,411 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:15:34,411 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-5532529327FB-FollowerState
2024-01-17 16:15:34,411 [s1@group-5532529327FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5532529327FB-FollowerState was interrupted
2024-01-17 16:15:34,411 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-FollowerState
2024-01-17 16:15:34,411 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-5532529327FB: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:15:34,411 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@292d79f7
2024-01-17 16:15:34,412 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:34,412 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-5532529327FB replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-5532529327FB:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-5532529327FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:34,412 [s0@group-5532529327FB-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5532529327FB-LeaderElection9: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:34,412 [s0@group-5532529327FB-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2024-01-17 16:15:34,412 [s0@group-5532529327FB-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-5532529327FB-LeaderElection9 ELECTION round 0: result PASSED
2024-01-17 16:15:34,412 [s0@group-5532529327FB-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-5532529327FB-LeaderElection9
2024-01-17 16:15:34,412 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-5532529327FB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:15:34,412 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:34,413 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:34,414 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:34,414 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:34,414 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:34,414 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:34,414 [s0@group-5532529327FB-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-5532529327FB-LeaderStateImpl
2024-01-17 16:15:34,414 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-5532529327FB: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:15:34,414 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-5532529327FB: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 176ms
2024-01-17 16:15:34,414 [s0@group-5532529327FB-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-5532529327FB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:34,414 [s0@group-5532529327FB-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-5532529327FB: set configuration 0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:34,415 [s0@group-5532529327FB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:34,415 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-5532529327FB: change Leader from null to s0 at term 1 for appendEntries, leader elected after 171ms
2024-01-17 16:15:34,416 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-5532529327FB: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:303, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15068"
dataStreamAddress: "localhost:15071"
clientAddress: "localhost:15070"
adminAddress: "localhost:15069"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15072"
dataStreamAddress: "localhost:15075"
clientAddress: "localhost:15074"
adminAddress: "localhost:15073"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15076"
dataStreamAddress: "localhost:15079"
clientAddress: "localhost:15078"
adminAddress: "localhost:15077"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:34,416 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-5532529327FB: set configuration 0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:34,416 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-5532529327FB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:34,417 [s1@group-5532529327FB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:34,426 [s0@group-5532529327FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-5532529327FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/log_inprogress_0
2024-01-17 16:15:34,426 [s1@group-5532529327FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-5532529327FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/log_inprogress_0
2024-01-17 16:15:34,426 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-5532529327FB: succeeded to handle AppendEntries. Reply: s0<-s1#303:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:34,427 [s0@group-5532529327FB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@60305f41
2024-01-17 16:15:34,428 [s0@group-5532529327FB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s0/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:34,428 [s0@group-5532529327FB-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:15:34,503 [s1@group-5532529327FB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6c7e2c16
2024-01-17 16:15:34,504 [s1@group-5532529327FB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s1/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:34,711 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5532529327FB:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5532529327FB:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null RUNNING
  s2:      NEW      null s2@group-5532529327FB:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null NEW
2024-01-17 16:15:34,712 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(344)) - sleep 3s
2024-01-17 16:15:37,415 [s0@group-5532529327FB->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(90)) - s0@group-5532529327FB->s2-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@79a09aff
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:79)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:156)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:37,712 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:37,712 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:37,712 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2] (custom)
2024-01-17 16:15:37,713 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb does not exist. Creating ...
2024-01-17 16:15:37,713 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb
2024-01-17 16:15:37,714 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:37,714 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current
2024-01-17 16:15:37,714 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/sm
2024-01-17 16:15:37,714 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@154f544d
2024-01-17 16:15:37,715 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:37,715 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb has been successfully formatted.
2024-01-17 16:15:37,715 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:37,715 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-5532529327FB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-5532529327FB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:37,716 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:37,717 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:37,717 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:37,717 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:37,717 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:37,717 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:37,717 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:37,718 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,718 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:37,718 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:37,718 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:37,719 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5532529327FB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:37,719 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5532529327FB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:37,719 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-5532529327FB: start as a follower, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:37,719 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-5532529327FB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:37,719 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-5532529327FB-FollowerState
2024-01-17 16:15:37,719 [s2@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:37,719 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5532529327FB,id=s2
2024-01-17 16:15:37,719 [s2@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:37,719 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-5532529327FB,id=s2
2024-01-17 16:15:37,719 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:37,719 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:37,719 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:37,719 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:37,720 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:15:37,720 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-5532529327FB: receive requestVote(PRE_VOTE, s0, group-5532529327FB, 0, (t:0, i:0))
2024-01-17 16:15:37,720 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-5532529327FB: receive requestVote(ELECTION, s0, group-5532529327FB, 1, (t:0, i:0))
2024-01-17 16:15:37,720 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@33096611
2024-01-17 16:15:37,721 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:15:37,721 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:37,721 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-5532529327FB: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:15:37,721 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-5532529327FB: change Leader from null to s0 at term 1 for appendEntries, leader elected after 3480ms
2024-01-17 16:15:37,721 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5532529327FB-FOLLOWER: reject ELECTION from s0: this server is a follower and still has a valid leader s0
2024-01-17 16:15:37,722 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-5532529327FB replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-5532529327FB:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-5532529327FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:37,722 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5532529327FB-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s0
2024-01-17 16:15:37,722 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-5532529327FB replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-5532529327FB:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-5532529327FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:37,722 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(354)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5532529327FB:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5532529327FB:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5532529327FB:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-5532529327FB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null RUNNING
]]></system-out>
  </testcase>
  <testcase name="testListenerNotStartLeaderElection" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="1.28">
    <system-out><![CDATA[2024-01-17 16:15:37,723 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:15:37,723 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:15:37,723 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:15:37,723 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:15:37,724 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-5532529327FB: receive appendEntries(s0, 1, null, 0, false, commits:[s0:c0, s1:c0, s2:c-1], cId:391, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15068"
dataStreamAddress: "localhost:15071"
clientAddress: "localhost:15070"
adminAddress: "localhost:15069"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15072"
dataStreamAddress: "localhost:15075"
clientAddress: "localhost:15074"
adminAddress: "localhost:15073"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15076"
dataStreamAddress: "localhost:15079"
clientAddress: "localhost:15078"
adminAddress: "localhost:15077"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:37,724 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-5532529327FB: set configuration 0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:37,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(134)) - Running runWithNewCluster
2024-01-17 16:15:37,724 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-5532529327FB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:37,724 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:15:37,725 [s2@group-5532529327FB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:37,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]
2024-01-17 16:15:37,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:15:37,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:15:37,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:37,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:15:37,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:15:37,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:15:37,726 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s3, group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088], format? true
2024-01-17 16:15:37,726 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3
2024-01-17 16:15:37,726 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3 does not exist.
2024-01-17 16:15:37,726 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3
2024-01-17 16:15:37,726 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:37,726 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:37,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:37,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:37,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:37,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3] (custom)
2024-01-17 16:15:37,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:37,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:37,727 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088] returns group-6AE14FEED7BA:java.util.concurrent.CompletableFuture@22480911[Not completed]
2024-01-17 16:15:37,727 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s3: new RaftServerImpl for group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088] with BaseStateMachine:uninitialized
2024-01-17 16:15:37,727 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s4, group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088], format? true
2024-01-17 16:15:37,727 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:37,727 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4
2024-01-17 16:15:37,727 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:37,728 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4 does not exist.
2024-01-17 16:15:37,728 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4
2024-01-17 16:15:37,728 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:37,728 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:37,728 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:37,728 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:37,728 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:37,728 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:37,728 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-6AE14FEED7BA: ConfigurationManager, init=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:37,728 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:37,728 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:37,728 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:37,728 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:37,728 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:37,728 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:37,728 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:37,728 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:37,728 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4] (custom)
2024-01-17 16:15:37,728 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:37,728 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:37,728 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:37,729 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:37,730 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:37,730 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:37,730 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:37,730 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:37,730 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:37,730 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:37,731 [s2@group-5532529327FB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-5532529327FB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/log_inprogress_0
2024-01-17 16:15:37,732 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088] returns group-6AE14FEED7BA:java.util.concurrent.CompletableFuture@200563ce[Not completed]
2024-01-17 16:15:37,732 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088], format? true
2024-01-17 16:15:37,732 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0
2024-01-17 16:15:37,732 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0 does not exist.
2024-01-17 16:15:37,732 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0
2024-01-17 16:15:37,732 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:37,732 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:37,732 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:37,732 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:37,733 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:37,733 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0] (custom)
2024-01-17 16:15:37,733 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:37,733 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:37,733 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-5532529327FB: succeeded to handle AppendEntries. Reply: s0<-s2#391:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2024-01-17 16:15:37,733 [s2@group-5532529327FB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7bb32fe4
2024-01-17 16:15:37,734 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088] returns group-6AE14FEED7BA:java.util.concurrent.CompletableFuture@3091826f[Not completed]
2024-01-17 16:15:37,734 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088] with BaseStateMachine:uninitialized
2024-01-17 16:15:37,734 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088], format? true
2024-01-17 16:15:37,734 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:37,734 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1
2024-01-17 16:15:37,734 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:37,734 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1 does not exist.
2024-01-17 16:15:37,734 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1
2024-01-17 16:15:37,734 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:37,734 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:37,734 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:37,734 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:37,735 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:37,735 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:37,735 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:37,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:37,735 [s2@group-5532529327FB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcc44c569c/s2/4b3fb5c4-3bd3-4670-baaa-5532529327fb/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:37,735 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-6AE14FEED7BA: ConfigurationManager, init=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:37,735 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s4: new RaftServerImpl for group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088] with BaseStateMachine:uninitialized
2024-01-17 16:15:37,735 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:37,735 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:37,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:37,735 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:37,735 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:37,735 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:37,735 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:37,735 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:37,736 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:37,736 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-6AE14FEED7BA: ConfigurationManager, init=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:37,736 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:37,736 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:37,736 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:37,736 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:37,736 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:37,735 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:37,736 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:37,736 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:37,735 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:37,736 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1] (custom)
2024-01-17 16:15:37,736 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:37,736 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:37,737 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:37,737 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:37,737 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:37,737 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:37,737 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:37,737 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:37,738 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:37,738 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:37,738 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:37,740 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:37,740 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:37,740 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:37,740 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:37,740 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:37,740 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:37,743 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088] returns group-6AE14FEED7BA:java.util.concurrent.CompletableFuture@644e4523[Not completed]
2024-01-17 16:15:37,743 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088] with BaseStateMachine:uninitialized
2024-01-17 16:15:37,744 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088], format? true
2024-01-17 16:15:37,744 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:37,744 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2
2024-01-17 16:15:37,744 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:37,744 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:37,744 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2 does not exist.
2024-01-17 16:15:37,744 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2
2024-01-17 16:15:37,744 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:37,744 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:37,744 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:37,744 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:37,744 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:37,744 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-6AE14FEED7BA: ConfigurationManager, init=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:37,744 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:37,744 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:37,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:37,745 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:37,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:37,745 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:37,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:37,745 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:37,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2] (custom)
2024-01-17 16:15:37,745 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:37,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:37,745 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:37,745 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:37,746 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088] returns group-6AE14FEED7BA:java.util.concurrent.CompletableFuture@63c23af9[Not completed]
2024-01-17 16:15:37,746 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-6AE14FEED7BA:[s3|localhost:15092, s4|localhost:15096, s0|localhost:15080, s1|localhost:15084, s2|localhost:15088] with BaseStateMachine:uninitialized
2024-01-17 16:15:37,746 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:37,746 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:37,746 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:37,747 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:37,746 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:37,747 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3] (custom)
2024-01-17 16:15:37,747 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:37,747 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:37,747 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:37,747 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba does not exist. Creating ...
2024-01-17 16:15:37,747 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:37,747 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:37,747 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:37,747 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:37,747 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:37,747 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:37,747 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba
2024-01-17 16:15:37,747 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:37,748 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-6AE14FEED7BA: ConfigurationManager, init=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:37,748 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:37,748 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:37,748 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:37,748 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:37,748 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:37,748 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current
2024-01-17 16:15:37,748 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/sm
2024-01-17 16:15:37,748 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5c97652c
2024-01-17 16:15:37,748 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:37,748 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:37,749 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:37,749 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba has been successfully formatted.
2024-01-17 16:15:37,749 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:37,749 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:37,749 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:37,749 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:37,749 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:37,750 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:37,750 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,750 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:37,750 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:37,750 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:37,750 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:37,750 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:37,750 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:37,750 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:37,750 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:37,750 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,750 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-6AE14FEED7BA-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:37,750 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s3@group-6AE14FEED7BA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba
2024-01-17 16:15:37,751 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:37,751 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:37,751 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:37,751 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:37,751 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:37,751 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:37,751 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:37,751 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:37,751 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:37,753 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,753 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:37,753 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:37,753 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:37,753 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-6AE14FEED7BA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:37,753 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-6AE14FEED7BA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:37,754 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(349)) - s3@group-6AE14FEED7BA: start as a listener, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,754 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-6AE14FEED7BA: changes role from      null to LISTENER at term 0 for startAsListener
2024-01-17 16:15:37,754 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:37,754 [s3@group-6AE14FEED7BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:37,754 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s3
2024-01-17 16:15:37,754 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s3
2024-01-17 16:15:37,754 [s3@group-6AE14FEED7BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:37,754 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:37,755 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:37,756 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:37,756 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:37,756 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s3: start RPC server
2024-01-17 16:15:37,758 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-01-17 16:15:37,758 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:37,759 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:37,759 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4] (custom)
2024-01-17 16:15:37,759 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba does not exist. Creating ...
2024-01-17 16:15:37,759 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba
2024-01-17 16:15:37,760 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:37,760 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current
2024-01-17 16:15:37,760 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/sm
2024-01-17 16:15:37,761 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1eb966bf
2024-01-17 16:15:37,761 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:37,761 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba has been successfully formatted.
2024-01-17 16:15:37,762 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:37,762 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:37,762 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:37,762 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,762 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:37,762 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:37,763 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:37,763 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:37,763 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:37,763 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,763 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-6AE14FEED7BA-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:37,763 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s4@group-6AE14FEED7BA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba
2024-01-17 16:15:37,763 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:37,763 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:37,763 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:37,764 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:37,764 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:37,764 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:37,764 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:37,764 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:37,764 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:37,765 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,766 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:37,766 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:37,766 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:37,766 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-6AE14FEED7BA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:37,766 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-6AE14FEED7BA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:37,766 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(349)) - s4@group-6AE14FEED7BA: start as a listener, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,766 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s4@group-6AE14FEED7BA: changes role from      null to LISTENER at term 0 for startAsListener
2024-01-17 16:15:37,766 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s4: start s4@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:37,766 [s4@group-6AE14FEED7BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:37,767 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s4
2024-01-17 16:15:37,767 [s4@group-6AE14FEED7BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:37,767 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s4
2024-01-17 16:15:37,767 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:37,767 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:37,767 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:37,767 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:37,767 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s4: start RPC server
2024-01-17 16:15:37,768 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-01-17 16:15:37,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:37,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:37,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0] (custom)
2024-01-17 16:15:37,768 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba does not exist. Creating ...
2024-01-17 16:15:37,769 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba
2024-01-17 16:15:37,769 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:37,769 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current
2024-01-17 16:15:37,769 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/sm
2024-01-17 16:15:37,769 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6992d9fa
2024-01-17 16:15:37,770 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:37,770 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba has been successfully formatted.
2024-01-17 16:15:37,770 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:37,770 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:37,770 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,771 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-6AE14FEED7BA-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:37,771 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-6AE14FEED7BA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba
2024-01-17 16:15:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:37,772 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:37,772 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:37,772 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:37,772 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:37,772 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:37,772 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:37,773 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-6AE14FEED7BA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:37,774 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-6AE14FEED7BA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:37,774 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-6AE14FEED7BA: start as a follower, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,774 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-6AE14FEED7BA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:37,774 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:37,774 [s0@group-6AE14FEED7BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:37,774 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s0
2024-01-17 16:15:37,774 [s0@group-6AE14FEED7BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:37,774 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s0
2024-01-17 16:15:37,774 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:37,774 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:37,774 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:37,774 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:37,775 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:15:37,775 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:15:37,775 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:37,775 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:37,776 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1] (custom)
2024-01-17 16:15:37,776 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba does not exist. Creating ...
2024-01-17 16:15:37,776 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba
2024-01-17 16:15:37,777 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:37,777 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current
2024-01-17 16:15:37,777 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/sm
2024-01-17 16:15:37,777 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2d49531f
2024-01-17 16:15:37,777 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:37,777 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba has been successfully formatted.
2024-01-17 16:15:37,778 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:37,778 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:37,778 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:37,778 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,778 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:37,778 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:37,778 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:37,778 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:37,778 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:37,778 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,778 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-6AE14FEED7BA-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:37,779 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-6AE14FEED7BA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba
2024-01-17 16:15:37,779 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:37,779 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:37,779 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:37,779 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:37,779 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:37,779 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:37,779 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:37,779 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:37,779 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:37,780 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,780 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:37,780 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:37,780 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:37,781 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-6AE14FEED7BA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:37,781 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-6AE14FEED7BA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:37,781 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-6AE14FEED7BA: start as a follower, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,781 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-6AE14FEED7BA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:37,781 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:37,781 [s1@group-6AE14FEED7BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:37,781 [s1@group-6AE14FEED7BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:37,781 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s1
2024-01-17 16:15:37,781 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s1
2024-01-17 16:15:37,781 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:37,781 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:37,781 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:37,781 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:37,782 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:15:37,782 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:15:37,782 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:37,783 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:37,783 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2] (custom)
2024-01-17 16:15:37,783 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba does not exist. Creating ...
2024-01-17 16:15:37,783 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba
2024-01-17 16:15:37,784 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:37,784 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current
2024-01-17 16:15:37,784 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/sm
2024-01-17 16:15:37,784 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@16f672f
2024-01-17 16:15:37,785 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:37,785 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba has been successfully formatted.
2024-01-17 16:15:37,785 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:37,785 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:37,785 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:37,785 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:37,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:37,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:37,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:37,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:37,786 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,786 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-6AE14FEED7BA-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:37,786 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-6AE14FEED7BA-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba
2024-01-17 16:15:37,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:37,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:37,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:37,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:37,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:37,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:37,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:37,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:37,787 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:37,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:37,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:37,788 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:37,788 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-6AE14FEED7BA-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:37,788 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-6AE14FEED7BA-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:37,789 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-6AE14FEED7BA: start as a follower, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,789 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-6AE14FEED7BA: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:37,789 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:37,789 [s2@group-6AE14FEED7BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:37,789 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s2
2024-01-17 16:15:37,789 [s2@group-6AE14FEED7BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:37,789 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s2
2024-01-17 16:15:37,789 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:37,789 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:37,789 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:37,789 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:37,789 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:15:37,793 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:15:37,793 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:37,793 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-6AE14FEED7BA:t0, leader=null, voted=, raftlog=Memoized:s3@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-6AE14FEED7BA:t0, leader=null, voted=, raftlog=Memoized:s4@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6AE14FEED7BA:t0, leader=null, voted=, raftlog=Memoized:s0@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6AE14FEED7BA:t0, leader=null, voted=, raftlog=Memoized:s1@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6AE14FEED7BA:t0, leader=null, voted=, raftlog=Memoized:s2@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
2024-01-17 16:15:37,794 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-6AE14FEED7BA:t0, leader=null, voted=, raftlog=Memoized:s3@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-6AE14FEED7BA:t0, leader=null, voted=, raftlog=Memoized:s4@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6AE14FEED7BA:t0, leader=null, voted=, raftlog=Memoized:s0@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-6AE14FEED7BA:t0, leader=null, voted=, raftlog=Memoized:s1@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6AE14FEED7BA:t0, leader=null, voted=, raftlog=Memoized:s2@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
2024-01-17 16:15:37,961 [s1@group-6AE14FEED7BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-6AE14FEED7BA-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180396880ns, electionTimeout:180ms
2024-01-17 16:15:37,962 [s1@group-6AE14FEED7BA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:37,962 [s1@group-6AE14FEED7BA-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-6AE14FEED7BA: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:15:37,962 [s1@group-6AE14FEED7BA-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:37,962 [s1@group-6AE14FEED7BA-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-6AE14FEED7BA-LeaderElection10
2024-01-17 16:15:37,963 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-6AE14FEED7BA-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,963 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:37,964 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:37,964 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-6AE14FEED7BA: receive requestVote(PRE_VOTE, s1, group-6AE14FEED7BA, 0, (t:0, i:0))
2024-01-17 16:15:37,964 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-6AE14FEED7BA: receive requestVote(PRE_VOTE, s1, group-6AE14FEED7BA, 0, (t:0, i:0))
2024-01-17 16:15:37,964 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-6AE14FEED7BA-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:37,964 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-6AE14FEED7BA-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:37,964 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-6AE14FEED7BA replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-6AE14FEED7BA:t0, leader=null, voted=, raftlog=Memoized:s2@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,964 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-6AE14FEED7BA replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-6AE14FEED7BA:t0, leader=null, voted=, raftlog=Memoized:s0@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,964 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-6AE14FEED7BA-LeaderElection10: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:37,964 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2024-01-17 16:15:37,964 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-6AE14FEED7BA-LeaderElection10 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:37,964 [s1@group-6AE14FEED7BA-LeaderElection10] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5b979eee
2024-01-17 16:15:37,965 [s1@group-6AE14FEED7BA-LeaderElection10] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:37,965 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-6AE14FEED7BA-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,966 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:37,966 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-6AE14FEED7BA: receive requestVote(ELECTION, s1, group-6AE14FEED7BA, 1, (t:0, i:0))
2024-01-17 16:15:37,966 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:37,966 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-6AE14FEED7BA-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:37,966 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-6AE14FEED7BA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-01-17 16:15:37,966 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:37,966 [s0@group-6AE14FEED7BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-6AE14FEED7BA-FollowerState was interrupted
2024-01-17 16:15:37,966 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:37,966 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-6AE14FEED7BA: receive requestVote(ELECTION, s1, group-6AE14FEED7BA, 1, (t:0, i:0))
2024-01-17 16:15:37,967 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-6AE14FEED7BA: set firstElectionSinceStartup to false for candidate:s1
2024-01-17 16:15:37,967 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-6AE14FEED7BA-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:37,967 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-6AE14FEED7BA: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-01-17 16:15:37,967 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:37,967 [s2@group-6AE14FEED7BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-6AE14FEED7BA-FollowerState was interrupted
2024-01-17 16:15:37,967 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@420d208e
2024-01-17 16:15:37,967 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:37,968 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-6AE14FEED7BA: set firstElectionSinceStartup to false for candidate:s1
2024-01-17 16:15:37,968 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@42bb65bf
2024-01-17 16:15:37,968 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:37,968 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-6AE14FEED7BA replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-6AE14FEED7BA:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,968 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:37,968 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-6AE14FEED7BA-LeaderElection10: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:37,969 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-6AE14FEED7BA replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-6AE14FEED7BA:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,969 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2024-01-17 16:15:37,969 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-6AE14FEED7BA-LeaderElection10 ELECTION round 0: result PASSED
2024-01-17 16:15:37,969 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-6AE14FEED7BA-LeaderElection10
2024-01-17 16:15:37,969 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-6AE14FEED7BA: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:15:37,969 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:37,969 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:37,969 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:37,969 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:37,969 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:37,969 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:37,969 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:37,969 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:37,970 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:37,971 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:37,971 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:37,971 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:37,971 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:37,971 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-6AE14FEED7BA-LeaderStateImpl
2024-01-17 16:15:37,971 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-6AE14FEED7BA: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:15:37,971 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-6AE14FEED7BA: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 226ms
2024-01-17 16:15:37,971 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-6AE14FEED7BA-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:37,972 [s1@group-6AE14FEED7BA-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-6AE14FEED7BA: set configuration 0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,972 [s1@group-6AE14FEED7BA-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:37,973 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-6AE14FEED7BA: change Leader from null to s1 at term 1 for appendEntries, leader elected after 237ms
2024-01-17 16:15:37,973 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-6AE14FEED7BA: change Leader from null to s1 at term 1 for appendEntries, leader elected after 225ms
2024-01-17 16:15:37,973 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@56716e0a
2024-01-17 16:15:37,974 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-6AE14FEED7BA: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1, s3:c-1, s4:c-1], cId:412, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15080"
dataStreamAddress: "localhost:15083"
clientAddress: "localhost:15082"
adminAddress: "localhost:15081"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15084"
dataStreamAddress: "localhost:15087"
clientAddress: "localhost:15086"
adminAddress: "localhost:15085"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15088"
dataStreamAddress: "localhost:15091"
clientAddress: "localhost:15090"
adminAddress: "localhost:15089"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:37,974 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-6AE14FEED7BA: set configuration 0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,974 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:37,974 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-6AE14FEED7BA-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:37,975 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s3@group-6AE14FEED7BA: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:15:37,975 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-6AE14FEED7BA: change Leader from null to s1 at term 1 for appendEntries, leader elected after 246ms
2024-01-17 16:15:37,975 [s2@group-6AE14FEED7BA-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:37,975 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1accfe80
2024-01-17 16:15:37,975 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-6AE14FEED7BA: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1, s3:c-1, s4:c-1], cId:413, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15080"
dataStreamAddress: "localhost:15083"
clientAddress: "localhost:15082"
adminAddress: "localhost:15081"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15084"
dataStreamAddress: "localhost:15087"
clientAddress: "localhost:15086"
adminAddress: "localhost:15085"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15088"
dataStreamAddress: "localhost:15091"
clientAddress: "localhost:15090"
adminAddress: "localhost:15089"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:37,976 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-6AE14FEED7BA: set configuration 0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,976 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-6AE14FEED7BA-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:37,976 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:37,976 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s4@group-6AE14FEED7BA: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:15:37,976 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s4@group-6AE14FEED7BA: change Leader from null to s1 at term 1 for appendEntries, leader elected after 240ms
2024-01-17 16:15:37,976 [s0@group-6AE14FEED7BA-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:37,981 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-6AE14FEED7BA: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1, s3:c-1, s4:c-1], cId:415, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15080"
dataStreamAddress: "localhost:15083"
clientAddress: "localhost:15082"
adminAddress: "localhost:15081"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15084"
dataStreamAddress: "localhost:15087"
clientAddress: "localhost:15086"
adminAddress: "localhost:15085"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15088"
dataStreamAddress: "localhost:15091"
clientAddress: "localhost:15090"
adminAddress: "localhost:15089"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:37,982 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-6AE14FEED7BA: set configuration 0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,982 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s3@group-6AE14FEED7BA-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:37,982 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-6AE14FEED7BA: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1, s3:c-1, s4:c-1], cId:414, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15080"
dataStreamAddress: "localhost:15083"
clientAddress: "localhost:15082"
adminAddress: "localhost:15081"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15084"
dataStreamAddress: "localhost:15087"
clientAddress: "localhost:15086"
adminAddress: "localhost:15085"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15088"
dataStreamAddress: "localhost:15091"
clientAddress: "localhost:15090"
adminAddress: "localhost:15089"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:37,984 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-6AE14FEED7BA: set configuration 0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null
2024-01-17 16:15:37,984 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s4@group-6AE14FEED7BA-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:37,987 [s4@group-6AE14FEED7BA-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:37,987 [s3@group-6AE14FEED7BA-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:37,990 [s1@group-6AE14FEED7BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-6AE14FEED7BA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/log_inprogress_0
2024-01-17 16:15:37,993 [s0@group-6AE14FEED7BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-6AE14FEED7BA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/log_inprogress_0
2024-01-17 16:15:37,993 [s2@group-6AE14FEED7BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-6AE14FEED7BA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/log_inprogress_0
2024-01-17 16:15:37,996 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-6AE14FEED7BA: succeeded to handle AppendEntries. Reply: s1<-s0#413:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:37,997 [s1@group-6AE14FEED7BA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@65d04f98
2024-01-17 16:15:37,997 [s3@group-6AE14FEED7BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s3@group-6AE14FEED7BA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/log_inprogress_0
2024-01-17 16:15:37,998 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-6AE14FEED7BA: succeeded to handle AppendEntries. Reply: s1<-s2#412:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:37,999 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-6AE14FEED7BA: succeeded to handle AppendEntries. Reply: s1<-s3#415:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:37,999 [s4@group-6AE14FEED7BA-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s4@group-6AE14FEED7BA-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/log_inprogress_0
2024-01-17 16:15:37,999 [s1@group-6AE14FEED7BA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s1/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:37,999 [s1@group-6AE14FEED7BA-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:15:38,000 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-6AE14FEED7BA: succeeded to handle AppendEntries. Reply: s1<-s4#414:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:38,073 [s0@group-6AE14FEED7BA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@11e9843a
2024-01-17 16:15:38,074 [s0@group-6AE14FEED7BA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s0/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:38,074 [s2@group-6AE14FEED7BA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@266c7603
2024-01-17 16:15:38,075 [s3@group-6AE14FEED7BA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@190b4599
2024-01-17 16:15:38,076 [s4@group-6AE14FEED7BA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1719c8b7
2024-01-17 16:15:38,076 [s2@group-6AE14FEED7BA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s2/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:38,077 [s3@group-6AE14FEED7BA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s3/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:38,077 [s4@group-6AE14FEED7BA-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc58399e08/s4/c7b5e0a9-dcef-4fa3-b959-6ae14feed7ba/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:38,244 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-6AE14FEED7BA:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-6AE14FEED7BA:t1, leader=s1, voted=null, raftlog=Memoized:s4@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6AE14FEED7BA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-6AE14FEED7BA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6AE14FEED7BA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
2024-01-17 16:15:38,244 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:38,302 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s3: Block request from s1
2024-01-17 16:15:38,845 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:38,845 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:38,845 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:38,845 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:38,845 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:38,845 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-6AE14FEED7BA:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-6AE14FEED7BA:t1, leader=s1, voted=null, raftlog=Memoized:s4@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-6AE14FEED7BA:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-6AE14FEED7BA:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-6AE14FEED7BA:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-6AE14FEED7BA-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15080, s1|localhost:15084, s2|localhost:15088]|listeners:[s3|localhost:15092, s4|localhost:15096], old=null RUNNING
2024-01-17 16:15:38,846 [MiniRaftCluster-27] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s3: close
2024-01-17 16:15:38,846 [MiniRaftCluster-28] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s4: close
2024-01-17 16:15:38,846 [MiniRaftCluster-29] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:15:38,846 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s3@group-6AE14FEED7BA: shutdown
2024-01-17 16:15:38,846 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,846 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,847 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,847 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,847 [MiniRaftCluster-31] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:15:38,847 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s3
2024-01-17 16:15:38,847 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s3: shutdown s3@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:38,847 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,848 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,847 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,848 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,848 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-6AE14FEED7BA: shutdown
2024-01-17 16:15:38,848 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s2
2024-01-17 16:15:38,848 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:38,848 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-6AE14FEED7BA-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:38,848 [s2@group-6AE14FEED7BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-6AE14FEED7BA-FollowerState was interrupted
2024-01-17 16:15:38,848 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,848 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-6AE14FEED7BA: applyIndex: 0
2024-01-17 16:15:38,847 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,848 [s2@group-6AE14FEED7BA-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-6AE14FEED7BA-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:38,847 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-6AE14FEED7BA: shutdown
2024-01-17 16:15:38,847 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s4@group-6AE14FEED7BA: shutdown
2024-01-17 16:15:38,849 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s0
2024-01-17 16:15:38,849 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s4
2024-01-17 16:15:38,849 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:38,846 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,849 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,849 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s3: unBlock request from s1
2024-01-17 16:15:38,846 [MiniRaftCluster-30] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:15:38,849 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,849 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-6AE14FEED7BA-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:38,849 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-6AE14FEED7BA: applyIndex: 0
2024-01-17 16:15:38,849 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,849 [s0@group-6AE14FEED7BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-6AE14FEED7BA-FollowerState was interrupted
2024-01-17 16:15:38,849 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s4: shutdown s4@group-6AE14FEED7BA-FollowerState
2024-01-17 16:15:38,850 [s0@group-6AE14FEED7BA-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-6AE14FEED7BA-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:38,850 [s4@group-6AE14FEED7BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-6AE14FEED7BA-FollowerState was interrupted
2024-01-17 16:15:38,848 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,848 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,848 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,847 [s3@group-6AE14FEED7BA-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-6AE14FEED7BA-FollowerState was interrupted
2024-01-17 16:15:38,847 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s3@group-6AE14FEED7BA-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:38,851 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,847 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,851 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s3@group-6AE14FEED7BA: applyIndex: 0
2024-01-17 16:15:38,851 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,851 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,850 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s4@group-6AE14FEED7BA-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:38,851 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,850 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,849 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-6AE14FEED7BA: shutdown
2024-01-17 16:15:38,851 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6AE14FEED7BA,id=s1
2024-01-17 16:15:38,849 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,849 [s1@group-6AE14FEED7BA->s3-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(90)) - s1@group-6AE14FEED7BA->s3-LogAppenderDefault: Failed to appendEntries (retry=1)
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s3@group-6AE14FEED7BA is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$9(RaftServerImpl.java:753)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:752)
	at org.apache.ratis.server.impl.RaftServerImpl.preAppendEntriesAsync(RaftServerImpl.java:1533)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1477)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntries(RaftServerImpl.java:1463)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntries(RaftServerProxy.java:663)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:163)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:153)
	at org.apache.ratis.server.simulation.RequestHandler.handleRequest(RequestHandler.java:91)
	at org.apache.ratis.server.simulation.RequestHandler$HandlerDaemon.run(RequestHandler.java:125)
2024-01-17 16:15:38,852 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,852 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,852 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,851 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s1: shutdown s1@group-6AE14FEED7BA-LeaderStateImpl
2024-01-17 16:15:38,851 [s3@group-6AE14FEED7BA-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-6AE14FEED7BA-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:38,851 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,852 [s1@group-6AE14FEED7BA->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-6AE14FEED7BA->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2024-01-17 16:15:38,851 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s4@group-6AE14FEED7BA: applyIndex: 0
2024-01-17 16:15:38,852 [s1@group-6AE14FEED7BA->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-6AE14FEED7BA->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:38,851 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:38,853 [s1@group-6AE14FEED7BA->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-6AE14FEED7BA->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:38,853 [s1@group-6AE14FEED7BA->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-6AE14FEED7BA->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:38,853 [s4@group-6AE14FEED7BA-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-6AE14FEED7BA-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:38,852 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-6AE14FEED7BA-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:38,854 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-6AE14FEED7BA-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:38,854 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-6AE14FEED7BA: applyIndex: 0
2024-01-17 16:15:38,854 [s1@group-6AE14FEED7BA-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-6AE14FEED7BA-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:38,995 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-6AE14FEED7BA-SegmentedRaftLogWorker close()
2024-01-17 16:15:38,996 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:15:38,997 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-6AE14FEED7BA-SegmentedRaftLogWorker close()
2024-01-17 16:15:38,997 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:15:38,998 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-6AE14FEED7BA-SegmentedRaftLogWorker close()
2024-01-17 16:15:38,999 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:15:39,000 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s3@group-6AE14FEED7BA-SegmentedRaftLogWorker close()
2024-01-17 16:15:39,000 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-01-17 16:15:39,001 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s4@group-6AE14FEED7BA-SegmentedRaftLogWorker close()
2024-01-17 16:15:39,001 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-01-17 16:15:39,001 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testPreVote" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="5.52">
    <system-out><![CDATA[2024-01-17 16:15:39,002 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:15:39,002 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:15:39,002 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:15:39,002 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:15:39,003 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:15:39,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-3DC97583639F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]
2024-01-17 16:15:39,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:15:39,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:15:39,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:39,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:15:39,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:15:39,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:15:39,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-3DC97583639F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108], format? true
2024-01-17 16:15:39,003 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0
2024-01-17 16:15:39,004 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0 does not exist.
2024-01-17 16:15:39,004 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0
2024-01-17 16:15:39,004 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:39,004 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:39,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:39,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:39,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:39,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0] (custom)
2024-01-17 16:15:39,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:39,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:39,005 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-3DC97583639F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] returns group-3DC97583639F:java.util.concurrent.CompletableFuture@4205ff36[Not completed]
2024-01-17 16:15:39,005 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-3DC97583639F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] with BaseStateMachine:uninitialized
2024-01-17 16:15:39,005 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-3DC97583639F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108], format? true
2024-01-17 16:15:39,005 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1
2024-01-17 16:15:39,005 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:39,005 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:39,005 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1 does not exist.
2024-01-17 16:15:39,005 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1
2024-01-17 16:15:39,005 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:39,006 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:39,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:39,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:39,006 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:39,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:39,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:39,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:39,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:39,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:39,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1] (custom)
2024-01-17 16:15:39,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:39,006 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-3DC97583639F: ConfigurationManager, init=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:39,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:39,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:39,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:39,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:39,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:39,007 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-3DC97583639F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] returns group-3DC97583639F:java.util.concurrent.CompletableFuture@36ca8e6d[Not completed]
2024-01-17 16:15:39,007 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-3DC97583639F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108], format? true
2024-01-17 16:15:39,007 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2
2024-01-17 16:15:39,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:39,007 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2 does not exist.
2024-01-17 16:15:39,007 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2
2024-01-17 16:15:39,007 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-3DC97583639F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] with BaseStateMachine:uninitialized
2024-01-17 16:15:39,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:39,007 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:39,007 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:39,007 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:39,007 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:39,007 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:39,007 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:39,008 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:39,008 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:39,008 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:39,008 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:39,008 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:39,008 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:39,008 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2] (custom)
2024-01-17 16:15:39,008 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-3DC97583639F: ConfigurationManager, init=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:39,008 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:39,008 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:39,008 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:39,008 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:39,008 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:39,009 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:39,009 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:39,009 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:39,009 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-3DC97583639F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] returns group-3DC97583639F:java.util.concurrent.CompletableFuture@200374aa[Not completed]
2024-01-17 16:15:39,009 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:39,009 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-3DC97583639F:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108] with BaseStateMachine:uninitialized
2024-01-17 16:15:39,009 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:39,009 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:39,009 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:39,009 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:39,009 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:39,009 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:39,010 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:39,011 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:39,009 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:39,011 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:39,011 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:39,011 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:39,011 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:39,011 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:39,011 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:39,011 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:39,011 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:39,011 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:39,011 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:39,012 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-3DC97583639F: ConfigurationManager, init=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:39,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:39,012 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:39,012 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:39,012 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0] (custom)
2024-01-17 16:15:39,012 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:39,012 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:39,012 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:39,012 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:39,012 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f does not exist. Creating ...
2024-01-17 16:15:39,012 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f
2024-01-17 16:15:39,013 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:39,013 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:39,013 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:39,013 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:39,013 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:39,013 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:39,013 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:39,013 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current
2024-01-17 16:15:39,014 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/sm
2024-01-17 16:15:39,014 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5879eca3
2024-01-17 16:15:39,015 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:39,015 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f has been successfully formatted.
2024-01-17 16:15:39,015 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:39,015 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:39,015 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:39,015 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:39,015 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:39,015 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:39,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:39,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:39,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:39,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:39,016 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-3DC97583639F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:39,016 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-3DC97583639F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f
2024-01-17 16:15:39,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:39,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:39,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:39,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:39,016 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:39,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:39,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:39,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:39,017 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:39,018 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:39,019 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:39,019 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:39,019 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:39,019 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-3DC97583639F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:39,019 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-3DC97583639F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:39,019 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-3DC97583639F: start as a follower, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:39,019 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-3DC97583639F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:39,019 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-3DC97583639F-FollowerState
2024-01-17 16:15:39,019 [s0@group-3DC97583639F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:39,019 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DC97583639F,id=s0
2024-01-17 16:15:39,019 [s0@group-3DC97583639F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:39,019 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-3DC97583639F,id=s0
2024-01-17 16:15:39,020 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:39,020 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:39,020 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:39,020 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:39,020 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:15:39,020 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:15:39,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:39,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:39,021 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1] (custom)
2024-01-17 16:15:39,021 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f does not exist. Creating ...
2024-01-17 16:15:39,021 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f
2024-01-17 16:15:39,022 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:39,022 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current
2024-01-17 16:15:39,022 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/sm
2024-01-17 16:15:39,022 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4f1352c7
2024-01-17 16:15:39,023 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:39,023 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f has been successfully formatted.
2024-01-17 16:15:39,023 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:39,023 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:39,023 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:39,023 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-3DC97583639F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-3DC97583639F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:39,024 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:39,025 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:39,026 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:39,026 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:39,026 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:39,026 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:39,026 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-3DC97583639F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:39,026 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-3DC97583639F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:39,026 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-3DC97583639F: start as a follower, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:39,027 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-3DC97583639F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:39,027 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-3DC97583639F-FollowerState
2024-01-17 16:15:39,027 [s1@group-3DC97583639F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:39,027 [s1@group-3DC97583639F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:39,027 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DC97583639F,id=s1
2024-01-17 16:15:39,027 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-3DC97583639F,id=s1
2024-01-17 16:15:39,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:39,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:39,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:39,027 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:39,027 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:15:39,028 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:15:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2] (custom)
2024-01-17 16:15:39,028 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f does not exist. Creating ...
2024-01-17 16:15:39,029 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f
2024-01-17 16:15:39,029 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:39,029 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current
2024-01-17 16:15:39,029 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/sm
2024-01-17 16:15:39,029 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@e7546a4
2024-01-17 16:15:39,030 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:39,030 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f has been successfully formatted.
2024-01-17 16:15:39,030 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:39,030 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-3DC97583639F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-3DC97583639F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:39,031 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:39,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:39,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:39,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:39,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:39,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:39,032 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:39,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:39,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:39,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:39,033 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:39,033 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-3DC97583639F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:39,033 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-3DC97583639F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:39,034 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-3DC97583639F: start as a follower, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:39,034 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-3DC97583639F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:39,034 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-3DC97583639F-FollowerState
2024-01-17 16:15:39,034 [s2@group-3DC97583639F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:39,034 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DC97583639F,id=s2
2024-01-17 16:15:39,034 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-3DC97583639F,id=s2
2024-01-17 16:15:39,034 [s2@group-3DC97583639F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:39,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:39,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:39,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:39,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:39,034 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:15:39,035 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:15:39,035 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:39,035 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-3DC97583639F:t0, leader=null, voted=, raftlog=Memoized:s0@group-3DC97583639F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DC97583639F:t0, leader=null, voted=, raftlog=Memoized:s1@group-3DC97583639F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DC97583639F:t0, leader=null, voted=, raftlog=Memoized:s2@group-3DC97583639F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
2024-01-17 16:15:39,035 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-3DC97583639F:t0, leader=null, voted=, raftlog=Memoized:s0@group-3DC97583639F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DC97583639F:t0, leader=null, voted=, raftlog=Memoized:s1@group-3DC97583639F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DC97583639F:t0, leader=null, voted=, raftlog=Memoized:s2@group-3DC97583639F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
2024-01-17 16:15:39,172 [s0@group-3DC97583639F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-3DC97583639F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:152491792ns, electionTimeout:152ms
2024-01-17 16:15:39,172 [s0@group-3DC97583639F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-3DC97583639F-FollowerState
2024-01-17 16:15:39,172 [s0@group-3DC97583639F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-3DC97583639F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:15:39,172 [s0@group-3DC97583639F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:39,172 [s0@group-3DC97583639F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-3DC97583639F-LeaderElection11
2024-01-17 16:15:39,176 [s0@group-3DC97583639F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-3DC97583639F-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:39,176 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:39,176 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:39,176 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-3DC97583639F: receive requestVote(PRE_VOTE, s0, group-3DC97583639F, 0, (t:0, i:0))
2024-01-17 16:15:39,176 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-3DC97583639F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:39,177 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-3DC97583639F replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-3DC97583639F:t0, leader=null, voted=, raftlog=Memoized:s1@group-3DC97583639F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:39,177 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-3DC97583639F: receive requestVote(PRE_VOTE, s0, group-3DC97583639F, 0, (t:0, i:0))
2024-01-17 16:15:39,177 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DC97583639F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:39,177 [s0@group-3DC97583639F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-3DC97583639F-LeaderElection11: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:39,177 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-3DC97583639F replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-3DC97583639F:t0, leader=null, voted=, raftlog=Memoized:s2@group-3DC97583639F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:39,177 [s0@group-3DC97583639F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2024-01-17 16:15:39,177 [s0@group-3DC97583639F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-3DC97583639F-LeaderElection11 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:39,177 [s0@group-3DC97583639F-LeaderElection11] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5a252324
2024-01-17 16:15:39,178 [s0@group-3DC97583639F-LeaderElection11] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:39,178 [s0@group-3DC97583639F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-3DC97583639F-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:39,178 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:39,178 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:39,178 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-3DC97583639F: receive requestVote(ELECTION, s0, group-3DC97583639F, 1, (t:0, i:0))
2024-01-17 16:15:39,179 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DC97583639F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:39,179 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-3DC97583639F: receive requestVote(ELECTION, s0, group-3DC97583639F, 1, (t:0, i:0))
2024-01-17 16:15:39,179 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-3DC97583639F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:15:39,179 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-3DC97583639F-FollowerState
2024-01-17 16:15:39,179 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-3DC97583639F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:39,179 [s2@group-3DC97583639F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-3DC97583639F-FollowerState was interrupted
2024-01-17 16:15:39,179 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-3DC97583639F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:15:39,179 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-3DC97583639F-FollowerState
2024-01-17 16:15:39,179 [s1@group-3DC97583639F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-3DC97583639F-FollowerState was interrupted
2024-01-17 16:15:39,180 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-3DC97583639F-FollowerState
2024-01-17 16:15:39,180 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-3DC97583639F: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:15:39,180 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@27b384d9
2024-01-17 16:15:39,181 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:39,181 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-3DC97583639F replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-3DC97583639F:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-3DC97583639F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:39,182 [s0@group-3DC97583639F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-3DC97583639F-LeaderElection11: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:39,182 [s0@group-3DC97583639F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2024-01-17 16:15:39,182 [s0@group-3DC97583639F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-3DC97583639F-LeaderElection11 ELECTION round 0: result PASSED
2024-01-17 16:15:39,182 [s0@group-3DC97583639F-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-3DC97583639F-LeaderElection11
2024-01-17 16:15:39,182 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-3DC97583639F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:15:39,182 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:39,182 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:39,182 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:39,182 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:39,182 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:39,183 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:39,183 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:39,183 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:39,183 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:39,183 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:39,183 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:39,183 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:39,183 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:39,183 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:39,183 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:39,183 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:39,183 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:39,184 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:39,184 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:39,184 [s0@group-3DC97583639F-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-3DC97583639F-LeaderStateImpl
2024-01-17 16:15:39,184 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-3DC97583639F: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:15:39,184 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-3DC97583639F: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 177ms
2024-01-17 16:15:39,184 [s0@group-3DC97583639F-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-3DC97583639F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:39,184 [s0@group-3DC97583639F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:39,186 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-3DC97583639F-FollowerState
2024-01-17 16:15:39,187 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-3DC97583639F: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:15:39,187 [s0@group-3DC97583639F-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-3DC97583639F: set configuration 0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:39,187 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1be6c931
2024-01-17 16:15:39,188 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-3DC97583639F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 176ms
2024-01-17 16:15:39,189 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:558, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15100"
dataStreamAddress: "localhost:15103"
clientAddress: "localhost:15102"
adminAddress: "localhost:15101"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15104"
dataStreamAddress: "localhost:15107"
clientAddress: "localhost:15106"
adminAddress: "localhost:15105"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15108"
dataStreamAddress: "localhost:15111"
clientAddress: "localhost:15110"
adminAddress: "localhost:15109"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:39,189 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-3DC97583639F: set configuration 0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:39,189 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-3DC97583639F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:39,190 [s2@group-3DC97583639F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:39,192 [s0@group-3DC97583639F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-3DC97583639F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current/log_inprogress_0
2024-01-17 16:15:39,192 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:39,192 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-3DC97583639F replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-3DC97583639F:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-3DC97583639F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:39,192 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-3DC97583639F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 184ms
2024-01-17 16:15:39,194 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:559, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15100"
dataStreamAddress: "localhost:15103"
clientAddress: "localhost:15102"
adminAddress: "localhost:15101"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15104"
dataStreamAddress: "localhost:15107"
clientAddress: "localhost:15106"
adminAddress: "localhost:15105"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15108"
dataStreamAddress: "localhost:15111"
clientAddress: "localhost:15110"
adminAddress: "localhost:15109"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:39,194 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-3DC97583639F: set configuration 0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:39,195 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-3DC97583639F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:39,195 [s1@group-3DC97583639F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:39,198 [s2@group-3DC97583639F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-3DC97583639F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current/log_inprogress_0
2024-01-17 16:15:39,202 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s2#558:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:39,202 [s1@group-3DC97583639F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-3DC97583639F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current/log_inprogress_0
2024-01-17 16:15:39,203 [s0@group-3DC97583639F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7fe9a219
2024-01-17 16:15:39,203 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s1#559:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:39,203 [s0@group-3DC97583639F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s0/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:39,204 [s0@group-3DC97583639F-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:15:39,278 [s2@group-3DC97583639F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5ac8ec83
2024-01-17 16:15:39,279 [s1@group-3DC97583639F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@348ff713
2024-01-17 16:15:39,280 [s2@group-3DC97583639F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s2/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:39,280 [s1@group-3DC97583639F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc35a83e41/s1/5bb215e0-eac5-4208-99a8-3dc97583639f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:39,486 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DC97583639F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-3DC97583639F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-3DC97583639F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
2024-01-17 16:15:39,486 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:39,486 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-C6AC6B5C8A62: get 588 returns []
2024-01-17 16:15:39,487 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s0@group-3DC97583639F: receive client request(RaftClientRequest:client-C6AC6B5C8A62->s0@group-3DC97583639F, cid=588, seq=null, RW, message)
2024-01-17 16:15:39,488 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s0@group-3DC97583639F-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C6AC6B5C8A62->s0@group-3DC97583639F, cid=588, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 588@client-C6AC6B5C8A62
2024-01-17 16:15:39,488 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0], cId:589, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 588@client-C6AC6B5C8A62]
2024-01-17 16:15:39,488 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0], cId:590, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 588@client-C6AC6B5C8A62]
2024-01-17 16:15:39,489 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s2#590:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:39,489 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s1#589:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:39,489 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0], cId:591, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:39,489 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0], cId:592, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:39,490 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-C6AC6B5C8A62: add replied callId 588
2024-01-17 16:15:39,490 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-C6AC6B5C8A62: get 593 returns [588]
2024-01-17 16:15:39,490 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s0@group-3DC97583639F: receive client request(RaftClientRequest:client-C6AC6B5C8A62->s0@group-3DC97583639F, cid=593, seq=null, RW, message)
2024-01-17 16:15:39,490 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s2#591:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:39,490 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s1#592:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:39,506 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-01-17 16:15:39,508 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s0@group-3DC97583639F-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C6AC6B5C8A62->s0@group-3DC97583639F, cid=593, seq=null, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, 593@client-C6AC6B5C8A62
2024-01-17 16:15:39,508 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2024-01-17 16:15:39,508 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1], cId:597, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 593@client-C6AC6B5C8A62]
2024-01-17 16:15:39,509 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s2#597:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:39,510 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c1, s2:c2], cId:598, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2024-01-17 16:15:39,510 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s2#598:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:15:39,511 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-C6AC6B5C8A62: add replied callId 593
2024-01-17 16:15:39,512 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testPreVote(577)) - Wait follower s1 timeout and trigger pre-vote
2024-01-17 16:15:39,773 [s1@group-5532529327FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5532529327FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:342814405ns, electionTimeout:191ms
2024-01-17 16:15:39,773 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-5532529327FB-FollowerState
2024-01-17 16:15:39,774 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:39,774 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:39,774 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-LeaderElection12
2024-01-17 16:15:39,774 [s1@group-5532529327FB-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-5532529327FB: change Leader from s0 to null at term 1 for PRE_VOTE
2024-01-17 16:15:39,774 [s1@group-5532529327FB-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-5532529327FB-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:39,775 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:39,775 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:39,775 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5532529327FB-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2024-01-17 16:15:39,775 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5532529327FB-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2024-01-17 16:15:39,775 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-5532529327FB replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-5532529327FB:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:39,775 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-5532529327FB replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-5532529327FB:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:39,775 [s1@group-5532529327FB-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5532529327FB-LeaderElection12: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:39,776 [s1@group-5532529327FB-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2024-01-17 16:15:39,776 [s1@group-5532529327FB-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2024-01-17 16:15:39,776 [s1@group-5532529327FB-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-5532529327FB-LeaderElection12 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:39,776 [s1@group-5532529327FB-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-01-17 16:15:39,776 [s1@group-5532529327FB-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-5532529327FB-LeaderElection12
2024-01-17 16:15:39,776 [s1@group-5532529327FB-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-FollowerState
2024-01-17 16:15:39,815 [s1@group-3DC97583639F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-3DC97583639F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:324532309ns, electionTimeout:172ms
2024-01-17 16:15:39,815 [s1@group-3DC97583639F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-3DC97583639F-FollowerState
2024-01-17 16:15:39,815 [s1@group-3DC97583639F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-3DC97583639F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:39,815 [s1@group-3DC97583639F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:39,815 [s1@group-3DC97583639F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-3DC97583639F-LeaderElection13
2024-01-17 16:15:39,816 [s1@group-3DC97583639F-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-3DC97583639F: change Leader from s0 to null at term 1 for PRE_VOTE
2024-01-17 16:15:39,816 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:40,035 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-3DC97583639F-LeaderElection13: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:40,036 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 0: result TIMEOUT
2024-01-17 16:15:40,036 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:40,054 [s1@group-5532529327FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5532529327FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:278298573ns, electionTimeout:278ms
2024-01-17 16:15:40,054 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-5532529327FB-FollowerState
2024-01-17 16:15:40,054 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:40,054 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:40,054 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-LeaderElection14
2024-01-17 16:15:40,055 [s1@group-5532529327FB-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-5532529327FB-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:40,056 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:40,056 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:40,056 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5532529327FB-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2024-01-17 16:15:40,056 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5532529327FB-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2024-01-17 16:15:40,056 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-5532529327FB replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-5532529327FB:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:40,056 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-5532529327FB replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-5532529327FB:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:40,056 [s1@group-5532529327FB-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5532529327FB-LeaderElection14: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:40,056 [s1@group-5532529327FB-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2024-01-17 16:15:40,056 [s1@group-5532529327FB-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2024-01-17 16:15:40,056 [s1@group-5532529327FB-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-5532529327FB-LeaderElection14 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:40,056 [s1@group-5532529327FB-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-01-17 16:15:40,056 [s1@group-5532529327FB-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-5532529327FB-LeaderElection14
2024-01-17 16:15:40,057 [s1@group-5532529327FB-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-FollowerState
2024-01-17 16:15:40,273 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-3DC97583639F-LeaderElection13: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:40,273 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 1: result TIMEOUT
2024-01-17 16:15:40,274 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 2: submit vote requests at term 1 for 0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:40,326 [s1@group-5532529327FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5532529327FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:269384221ns, electionTimeout:269ms
2024-01-17 16:15:40,326 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-5532529327FB-FollowerState
2024-01-17 16:15:40,326 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:40,326 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:40,326 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-LeaderElection15
2024-01-17 16:15:40,327 [s1@group-5532529327FB-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-5532529327FB-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:40,327 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:40,328 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:40,328 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5532529327FB-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2024-01-17 16:15:40,328 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5532529327FB-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2024-01-17 16:15:40,328 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-5532529327FB replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-5532529327FB:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:40,328 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-5532529327FB replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-5532529327FB:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:40,328 [s1@group-5532529327FB-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5532529327FB-LeaderElection15: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:40,328 [s1@group-5532529327FB-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2024-01-17 16:15:40,328 [s1@group-5532529327FB-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2024-01-17 16:15:40,328 [s1@group-5532529327FB-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-5532529327FB-LeaderElection15 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:40,328 [s1@group-5532529327FB-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-01-17 16:15:40,328 [s1@group-5532529327FB-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-5532529327FB-LeaderElection15
2024-01-17 16:15:40,328 [s1@group-5532529327FB-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-FollowerState
2024-01-17 16:15:40,517 [s1@group-5532529327FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5532529327FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:189272188ns, electionTimeout:189ms
2024-01-17 16:15:40,518 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-5532529327FB-FollowerState
2024-01-17 16:15:40,518 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:40,518 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:40,518 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-LeaderElection16
2024-01-17 16:15:40,518 [s1@group-5532529327FB-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-5532529327FB-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:40,519 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:40,519 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:40,519 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5532529327FB-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2024-01-17 16:15:40,519 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5532529327FB-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2024-01-17 16:15:40,519 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-5532529327FB replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-5532529327FB:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:40,519 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-5532529327FB replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-5532529327FB:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:40,519 [s1@group-5532529327FB-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5532529327FB-LeaderElection16: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:40,519 [s1@group-5532529327FB-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2024-01-17 16:15:40,519 [s1@group-5532529327FB-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2024-01-17 16:15:40,519 [s1@group-5532529327FB-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-5532529327FB-LeaderElection16 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:40,519 [s1@group-5532529327FB-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-01-17 16:15:40,519 [s1@group-5532529327FB-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-5532529327FB-LeaderElection16
2024-01-17 16:15:40,519 [s1@group-5532529327FB-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-FollowerState
2024-01-17 16:15:40,521 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-3DC97583639F-LeaderElection13: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:40,521 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 2: result TIMEOUT
2024-01-17 16:15:40,521 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 3: submit vote requests at term 1 for 0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:40,718 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-3DC97583639F-LeaderElection13: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:40,718 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 3: result TIMEOUT
2024-01-17 16:15:40,718 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 4: submit vote requests at term 1 for 0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:40,787 [s1@group-5532529327FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5532529327FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:267314194ns, electionTimeout:267ms
2024-01-17 16:15:40,787 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-5532529327FB-FollowerState
2024-01-17 16:15:40,787 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:40,787 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:40,787 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-LeaderElection17
2024-01-17 16:15:40,788 [s1@group-5532529327FB-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-5532529327FB-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:40,788 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:40,788 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:40,788 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5532529327FB-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2024-01-17 16:15:40,788 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5532529327FB-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2024-01-17 16:15:40,789 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-5532529327FB replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-5532529327FB:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:40,789 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-5532529327FB replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-5532529327FB:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:40,789 [s1@group-5532529327FB-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5532529327FB-LeaderElection17: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:40,789 [s1@group-5532529327FB-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2024-01-17 16:15:40,789 [s1@group-5532529327FB-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2024-01-17 16:15:40,789 [s1@group-5532529327FB-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-5532529327FB-LeaderElection17 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:40,789 [s1@group-5532529327FB-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-01-17 16:15:40,789 [s1@group-5532529327FB-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-5532529327FB-LeaderElection17
2024-01-17 16:15:40,789 [s1@group-5532529327FB-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-FollowerState
2024-01-17 16:15:40,977 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-3DC97583639F-LeaderElection13: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:40,978 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 4: result TIMEOUT
2024-01-17 16:15:40,978 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 5: submit vote requests at term 1 for 0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:41,003 [s1@group-5532529327FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5532529327FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:214275462ns, electionTimeout:214ms
2024-01-17 16:15:41,003 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-5532529327FB-FollowerState
2024-01-17 16:15:41,004 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:41,004 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:41,004 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-LeaderElection18
2024-01-17 16:15:41,004 [s1@group-5532529327FB-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-5532529327FB-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:41,005 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:41,005 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5532529327FB-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2024-01-17 16:15:41,005 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:41,005 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-5532529327FB replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-5532529327FB:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:41,005 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5532529327FB-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2024-01-17 16:15:41,005 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-5532529327FB replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-5532529327FB:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:41,005 [s1@group-5532529327FB-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5532529327FB-LeaderElection18: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:41,005 [s1@group-5532529327FB-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2024-01-17 16:15:41,005 [s1@group-5532529327FB-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2024-01-17 16:15:41,005 [s1@group-5532529327FB-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-5532529327FB-LeaderElection18 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:41,005 [s1@group-5532529327FB-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-01-17 16:15:41,005 [s1@group-5532529327FB-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-5532529327FB-LeaderElection18
2024-01-17 16:15:41,005 [s1@group-5532529327FB-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-FollowerState
2024-01-17 16:15:41,262 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-3DC97583639F-LeaderElection13: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:41,262 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 5: result TIMEOUT
2024-01-17 16:15:41,262 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 6: submit vote requests at term 1 for 0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:41,267 [s1@group-5532529327FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5532529327FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:261235966ns, electionTimeout:261ms
2024-01-17 16:15:41,267 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-5532529327FB-FollowerState
2024-01-17 16:15:41,267 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:41,267 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:41,267 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-LeaderElection19
2024-01-17 16:15:41,268 [s1@group-5532529327FB-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-5532529327FB-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:41,268 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:41,268 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5532529327FB-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2024-01-17 16:15:41,268 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-5532529327FB replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-5532529327FB:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:41,269 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:41,269 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5532529327FB-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2024-01-17 16:15:41,269 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-5532529327FB replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-5532529327FB:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:41,269 [s1@group-5532529327FB-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5532529327FB-LeaderElection19: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:41,269 [s1@group-5532529327FB-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2024-01-17 16:15:41,269 [s1@group-5532529327FB-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2024-01-17 16:15:41,269 [s1@group-5532529327FB-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-5532529327FB-LeaderElection19 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:41,269 [s1@group-5532529327FB-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-01-17 16:15:41,269 [s1@group-5532529327FB-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-5532529327FB-LeaderElection19
2024-01-17 16:15:41,269 [s1@group-5532529327FB-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-FollowerState
2024-01-17 16:15:41,472 [s1@group-5532529327FB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5532529327FB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:203271620ns, electionTimeout:203ms
2024-01-17 16:15:41,473 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-5532529327FB-FollowerState
2024-01-17 16:15:41,473 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:41,473 [s1@group-5532529327FB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:41,473 [s1@group-5532529327FB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-LeaderElection20
2024-01-17 16:15:41,473 [s1@group-5532529327FB-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-5532529327FB-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:41,474 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:41,474 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-5532529327FB: receive requestVote(PRE_VOTE, s1, group-5532529327FB, 1, (t:1, i:0))
2024-01-17 16:15:41,474 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5532529327FB-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2024-01-17 16:15:41,474 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5532529327FB-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2024-01-17 16:15:41,474 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-5532529327FB replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-5532529327FB:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:41,474 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-5532529327FB replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-5532529327FB:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5532529327FB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15068, s1|localhost:15072, s2|localhost:15076]|listeners:[], old=null
2024-01-17 16:15:41,474 [s1@group-5532529327FB-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5532529327FB-LeaderElection20: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:41,474 [s1@group-5532529327FB-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2024-01-17 16:15:41,474 [s1@group-5532529327FB-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2024-01-17 16:15:41,474 [s1@group-5532529327FB-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-5532529327FB-LeaderElection20 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:41,474 [s1@group-5532529327FB-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-5532529327FB: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-01-17 16:15:41,474 [s1@group-5532529327FB-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-5532529327FB-LeaderElection20
2024-01-17 16:15:41,474 [s1@group-5532529327FB-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-5532529327FB-FollowerState
2024-01-17 16:15:41,547 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-3DC97583639F-LeaderElection13: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:41,547 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 6: result TIMEOUT
2024-01-17 16:15:41,547 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 7: submit vote requests at term 1 for 0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:41,548 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-3DC97583639F: receive requestVote(PRE_VOTE, s1, group-3DC97583639F, 1, (t:1, i:2))
2024-01-17 16:15:41,548 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-3DC97583639F: receive requestVote(PRE_VOTE, s1, group-3DC97583639F, 1, (t:1, i:2))
2024-01-17 16:15:41,548 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-3DC97583639F-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2024-01-17 16:15:41,548 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-3DC97583639F-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2024-01-17 16:15:41,548 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-3DC97583639F replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-3DC97583639F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:41,548 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-3DC97583639F replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DC97583639F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null
2024-01-17 16:15:41,548 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-3DC97583639F-LeaderElection13: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:41,548 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2024-01-17 16:15:41,548 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2024-01-17 16:15:41,548 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-3DC97583639F-LeaderElection13 PRE_VOTE round 7: result REJECTED
2024-01-17 16:15:41,548 [s1@group-3DC97583639F-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-3DC97583639F: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2024-01-17 16:15:41,549 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-3DC97583639F-LeaderElection13
2024-01-17 16:15:41,549 [s1@group-3DC97583639F-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-3DC97583639F-FollowerState
2024-01-17 16:15:41,607 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-01-17 16:15:41,607 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-5532529327FB: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1832ms
2024-01-17 16:15:41,609 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2024-01-17 16:15:41,609 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1], cId:596, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 593@client-C6AC6B5C8A62]
2024-01-17 16:15:41,609 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-3DC97583639F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1793ms
2024-01-17 16:15:41,610 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s1#596:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:41,610 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: receive appendEntries(s0, 1, (t:1, i:3), 4, false, commits:[s0:c4, s1:c2, s2:c4], cId:709, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2024-01-17 16:15:41,612 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s1#709:OK-t1,SUCCESS,nextIndex=5,followerCommit=4,matchIndex=4
2024-01-17 16:15:43,512 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:43,512 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DC97583639F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-3DC97583639F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-3DC97583639F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
2024-01-17 16:15:43,512 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DC97583639F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-3DC97583639F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-3DC97583639F-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
2024-01-17 16:15:43,513 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-C6AC6B5C8A62: get 910 returns [593]
2024-01-17 16:15:43,513 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s0@group-3DC97583639F: receive client request(RaftClientRequest:client-C6AC6B5C8A62->s0@group-3DC97583639F, cid=910, seq=null, RW, message)
2024-01-17 16:15:43,513 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s0@group-3DC97583639F-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-C6AC6B5C8A62->s0@group-3DC97583639F, cid=910, seq=null, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 910@client-C6AC6B5C8A62
2024-01-17 16:15:43,514 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: receive appendEntries(s0, 1, (t:1, i:4), 4, false, commits:[s0:c4, s1:c4, s2:c4], cId:911, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 910@client-C6AC6B5C8A62]
2024-01-17 16:15:43,514 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: receive appendEntries(s0, 1, (t:1, i:4), 4, false, commits:[s0:c4, s1:c4, s2:c4], cId:912, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 910@client-C6AC6B5C8A62]
2024-01-17 16:15:43,515 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s1#911:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2024-01-17 16:15:43,515 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s2#912:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2024-01-17 16:15:43,515 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits:[s0:c5, s1:c4, s2:c4], cId:913, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:15:43,516 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-C6AC6B5C8A62: add replied callId 910
2024-01-17 16:15:43,516 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits:[s0:c5, s1:c4, s2:c4], cId:914, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:15:43,516 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:43,516 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:43,516 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:43,516 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:43,516 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s1#913:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:15:43,516 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-3DC97583639F: succeeded to handle AppendEntries. Reply: s0<-s2#914:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:15:43,516 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:43,516 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DC97583639F-SegmentedRaftLog:OPENED:c5, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-3DC97583639F-SegmentedRaftLog:OPENED:c5, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-3DC97583639F-SegmentedRaftLog:OPENED:c5, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null RUNNING
2024-01-17 16:15:43,517 [MiniRaftCluster-32] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:15:43,517 [MiniRaftCluster-33] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:15:43,518 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,518 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,517 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-3DC97583639F: shutdown
2024-01-17 16:15:43,518 [MiniRaftCluster-34] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:15:43,518 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DC97583639F,id=s0
2024-01-17 16:15:43,518 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-3DC97583639F: shutdown
2024-01-17 16:15:43,518 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,518 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DC97583639F,id=s1
2024-01-17 16:15:43,518 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-3DC97583639F-FollowerState
2024-01-17 16:15:43,518 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,518 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,518 [s1@group-3DC97583639F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-3DC97583639F-FollowerState was interrupted
2024-01-17 16:15:43,519 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,518 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-3DC97583639F-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:15:43,519 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,519 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-3DC97583639F: applyIndex: 5
2024-01-17 16:15:43,518 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-3DC97583639F: shutdown
2024-01-17 16:15:43,519 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,519 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,518 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-3DC97583639F-LeaderStateImpl
2024-01-17 16:15:43,519 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,519 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3DC97583639F,id=s2
2024-01-17 16:15:43,519 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,519 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,519 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,518 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,519 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,519 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-3DC97583639F-FollowerState
2024-01-17 16:15:43,519 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,519 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,520 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:43,520 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-3DC97583639F-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:43,520 [s0@group-3DC97583639F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-3DC97583639F->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:43,520 [s1@group-3DC97583639F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-3DC97583639F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:43,520 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-3DC97583639F-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:15:43,520 [s0@group-3DC97583639F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-3DC97583639F->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:43,520 [s2@group-3DC97583639F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-3DC97583639F-FollowerState was interrupted
2024-01-17 16:15:43,521 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-3DC97583639F: applyIndex: 5
2024-01-17 16:15:43,521 [s2@group-3DC97583639F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-3DC97583639F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:43,521 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-3DC97583639F-StateMachineUpdater: set stopIndex = 6
2024-01-17 16:15:43,521 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-3DC97583639F: applyIndex: 6
2024-01-17 16:15:43,521 [s0@group-3DC97583639F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-3DC97583639F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:44,517 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-3DC97583639F-SegmentedRaftLogWorker close()
2024-01-17 16:15:44,517 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-3DC97583639F-SegmentedRaftLogWorker close()
2024-01-17 16:15:44,517 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-3DC97583639F-SegmentedRaftLogWorker close()
2024-01-17 16:15:44,519 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:15:44,520 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:15:44,521 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:15:44,521 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2024-01-17 16:15:44,521 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:44,521 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:44,521 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:44,521 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:44,521 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:44,522 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-3DC97583639F-SegmentedRaftLog:CLOSED:c6, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-3DC97583639F-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-3DC97583639F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-3DC97583639F-SegmentedRaftLog:CLOSED:c5, conf=0: peers:[s0|localhost:15100, s1|localhost:15104, s2|localhost:15108]|listeners:[], old=null CLOSED
2024-01-17 16:15:44,522 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testListenerRejectRequestVote" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="1.297">
    <system-out><![CDATA[2024-01-17 16:15:44,523 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:15:44,523 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:15:44,523 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:15:44,523 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:15:44,523 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(134)) - Running runWithNewCluster
2024-01-17 16:15:44,523 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:15:44,524 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]
2024-01-17 16:15:44,524 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:15:44,524 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:15:44,524 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:44,524 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:15:44,524 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:15:44,524 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:15:44,524 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s3, group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120], format? true
2024-01-17 16:15:44,524 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3
2024-01-17 16:15:44,524 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3 does not exist.
2024-01-17 16:15:44,525 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3
2024-01-17 16:15:44,525 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:44,525 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:44,525 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:44,525 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:44,525 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:44,525 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3] (custom)
2024-01-17 16:15:44,525 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:44,525 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:44,526 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] returns group-C89196E3E457:java.util.concurrent.CompletableFuture@4287d9ff[Not completed]
2024-01-17 16:15:44,526 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s3: new RaftServerImpl for group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] with BaseStateMachine:uninitialized
2024-01-17 16:15:44,526 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s4, group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120], format? true
2024-01-17 16:15:44,526 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:44,526 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4
2024-01-17 16:15:44,526 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:44,526 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:44,526 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:44,526 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4 does not exist.
2024-01-17 16:15:44,526 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:44,526 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4
2024-01-17 16:15:44,526 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:44,526 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:44,526 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:44,526 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-C89196E3E457: ConfigurationManager, init=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:44,526 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:44,526 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:44,526 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:44,526 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:44,526 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:44,527 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:44,527 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:44,527 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:44,527 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:44,527 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:44,527 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4] (custom)
2024-01-17 16:15:44,527 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:44,527 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:44,527 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] returns group-C89196E3E457:java.util.concurrent.CompletableFuture@5e1c54ad[Not completed]
2024-01-17 16:15:44,527 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s4: new RaftServerImpl for group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] with BaseStateMachine:uninitialized
2024-01-17 16:15:44,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120], format? true
2024-01-17 16:15:44,527 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:44,527 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:44,527 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:44,528 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:44,528 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:44,527 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0
2024-01-17 16:15:44,528 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:44,528 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:44,528 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0 does not exist.
2024-01-17 16:15:44,528 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0
2024-01-17 16:15:44,528 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:44,528 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:44,528 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:44,528 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:44,528 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:44,528 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:44,528 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:44,528 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:44,528 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:44,528 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:44,528 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-C89196E3E457: ConfigurationManager, init=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:44,528 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:44,528 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:44,529 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:44,529 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0] (custom)
2024-01-17 16:15:44,529 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:44,529 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:44,529 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:44,529 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:44,529 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:44,529 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:44,529 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] returns group-C89196E3E457:java.util.concurrent.CompletableFuture@799dc1a6[Not completed]
2024-01-17 16:15:44,529 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] with BaseStateMachine:uninitialized
2024-01-17 16:15:44,529 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120], format? true
2024-01-17 16:15:44,530 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1
2024-01-17 16:15:44,530 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1 does not exist.
2024-01-17 16:15:44,530 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1
2024-01-17 16:15:44,530 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:44,530 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:44,530 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:44,530 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:44,530 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:44,530 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1] (custom)
2024-01-17 16:15:44,530 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:44,530 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:44,529 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:44,530 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:44,531 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:44,531 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:44,531 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:44,531 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:44,531 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:44,531 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:44,531 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:44,531 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:44,531 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:44,531 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:44,531 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:44,531 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-C89196E3E457: ConfigurationManager, init=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:44,531 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:44,531 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:44,532 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:44,532 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:44,532 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:44,532 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:44,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:44,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:44,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:44,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:44,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:44,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:44,533 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] returns group-C89196E3E457:java.util.concurrent.CompletableFuture@4afdc5be[Not completed]
2024-01-17 16:15:44,533 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] with BaseStateMachine:uninitialized
2024-01-17 16:15:44,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120], format? true
2024-01-17 16:15:44,533 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2
2024-01-17 16:15:44,533 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:44,533 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2 does not exist.
2024-01-17 16:15:44,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2
2024-01-17 16:15:44,533 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:44,533 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:44,533 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:44,533 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:44,534 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:44,534 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:44,534 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:44,534 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:44,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:44,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:44,534 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-C89196E3E457: ConfigurationManager, init=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:44,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:44,534 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:44,534 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:44,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2] (custom)
2024-01-17 16:15:44,534 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:44,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:44,534 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:44,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:44,534 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:44,534 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:44,535 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] returns group-C89196E3E457:java.util.concurrent.CompletableFuture@4f0bc570[Not completed]
2024-01-17 16:15:44,535 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:44,535 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-C89196E3E457:[s3|localhost:15124, s4|localhost:15128, s0|localhost:15112, s1|localhost:15116, s2|localhost:15120] with BaseStateMachine:uninitialized
2024-01-17 16:15:44,535 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:44,535 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:44,535 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3] (custom)
2024-01-17 16:15:44,535 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:44,535 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:44,535 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:44,535 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:44,535 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:44,535 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457 does not exist. Creating ...
2024-01-17 16:15:44,535 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:44,536 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457
2024-01-17 16:15:44,536 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-C89196E3E457: ConfigurationManager, init=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:44,536 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:44,536 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:44,536 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:44,536 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:44,536 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:44,536 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:44,536 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:44,536 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:44,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:44,537 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current
2024-01-17 16:15:44,537 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:44,537 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/sm
2024-01-17 16:15:44,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:44,537 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:44,537 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@49a818c3
2024-01-17 16:15:44,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:44,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:44,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:44,538 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:44,538 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457 has been successfully formatted.
2024-01-17 16:15:44,538 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:44,537 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:44,539 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:44,539 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:44,539 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:44,539 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:44,539 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,539 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:44,539 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:44,539 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-C89196E3E457-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s3@group-C89196E3E457-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:44,540 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:44,541 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:44,542 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,542 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:44,542 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:44,542 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:44,542 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-C89196E3E457-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:44,542 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-C89196E3E457-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:44,543 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(349)) - s3@group-C89196E3E457: start as a listener, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,543 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-C89196E3E457: changes role from      null to LISTENER at term 0 for startAsListener
2024-01-17 16:15:44,543 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-C89196E3E457-FollowerState
2024-01-17 16:15:44,543 [s3@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:44,543 [s3@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:44,543 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C89196E3E457,id=s3
2024-01-17 16:15:44,543 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C89196E3E457,id=s3
2024-01-17 16:15:44,543 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:44,543 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:44,543 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:44,544 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:44,544 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s3: start RPC server
2024-01-17 16:15:44,544 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-01-17 16:15:44,544 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:44,544 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:44,545 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4] (custom)
2024-01-17 16:15:44,545 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457 does not exist. Creating ...
2024-01-17 16:15:44,545 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457
2024-01-17 16:15:44,546 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:44,546 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current
2024-01-17 16:15:44,546 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/sm
2024-01-17 16:15:44,546 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5469a5eb
2024-01-17 16:15:44,547 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:44,547 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457 has been successfully formatted.
2024-01-17 16:15:44,547 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:44,547 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:44,547 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:44,547 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,547 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:44,547 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:44,548 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:44,548 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:44,548 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:44,548 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,548 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-C89196E3E457-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:44,548 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s4@group-C89196E3E457-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457
2024-01-17 16:15:44,548 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:44,548 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:44,548 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:44,548 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:44,548 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:44,548 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:44,549 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:44,549 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:44,549 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:44,550 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,550 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:44,550 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:44,550 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:44,550 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-C89196E3E457-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:44,550 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-C89196E3E457-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:44,550 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(349)) - s4@group-C89196E3E457: start as a listener, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,550 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s4@group-C89196E3E457: changes role from      null to LISTENER at term 0 for startAsListener
2024-01-17 16:15:44,551 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s4: start s4@group-C89196E3E457-FollowerState
2024-01-17 16:15:44,551 [s4@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:44,551 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C89196E3E457,id=s4
2024-01-17 16:15:44,551 [s4@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:44,551 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C89196E3E457,id=s4
2024-01-17 16:15:44,551 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:44,551 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:44,551 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:44,551 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:44,551 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s4: start RPC server
2024-01-17 16:15:44,552 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-01-17 16:15:44,552 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:44,552 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:44,552 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0] (custom)
2024-01-17 16:15:44,552 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457 does not exist. Creating ...
2024-01-17 16:15:44,552 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457
2024-01-17 16:15:44,553 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:44,553 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current
2024-01-17 16:15:44,553 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/sm
2024-01-17 16:15:44,553 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@70c0794c
2024-01-17 16:15:44,554 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:44,554 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457 has been successfully formatted.
2024-01-17 16:15:44,554 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:44,554 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:44,554 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:44,554 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,554 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:44,554 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:44,554 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:44,554 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-C89196E3E457-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-C89196E3E457-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:44,555 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:44,556 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,556 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:44,556 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:44,556 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:44,557 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C89196E3E457-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:44,557 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C89196E3E457-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:44,557 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-C89196E3E457: start as a follower, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,557 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-C89196E3E457: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:44,557 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-C89196E3E457-FollowerState
2024-01-17 16:15:44,557 [s0@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:44,557 [s0@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:44,557 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C89196E3E457,id=s0
2024-01-17 16:15:44,557 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C89196E3E457,id=s0
2024-01-17 16:15:44,557 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:44,557 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:44,557 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:44,557 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:44,557 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:15:44,558 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:15:44,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:44,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:44,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1] (custom)
2024-01-17 16:15:44,558 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457 does not exist. Creating ...
2024-01-17 16:15:44,558 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457
2024-01-17 16:15:44,559 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:44,559 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current
2024-01-17 16:15:44,559 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/sm
2024-01-17 16:15:44,559 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5c170d1a
2024-01-17 16:15:44,560 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:44,560 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457 has been successfully formatted.
2024-01-17 16:15:44,560 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:44,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:44,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:44,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:44,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:44,560 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-C89196E3E457-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-C89196E3E457-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:44,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C89196E3E457-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C89196E3E457-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-C89196E3E457: start as a follower, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-C89196E3E457: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-C89196E3E457-FollowerState
2024-01-17 16:15:44,563 [s1@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:44,563 [s1@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C89196E3E457,id=s1
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C89196E3E457,id=s1
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:44,563 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:44,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:44,564 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:44,564 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:15:44,564 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:15:44,564 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:44,564 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:44,565 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2] (custom)
2024-01-17 16:15:44,565 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457 does not exist. Creating ...
2024-01-17 16:15:44,565 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457
2024-01-17 16:15:44,565 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:44,566 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current
2024-01-17 16:15:44,566 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/sm
2024-01-17 16:15:44,566 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@534af9ee
2024-01-17 16:15:44,566 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:44,566 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457 has been successfully formatted.
2024-01-17 16:15:44,567 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:44,567 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:44,567 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:44,567 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,567 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:44,567 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:44,567 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:44,567 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:44,567 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:44,567 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,567 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-C89196E3E457-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:44,568 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-C89196E3E457-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457
2024-01-17 16:15:44,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:44,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:44,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:44,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:44,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:44,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:44,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:44,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:44,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:44,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:44,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:44,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:44,569 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C89196E3E457-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:44,569 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C89196E3E457-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:44,570 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-C89196E3E457: start as a follower, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,570 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-C89196E3E457: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:44,570 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-C89196E3E457-FollowerState
2024-01-17 16:15:44,570 [s2@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:44,570 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C89196E3E457,id=s2
2024-01-17 16:15:44,570 [s2@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:44,570 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C89196E3E457,id=s2
2024-01-17 16:15:44,570 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:44,570 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:44,570 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:44,570 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:44,570 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:15:44,571 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:15:44,571 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:44,571 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-C89196E3E457:t0, leader=null, voted=, raftlog=Memoized:s3@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-C89196E3E457:t0, leader=null, voted=, raftlog=Memoized:s4@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C89196E3E457:t0, leader=null, voted=, raftlog=Memoized:s0@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C89196E3E457:t0, leader=null, voted=, raftlog=Memoized:s1@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C89196E3E457:t0, leader=null, voted=, raftlog=Memoized:s2@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
2024-01-17 16:15:44,571 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-C89196E3E457:t0, leader=null, voted=, raftlog=Memoized:s3@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-C89196E3E457:t0, leader=null, voted=, raftlog=Memoized:s4@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C89196E3E457:t0, leader=null, voted=, raftlog=Memoized:s0@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C89196E3E457:t0, leader=null, voted=, raftlog=Memoized:s1@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C89196E3E457:t0, leader=null, voted=, raftlog=Memoized:s2@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
2024-01-17 16:15:44,766 [s3@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:44,767 [s3@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:44,773 [s0@group-C89196E3E457-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C89196E3E457-FollowerState: change to CANDIDATE, lastRpcElapsedTime:216317926ns, electionTimeout:216ms
2024-01-17 16:15:44,773 [s0@group-C89196E3E457-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-C89196E3E457-FollowerState
2024-01-17 16:15:44,773 [s0@group-C89196E3E457-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-C89196E3E457: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:15:44,774 [s0@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:44,774 [s0@group-C89196E3E457-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-C89196E3E457-LeaderElection21
2024-01-17 16:15:44,774 [s0@group-C89196E3E457-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-C89196E3E457-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,775 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:44,775 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:44,775 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-C89196E3E457: receive requestVote(PRE_VOTE, s0, group-C89196E3E457, 0, (t:0, i:0))
2024-01-17 16:15:44,776 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-C89196E3E457: receive requestVote(PRE_VOTE, s0, group-C89196E3E457, 0, (t:0, i:0))
2024-01-17 16:15:44,776 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C89196E3E457-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:44,776 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C89196E3E457-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:44,776 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-C89196E3E457 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-C89196E3E457:t0, leader=null, voted=, raftlog=Memoized:s1@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,776 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-C89196E3E457 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-C89196E3E457:t0, leader=null, voted=, raftlog=Memoized:s2@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,776 [s0@group-C89196E3E457-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C89196E3E457-LeaderElection21: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:44,776 [s0@group-C89196E3E457-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2024-01-17 16:15:44,776 [s0@group-C89196E3E457-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-C89196E3E457-LeaderElection21 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:44,776 [s0@group-C89196E3E457-LeaderElection21] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@73ceb51d
2024-01-17 16:15:44,777 [s0@group-C89196E3E457-LeaderElection21] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:44,777 [s0@group-C89196E3E457-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-C89196E3E457-LeaderElection21 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,777 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:44,777 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-C89196E3E457: receive requestVote(ELECTION, s0, group-C89196E3E457, 1, (t:0, i:0))
2024-01-17 16:15:44,778 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:44,778 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C89196E3E457-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:44,778 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-C89196E3E457: receive requestVote(ELECTION, s0, group-C89196E3E457, 1, (t:0, i:0))
2024-01-17 16:15:44,778 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-C89196E3E457: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:15:44,778 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C89196E3E457-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:44,778 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-C89196E3E457-FollowerState
2024-01-17 16:15:44,778 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-C89196E3E457: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:15:44,778 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-C89196E3E457-FollowerState
2024-01-17 16:15:44,778 [s1@group-C89196E3E457-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C89196E3E457-FollowerState was interrupted
2024-01-17 16:15:44,779 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-C89196E3E457-FollowerState
2024-01-17 16:15:44,779 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-C89196E3E457-FollowerState
2024-01-17 16:15:44,779 [s2@group-C89196E3E457-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C89196E3E457-FollowerState was interrupted
2024-01-17 16:15:44,779 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-C89196E3E457: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:15:44,779 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@25a7ce2d
2024-01-17 16:15:44,780 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:44,780 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-C89196E3E457 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-C89196E3E457:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,780 [s0@group-C89196E3E457-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C89196E3E457-LeaderElection21: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:44,780 [s0@group-C89196E3E457-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2024-01-17 16:15:44,780 [s0@group-C89196E3E457-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-C89196E3E457-LeaderElection21 ELECTION round 0: result PASSED
2024-01-17 16:15:44,780 [s0@group-C89196E3E457-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-C89196E3E457-LeaderElection21
2024-01-17 16:15:44,780 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-C89196E3E457: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:15:44,780 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:44,781 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:44,781 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:44,781 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:44,781 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:44,781 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:44,781 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:44,781 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:44,781 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:44,781 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:44,781 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:44,781 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:44,782 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,782 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:44,782 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:44,782 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:44,782 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,782 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:44,782 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:44,782 [s4@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:44,782 [s4@group-C89196E3E457-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:44,782 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-C89196E3E457: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:15:44,782 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:44,782 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,782 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:44,782 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2f947776
2024-01-17 16:15:44,782 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:44,783 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:44,783 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:44,783 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:44,783 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:44,783 [s0@group-C89196E3E457-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-C89196E3E457-LeaderStateImpl
2024-01-17 16:15:44,783 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-C89196E3E457: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:15:44,783 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-C89196E3E457: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 251ms
2024-01-17 16:15:44,783 [s0@group-C89196E3E457-LeaderElection21] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-C89196E3E457-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:44,783 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:44,783 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-C89196E3E457 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-C89196E3E457:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-C89196E3E457-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,784 [s0@group-C89196E3E457-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-C89196E3E457: set configuration 0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,785 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-C89196E3E457: change Leader from null to s0 at term 1 for appendEntries, leader elected after 250ms
2024-01-17 16:15:44,784 [s0@group-C89196E3E457-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:44,785 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-C89196E3E457: change Leader from null to s0 at term 1 for appendEntries, leader elected after 249ms
2024-01-17 16:15:44,786 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C89196E3E457: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:991, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15112"
dataStreamAddress: "localhost:15115"
clientAddress: "localhost:15114"
adminAddress: "localhost:15113"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15116"
dataStreamAddress: "localhost:15119"
clientAddress: "localhost:15118"
adminAddress: "localhost:15117"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15120"
dataStreamAddress: "localhost:15123"
clientAddress: "localhost:15122"
adminAddress: "localhost:15121"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:44,786 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-C89196E3E457: set configuration 0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,786 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-C89196E3E457-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:44,786 [s1@group-C89196E3E457-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:44,790 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C89196E3E457: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:992, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15112"
dataStreamAddress: "localhost:15115"
clientAddress: "localhost:15114"
adminAddress: "localhost:15113"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15116"
dataStreamAddress: "localhost:15119"
clientAddress: "localhost:15118"
adminAddress: "localhost:15117"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15120"
dataStreamAddress: "localhost:15123"
clientAddress: "localhost:15122"
adminAddress: "localhost:15121"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:44,790 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-C89196E3E457: set configuration 0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,790 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-C89196E3E457-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:44,790 [s2@group-C89196E3E457-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:44,794 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@36edafb7
2024-01-17 16:15:44,794 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@13a9c541
2024-01-17 16:15:44,801 [s1@group-C89196E3E457-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-C89196E3E457-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current/log_inprogress_0
2024-01-17 16:15:44,801 [s0@group-C89196E3E457-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-C89196E3E457-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current/log_inprogress_0
2024-01-17 16:15:44,802 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C89196E3E457: succeeded to handle AppendEntries. Reply: s0<-s1#991:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:44,802 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:44,802 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s3@group-C89196E3E457: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:15:44,802 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-C89196E3E457: change Leader from null to s0 at term 1 for appendEntries, leader elected after 275ms
2024-01-17 16:15:44,802 [s0@group-C89196E3E457-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@41f61c44
2024-01-17 16:15:44,802 [s2@group-C89196E3E457-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-C89196E3E457-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current/log_inprogress_0
2024-01-17 16:15:44,802 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:44,803 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s4@group-C89196E3E457: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:15:44,803 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s4@group-C89196E3E457: change Leader from null to s0 at term 1 for appendEntries, leader elected after 274ms
2024-01-17 16:15:44,803 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C89196E3E457: succeeded to handle AppendEntries. Reply: s0<-s2#992:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:44,803 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C89196E3E457: receive appendEntries(s0, 1, null, 0, false, commits:[s0:c0, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:993, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15112"
dataStreamAddress: "localhost:15115"
clientAddress: "localhost:15114"
adminAddress: "localhost:15113"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15116"
dataStreamAddress: "localhost:15119"
clientAddress: "localhost:15118"
adminAddress: "localhost:15117"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15120"
dataStreamAddress: "localhost:15123"
clientAddress: "localhost:15122"
adminAddress: "localhost:15121"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:44,803 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-C89196E3E457: set configuration 0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,804 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s3@group-C89196E3E457-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:44,804 [s3@group-C89196E3E457-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:44,805 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C89196E3E457: receive appendEntries(s0, 1, null, 0, false, commits:[s0:c0, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:994, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15112"
dataStreamAddress: "localhost:15115"
clientAddress: "localhost:15114"
adminAddress: "localhost:15113"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15116"
dataStreamAddress: "localhost:15119"
clientAddress: "localhost:15118"
adminAddress: "localhost:15117"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15120"
dataStreamAddress: "localhost:15123"
clientAddress: "localhost:15122"
adminAddress: "localhost:15121"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:44,805 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-C89196E3E457: set configuration 0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:44,805 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s4@group-C89196E3E457-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:44,805 [s4@group-C89196E3E457-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:44,807 [s0@group-C89196E3E457-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s0/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:44,807 [s0@group-C89196E3E457-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:15:44,816 [s3@group-C89196E3E457-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s3@group-C89196E3E457-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current/log_inprogress_0
2024-01-17 16:15:44,816 [s4@group-C89196E3E457-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s4@group-C89196E3E457-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current/log_inprogress_0
2024-01-17 16:15:44,816 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C89196E3E457: succeeded to handle AppendEntries. Reply: s0<-s3#993:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2024-01-17 16:15:44,816 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C89196E3E457: succeeded to handle AppendEntries. Reply: s0<-s4#994:OK-t1,SUCCESS,nextIndex=1,followerCommit=0,matchIndex=0
2024-01-17 16:15:44,817 [s3@group-C89196E3E457-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@96b7082
2024-01-17 16:15:44,817 [s4@group-C89196E3E457-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2afa697a
2024-01-17 16:15:44,818 [s3@group-C89196E3E457-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s3/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:44,818 [s4@group-C89196E3E457-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s4/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:44,878 [s1@group-C89196E3E457-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@42a92fda
2024-01-17 16:15:44,879 [s2@group-C89196E3E457-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2c6acd0c
2024-01-17 16:15:44,880 [s1@group-C89196E3E457-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s1/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:44,881 [s2@group-C89196E3E457-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc9acce8bd/s2/deba3e21-07e1-4789-85e2-c89196e3e457/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:45,022 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-C89196E3E457:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-C89196E3E457-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-C89196E3E457:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-C89196E3E457-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-C89196E3E457:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C89196E3E457-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C89196E3E457:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C89196E3E457-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C89196E3E457:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C89196E3E457-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
2024-01-17 16:15:45,022 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s3@group-C89196E3E457: receive requestVote(PRE_VOTE, s0, group-C89196E3E457, 2, (t:1, i:0))
2024-01-17 16:15:45,023 [Time-limited test] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C89196E3E457-LISTENER: reject PRE_VOTE from s0: this server is a listener, who is a non-voting member
2024-01-17 16:15:45,023 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s3@group-C89196E3E457 replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-C89196E3E457:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-C89196E3E457-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null
2024-01-17 16:15:45,023 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:45,023 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:45,023 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:45,023 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:45,023 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:45,023 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-C89196E3E457:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-C89196E3E457-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-C89196E3E457:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-C89196E3E457-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-C89196E3E457:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C89196E3E457-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C89196E3E457:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C89196E3E457-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C89196E3E457:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C89196E3E457-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15112, s1|localhost:15116, s2|localhost:15120]|listeners:[s3|localhost:15124, s4|localhost:15128], old=null RUNNING
2024-01-17 16:15:45,024 [MiniRaftCluster-38] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s3: close
2024-01-17 16:15:45,024 [MiniRaftCluster-39] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s4: close
2024-01-17 16:15:45,024 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s3@group-C89196E3E457: shutdown
2024-01-17 16:15:45,024 [MiniRaftCluster-40] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:15:45,024 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,025 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,025 [MiniRaftCluster-42] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:15:45,025 [MiniRaftCluster-41] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:15:45,025 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,026 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,025 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,025 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,026 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,024 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C89196E3E457,id=s3
2024-01-17 16:15:45,026 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,026 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,024 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s4@group-C89196E3E457: shutdown
2024-01-17 16:15:45,026 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C89196E3E457,id=s4
2024-01-17 16:15:45,026 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,026 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,026 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,027 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,024 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,027 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,027 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,027 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,027 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,027 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,027 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,026 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,026 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,026 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s4: shutdown s4@group-C89196E3E457-FollowerState
2024-01-17 16:15:45,026 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s3: shutdown s3@group-C89196E3E457-FollowerState
2024-01-17 16:15:45,027 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s3@group-C89196E3E457-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:45,026 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,026 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,026 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-C89196E3E457: shutdown
2024-01-17 16:15:45,028 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,028 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,025 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-C89196E3E457: shutdown
2024-01-17 16:15:45,028 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,028 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C89196E3E457,id=s2
2024-01-17 16:15:45,028 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-C89196E3E457-FollowerState
2024-01-17 16:15:45,028 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-C89196E3E457-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:45,025 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-C89196E3E457: shutdown
2024-01-17 16:15:45,028 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-C89196E3E457: applyIndex: 0
2024-01-17 16:15:45,028 [s2@group-C89196E3E457-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C89196E3E457-FollowerState was interrupted
2024-01-17 16:15:45,028 [s2@group-C89196E3E457-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-C89196E3E457-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:45,028 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C89196E3E457,id=s1
2024-01-17 16:15:45,029 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-C89196E3E457-FollowerState
2024-01-17 16:15:45,028 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s3@group-C89196E3E457: applyIndex: 0
2024-01-17 16:15:45,029 [s1@group-C89196E3E457-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C89196E3E457-FollowerState was interrupted
2024-01-17 16:15:45,030 [s0@group-C89196E3E457->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(90)) - s0@group-C89196E3E457->s2-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:79)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:156)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:45,031 [s3@group-C89196E3E457-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-C89196E3E457-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:45,027 [s3@group-C89196E3E457-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-C89196E3E457-FollowerState was interrupted
2024-01-17 16:15:45,027 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s4@group-C89196E3E457-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:45,027 [s4@group-C89196E3E457-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-C89196E3E457-FollowerState was interrupted
2024-01-17 16:15:45,027 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,027 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,027 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:45,031 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s4@group-C89196E3E457: applyIndex: 0
2024-01-17 16:15:45,029 [s0@group-C89196E3E457->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(90)) - s0@group-C89196E3E457->s1-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:79)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:156)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:45,029 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-C89196E3E457-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:45,032 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-C89196E3E457: applyIndex: 0
2024-01-17 16:15:45,028 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C89196E3E457,id=s0
2024-01-17 16:15:45,032 [s1@group-C89196E3E457-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-C89196E3E457-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:45,032 [s4@group-C89196E3E457-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-C89196E3E457-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:45,032 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-C89196E3E457-LeaderStateImpl
2024-01-17 16:15:45,032 [s0@group-C89196E3E457->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C89196E3E457->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:45,032 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-C89196E3E457-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:45,032 [s0@group-C89196E3E457->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C89196E3E457->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2024-01-17 16:15:45,032 [s0@group-C89196E3E457->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C89196E3E457->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:45,033 [s0@group-C89196E3E457->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C89196E3E457->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2024-01-17 16:15:45,033 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-C89196E3E457-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:45,033 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-C89196E3E457: applyIndex: 0
2024-01-17 16:15:45,033 [s0@group-C89196E3E457-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-C89196E3E457-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:45,803 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-C89196E3E457-SegmentedRaftLogWorker close()
2024-01-17 16:15:45,803 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-C89196E3E457-SegmentedRaftLogWorker close()
2024-01-17 16:15:45,804 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-C89196E3E457-SegmentedRaftLogWorker close()
2024-01-17 16:15:45,805 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:15:45,806 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:15:45,806 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:15:45,818 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s4@group-C89196E3E457-SegmentedRaftLogWorker close()
2024-01-17 16:15:45,818 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s3@group-C89196E3E457-SegmentedRaftLogWorker close()
2024-01-17 16:15:45,819 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-01-17 16:15:45,819 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-01-17 16:15:45,820 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testAddListener" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="1.536">
    <system-out><![CDATA[2024-01-17 16:15:45,820 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:15:45,820 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:15:45,820 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:15:45,820 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:15:45,821 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:15:45,821 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-01EA5DF8D2DB:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]
2024-01-17 16:15:45,821 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:15:45,821 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:15:45,821 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:45,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:15:45,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:15:45,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:15:45,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-01EA5DF8D2DB:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140], format? true
2024-01-17 16:15:45,822 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0
2024-01-17 16:15:45,822 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0 does not exist.
2024-01-17 16:15:45,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0
2024-01-17 16:15:45,822 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:45,822 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:45,822 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:45,822 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:45,822 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:45,823 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0] (custom)
2024-01-17 16:15:45,823 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:45,823 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:45,823 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-01EA5DF8D2DB:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140] returns group-01EA5DF8D2DB:java.util.concurrent.CompletableFuture@3426f95a[Not completed]
2024-01-17 16:15:45,823 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-01EA5DF8D2DB:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140] with BaseStateMachine:uninitialized
2024-01-17 16:15:45,823 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-01EA5DF8D2DB:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140], format? true
2024-01-17 16:15:45,824 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1
2024-01-17 16:15:45,824 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:45,824 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1 does not exist.
2024-01-17 16:15:45,824 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1
2024-01-17 16:15:45,824 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:45,824 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:45,824 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:45,824 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:45,824 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:45,824 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:45,824 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:45,824 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:45,825 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-01EA5DF8D2DB: ConfigurationManager, init=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:45,825 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:45,825 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:45,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:45,825 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:45,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:45,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:45,825 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:45,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1] (custom)
2024-01-17 16:15:45,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:45,825 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:45,825 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:45,825 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:45,826 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-01EA5DF8D2DB:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140] returns group-01EA5DF8D2DB:java.util.concurrent.CompletableFuture@409fd3e0[Not completed]
2024-01-17 16:15:45,826 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-01EA5DF8D2DB:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140], format? true
2024-01-17 16:15:45,826 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2
2024-01-17 16:15:45,826 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2 does not exist.
2024-01-17 16:15:45,826 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2
2024-01-17 16:15:45,826 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:45,826 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:45,826 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:45,826 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:45,826 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:45,827 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:45,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:45,827 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:45,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:45,827 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:45,827 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-01EA5DF8D2DB:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140] with BaseStateMachine:uninitialized
2024-01-17 16:15:45,827 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:45,827 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:45,827 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:45,827 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2] (custom)
2024-01-17 16:15:45,827 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:45,827 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:45,827 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:45,828 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:45,828 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:45,828 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:45,828 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:45,828 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-01EA5DF8D2DB: ConfigurationManager, init=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:45,828 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:45,828 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:45,828 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-01EA5DF8D2DB:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140] returns group-01EA5DF8D2DB:java.util.concurrent.CompletableFuture@250dece0[Not completed]
2024-01-17 16:15:45,828 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-01EA5DF8D2DB:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140] with BaseStateMachine:uninitialized
2024-01-17 16:15:45,828 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:45,828 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:45,828 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:45,828 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:45,828 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:45,828 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:45,828 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:45,828 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:45,828 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:45,828 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:45,829 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:45,829 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0] (custom)
2024-01-17 16:15:45,829 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:45,829 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:45,829 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db does not exist. Creating ...
2024-01-17 16:15:45,829 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-01EA5DF8D2DB: ConfigurationManager, init=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:45,829 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:45,829 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:45,829 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:45,829 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:45,829 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db
2024-01-17 16:15:45,829 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:45,829 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:45,829 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:45,830 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:45,830 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:45,830 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:45,830 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:45,830 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:45,830 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:45,830 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:45,830 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current
2024-01-17 16:15:45,830 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:45,830 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/sm
2024-01-17 16:15:45,830 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:45,830 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:45,830 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@473f720e
2024-01-17 16:15:45,831 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:45,831 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:45,831 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:45,831 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db has been successfully formatted.
2024-01-17 16:15:45,832 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:45,832 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:45,832 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:45,832 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:45,832 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:45,832 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:45,832 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:45,832 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:45,832 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:45,833 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:45,833 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-01EA5DF8D2DB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:45,833 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-01EA5DF8D2DB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db
2024-01-17 16:15:45,833 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:45,833 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:45,833 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:45,833 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:45,833 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:45,833 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:45,833 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:45,833 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:45,833 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:45,835 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:45,836 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:45,836 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:45,836 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:45,836 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-01EA5DF8D2DB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:45,836 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-01EA5DF8D2DB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:45,839 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-01EA5DF8D2DB: start as a follower, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:45,839 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-01EA5DF8D2DB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:45,840 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-01EA5DF8D2DB-FollowerState
2024-01-17 16:15:45,840 [s0@group-01EA5DF8D2DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:45,840 [s0@group-01EA5DF8D2DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:45,840 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01EA5DF8D2DB,id=s0
2024-01-17 16:15:45,840 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-01EA5DF8D2DB,id=s0
2024-01-17 16:15:45,840 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:45,840 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:45,840 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:45,840 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:45,841 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:15:45,844 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:45,844 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:45,844 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1] (custom)
2024-01-17 16:15:45,844 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db does not exist. Creating ...
2024-01-17 16:15:45,845 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db
2024-01-17 16:15:45,845 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:15:45,845 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:45,845 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current
2024-01-17 16:15:45,846 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/sm
2024-01-17 16:15:45,846 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@48d01159
2024-01-17 16:15:45,846 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:45,846 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db has been successfully formatted.
2024-01-17 16:15:45,846 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:45,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:45,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:45,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:45,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:45,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:45,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:45,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:45,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:45,847 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:45,848 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-01EA5DF8D2DB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:45,848 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-01EA5DF8D2DB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db
2024-01-17 16:15:45,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:45,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:45,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:45,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:45,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:45,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:45,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:45,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:45,848 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:45,849 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:45,849 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:45,849 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:45,849 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:45,850 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-01EA5DF8D2DB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:45,850 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-01EA5DF8D2DB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:45,850 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-01EA5DF8D2DB: start as a follower, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:45,850 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-01EA5DF8D2DB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:45,850 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-01EA5DF8D2DB-FollowerState
2024-01-17 16:15:45,850 [s1@group-01EA5DF8D2DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:45,850 [s1@group-01EA5DF8D2DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:45,850 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01EA5DF8D2DB,id=s1
2024-01-17 16:15:45,850 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-01EA5DF8D2DB,id=s1
2024-01-17 16:15:45,850 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:45,850 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:45,850 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:45,850 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:45,851 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:15:45,851 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:15:45,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:45,851 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:45,852 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2] (custom)
2024-01-17 16:15:45,852 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db does not exist. Creating ...
2024-01-17 16:15:45,852 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db
2024-01-17 16:15:45,853 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:45,853 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current
2024-01-17 16:15:45,853 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/sm
2024-01-17 16:15:45,853 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6d31fe99
2024-01-17 16:15:45,854 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:45,854 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db has been successfully formatted.
2024-01-17 16:15:45,854 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:45,854 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:45,854 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:45,855 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:45,855 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:45,855 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:45,855 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:45,855 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:45,855 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:45,855 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:45,858 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-01EA5DF8D2DB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:45,858 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-01EA5DF8D2DB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db
2024-01-17 16:15:45,858 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:45,858 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:45,858 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:45,858 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:45,858 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:45,858 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:45,858 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:45,858 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:45,858 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:45,860 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:45,860 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:45,860 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:45,860 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:45,860 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-01EA5DF8D2DB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:45,860 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-01EA5DF8D2DB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:45,860 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-01EA5DF8D2DB: start as a follower, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:45,860 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-01EA5DF8D2DB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:45,860 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-01EA5DF8D2DB-FollowerState
2024-01-17 16:15:45,861 [s2@group-01EA5DF8D2DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:45,861 [s2@group-01EA5DF8D2DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:45,861 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01EA5DF8D2DB,id=s2
2024-01-17 16:15:45,861 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-01EA5DF8D2DB,id=s2
2024-01-17 16:15:45,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:45,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:45,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:45,861 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:45,861 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:15:45,862 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:15:45,862 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:45,862 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-01EA5DF8D2DB:t0, leader=null, voted=, raftlog=Memoized:s0@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01EA5DF8D2DB:t0, leader=null, voted=, raftlog=Memoized:s1@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01EA5DF8D2DB:t0, leader=null, voted=, raftlog=Memoized:s2@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null RUNNING
2024-01-17 16:15:45,862 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-01EA5DF8D2DB:t0, leader=null, voted=, raftlog=Memoized:s0@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-01EA5DF8D2DB:t0, leader=null, voted=, raftlog=Memoized:s1@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01EA5DF8D2DB:t0, leader=null, voted=, raftlog=Memoized:s2@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null RUNNING
2024-01-17 16:15:46,035 [s1@group-01EA5DF8D2DB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-01EA5DF8D2DB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:185355086ns, electionTimeout:185ms
2024-01-17 16:15:46,035 [s1@group-01EA5DF8D2DB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-01EA5DF8D2DB-FollowerState
2024-01-17 16:15:46,035 [s1@group-01EA5DF8D2DB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-01EA5DF8D2DB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:15:46,036 [s1@group-01EA5DF8D2DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:46,036 [s1@group-01EA5DF8D2DB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-01EA5DF8D2DB-LeaderElection22
2024-01-17 16:15:46,036 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-01EA5DF8D2DB-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:46,037 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:46,037 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-01EA5DF8D2DB: receive requestVote(PRE_VOTE, s1, group-01EA5DF8D2DB, 0, (t:0, i:0))
2024-01-17 16:15:46,037 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-01EA5DF8D2DB: receive requestVote(PRE_VOTE, s1, group-01EA5DF8D2DB, 0, (t:0, i:0))
2024-01-17 16:15:46,037 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-01EA5DF8D2DB-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:46,037 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:46,037 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-01EA5DF8D2DB replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-01EA5DF8D2DB:t0, leader=null, voted=, raftlog=Memoized:s2@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:46,037 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-01EA5DF8D2DB-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:46,037 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-01EA5DF8D2DB replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-01EA5DF8D2DB:t0, leader=null, voted=, raftlog=Memoized:s0@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:46,037 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-01EA5DF8D2DB-LeaderElection22: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:46,037 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2024-01-17 16:15:46,037 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-01EA5DF8D2DB-LeaderElection22 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:46,038 [s1@group-01EA5DF8D2DB-LeaderElection22] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@19aca356
2024-01-17 16:15:46,038 [s1@group-01EA5DF8D2DB-LeaderElection22] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:46,038 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-01EA5DF8D2DB-LeaderElection22 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:46,039 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:46,039 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-01EA5DF8D2DB: receive requestVote(ELECTION, s1, group-01EA5DF8D2DB, 1, (t:0, i:0))
2024-01-17 16:15:46,039 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-01EA5DF8D2DB: receive requestVote(ELECTION, s1, group-01EA5DF8D2DB, 1, (t:0, i:0))
2024-01-17 16:15:46,039 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-01EA5DF8D2DB-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:46,039 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-01EA5DF8D2DB-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:46,039 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-01EA5DF8D2DB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-01-17 16:15:46,039 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-01EA5DF8D2DB-FollowerState
2024-01-17 16:15:46,039 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:46,039 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-01EA5DF8D2DB-FollowerState
2024-01-17 16:15:46,039 [s0@group-01EA5DF8D2DB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-01EA5DF8D2DB-FollowerState was interrupted
2024-01-17 16:15:46,039 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-01EA5DF8D2DB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-01-17 16:15:46,040 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-01EA5DF8D2DB-FollowerState
2024-01-17 16:15:46,040 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-01EA5DF8D2DB: set firstElectionSinceStartup to false for candidate:s1
2024-01-17 16:15:46,040 [s2@group-01EA5DF8D2DB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-01EA5DF8D2DB-FollowerState was interrupted
2024-01-17 16:15:46,040 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-01EA5DF8D2DB-FollowerState
2024-01-17 16:15:46,040 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@21069c7
2024-01-17 16:15:46,040 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-01EA5DF8D2DB: set firstElectionSinceStartup to false for candidate:s1
2024-01-17 16:15:46,040 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7474b776
2024-01-17 16:15:46,041 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:46,041 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-01EA5DF8D2DB replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-01EA5DF8D2DB:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:46,041 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:46,041 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-01EA5DF8D2DB-LeaderElection22: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:46,041 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-01EA5DF8D2DB replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-01EA5DF8D2DB:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:46,041 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2024-01-17 16:15:46,041 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-01EA5DF8D2DB-LeaderElection22 ELECTION round 0: result PASSED
2024-01-17 16:15:46,041 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-01EA5DF8D2DB-LeaderElection22
2024-01-17 16:15:46,041 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-01EA5DF8D2DB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:15:46,041 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:46,041 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:46,041 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:46,042 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:46,042 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:46,042 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:46,042 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:46,042 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:46,042 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:46,042 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:46,042 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:46,042 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:46,042 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:46,042 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:46,043 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:46,043 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:46,043 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:46,043 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:46,043 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:46,043 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-01EA5DF8D2DB-LeaderStateImpl
2024-01-17 16:15:46,043 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-01EA5DF8D2DB: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:15:46,043 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-01EA5DF8D2DB: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 215ms
2024-01-17 16:15:46,044 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-01EA5DF8D2DB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:46,044 [s1@group-01EA5DF8D2DB-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-01EA5DF8D2DB: set configuration 0: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:46,044 [s1@group-01EA5DF8D2DB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:46,045 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-01EA5DF8D2DB: change Leader from null to s1 at term 1 for appendEntries, leader elected after 220ms
2024-01-17 16:15:46,045 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-01EA5DF8D2DB: change Leader from null to s1 at term 1 for appendEntries, leader elected after 216ms
2024-01-17 16:15:46,048 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-01EA5DF8D2DB: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1083, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15132"
dataStreamAddress: "localhost:15135"
clientAddress: "localhost:15134"
adminAddress: "localhost:15133"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15136"
dataStreamAddress: "localhost:15139"
clientAddress: "localhost:15138"
adminAddress: "localhost:15137"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15140"
dataStreamAddress: "localhost:15143"
clientAddress: "localhost:15142"
adminAddress: "localhost:15141"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:46,048 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-01EA5DF8D2DB: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1084, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15132"
dataStreamAddress: "localhost:15135"
clientAddress: "localhost:15134"
adminAddress: "localhost:15133"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15136"
dataStreamAddress: "localhost:15139"
clientAddress: "localhost:15138"
adminAddress: "localhost:15137"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15140"
dataStreamAddress: "localhost:15143"
clientAddress: "localhost:15142"
adminAddress: "localhost:15141"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:46,049 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-01EA5DF8D2DB: set configuration 0: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:46,049 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-01EA5DF8D2DB: set configuration 0: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:46,049 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-01EA5DF8D2DB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:46,049 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-01EA5DF8D2DB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:46,049 [s2@group-01EA5DF8D2DB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:46,052 [s0@group-01EA5DF8D2DB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:46,052 [s1@group-01EA5DF8D2DB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-01EA5DF8D2DB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/log_inprogress_0
2024-01-17 16:15:46,062 [s2@group-01EA5DF8D2DB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-01EA5DF8D2DB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/log_inprogress_0
2024-01-17 16:15:46,063 [s0@group-01EA5DF8D2DB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-01EA5DF8D2DB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/log_inprogress_0
2024-01-17 16:15:46,063 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s2#1084:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:46,063 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s0#1083:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:46,063 [s1@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@53cc7905
2024-01-17 16:15:46,064 [s1@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:46,065 [s1@group-01EA5DF8D2DB-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:15:46,139 [s2@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@12d6bd92
2024-01-17 16:15:46,139 [s0@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@21c02ae7
2024-01-17 16:15:46,140 [s0@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:46,141 [s2@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:46,313 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-01EA5DF8D2DB:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-01EA5DF8D2DB:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01EA5DF8D2DB:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null RUNNING
2024-01-17 16:15:46,313 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:46,314 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-7E9345B80AFD: get 1113 returns []
2024-01-17 16:15:46,314 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s1@group-01EA5DF8D2DB: receive client request(RaftClientRequest:client-7E9345B80AFD->s1@group-01EA5DF8D2DB, cid=1113, seq=null, RW, message)
2024-01-17 16:15:46,315 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s1@group-01EA5DF8D2DB-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-7E9345B80AFD->s1@group-01EA5DF8D2DB, cid=1113, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1113@client-7E9345B80AFD
2024-01-17 16:15:46,315 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-01EA5DF8D2DB: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits:[s1:c0, s0:c0, s2:c0], cId:1114, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1113@client-7E9345B80AFD]
2024-01-17 16:15:46,315 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-01EA5DF8D2DB: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits:[s1:c0, s0:c0, s2:c0], cId:1115, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1113@client-7E9345B80AFD]
2024-01-17 16:15:46,316 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s2#1115:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:46,316 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s0#1114:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:46,316 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-01EA5DF8D2DB: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c0], cId:1116, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:46,316 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-7E9345B80AFD: add replied callId 1113
2024-01-17 16:15:46,316 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-01EA5DF8D2DB: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c0], cId:1117, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:46,317 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(463)) - Add new peers [s3]
2024-01-17 16:15:46,317 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s2#1116:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:46,317 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s3, group-01EA5DF8D2DB:[s3|localhost:15144, s0|localhost:15132, s1|localhost:15136, s2|localhost:15140], format? true
2024-01-17 16:15:46,317 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s0#1117:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:46,317 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3
2024-01-17 16:15:46,317 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3 does not exist.
2024-01-17 16:15:46,317 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3
2024-01-17 16:15:46,318 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:46,318 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:46,318 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:46,318 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:46,318 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:46,318 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3] (custom)
2024-01-17 16:15:46,318 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:46,318 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:46,318 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-01EA5DF8D2DB:[s3|localhost:15144, s0|localhost:15132, s1|localhost:15136, s2|localhost:15140] returns group-01EA5DF8D2DB:java.util.concurrent.CompletableFuture@5f6577e3[Not completed]
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s3: new RaftServerImpl for group-01EA5DF8D2DB:[s3|localhost:15144, s0|localhost:15132, s1|localhost:15136, s2|localhost:15140] with BaseStateMachine:uninitialized
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-01EA5DF8D2DB: ConfigurationManager, init=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[s3|localhost:15144], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:46,319 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:46,320 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:46,320 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:46,320 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:46,320 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:46,320 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:46,320 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:46,320 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:46,320 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:46,320 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3] (custom)
2024-01-17 16:15:46,320 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db does not exist. Creating ...
2024-01-17 16:15:46,320 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db
2024-01-17 16:15:46,321 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:46,321 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current
2024-01-17 16:15:46,321 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/sm
2024-01-17 16:15:46,321 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6fad4c2e
2024-01-17 16:15:46,322 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:46,322 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db has been successfully formatted.
2024-01-17 16:15:46,322 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:46,322 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:46,322 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:46,322 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-01EA5DF8D2DB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s3@group-01EA5DF8D2DB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:46,323 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:46,325 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:46,325 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:46,325 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:46,325 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:46,325 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-01EA5DF8D2DB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:46,325 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-01EA5DF8D2DB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:46,325 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(349)) - s3@group-01EA5DF8D2DB: start as a listener, conf=-1: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[s3|localhost:15144], old=null
2024-01-17 16:15:46,325 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-01EA5DF8D2DB: changes role from      null to LISTENER at term 0 for startAsListener
2024-01-17 16:15:46,325 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-01EA5DF8D2DB-FollowerState
2024-01-17 16:15:46,325 [s3@group-01EA5DF8D2DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:46,326 [s3@group-01EA5DF8D2DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:46,326 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-01EA5DF8D2DB,id=s3
2024-01-17 16:15:46,326 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-01EA5DF8D2DB,id=s3
2024-01-17 16:15:46,326 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:46,326 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:46,326 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:46,326 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:46,326 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s3: start RPC server
2024-01-17 16:15:46,327 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-01-17 16:15:46,327 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1273)) - s1@group-01EA5DF8D2DB: receive setConfiguration SetConfigurationRequest:client-7E9345B80AFD->s1@group-01EA5DF8D2DB, cid=1118, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0, s1, s2], listeners:[s3]
2024-01-17 16:15:46,327 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(490)) - s1@group-01EA5DF8D2DB-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-7E9345B80AFD->s1@group-01EA5DF8D2DB, cid=1118, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0, s1, s2], listeners:[s3]
2024-01-17 16:15:46,327 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:46,327 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:46,328 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:46,328 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:46,328 [s1@group-01EA5DF8D2DB->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:setAttemptedToInstallSnapshot(154)) - Follower s1@group-01EA5DF8D2DB->s3 acknowledged installing snapshot
2024-01-17 16:15:46,328 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6469826a
2024-01-17 16:15:46,329 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:46,329 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s3@group-01EA5DF8D2DB: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:15:46,329 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-01EA5DF8D2DB: change Leader from null to s1 at term 1 for appendEntries, leader elected after 10ms
2024-01-17 16:15:46,330 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-01EA5DF8D2DB: receive appendEntries(s1, 1, null, 2, true, commits:[s1:c2, s0:c1, s2:c1, s3:c-1], cId:1121, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15132"
dataStreamAddress: "localhost:15135"
clientAddress: "localhost:15134"
adminAddress: "localhost:15133"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15136"
dataStreamAddress: "localhost:15139"
clientAddress: "localhost:15138"
adminAddress: "localhost:15137"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15140"
dataStreamAddress: "localhost:15143"
clientAddress: "localhost:15142"
adminAddress: "localhost:15141"
startupRole: FOLLOWER
, old:), (t:1, i:1), STATEMACHINELOGENTRY, 1113@client-7E9345B80AFD, (t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:46,331 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-01EA5DF8D2DB: set configuration 0: peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[], old=null
2024-01-17 16:15:46,331 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s3@group-01EA5DF8D2DB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:46,331 [s3@group-01EA5DF8D2DB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:46,338 [s3@group-01EA5DF8D2DB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s3@group-01EA5DF8D2DB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/log_inprogress_0
2024-01-17 16:15:46,339 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s3#1121:OK-t1,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2024-01-17 16:15:46,339 [s3@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4f603206
2024-01-17 16:15:46,340 [s1@group-01EA5DF8D2DB-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-01EA5DF8D2DB: set configuration 3: peers:[s0, s1, s2]|listeners:[s3], old=peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[]
2024-01-17 16:15:46,340 [s3@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:46,341 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-01EA5DF8D2DB: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1, s3:c2], cId:1124, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15132"
dataStreamAddress: "localhost:15135"
clientAddress: "localhost:15134"
adminAddress: "localhost:15133"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15136"
dataStreamAddress: "localhost:15139"
clientAddress: "localhost:15138"
adminAddress: "localhost:15137"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15140"
dataStreamAddress: "localhost:15143"
clientAddress: "localhost:15142"
adminAddress: "localhost:15141"
startupRole: FOLLOWER
)]
2024-01-17 16:15:46,341 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-01EA5DF8D2DB: set configuration 3: peers:[s0|, s1|, s2|]|listeners:[s3|], old=peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[]
2024-01-17 16:15:46,341 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-01EA5DF8D2DB: receive appendEntries(s1, 1, (t:1, i:2), 2, false, commits:[s1:c2, s0:c1, s2:c1, s3:c2], cId:1123, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15132"
dataStreamAddress: "localhost:15135"
clientAddress: "localhost:15134"
adminAddress: "localhost:15133"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15136"
dataStreamAddress: "localhost:15139"
clientAddress: "localhost:15138"
adminAddress: "localhost:15137"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15140"
dataStreamAddress: "localhost:15143"
clientAddress: "localhost:15142"
adminAddress: "localhost:15141"
startupRole: FOLLOWER
)]
2024-01-17 16:15:46,342 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-01EA5DF8D2DB: set configuration 3: peers:[s0|, s1|, s2|]|listeners:[s3|], old=peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[]
2024-01-17 16:15:46,342 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s3#1124:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:46,342 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-01EA5DF8D2DB: receive appendEntries(s1, 1, (t:1, i:2), 2, false, commits:[s1:c2, s0:c1, s2:c1, s3:c2], cId:1122, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15132"
dataStreamAddress: "localhost:15135"
clientAddress: "localhost:15134"
adminAddress: "localhost:15133"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15136"
dataStreamAddress: "localhost:15139"
clientAddress: "localhost:15138"
adminAddress: "localhost:15137"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15140"
dataStreamAddress: "localhost:15143"
clientAddress: "localhost:15142"
adminAddress: "localhost:15141"
startupRole: FOLLOWER
)]
2024-01-17 16:15:46,342 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s2#1123:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:46,342 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-01EA5DF8D2DB: set configuration 3: peers:[s0|, s1|, s2|]|listeners:[s3|], old=peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[]
2024-01-17 16:15:46,343 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s0#1122:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:46,343 [s1@group-01EA5DF8D2DB-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-01EA5DF8D2DB: set configuration 5: peers:[s0, s1, s2]|listeners:[s3], old=null
2024-01-17 16:15:46,343 [s1@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@59341275
2024-01-17 16:15:46,343 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-01EA5DF8D2DB: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits:[s1:c3, s0:c2, s2:c2, s3:c2], cId:1125, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:46,343 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-01EA5DF8D2DB: set configuration 5: peers:[s0|, s1|, s2|]|listeners:[s3|], old=null
2024-01-17 16:15:46,344 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s0#1125:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:15:46,344 [s0@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2f07d0af
2024-01-17 16:15:46,344 [s1@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:46,344 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-01EA5DF8D2DB: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits:[s1:c3, s0:c2, s2:c2, s3:c2], cId:1126, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:46,345 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-01EA5DF8D2DB: set configuration 5: peers:[s0|, s1|, s2|]|listeners:[s3|], old=null
2024-01-17 16:15:46,345 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-7E9345B80AFD: add replied callId 1118
2024-01-17 16:15:46,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:46,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:46,345 [s1@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1c369737
2024-01-17 16:15:46,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:46,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:46,345 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:46,346 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s2#1126:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:15:46,346 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-01EA5DF8D2DB: receive appendEntries(s1, 1, (t:1, i:5), 5, false, commits:[s1:c5, s0:c3, s2:c2, s3:c2], cId:1128, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:15:46,346 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-01EA5DF8D2DB:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|, s1|, s2|]|listeners:[s3|], old=peers:[s0|localhost:15132, s1|localhost:15136, s2|localhost:15140]|listeners:[] RUNNING
  s0:  RUNNING  FOLLOWER s0@group-01EA5DF8D2DB:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|, s1|, s2|]|listeners:[s3|], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-01EA5DF8D2DB:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0, s1, s2]|listeners:[s3], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-01EA5DF8D2DB:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-01EA5DF8D2DB-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|, s1|, s2|]|listeners:[s3|], old=null RUNNING
2024-01-17 16:15:46,346 [s2@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1c1151b8
2024-01-17 16:15:46,346 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-01EA5DF8D2DB: receive appendEntries(s1, 1, (t:1, i:5), 5, false, commits:[s1:c5, s0:c3, s2:c3, s3:c2], cId:1129, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:15:46,347 [s0@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:46,347 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s2#1129:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:15:46,347 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-01EA5DF8D2DB: receive appendEntries(s1, 1, (t:1, i:3), 5, true, commits:[s1:c5, s0:c3, s2:c3, s3:c2], cId:1127, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:), (t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:15:46,347 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-01EA5DF8D2DB: set configuration 5: peers:[s0|, s1|, s2|]|listeners:[s3|], old=null
2024-01-17 16:15:46,347 [s1@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s1/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:46,347 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s0#1128:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:15:46,347 [s0@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2b384197
2024-01-17 16:15:46,348 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-01EA5DF8D2DB: succeeded to handle AppendEntries. Reply: s1<-s3#1127:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:15:46,348 [s2@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:46,348 [MiniRaftCluster-43] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s3: close
2024-01-17 16:15:46,348 [s2@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@182ed6e2
2024-01-17 16:15:46,348 [MiniRaftCluster-44] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:15:46,348 [s3@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@41a7d59a
2024-01-17 16:15:46,348 [s0@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s0/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:46,352 [MiniRaftCluster-45] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:15:46,352 [s2@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s2/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:46,352 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,352 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-01EA5DF8D2DB: shutdown
2024-01-17 16:15:46,352 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,352 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,352 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s3@group-01EA5DF8D2DB: shutdown
2024-01-17 16:15:46,352 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,352 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,352 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01EA5DF8D2DB,id=s0
2024-01-17 16:15:46,352 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-01EA5DF8D2DB-FollowerState
2024-01-17 16:15:46,352 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,352 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01EA5DF8D2DB,id=s3
2024-01-17 16:15:46,352 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s3: shutdown s3@group-01EA5DF8D2DB-FollowerState
2024-01-17 16:15:46,352 [MiniRaftCluster-46] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:15:46,353 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s3@group-01EA5DF8D2DB-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:15:46,353 [s3@group-01EA5DF8D2DB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-01EA5DF8D2DB-FollowerState was interrupted
2024-01-17 16:15:46,353 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-01EA5DF8D2DB-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:15:46,353 [s0@group-01EA5DF8D2DB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-01EA5DF8D2DB-FollowerState was interrupted
2024-01-17 16:15:46,354 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-01EA5DF8D2DB: applyIndex: 5
2024-01-17 16:15:46,354 [s3@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:46,354 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,354 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-01EA5DF8D2DB: shutdown
2024-01-17 16:15:46,354 [s3@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@45985976
2024-01-17 16:15:46,354 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01EA5DF8D2DB,id=s1
2024-01-17 16:15:46,354 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s1: shutdown s1@group-01EA5DF8D2DB-LeaderStateImpl
2024-01-17 16:15:46,354 [s0@group-01EA5DF8D2DB-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-01EA5DF8D2DB-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:46,354 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-01EA5DF8D2DB: shutdown
2024-01-17 16:15:46,355 [s1@group-01EA5DF8D2DB->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-01EA5DF8D2DB->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:46,354 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,355 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-01EA5DF8D2DB,id=s2
2024-01-17 16:15:46,355 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,355 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-01EA5DF8D2DB-FollowerState
2024-01-17 16:15:46,355 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,355 [s1@group-01EA5DF8D2DB->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-01EA5DF8D2DB->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:46,355 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,354 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,354 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,354 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,355 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,354 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-01EA5DF8D2DB-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:46,356 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,354 [s1@group-01EA5DF8D2DB->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-01EA5DF8D2DB->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:46,356 [s3@group-01EA5DF8D2DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6f3772ac/s3/37855413-348b-4444-a742-01ea5df8d2db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:46,355 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,356 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,356 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,356 [s2@group-01EA5DF8D2DB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-01EA5DF8D2DB-FollowerState was interrupted
2024-01-17 16:15:46,356 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-01EA5DF8D2DB-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:15:46,356 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,356 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,356 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s3@group-01EA5DF8D2DB: applyIndex: 5
2024-01-17 16:15:46,357 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-01EA5DF8D2DB: applyIndex: 5
2024-01-17 16:15:46,357 [s3@group-01EA5DF8D2DB-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-01EA5DF8D2DB-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:46,357 [s2@group-01EA5DF8D2DB-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-01EA5DF8D2DB-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:46,357 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,357 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,357 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:46,357 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-01EA5DF8D2DB-StateMachineUpdater: set stopIndex = 6
2024-01-17 16:15:46,358 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-01EA5DF8D2DB: applyIndex: 6
2024-01-17 16:15:46,358 [s1@group-01EA5DF8D2DB-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-01EA5DF8D2DB-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:47,348 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-01EA5DF8D2DB-SegmentedRaftLogWorker close()
2024-01-17 16:15:47,349 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-01EA5DF8D2DB-SegmentedRaftLogWorker close()
2024-01-17 16:15:47,348 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s3@group-01EA5DF8D2DB-SegmentedRaftLogWorker close()
2024-01-17 16:15:47,352 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:15:47,353 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-01-17 16:15:47,353 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-01EA5DF8D2DB-SegmentedRaftLogWorker close()
2024-01-17 16:15:47,353 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:15:47,353 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:15:47,354 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2024-01-17 16:15:47,354 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:47,354 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:47,354 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:47,354 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:47,354 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:47,354 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s3:   CLOSED  LISTENER s3@group-01EA5DF8D2DB:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-01EA5DF8D2DB-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|, s1|, s2|]|listeners:[s3|], old=null CLOSED
  s0:   CLOSED  FOLLOWER s0@group-01EA5DF8D2DB:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-01EA5DF8D2DB-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|, s1|, s2|]|listeners:[s3|], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-01EA5DF8D2DB:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-01EA5DF8D2DB-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0, s1, s2]|listeners:[s3], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-01EA5DF8D2DB:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-01EA5DF8D2DB-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|, s1|, s2|]|listeners:[s3|], old=null CLOSED
2024-01-17 16:15:47,356 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testTransferLeaderTimeout" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="6.506">
    <system-out><![CDATA[2024-01-17 16:15:47,356 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:15:47,356 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:15:47,356 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:15:47,356 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:15:47,356 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:15:47,357 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-E1C6B729A0B1:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]
2024-01-17 16:15:47,357 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:15:47,357 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:15:47,357 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:47,357 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:15:47,357 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:15:47,357 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:15:47,357 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-E1C6B729A0B1:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156], format? true
2024-01-17 16:15:47,357 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0
2024-01-17 16:15:47,357 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0 does not exist.
2024-01-17 16:15:47,357 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0
2024-01-17 16:15:47,357 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:47,358 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:47,358 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:47,358 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:47,358 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:47,358 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0] (custom)
2024-01-17 16:15:47,358 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:47,358 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:47,359 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-E1C6B729A0B1:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156] returns group-E1C6B729A0B1:java.util.concurrent.CompletableFuture@27741a76[Not completed]
2024-01-17 16:15:47,359 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-E1C6B729A0B1:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156] with BaseStateMachine:uninitialized
2024-01-17 16:15:47,359 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-E1C6B729A0B1:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156], format? true
2024-01-17 16:15:47,359 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1
2024-01-17 16:15:47,359 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:47,359 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1 does not exist.
2024-01-17 16:15:47,359 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1
2024-01-17 16:15:47,359 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:47,360 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:47,360 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:47,360 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:47,360 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:47,360 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:47,360 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:47,360 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:47,360 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:47,360 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-E1C6B729A0B1: ConfigurationManager, init=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:47,360 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:47,360 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:47,360 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:47,360 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:47,360 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:47,360 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1] (custom)
2024-01-17 16:15:47,360 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:47,361 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:47,361 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:47,361 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:47,362 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:47,362 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:47,362 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:47,362 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:47,362 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:47,361 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:47,363 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:47,364 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-E1C6B729A0B1:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156] returns group-E1C6B729A0B1:java.util.concurrent.CompletableFuture@535ef307[Not completed]
2024-01-17 16:15:47,364 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-E1C6B729A0B1:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156] with BaseStateMachine:uninitialized
2024-01-17 16:15:47,364 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-E1C6B729A0B1:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156], format? true
2024-01-17 16:15:47,364 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2
2024-01-17 16:15:47,364 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:47,364 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:47,364 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2 does not exist.
2024-01-17 16:15:47,364 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2
2024-01-17 16:15:47,364 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:47,364 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:47,364 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:47,364 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:47,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:47,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:47,365 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:47,365 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-E1C6B729A0B1: ConfigurationManager, init=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:47,365 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:47,365 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:47,365 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:47,365 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2] (custom)
2024-01-17 16:15:47,365 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:47,365 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:47,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:47,365 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:47,366 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:47,366 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:47,366 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:47,366 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:47,367 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:47,367 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:47,367 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:47,367 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:47,367 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:47,367 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:47,367 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-E1C6B729A0B1:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156] returns group-E1C6B729A0B1:java.util.concurrent.CompletableFuture@48607d7c[Not completed]
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-E1C6B729A0B1:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156] with BaseStateMachine:uninitialized
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:47,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:47,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:47,368 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0] (custom)
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:47,368 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1 does not exist. Creating ...
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-E1C6B729A0B1: ConfigurationManager, init=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:47,368 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:47,369 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:47,369 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1
2024-01-17 16:15:47,369 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:47,369 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:47,369 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:47,369 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:47,370 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current
2024-01-17 16:15:47,370 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:47,370 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/sm
2024-01-17 16:15:47,370 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:47,370 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:47,370 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1d49e675
2024-01-17 16:15:47,370 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:47,371 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:47,371 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1 has been successfully formatted.
2024-01-17 16:15:47,371 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:47,371 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:47,371 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:47,371 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:47,371 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:47,371 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:47,371 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:47,371 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:47,371 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:47,371 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:47,372 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-E1C6B729A0B1-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:47,372 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-E1C6B729A0B1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1
2024-01-17 16:15:47,372 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:47,372 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:47,372 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:47,372 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:47,372 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:47,372 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:47,372 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:47,372 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:47,372 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:47,373 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:47,373 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:47,373 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:47,373 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:47,374 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-E1C6B729A0B1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:47,374 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-E1C6B729A0B1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:47,374 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-E1C6B729A0B1: start as a follower, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:47,374 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-E1C6B729A0B1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:47,374 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-E1C6B729A0B1-FollowerState
2024-01-17 16:15:47,374 [s0@group-E1C6B729A0B1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:47,374 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C6B729A0B1,id=s0
2024-01-17 16:15:47,374 [s0@group-E1C6B729A0B1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:47,374 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E1C6B729A0B1,id=s0
2024-01-17 16:15:47,374 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:47,374 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:47,374 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:47,374 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:47,375 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:15:47,377 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:15:47,377 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:47,377 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:47,377 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1] (custom)
2024-01-17 16:15:47,377 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1 does not exist. Creating ...
2024-01-17 16:15:47,378 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1
2024-01-17 16:15:47,378 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:47,378 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current
2024-01-17 16:15:47,378 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/sm
2024-01-17 16:15:47,379 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6c460ee
2024-01-17 16:15:47,379 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:47,379 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1 has been successfully formatted.
2024-01-17 16:15:47,379 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-E1C6B729A0B1-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-E1C6B729A0B1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:47,380 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:47,381 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:47,382 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:47,382 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:47,382 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:47,382 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:47,382 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-E1C6B729A0B1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:47,382 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-E1C6B729A0B1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:47,382 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-E1C6B729A0B1: start as a follower, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:47,382 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-E1C6B729A0B1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:47,382 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-E1C6B729A0B1-FollowerState
2024-01-17 16:15:47,382 [s1@group-E1C6B729A0B1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:47,383 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C6B729A0B1,id=s1
2024-01-17 16:15:47,383 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E1C6B729A0B1,id=s1
2024-01-17 16:15:47,383 [s1@group-E1C6B729A0B1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:47,383 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:47,383 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:47,383 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:47,383 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:47,383 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:15:47,383 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:15:47,383 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:47,383 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:47,384 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2] (custom)
2024-01-17 16:15:47,384 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1 does not exist. Creating ...
2024-01-17 16:15:47,384 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1
2024-01-17 16:15:47,385 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:47,385 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current
2024-01-17 16:15:47,385 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/sm
2024-01-17 16:15:47,385 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@192babe6
2024-01-17 16:15:47,385 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:47,385 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1 has been successfully formatted.
2024-01-17 16:15:47,385 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-E1C6B729A0B1-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-E1C6B729A0B1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:47,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:47,387 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:47,387 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:47,387 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:47,387 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:47,387 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:47,387 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:47,388 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:47,388 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:47,388 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:47,388 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:47,388 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-E1C6B729A0B1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:47,388 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-E1C6B729A0B1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:47,388 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-E1C6B729A0B1: start as a follower, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:47,388 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-E1C6B729A0B1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:47,388 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-E1C6B729A0B1-FollowerState
2024-01-17 16:15:47,389 [s2@group-E1C6B729A0B1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:47,389 [s2@group-E1C6B729A0B1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:47,389 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C6B729A0B1,id=s2
2024-01-17 16:15:47,389 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-E1C6B729A0B1,id=s2
2024-01-17 16:15:47,389 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:47,389 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:47,389 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:47,389 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:47,389 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:15:47,394 [JvmPauseMonitor39] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:15:47,394 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:47,394 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E1C6B729A0B1:t0, leader=null, voted=, raftlog=Memoized:s0@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E1C6B729A0B1:t0, leader=null, voted=, raftlog=Memoized:s1@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E1C6B729A0B1:t0, leader=null, voted=, raftlog=Memoized:s2@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null RUNNING
2024-01-17 16:15:47,395 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E1C6B729A0B1:t0, leader=null, voted=, raftlog=Memoized:s0@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-E1C6B729A0B1:t0, leader=null, voted=, raftlog=Memoized:s1@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E1C6B729A0B1:t0, leader=null, voted=, raftlog=Memoized:s2@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null RUNNING
2024-01-17 16:15:47,534 [s1@group-E1C6B729A0B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-E1C6B729A0B1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:151366160ns, electionTimeout:151ms
2024-01-17 16:15:47,534 [s1@group-E1C6B729A0B1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-E1C6B729A0B1-FollowerState
2024-01-17 16:15:47,534 [s1@group-E1C6B729A0B1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-E1C6B729A0B1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:15:47,534 [s1@group-E1C6B729A0B1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:47,534 [s1@group-E1C6B729A0B1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-E1C6B729A0B1-LeaderElection23
2024-01-17 16:15:47,535 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-E1C6B729A0B1-LeaderElection23 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:47,535 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:47,535 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:47,535 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-E1C6B729A0B1: receive requestVote(PRE_VOTE, s1, group-E1C6B729A0B1, 0, (t:0, i:0))
2024-01-17 16:15:47,535 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-E1C6B729A0B1: receive requestVote(PRE_VOTE, s1, group-E1C6B729A0B1, 0, (t:0, i:0))
2024-01-17 16:15:47,535 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-E1C6B729A0B1-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:47,535 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-E1C6B729A0B1-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:47,535 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-E1C6B729A0B1 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-E1C6B729A0B1:t0, leader=null, voted=, raftlog=Memoized:s2@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:47,536 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-E1C6B729A0B1 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-E1C6B729A0B1:t0, leader=null, voted=, raftlog=Memoized:s0@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:47,536 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-E1C6B729A0B1-LeaderElection23: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:47,536 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2024-01-17 16:15:47,536 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-E1C6B729A0B1-LeaderElection23 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:47,536 [s1@group-E1C6B729A0B1-LeaderElection23] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1bb84276
2024-01-17 16:15:47,537 [s1@group-E1C6B729A0B1-LeaderElection23] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:47,537 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-E1C6B729A0B1-LeaderElection23 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:47,537 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:47,537 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:47,537 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-E1C6B729A0B1: receive requestVote(ELECTION, s1, group-E1C6B729A0B1, 1, (t:0, i:0))
2024-01-17 16:15:47,538 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-E1C6B729A0B1-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:47,538 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-E1C6B729A0B1: receive requestVote(ELECTION, s1, group-E1C6B729A0B1, 1, (t:0, i:0))
2024-01-17 16:15:47,538 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-E1C6B729A0B1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-01-17 16:15:47,538 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-E1C6B729A0B1-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:47,538 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-E1C6B729A0B1-FollowerState
2024-01-17 16:15:47,538 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-E1C6B729A0B1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-01-17 16:15:47,538 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-E1C6B729A0B1-FollowerState
2024-01-17 16:15:47,538 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-E1C6B729A0B1-FollowerState
2024-01-17 16:15:47,538 [s0@group-E1C6B729A0B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-E1C6B729A0B1-FollowerState was interrupted
2024-01-17 16:15:47,538 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-E1C6B729A0B1: set firstElectionSinceStartup to false for candidate:s1
2024-01-17 16:15:47,538 [s2@group-E1C6B729A0B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E1C6B729A0B1-FollowerState was interrupted
2024-01-17 16:15:47,538 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2a845e96
2024-01-17 16:15:47,539 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-E1C6B729A0B1-FollowerState
2024-01-17 16:15:47,539 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-E1C6B729A0B1: set firstElectionSinceStartup to false for candidate:s1
2024-01-17 16:15:47,539 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@644797b6
2024-01-17 16:15:47,539 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:47,539 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-E1C6B729A0B1 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-E1C6B729A0B1:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:47,539 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-E1C6B729A0B1-LeaderElection23: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:15:47,539 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-E1C6B729A0B1-LeaderElection23 ELECTION round 0: result PASSED
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-E1C6B729A0B1-LeaderElection23
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-E1C6B729A0B1: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:47,540 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:47,541 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:47,541 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:47,541 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:47,541 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:47,541 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:47,541 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:47,541 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:47,541 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-E1C6B729A0B1 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-E1C6B729A0B1:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:47,541 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:47,541 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-E1C6B729A0B1-LeaderStateImpl
2024-01-17 16:15:47,541 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-E1C6B729A0B1: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:15:47,541 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-E1C6B729A0B1: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 176ms
2024-01-17 16:15:47,541 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-E1C6B729A0B1-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:47,542 [s1@group-E1C6B729A0B1-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-E1C6B729A0B1: set configuration 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:47,542 [s1@group-E1C6B729A0B1-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:47,543 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-E1C6B729A0B1: change Leader from null to s1 at term 1 for appendEntries, leader elected after 174ms
2024-01-17 16:15:47,544 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-E1C6B729A0B1: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1198, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15148"
dataStreamAddress: "localhost:15151"
clientAddress: "localhost:15150"
adminAddress: "localhost:15149"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15152"
dataStreamAddress: "localhost:15155"
clientAddress: "localhost:15154"
adminAddress: "localhost:15153"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15156"
dataStreamAddress: "localhost:15159"
clientAddress: "localhost:15158"
adminAddress: "localhost:15157"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:47,544 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-E1C6B729A0B1: set configuration 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:47,544 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-E1C6B729A0B1-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:47,545 [s2@group-E1C6B729A0B1-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:47,545 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-E1C6B729A0B1: change Leader from null to s1 at term 1 for appendEntries, leader elected after 184ms
2024-01-17 16:15:47,546 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-E1C6B729A0B1: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1199, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15148"
dataStreamAddress: "localhost:15151"
clientAddress: "localhost:15150"
adminAddress: "localhost:15149"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15152"
dataStreamAddress: "localhost:15155"
clientAddress: "localhost:15154"
adminAddress: "localhost:15153"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15156"
dataStreamAddress: "localhost:15159"
clientAddress: "localhost:15158"
adminAddress: "localhost:15157"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:47,546 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-E1C6B729A0B1: set configuration 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:47,546 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-E1C6B729A0B1-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:47,546 [s0@group-E1C6B729A0B1-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:47,556 [s1@group-E1C6B729A0B1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-E1C6B729A0B1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/log_inprogress_0
2024-01-17 16:15:47,556 [s2@group-E1C6B729A0B1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-E1C6B729A0B1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/log_inprogress_0
2024-01-17 16:15:47,557 [s0@group-E1C6B729A0B1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-E1C6B729A0B1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/log_inprogress_0
2024-01-17 16:15:47,557 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-E1C6B729A0B1: succeeded to handle AppendEntries. Reply: s1<-s2#1198:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:47,557 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-E1C6B729A0B1: succeeded to handle AppendEntries. Reply: s1<-s0#1199:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:47,557 [s1@group-E1C6B729A0B1-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1c311281
2024-01-17 16:15:47,559 [s1@group-E1C6B729A0B1-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s1/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:47,559 [s1@group-E1C6B729A0B1-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:15:47,633 [s2@group-E1C6B729A0B1-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6d25cf1c
2024-01-17 16:15:47,635 [s2@group-E1C6B729A0B1-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s2/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:47,635 [s0@group-E1C6B729A0B1-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@313139c4
2024-01-17 16:15:47,636 [s0@group-E1C6B729A0B1-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc992e67e3/s0/01d62f33-7e52-4dfc-8347-e1c6b729a0b1/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:47,845 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E1C6B729A0B1:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E1C6B729A0B1:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E1C6B729A0B1:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null RUNNING
2024-01-17 16:15:47,846 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:47,847 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-0EAB317D2A3C: get 1229 returns []
2024-01-17 16:15:47,847 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s1@group-E1C6B729A0B1: receive client request(RaftClientRequest:client-0EAB317D2A3C->s1@group-E1C6B729A0B1, cid=1229, seq=null, RW, message)
2024-01-17 16:15:47,848 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s1@group-E1C6B729A0B1-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-0EAB317D2A3C->s1@group-E1C6B729A0B1, cid=1229, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1229@client-0EAB317D2A3C
2024-01-17 16:15:47,848 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-01-17 16:15:47,849 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-E1C6B729A0B1: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits:[s1:c0, s0:c0, s2:c0], cId:1231, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 1229@client-0EAB317D2A3C]
2024-01-17 16:15:47,849 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1164)) - s1@group-E1C6B729A0B1: receive transferLeadership TransferLeadershipRequest:client-0EAB317D2A3C->s1@group-E1C6B729A0B1, cid=1228, seq=null, RO, null
2024-01-17 16:15:47,849 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-E1C6B729A0B1: succeeded to handle AppendEntries. Reply: s1<-s2#1231:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:47,851 [s1-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(258)) - s1@group-E1C6B729A0B1: start transferring leadership to s0
2024-01-17 16:15:47,852 [s1-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(269)) - s1@group-E1C6B729A0B1: NOT_UP_TO_DATE(followerMatchIndex = 0 < leaderLastEntry.getIndex() = 1) notifying LogAppender to send AppendEntries to transferee s0
2024-01-17 16:15:47,855 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-0EAB317D2A3C: add replied callId 1229
2024-01-17 16:15:47,855 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-E1C6B729A0B1: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c0], cId:1232, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:47,855 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-E1C6B729A0B1: succeeded to handle AppendEntries. Reply: s1<-s2#1232:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:47,959 [s0@group-E1C6B729A0B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E1C6B729A0B1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:172604255ns, electionTimeout:168ms
2024-01-17 16:15:47,959 [s0@group-E1C6B729A0B1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-E1C6B729A0B1-FollowerState
2024-01-17 16:15:47,959 [s0@group-E1C6B729A0B1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-E1C6B729A0B1: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:47,959 [s0@group-E1C6B729A0B1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:47,959 [s0@group-E1C6B729A0B1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-E1C6B729A0B1-LeaderElection24
2024-01-17 16:15:47,959 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-E1C6B729A0B1: change Leader from s1 to null at term 1 for PRE_VOTE
2024-01-17 16:15:47,959 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:48,214 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:48,214 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 0: result TIMEOUT
2024-01-17 16:15:48,214 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 1: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:48,427 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:48,428 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 1: result TIMEOUT
2024-01-17 16:15:48,428 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 2: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:48,643 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:48,643 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 2: result TIMEOUT
2024-01-17 16:15:48,643 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 3: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:48,899 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:48,899 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 3: result TIMEOUT
2024-01-17 16:15:48,899 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 4: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:49,140 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:49,140 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 4: result TIMEOUT
2024-01-17 16:15:49,140 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 5: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:49,293 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:49,293 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 5: result TIMEOUT
2024-01-17 16:15:49,294 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 6: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:49,581 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:49,581 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 6: result TIMEOUT
2024-01-17 16:15:49,581 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 7: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:49,871 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:49,871 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 7: result TIMEOUT
2024-01-17 16:15:49,871 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 8: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:50,069 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:50,069 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 8: result TIMEOUT
2024-01-17 16:15:50,069 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 9: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:50,298 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:50,298 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 9: result TIMEOUT
2024-01-17 16:15:50,298 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 10: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:50,458 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:50,458 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 10: result TIMEOUT
2024-01-17 16:15:50,458 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 11: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:50,729 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:50,729 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 11: result TIMEOUT
2024-01-17 16:15:50,729 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 12: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:50,848 [s1@group-E1C6B729A0B1->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(90)) - s1@group-E1C6B729A0B1->s0-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@7a6b6f65
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:79)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:156)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:50,855 [ForkJoinPool.commonPool-worker-1] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-0EAB317D2A3C: suggested new leader: null. Failed TransferLeadershipRequest:client-0EAB317D2A3C->s1@group-E1C6B729A0B1, cid=1228, seq=null, RO, null with {}
java.io.IOException: Timeout while waiting for reply of request TransferLeadershipRequest:client-0EAB317D2A3C->s1@group-E1C6B729A0B1, cid=1228, seq=null, RO, null
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.transferLeadership(AdminImpl.java:54)
	at org.apache.ratis.client.api.AdminApi.transferLeadership(AdminApi.java:70)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testTransferLeaderTimeout$1(LeaderElectionTests.java:259)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1596)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175)
2024-01-17 16:15:50,856 [ForkJoinPool.commonPool-worker-1] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-0EAB317D2A3C: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:15:50,856 [ForkJoinPool.commonPool-worker-1] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-0EAB317D2A3C changes Leader from s1 to s2 for group-E1C6B729A0B1
java.io.IOException: Timeout while waiting for reply of request TransferLeadershipRequest:client-0EAB317D2A3C->s1@group-E1C6B729A0B1, cid=1228, seq=null, RO, null
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.transferLeadership(AdminImpl.java:54)
	at org.apache.ratis.client.api.AdminApi.transferLeadership(AdminApi.java:70)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testTransferLeaderTimeout$1(LeaderElectionTests.java:259)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1596)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175)
2024-01-17 16:15:50,874 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-01-17 16:15:50,930 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:50,930 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 12: result TIMEOUT
2024-01-17 16:15:50,930 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 13: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:50,958 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1164)) - s2@group-E1C6B729A0B1: receive transferLeadership TransferLeadershipRequest:client-0EAB317D2A3C->s2@group-E1C6B729A0B1, cid=1228, seq=null, RO, null
2024-01-17 16:15:50,959 [ForkJoinPool.commonPool-worker-1] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-0EAB317D2A3C: suggested new leader: s1. Failed TransferLeadershipRequest:client-0EAB317D2A3C->s2@group-E1C6B729A0B1, cid=1228, seq=null, RO, null with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-E1C6B729A0B1 is not the leader s1|localhost:15152
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:748)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:713)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:1169)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$26(RaftServerProxy.java:634)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$13(RaftServerImpl.java:867)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:50,959 [ForkJoinPool.commonPool-worker-1] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-0EAB317D2A3C: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:15:50,959 [ForkJoinPool.commonPool-worker-1] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-0EAB317D2A3C changes Leader from s2 to s1 for group-E1C6B729A0B1
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-E1C6B729A0B1 is not the leader s1|localhost:15152
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:748)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:713)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:1169)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$26(RaftServerProxy.java:634)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:118)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$13(RaftServerImpl.java:867)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:51,060 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1164)) - s1@group-E1C6B729A0B1: receive transferLeadership TransferLeadershipRequest:client-0EAB317D2A3C->s1@group-E1C6B729A0B1, cid=1228, seq=null, RO, null
2024-01-17 16:15:51,207 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:51,207 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 13: result TIMEOUT
2024-01-17 16:15:51,207 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 14: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:51,400 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:51,401 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 14: result TIMEOUT
2024-01-17 16:15:51,401 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 15: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:51,592 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:51,592 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 15: result TIMEOUT
2024-01-17 16:15:51,592 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 16: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:51,854 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:51,854 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 16: result TIMEOUT
2024-01-17 16:15:51,854 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 17: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:52,145 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:52,145 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 17: result TIMEOUT
2024-01-17 16:15:52,145 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 18: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:52,415 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:52,415 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 18: result TIMEOUT
2024-01-17 16:15:52,415 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 19: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:52,574 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:52,574 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 19: result TIMEOUT
2024-01-17 16:15:52,574 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 20: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:52,814 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2024-01-17 16:15:52,814 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 20: result TIMEOUT
2024-01-17 16:15:52,814 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 21: submit vote requests at term 1 for 0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null
2024-01-17 16:15:52,855 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-0EAB317D2A3C: get 1633 returns [1229]
2024-01-17 16:15:52,855 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s1@group-E1C6B729A0B1: receive client request(RaftClientRequest:client-0EAB317D2A3C->s1@group-E1C6B729A0B1, cid=1633, seq=null, RW, message)
2024-01-17 16:15:52,856 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s1@group-E1C6B729A0B1-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-0EAB317D2A3C->s1@group-E1C6B729A0B1, cid=1633, seq=null, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, 1633@client-0EAB317D2A3C
2024-01-17 16:15:52,856 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-E1C6B729A0B1: receive appendEntries(s1, 1, (t:1, i:2), 2, false, commits:[s1:c2, s0:c0, s2:c2], cId:1634, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 1633@client-0EAB317D2A3C]
2024-01-17 16:15:52,857 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-E1C6B729A0B1: succeeded to handle AppendEntries. Reply: s1<-s2#1634:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:52,858 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-0EAB317D2A3C: add replied callId 1633
2024-01-17 16:15:52,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:52,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:52,858 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-E1C6B729A0B1: receive appendEntries(s1, 1, (t:1, i:3), 3, false, commits:[s1:c3, s0:c0, s2:c2], cId:1635, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2024-01-17 16:15:52,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:52,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:52,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:52,858 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-E1C6B729A0B1:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-E1C6B729A0B1:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-E1C6B729A0B1:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-E1C6B729A0B1-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null RUNNING
2024-01-17 16:15:52,858 [MiniRaftCluster-51] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:15:52,858 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-E1C6B729A0B1: succeeded to handle AppendEntries. Reply: s1<-s2#1635:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:15:52,860 [MiniRaftCluster-52] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:15:52,860 [MiniRaftCluster-53] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:15:52,860 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-E1C6B729A0B1: shutdown
2024-01-17 16:15:52,860 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,860 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C6B729A0B1,id=s1
2024-01-17 16:15:52,860 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,861 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,861 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,860 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,861 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,861 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,861 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,861 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,860 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,860 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-E1C6B729A0B1: shutdown
2024-01-17 16:15:52,861 [HandlerDaemon-1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-01-17 16:15:52,861 [HandlerDaemon-2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-01-17 16:15:52,861 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,860 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,863 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,863 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,864 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,864 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:52,860 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-E1C6B729A0B1: shutdown
2024-01-17 16:15:52,860 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s1: shutdown s1@group-E1C6B729A0B1-LeaderStateImpl
2024-01-17 16:15:52,864 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C6B729A0B1,id=s2
2024-01-17 16:15:52,864 [s1@group-E1C6B729A0B1->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-E1C6B729A0B1->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:52,864 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-E1C6B729A0B1-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:52,861 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E1C6B729A0B1,id=s0
2024-01-17 16:15:52,864 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-E1C6B729A0B1-LeaderElection24
2024-01-17 16:15:52,864 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-E1C6B729A0B1-FollowerState
2024-01-17 16:15:52,865 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-E1C6B729A0B1-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:52,865 [s2@group-E1C6B729A0B1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-E1C6B729A0B1-FollowerState was interrupted
2024-01-17 16:15:52,865 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-E1C6B729A0B1-StateMachineUpdater: set stopIndex = 3
2024-01-17 16:15:52,865 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-E1C6B729A0B1: applyIndex: 3
2024-01-17 16:15:52,864 [s1@group-E1C6B729A0B1->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-E1C6B729A0B1->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2024-01-17 16:15:52,865 [s2@group-E1C6B729A0B1-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-E1C6B729A0B1-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:52,865 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-E1C6B729A0B1: applyIndex: 0
2024-01-17 16:15:52,865 [s0@group-E1C6B729A0B1-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-E1C6B729A0B1-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:52,865 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-E1C6B729A0B1-StateMachineUpdater: set stopIndex = 4
2024-01-17 16:15:52,865 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-E1C6B729A0B1: applyIndex: 4
2024-01-17 16:15:52,865 [s1@group-E1C6B729A0B1-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-E1C6B729A0B1-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:52,979 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-E1C6B729A0B1-LeaderElection24: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2024-01-17 16:15:52,980 [s0@group-E1C6B729A0B1-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-E1C6B729A0B1-LeaderElection24 PRE_VOTE round 21: result REJECTED
2024-01-17 16:15:53,559 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-E1C6B729A0B1-SegmentedRaftLogWorker close()
2024-01-17 16:15:53,560 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:15:53,859 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-E1C6B729A0B1-SegmentedRaftLogWorker close()
2024-01-17 16:15:53,860 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-E1C6B729A0B1-SegmentedRaftLogWorker close()
2024-01-17 16:15:53,860 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:15:53,860 [JvmPauseMonitor39] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:15:53,860 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2024-01-17 16:15:53,860 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:15:53,860 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:15:53,860 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:53,861 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:15:53,861 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:15:53,861 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:   CLOSED CANDIDATE s0@group-E1C6B729A0B1:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-E1C6B729A0B1-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-E1C6B729A0B1:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-E1C6B729A0B1-SegmentedRaftLog:CLOSED:c4, conf=0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-E1C6B729A0B1:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-E1C6B729A0B1-SegmentedRaftLog:CLOSED:c3, conf=0: peers:[s0|localhost:15148, s1|localhost:15152, s2|localhost:15156]|listeners:[], old=null CLOSED
2024-01-17 16:15:53,861 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testBasicLeaderElection" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="7.569">
    <system-out><![CDATA[2024-01-17 16:15:53,862 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:15:53,862 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:15:53,862 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:15:53,862 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:15:53,862 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testBasicLeaderElection(88)) - Running testBasicLeaderElection
2024-01-17 16:15:53,862 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:15:53,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]
2024-01-17 16:15:53,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:15:53,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:15:53,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:15:53,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:15:53,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:15:53,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:15:53,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s3, group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168], format? true
2024-01-17 16:15:53,863 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3
2024-01-17 16:15:53,863 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3 does not exist.
2024-01-17 16:15:53,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3
2024-01-17 16:15:53,863 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:53,863 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:53,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:53,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:53,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:53,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3] (custom)
2024-01-17 16:15:53,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:53,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:53,864 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] returns group-762FD8E59C5F:java.util.concurrent.CompletableFuture@1a700955[Not completed]
2024-01-17 16:15:53,864 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s3: new RaftServerImpl for group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] with BaseStateMachine:uninitialized
2024-01-17 16:15:53,864 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s4, group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168], format? true
2024-01-17 16:15:53,864 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4
2024-01-17 16:15:53,864 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:53,865 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4 does not exist.
2024-01-17 16:15:53,865 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4
2024-01-17 16:15:53,865 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:53,865 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:53,865 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:53,865 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:53,865 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:53,865 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:53,865 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:53,865 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:53,865 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:53,865 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-762FD8E59C5F: ConfigurationManager, init=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:53,865 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:53,865 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:53,865 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:53,865 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:53,865 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:53,865 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4] (custom)
2024-01-17 16:15:53,865 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:53,866 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:53,866 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:53,866 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:53,866 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:53,866 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] returns group-762FD8E59C5F:java.util.concurrent.CompletableFuture@6e67de93[Not completed]
2024-01-17 16:15:53,866 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s4: new RaftServerImpl for group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] with BaseStateMachine:uninitialized
2024-01-17 16:15:53,866 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168], format? true
2024-01-17 16:15:53,866 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0
2024-01-17 16:15:53,866 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:53,866 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0 does not exist.
2024-01-17 16:15:53,867 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0
2024-01-17 16:15:53,867 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:53,866 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:53,867 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:53,867 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:53,867 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:53,867 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:53,867 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:53,867 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:53,867 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:53,867 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:53,867 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-762FD8E59C5F: ConfigurationManager, init=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:53,867 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:53,867 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:53,867 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:53,867 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:53,867 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:53,868 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:53,868 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:53,868 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:53,868 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:53,868 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0] (custom)
2024-01-17 16:15:53,868 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:53,867 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:53,868 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:53,868 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:53,868 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:53,868 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:53,868 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] returns group-762FD8E59C5F:java.util.concurrent.CompletableFuture@71cc1f89[Not completed]
2024-01-17 16:15:53,869 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168], format? true
2024-01-17 16:15:53,869 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1
2024-01-17 16:15:53,869 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1 does not exist.
2024-01-17 16:15:53,869 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1
2024-01-17 16:15:53,869 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:53,869 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:53,869 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:53,869 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:53,869 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:53,869 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:53,869 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:53,869 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:53,869 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:53,869 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:53,869 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:53,869 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1] (custom)
2024-01-17 16:15:53,869 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:53,870 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:53,870 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] with BaseStateMachine:uninitialized
2024-01-17 16:15:53,870 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:53,870 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:53,870 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] returns group-762FD8E59C5F:java.util.concurrent.CompletableFuture@3b13a0cc[Not completed]
2024-01-17 16:15:53,870 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] with BaseStateMachine:uninitialized
2024-01-17 16:15:53,870 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168], format? true
2024-01-17 16:15:53,870 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:53,870 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:53,870 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:53,870 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:53,870 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:53,870 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:53,870 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2
2024-01-17 16:15:53,870 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:53,870 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:53,870 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:53,870 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2 does not exist.
2024-01-17 16:15:53,871 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2
2024-01-17 16:15:53,870 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:53,871 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:15:53,870 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:53,871 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:53,871 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:15:53,871 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-762FD8E59C5F: ConfigurationManager, init=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:53,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:53,871 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:53,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:15:53,871 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:53,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:53,871 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-762FD8E59C5F: ConfigurationManager, init=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:53,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2] (custom)
2024-01-17 16:15:53,871 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:53,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:15:53,871 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:53,872 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:15:53,872 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:53,872 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:53,872 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:53,872 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:53,872 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:53,872 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:53,872 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:53,872 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] returns group-762FD8E59C5F:java.util.concurrent.CompletableFuture@4e465d2[Not completed]
2024-01-17 16:15:53,873 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-762FD8E59C5F:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168] with BaseStateMachine:uninitialized
2024-01-17 16:15:53,873 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:53,873 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:53,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:53,873 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:53,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:53,873 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:53,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:15:53,873 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3] (custom)
2024-01-17 16:15:53,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:15:53,873 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:53,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:15:53,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:15:53,873 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f does not exist. Creating ...
2024-01-17 16:15:53,873 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f
2024-01-17 16:15:53,873 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:53,873 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:15:53,874 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-762FD8E59C5F: ConfigurationManager, init=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:15:53,874 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:53,874 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:15:53,874 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:53,874 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:15:53,874 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:53,874 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:15:53,874 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:53,874 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:15:53,874 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current
2024-01-17 16:15:53,874 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:15:53,874 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:15:53,875 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/sm
2024-01-17 16:15:53,875 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@528df7c
2024-01-17 16:15:53,875 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:53,875 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:53,875 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:53,875 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:53,875 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:53,875 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:53,876 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f has been successfully formatted.
2024-01-17 16:15:53,875 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:53,876 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:53,876 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:53,876 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:53,876 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,876 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:53,876 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:53,876 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:53,876 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:53,876 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:53,876 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,876 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-762FD8E59C5F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:53,876 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s3@group-762FD8E59C5F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:53,877 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:53,877 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:53,877 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:53,877 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:53,877 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:15:53,877 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:53,877 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:53,878 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-762FD8E59C5F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:53,878 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-762FD8E59C5F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:53,878 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s3@group-762FD8E59C5F: start as a follower, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:53,878 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-762FD8E59C5F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:53,878 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:53,878 [s3@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:53,878 [s3@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:53,878 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s3
2024-01-17 16:15:53,878 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s3
2024-01-17 16:15:53,878 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:53,878 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:53,878 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:53,878 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:53,878 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s3: start RPC server
2024-01-17 16:15:53,879 [JvmPauseMonitor40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-01-17 16:15:53,879 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:53,879 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:53,879 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4] (custom)
2024-01-17 16:15:53,880 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f does not exist. Creating ...
2024-01-17 16:15:53,880 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f
2024-01-17 16:15:53,881 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:53,881 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current
2024-01-17 16:15:53,881 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/sm
2024-01-17 16:15:53,881 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@730e9a3d
2024-01-17 16:15:53,882 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:53,882 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f has been successfully formatted.
2024-01-17 16:15:53,882 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:53,882 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:53,882 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:53,882 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,882 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:53,882 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-762FD8E59C5F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s4@group-762FD8E59C5F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:53,883 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-762FD8E59C5F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-762FD8E59C5F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s4@group-762FD8E59C5F: start as a follower, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s4@group-762FD8E59C5F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s4: start s4@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:53,884 [s4@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s4
2024-01-17 16:15:53,884 [s4@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s4
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:53,884 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:53,885 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s4: start RPC server
2024-01-17 16:15:53,885 [JvmPauseMonitor41] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-01-17 16:15:53,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:53,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:53,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0] (custom)
2024-01-17 16:15:53,885 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f does not exist. Creating ...
2024-01-17 16:15:53,886 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f
2024-01-17 16:15:53,886 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:53,886 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current
2024-01-17 16:15:53,886 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/sm
2024-01-17 16:15:53,886 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2f2f904d
2024-01-17 16:15:53,887 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:53,887 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f has been successfully formatted.
2024-01-17 16:15:53,887 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:53,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:53,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:53,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:53,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-762FD8E59C5F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-762FD8E59C5F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:53,888 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:53,889 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,889 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:53,889 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:53,889 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:53,890 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-762FD8E59C5F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:53,890 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-762FD8E59C5F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:53,890 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-762FD8E59C5F: start as a follower, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:53,890 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:53,890 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:53,890 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:53,890 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s0
2024-01-17 16:15:53,890 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:53,890 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s0
2024-01-17 16:15:53,890 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:53,890 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:53,890 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:53,890 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:53,891 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:15:53,891 [JvmPauseMonitor42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:15:53,891 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:53,891 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:53,891 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1] (custom)
2024-01-17 16:15:53,892 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f does not exist. Creating ...
2024-01-17 16:15:53,892 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f
2024-01-17 16:15:53,892 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:53,892 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current
2024-01-17 16:15:53,892 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/sm
2024-01-17 16:15:53,893 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3afec336
2024-01-17 16:15:53,893 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:53,893 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f has been successfully formatted.
2024-01-17 16:15:53,893 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:53,893 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:53,893 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-762FD8E59C5F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-762FD8E59C5F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:53,894 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:53,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:53,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:53,895 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:53,895 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-762FD8E59C5F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:53,895 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-762FD8E59C5F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:53,895 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-762FD8E59C5F: start as a follower, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:53,895 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:53,895 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:53,895 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:53,895 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:53,895 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s1
2024-01-17 16:15:53,896 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s1
2024-01-17 16:15:53,896 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:53,896 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:53,896 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:53,896 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:53,896 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:15:53,896 [JvmPauseMonitor43] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:15:53,896 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:15:53,896 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:15:53,897 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2] (custom)
2024-01-17 16:15:53,897 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f does not exist. Creating ...
2024-01-17 16:15:53,897 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f
2024-01-17 16:15:53,897 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:15:53,897 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current
2024-01-17 16:15:53,897 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/sm
2024-01-17 16:15:53,898 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5bda37c7
2024-01-17 16:15:53,898 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:53,898 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f has been successfully formatted.
2024-01-17 16:15:53,898 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-762FD8E59C5F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-762FD8E59C5F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:15:53,899 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:15:53,901 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:53,901 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:15:53,901 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:15:53,901 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:15:53,901 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-762FD8E59C5F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:53,901 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-762FD8E59C5F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:15:53,903 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-762FD8E59C5F: start as a follower, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:53,903 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-762FD8E59C5F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:15:53,903 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:53,903 [s2@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:53,903 [s2@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:53,903 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s2
2024-01-17 16:15:53,903 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s2
2024-01-17 16:15:53,903 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:15:53,903 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:15:53,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:15:53,904 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:15:53,904 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:15:53,904 [JvmPauseMonitor44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:15:53,905 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:53,905 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
2024-01-17 16:15:53,905 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
2024-01-17 16:15:54,119 [s2@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:216392740ns, electionTimeout:216ms
2024-01-17 16:15:54,120 [s2@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,120 [s2@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:15:54,120 [s2@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:54,120 [s2@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-762FD8E59C5F-LeaderElection25
2024-01-17 16:15:54,121 [s2@group-762FD8E59C5F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-762FD8E59C5F-LeaderElection25 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,121 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s3@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s2, group-762FD8E59C5F, 0, (t:0, i:0))
2024-01-17 16:15:54,121 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s4@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s2, group-762FD8E59C5F, 0, (t:0, i:0))
2024-01-17 16:15:54,121 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,121 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:54,121 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s3@group-762FD8E59C5F replies to PRE_VOTE vote request: s2<-s3#0:OK-t0. Peer's state: s3@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,121 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:54,122 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s2, group-762FD8E59C5F, 0, (t:0, i:0))
2024-01-17 16:15:54,122 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s2, group-762FD8E59C5F, 0, (t:0, i:0))
2024-01-17 16:15:54,122 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,122 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,122 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,122 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,121 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,122 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s4@group-762FD8E59C5F replies to PRE_VOTE vote request: s2<-s4#0:OK-t0. Peer's state: s4@group-762FD8E59C5F:t0, leader=null, voted=, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,122 [s2@group-762FD8E59C5F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-762FD8E59C5F-LeaderElection25: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:54,122 [s2@group-762FD8E59C5F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s3#0:OK-t0
2024-01-17 16:15:54,122 [s2@group-762FD8E59C5F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:OK-t0
2024-01-17 16:15:54,122 [s2@group-762FD8E59C5F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-762FD8E59C5F-LeaderElection25 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:54,122 [s2@group-762FD8E59C5F-LeaderElection25] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@72603aaf
2024-01-17 16:15:54,123 [s2@group-762FD8E59C5F-LeaderElection25] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:54,123 [s2@group-762FD8E59C5F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-762FD8E59C5F-LeaderElection25 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,124 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s3@group-762FD8E59C5F: receive requestVote(ELECTION, s2, group-762FD8E59C5F, 1, (t:0, i:0))
2024-01-17 16:15:54,124 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s4@group-762FD8E59C5F: receive requestVote(ELECTION, s2, group-762FD8E59C5F, 1, (t:0, i:0))
2024-01-17 16:15:54,127 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:15:54,127 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-762FD8E59C5F-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,127 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:15:54,127 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-762FD8E59C5F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:15:54,127 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(ELECTION, s2, group-762FD8E59C5F, 1, (t:0, i:0))
2024-01-17 16:15:54,127 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(ELECTION, s2, group-762FD8E59C5F, 1, (t:0, i:0))
2024-01-17 16:15:54,127 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,128 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,128 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:15:54,128 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:15:54,128 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,128 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,127 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-762FD8E59C5F-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,128 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-762FD8E59C5F-FollowerState was interrupted
2024-01-17 16:15:54,128 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-762FD8E59C5F-FollowerState was interrupted
2024-01-17 16:15:54,127 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s3: shutdown s3@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,128 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,128 [s3@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-762FD8E59C5F-FollowerState was interrupted
2024-01-17 16:15:54,128 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s4@group-762FD8E59C5F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:15:54,128 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-762FD8E59C5F: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:15:54,128 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,128 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s4: shutdown s4@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,129 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-762FD8E59C5F: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:15:54,128 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,129 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@39d8c91
2024-01-17 16:15:54,129 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s3@group-762FD8E59C5F: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:15:54,129 [s4@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-762FD8E59C5F-FollowerState was interrupted
2024-01-17 16:15:54,129 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4a3dbc02
2024-01-17 16:15:54,129 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7af74a4a
2024-01-17 16:15:54,130 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s4: start s4@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,130 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:54,130 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s4@group-762FD8E59C5F: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:15:54,130 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:54,130 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3dfc8b5c
2024-01-17 16:15:54,130 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-762FD8E59C5F:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,130 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-762FD8E59C5F:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,130 [s2@group-762FD8E59C5F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-762FD8E59C5F-LeaderElection25: ELECTION PASSED received 2 response(s) and 0 exception(s):
2024-01-17 16:15:54,130 [s2@group-762FD8E59C5F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2024-01-17 16:15:54,130 [s2@group-762FD8E59C5F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:OK-t1
2024-01-17 16:15:54,130 [s2@group-762FD8E59C5F-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-762FD8E59C5F-LeaderElection25 ELECTION round 0: result PASSED
2024-01-17 16:15:54,131 [s2@group-762FD8E59C5F-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-762FD8E59C5F-LeaderElection25
2024-01-17 16:15:54,131 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-762FD8E59C5F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:15:54,131 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:54,131 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:54,131 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:54,131 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:54,131 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:54,131 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:54,131 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:54,131 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s3@group-762FD8E59C5F replies to ELECTION vote request: s2<-s3#0:OK-t1. Peer's state: s3@group-762FD8E59C5F:t1, leader=null, voted=s2, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,131 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:54,132 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:54,132 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:54,132 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:54,132 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:54,132 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:54,133 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:54,133 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:54,133 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:54,133 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:54,133 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:54,133 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:54,133 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:54,133 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:54,134 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:54,134 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:54,134 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:54,134 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:54,134 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:54,134 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:54,134 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:54,134 [s2@group-762FD8E59C5F-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-762FD8E59C5F-LeaderStateImpl
2024-01-17 16:15:54,134 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-762FD8E59C5F: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:15:54,134 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-762FD8E59C5F: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 260ms
2024-01-17 16:15:54,132 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:54,135 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s4@group-762FD8E59C5F replies to ELECTION vote request: s2<-s4#0:OK-t1. Peer's state: s4@group-762FD8E59C5F:t1, leader=null, voted=s2, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,135 [s2@group-762FD8E59C5F-LeaderElection25] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-762FD8E59C5F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:54,135 [s2@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:54,143 [s2@group-762FD8E59C5F-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-762FD8E59C5F: set configuration 0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,143 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-762FD8E59C5F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 272ms
2024-01-17 16:15:54,143 [s2@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-762FD8E59C5F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0
2024-01-17 16:15:54,143 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-762FD8E59C5F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 278ms
2024-01-17 16:15:54,148 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-762FD8E59C5F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 276ms
2024-01-17 16:15:54,148 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s4@group-762FD8E59C5F: change Leader from null to s2 at term 1 for appendEntries, leader elected after 280ms
2024-01-17 16:15:54,148 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-762FD8E59C5F: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s3:c-1, s4:c-1, s0:c-1, s1:c-1], cId:1712, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15172"
dataStreamAddress: "localhost:15175"
clientAddress: "localhost:15174"
adminAddress: "localhost:15173"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15176"
dataStreamAddress: "localhost:15179"
clientAddress: "localhost:15178"
adminAddress: "localhost:15177"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15160"
dataStreamAddress: "localhost:15163"
clientAddress: "localhost:15162"
adminAddress: "localhost:15161"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15164"
dataStreamAddress: "localhost:15167"
clientAddress: "localhost:15166"
adminAddress: "localhost:15165"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15168"
dataStreamAddress: "localhost:15171"
clientAddress: "localhost:15170"
adminAddress: "localhost:15169"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:54,152 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-762FD8E59C5F: set configuration 0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,152 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s3@group-762FD8E59C5F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:54,152 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-762FD8E59C5F: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s3:c-1, s4:c-1, s0:c-1, s1:c-1], cId:1713, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15172"
dataStreamAddress: "localhost:15175"
clientAddress: "localhost:15174"
adminAddress: "localhost:15173"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15176"
dataStreamAddress: "localhost:15179"
clientAddress: "localhost:15178"
adminAddress: "localhost:15177"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15160"
dataStreamAddress: "localhost:15163"
clientAddress: "localhost:15162"
adminAddress: "localhost:15161"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15164"
dataStreamAddress: "localhost:15167"
clientAddress: "localhost:15166"
adminAddress: "localhost:15165"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15168"
dataStreamAddress: "localhost:15171"
clientAddress: "localhost:15170"
adminAddress: "localhost:15169"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:54,152 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-762FD8E59C5F: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s3:c-1, s4:c-1, s0:c-1, s1:c-1], cId:1714, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15172"
dataStreamAddress: "localhost:15175"
clientAddress: "localhost:15174"
adminAddress: "localhost:15173"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15176"
dataStreamAddress: "localhost:15179"
clientAddress: "localhost:15178"
adminAddress: "localhost:15177"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15160"
dataStreamAddress: "localhost:15163"
clientAddress: "localhost:15162"
adminAddress: "localhost:15161"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15164"
dataStreamAddress: "localhost:15167"
clientAddress: "localhost:15166"
adminAddress: "localhost:15165"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15168"
dataStreamAddress: "localhost:15171"
clientAddress: "localhost:15170"
adminAddress: "localhost:15169"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:54,152 [s3@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:54,153 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-762FD8E59C5F: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s3:c-1, s4:c-1, s0:c-1, s1:c-1], cId:1715, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15172"
dataStreamAddress: "localhost:15175"
clientAddress: "localhost:15174"
adminAddress: "localhost:15173"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15176"
dataStreamAddress: "localhost:15179"
clientAddress: "localhost:15178"
adminAddress: "localhost:15177"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15160"
dataStreamAddress: "localhost:15163"
clientAddress: "localhost:15162"
adminAddress: "localhost:15161"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15164"
dataStreamAddress: "localhost:15167"
clientAddress: "localhost:15166"
adminAddress: "localhost:15165"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15168"
dataStreamAddress: "localhost:15171"
clientAddress: "localhost:15170"
adminAddress: "localhost:15169"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:54,154 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-762FD8E59C5F: set configuration 0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,154 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-762FD8E59C5F: set configuration 0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,154 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-762FD8E59C5F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:54,154 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-762FD8E59C5F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:54,154 [s0@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:54,154 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-762FD8E59C5F: set configuration 0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,154 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s4@group-762FD8E59C5F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:15:54,155 [s4@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:54,157 [s1@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:15:54,171 [s3@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s3@group-762FD8E59C5F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0
2024-01-17 16:15:54,171 [s4@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s4@group-762FD8E59C5F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0
2024-01-17 16:15:54,172 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s2<-s3#1712:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:54,172 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s2<-s4#1715:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:54,172 [s1@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-762FD8E59C5F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0
2024-01-17 16:15:54,172 [s0@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-762FD8E59C5F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0
2024-01-17 16:15:54,173 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s2<-s1#1714:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:54,173 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s2<-s0#1713:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:15:54,173 [s2@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3dd56b
2024-01-17 16:15:54,174 [s2@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s2/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:54,174 [s2@group-762FD8E59C5F-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:15:54,249 [s3@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3bbec64
2024-01-17 16:15:54,249 [s1@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@33054e7e
2024-01-17 16:15:54,249 [s0@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@41be2231
2024-01-17 16:15:54,249 [s4@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@385fe290
2024-01-17 16:15:54,250 [s1@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:54,250 [s3@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:54,251 [s0@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:54,252 [s4@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:54,356 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
2024-01-17 16:15:54,356 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(140)) - killing leader =    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
2024-01-17 16:15:54,356 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(534)) - killServer s2
2024-01-17 16:15:54,356 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:15:54,356 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-762FD8E59C5F: shutdown
2024-01-17 16:15:54,356 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s2
2024-01-17 16:15:54,356 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:54,356 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-762FD8E59C5F-LeaderStateImpl
2024-01-17 16:15:54,356 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:54,356 [s2@group-762FD8E59C5F->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-762FD8E59C5F->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:54,356 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-762FD8E59C5F-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:54,356 [s2@group-762FD8E59C5F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-762FD8E59C5F->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:54,356 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:54,356 [s2@group-762FD8E59C5F->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-762FD8E59C5F->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:54,357 [s2@group-762FD8E59C5F->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-762FD8E59C5F->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:54,357 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:54,357 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:54,357 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:54,357 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-762FD8E59C5F-StateMachineUpdater: set stopIndex = 0
2024-01-17 16:15:54,357 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-762FD8E59C5F: applyIndex: 0
2024-01-17 16:15:54,357 [s2@group-762FD8E59C5F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-762FD8E59C5F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:54,527 [s4@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:203030223ns, electionTimeout:183ms
2024-01-17 16:15:54,527 [s4@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s4: shutdown s4@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,527 [s4@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s4@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:15:54,528 [s4@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:54,528 [s4@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s4: start s4@group-762FD8E59C5F-LeaderElection26
2024-01-17 16:15:54,528 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s4@group-762FD8E59C5F: change Leader from s2 to null at term 1 for PRE_VOTE
2024-01-17 16:15:54,528 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s4@group-762FD8E59C5F-LeaderElection26 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,528 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s3@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s4, group-762FD8E59C5F, 1, (t:1, i:0))
2024-01-17 16:15:54,528 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s4, group-762FD8E59C5F, 1, (t:1, i:0))
2024-01-17 16:15:54,528 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s4, group-762FD8E59C5F, 1, (t:1, i:0))
2024-01-17 16:15:54,528 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,529 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,528 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,529 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,529 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s3@group-762FD8E59C5F replies to PRE_VOTE vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,529 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s4<-s0#0:OK-t1. Peer's state: s0@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,529 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s4@group-762FD8E59C5F-LeaderElection26 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:54,529 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-762FD8E59C5F-LeaderElection26: PRE_VOTE PASSED received 2 response(s) and 1 exception(s):
2024-01-17 16:15:54,529 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:OK-t1
2024-01-17 16:15:54,529 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s4<-s1#0:OK-t1
2024-01-17 16:15:54,529 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:54,529 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s4@group-762FD8E59C5F-LeaderElection26 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:54,530 [s4@group-762FD8E59C5F-LeaderElection26] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2fafd5ad
2024-01-17 16:15:54,531 [s4@group-762FD8E59C5F-LeaderElection26] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:54,531 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s4@group-762FD8E59C5F-LeaderElection26 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,531 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s3@group-762FD8E59C5F: receive requestVote(ELECTION, s4, group-762FD8E59C5F, 2, (t:1, i:0))
2024-01-17 16:15:54,531 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-762FD8E59C5F-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,531 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-762FD8E59C5F: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-01-17 16:15:54,531 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-762FD8E59C5F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s4
2024-01-17 16:15:54,531 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s3: shutdown s3@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,531 [s3@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-762FD8E59C5F-FollowerState was interrupted
2024-01-17 16:15:54,531 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(ELECTION, s4, group-762FD8E59C5F, 2, (t:1, i:0))
2024-01-17 16:15:54,531 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,531 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-762FD8E59C5F: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-01-17 16:15:54,531 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s4
2024-01-17 16:15:54,531 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,531 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-762FD8E59C5F-FollowerState was interrupted
2024-01-17 16:15:54,531 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,531 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,532 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s4@group-762FD8E59C5F-LeaderElection26 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:54,532 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7430bb64
2024-01-17 16:15:54,532 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@d5a6292
2024-01-17 16:15:54,532 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:54,532 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to ELECTION vote request: s4<-s0#0:OK-t2. Peer's state: s0@group-762FD8E59C5F:t2, leader=null, voted=s4, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,533 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:54,533 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s3@group-762FD8E59C5F replies to ELECTION vote request: s4<-s3#0:OK-t2. Peer's state: s3@group-762FD8E59C5F:t2, leader=null, voted=s4, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-762FD8E59C5F-LeaderElection26: ELECTION PASSED received 2 response(s) and 1 exception(s):
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:OK-t2
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s4<-s0#0:OK-t2
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s4@group-762FD8E59C5F-LeaderElection26 ELECTION round 0: result PASSED
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s4: shutdown s4@group-762FD8E59C5F-LeaderElection26
2024-01-17 16:15:54,533 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(ELECTION, s4, group-762FD8E59C5F, 2, (t:1, i:0))
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s4@group-762FD8E59C5F: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-01-17 16:15:54,533 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2024-01-17 16:15:54,533 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-762FD8E59C5F: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:54,533 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s4
2024-01-17 16:15:54,533 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,533 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:54,533 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-762FD8E59C5F-FollowerState was interrupted
2024-01-17 16:15:54,533 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@44fa5b35
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:54,533 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:54,534 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:54,534 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:54,534 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:54,534 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:54,534 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:54,534 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:54,534 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:54,534 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:54,534 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to ELECTION vote request: s4<-s1#0:OK-t2. Peer's state: s1@group-762FD8E59C5F:t2, leader=null, voted=s4, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,534 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:54,534 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:54,534 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:54,534 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:54,534 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:54,535 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:54,535 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:54,535 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:54,535 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:54,535 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:54,535 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:54,535 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:54,535 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:54,535 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:54,535 [s4@group-762FD8E59C5F-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s4: start s4@group-762FD8E59C5F-LeaderStateImpl
2024-01-17 16:15:54,535 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s4@group-762FD8E59C5F: change Leader from null to s4 at term 2 for becomeLeader, leader elected after 7ms
2024-01-17 16:15:54,535 [s4@group-762FD8E59C5F-LeaderElection26] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s4@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:15:54,536 [s4@group-762FD8E59C5F-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-762FD8E59C5F: set configuration 1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,536 [s4@group-762FD8E59C5F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_0-0
2024-01-17 16:15:54,536 [s4@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s4@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_0-0
2024-01-17 16:15:54,536 [s4@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:15:54,539 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-762FD8E59C5F: change Leader from null to s4 at term 2 for appendEntries, leader elected after 7ms
2024-01-17 16:15:54,539 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-762FD8E59C5F: change Leader from null to s4 at term 2 for appendEntries, leader elected after 5ms
2024-01-17 16:15:54,539 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-762FD8E59C5F: change Leader from null to s4 at term 2 for appendEntries, leader elected after 7ms
2024-01-17 16:15:54,540 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-762FD8E59C5F: receive appendEntries(s4, 2, (t:1, i:0), 0, false, commits:[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], cId:1759, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15172"
dataStreamAddress: "localhost:15175"
clientAddress: "localhost:15174"
adminAddress: "localhost:15173"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15176"
dataStreamAddress: "localhost:15179"
clientAddress: "localhost:15178"
adminAddress: "localhost:15177"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15160"
dataStreamAddress: "localhost:15163"
clientAddress: "localhost:15162"
adminAddress: "localhost:15161"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15164"
dataStreamAddress: "localhost:15167"
clientAddress: "localhost:15166"
adminAddress: "localhost:15165"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15168"
dataStreamAddress: "localhost:15171"
clientAddress: "localhost:15170"
adminAddress: "localhost:15169"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:54,540 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-762FD8E59C5F: receive appendEntries(s4, 2, (t:1, i:0), 0, false, commits:[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], cId:1760, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15172"
dataStreamAddress: "localhost:15175"
clientAddress: "localhost:15174"
adminAddress: "localhost:15173"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15176"
dataStreamAddress: "localhost:15179"
clientAddress: "localhost:15178"
adminAddress: "localhost:15177"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15160"
dataStreamAddress: "localhost:15163"
clientAddress: "localhost:15162"
adminAddress: "localhost:15161"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15164"
dataStreamAddress: "localhost:15167"
clientAddress: "localhost:15166"
adminAddress: "localhost:15165"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15168"
dataStreamAddress: "localhost:15171"
clientAddress: "localhost:15170"
adminAddress: "localhost:15169"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:54,540 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-762FD8E59C5F: receive appendEntries(s4, 2, (t:1, i:0), 0, false, commits:[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], cId:1761, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15172"
dataStreamAddress: "localhost:15175"
clientAddress: "localhost:15174"
adminAddress: "localhost:15173"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15176"
dataStreamAddress: "localhost:15179"
clientAddress: "localhost:15178"
adminAddress: "localhost:15177"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15160"
dataStreamAddress: "localhost:15163"
clientAddress: "localhost:15162"
adminAddress: "localhost:15161"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15164"
dataStreamAddress: "localhost:15167"
clientAddress: "localhost:15166"
adminAddress: "localhost:15165"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15168"
dataStreamAddress: "localhost:15171"
clientAddress: "localhost:15170"
adminAddress: "localhost:15169"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:54,540 [s4@group-762FD8E59C5F->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(90)) - s4@group-762FD8E59C5F->s2-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:79)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:156)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:54,540 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-762FD8E59C5F: set configuration 1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,541 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s3@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:15:54,541 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-762FD8E59C5F: set configuration 1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,541 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:15:54,541 [s3@group-762FD8E59C5F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_0-0
2024-01-17 16:15:54,542 [s3@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s3@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_0-0
2024-01-17 16:15:54,542 [s3@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:15:54,542 [s0@group-762FD8E59C5F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_0-0
2024-01-17 16:15:54,542 [s0@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_0-0
2024-01-17 16:15:54,542 [s0@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:15:54,540 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-762FD8E59C5F: set configuration 1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:54,543 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:15:54,543 [s4@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s4@group-762FD8E59C5F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_1
2024-01-17 16:15:54,543 [s1@group-762FD8E59C5F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_0-0
2024-01-17 16:15:54,544 [s1@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_0-0
2024-01-17 16:15:54,544 [s1@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:15:54,555 [s3@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s3@group-762FD8E59C5F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_1
2024-01-17 16:15:54,555 [s1@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-762FD8E59C5F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_1
2024-01-17 16:15:54,556 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s4<-s1#1760:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:54,556 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s4<-s3#1759:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:54,556 [s4@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@36980beb
2024-01-17 16:15:54,557 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-762FD8E59C5F: receive appendEntries(s4, 2, (t:2, i:1), 1, false, commits:[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0], cId:1764, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:54,557 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-762FD8E59C5F: receive appendEntries(s4, 2, (t:2, i:1), 1, false, commits:[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0], cId:1763, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:54,557 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s4<-s3#1763:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:54,557 [s3@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@d7c1263
2024-01-17 16:15:54,559 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s4<-s1#1764:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:54,559 [s0@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-762FD8E59C5F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_1
2024-01-17 16:15:54,559 [s3@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:54,559 [s4@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s4/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:54,559 [s1@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3dc2b66e
2024-01-17 16:15:54,559 [s4@group-762FD8E59C5F-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 1 >= startIndex == 1
2024-01-17 16:15:54,559 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s4<-s0#1761:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:15:54,560 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-762FD8E59C5F: receive appendEntries(s4, 2, (t:2, i:1), 1, false, commits:[s4:c1, s3:c1, s0:c0, s1:c0, s2:c0], cId:1765, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2024-01-17 16:15:54,561 [s1@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:54,561 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s4<-s0#1765:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:15:54,561 [s0@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4f79d476
2024-01-17 16:15:54,562 [s0@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:54,792 [s4@group-762FD8E59C5F->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(90)) - s4@group-762FD8E59C5F->s2-LogAppenderDefault: Failed to appendEntries (retry=11)
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:79)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:156)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:55,044 [s4@group-762FD8E59C5F->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(90)) - s4@group-762FD8E59C5F->s2-LogAppenderDefault: Failed to appendEntries (retry=21)
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:79)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:156)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:55,148 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-762FD8E59C5F-SegmentedRaftLogWorker close()
2024-01-17 16:15:55,149 [JvmPauseMonitor44] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:15:55,149 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:55,149 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:55,149 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:55,150 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(140)) - killing leader =    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
2024-01-17 16:15:55,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(534)) - killServer s4
2024-01-17 16:15:55,150 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s4: close
2024-01-17 16:15:55,150 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s4@group-762FD8E59C5F: shutdown
2024-01-17 16:15:55,150 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:55,150 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:55,150 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:55,150 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s4
2024-01-17 16:15:55,150 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s4: shutdown s4@group-762FD8E59C5F-LeaderStateImpl
2024-01-17 16:15:55,150 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:55,150 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:55,150 [s4@group-762FD8E59C5F->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s4@group-762FD8E59C5F->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:55,150 [s4@group-762FD8E59C5F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s4@group-762FD8E59C5F->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:55,150 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:55,150 [s4-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s4@group-762FD8E59C5F-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:55,150 [s4@group-762FD8E59C5F->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s4@group-762FD8E59C5F->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:55,150 [s4@group-762FD8E59C5F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s4@group-762FD8E59C5F->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2024-01-17 16:15:55,151 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s4@group-762FD8E59C5F-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:15:55,151 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s4@group-762FD8E59C5F: applyIndex: 2
2024-01-17 16:15:55,151 [s4@group-762FD8E59C5F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-762FD8E59C5F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:55,394 [s3@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:306201982ns, electionTimeout:163ms
2024-01-17 16:15:55,394 [s3@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s3: shutdown s3@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:55,395 [s3@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2024-01-17 16:15:55,395 [s3@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:55,395 [s3@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-762FD8E59C5F-LeaderElection27
2024-01-17 16:15:55,395 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-762FD8E59C5F: change Leader from s4 to null at term 2 for PRE_VOTE
2024-01-17 16:15:55,395 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s3@group-762FD8E59C5F-LeaderElection27 PRE_VOTE round 0: submit vote requests at term 2 for 1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:55,396 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s3, group-762FD8E59C5F, 2, (t:2, i:2))
2024-01-17 16:15:55,396 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s3, group-762FD8E59C5F, 2, (t:2, i:2))
2024-01-17 16:15:55,396 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-01-17 16:15:55,396 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2024-01-17 16:15:55,396 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-762FD8E59C5F-LeaderElection27 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:55,396 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s3<-s0#0:OK-t2. Peer's state: s0@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:55,396 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s3<-s1#0:OK-t2. Peer's state: s1@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:55,396 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-762FD8E59C5F-LeaderElection27 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:55,396 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-762FD8E59C5F-LeaderElection27: PRE_VOTE PASSED received 2 response(s) and 2 exception(s):
2024-01-17 16:15:55,396 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s0#0:OK-t2
2024-01-17 16:15:55,396 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t2
2024-01-17 16:15:55,396 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:55,396 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:55,396 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s3@group-762FD8E59C5F-LeaderElection27 PRE_VOTE round 0: result PASSED
2024-01-17 16:15:55,397 [s3@group-762FD8E59C5F-LeaderElection27] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@30eae242
2024-01-17 16:15:55,397 [s3@group-762FD8E59C5F-LeaderElection27] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:55,397 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s3@group-762FD8E59C5F-LeaderElection27 ELECTION round 0: submit vote requests at term 3 for 1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:55,398 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(ELECTION, s3, group-762FD8E59C5F, 3, (t:2, i:2))
2024-01-17 16:15:55,398 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2024-01-17 16:15:55,398 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-762FD8E59C5F-LeaderElection27 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:55,398 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-762FD8E59C5F: change Leader from s4 to null at term 3 for updateCurrentTerm
2024-01-17 16:15:55,398 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(ELECTION, s3, group-762FD8E59C5F, 3, (t:2, i:2))
2024-01-17 16:15:55,398 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s3@group-762FD8E59C5F-LeaderElection27 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:55,398 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2024-01-17 16:15:55,398 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-762FD8E59C5F: change Leader from s4 to null at term 3 for updateCurrentTerm
2024-01-17 16:15:55,398 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s3
2024-01-17 16:15:55,398 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s3
2024-01-17 16:15:55,398 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:55,398 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:55,398 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:55,398 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-762FD8E59C5F-FollowerState was interrupted
2024-01-17 16:15:55,398 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:55,398 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-762FD8E59C5F-FollowerState was interrupted
2024-01-17 16:15:55,398 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@40c5d772
2024-01-17 16:15:55,398 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@965e7e1
2024-01-17 16:15:55,399 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:55,399 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:15:55,399 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to ELECTION vote request: s3<-s1#0:OK-t3. Peer's state: s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:55,399 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to ELECTION vote request: s3<-s0#0:OK-t3. Peer's state: s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:55,399 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-762FD8E59C5F-LeaderElection27: ELECTION PASSED received 2 response(s) and 2 exception(s):
2024-01-17 16:15:55,399 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s0#0:OK-t3
2024-01-17 16:15:55,399 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s3<-s1#0:OK-t3
2024-01-17 16:15:55,399 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:55,399 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:55,399 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s3@group-762FD8E59C5F-LeaderElection27 ELECTION round 0: result PASSED
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s3: shutdown s3@group-762FD8E59C5F-LeaderElection27
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-762FD8E59C5F: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:15:55,400 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:15:55,401 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:55,401 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:55,401 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:55,401 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:55,401 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:55,401 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:55,401 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:55,401 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:55,402 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:55,402 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:55,402 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:55,402 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:55,402 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:15:55,402 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:15:55,402 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:15:55,402 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:15:55,402 [s3@group-762FD8E59C5F-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-762FD8E59C5F-LeaderStateImpl
2024-01-17 16:15:55,402 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-762FD8E59C5F: change Leader from null to s3 at term 3 for becomeLeader, leader elected after 7ms
2024-01-17 16:15:55,403 [s3@group-762FD8E59C5F-LeaderElection27] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s3@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2024-01-17 16:15:55,404 [s3@group-762FD8E59C5F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_1-2
2024-01-17 16:15:55,404 [s3@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s3@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_1-2
2024-01-17 16:15:55,404 [s3@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2024-01-17 16:15:55,408 [s3@group-762FD8E59C5F-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-762FD8E59C5F: set configuration 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:55,408 [s3@group-762FD8E59C5F->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(90)) - s3@group-762FD8E59C5F->s4-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: The peer s4 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:79)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:156)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:55,408 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-762FD8E59C5F: change Leader from null to s3 at term 3 for appendEntries, leader elected after 10ms
2024-01-17 16:15:55,408 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-762FD8E59C5F: change Leader from null to s3 at term 3 for appendEntries, leader elected after 10ms
2024-01-17 16:15:55,409 [s3@group-762FD8E59C5F->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(90)) - s3@group-762FD8E59C5F->s2-LogAppenderDefault: Failed to appendEntries (retry=1)
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:115)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:79)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:156)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:80)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:15:55,410 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-762FD8E59C5F: receive appendEntries(s3, 3, (t:2, i:2), 2, false, commits:[s3:c2, s4:c2, s0:c2, s1:c2, s2:c0], cId:1863, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15172"
dataStreamAddress: "localhost:15175"
clientAddress: "localhost:15174"
adminAddress: "localhost:15173"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15176"
dataStreamAddress: "localhost:15179"
clientAddress: "localhost:15178"
adminAddress: "localhost:15177"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15160"
dataStreamAddress: "localhost:15163"
clientAddress: "localhost:15162"
adminAddress: "localhost:15161"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15164"
dataStreamAddress: "localhost:15167"
clientAddress: "localhost:15166"
adminAddress: "localhost:15165"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15168"
dataStreamAddress: "localhost:15171"
clientAddress: "localhost:15170"
adminAddress: "localhost:15169"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:55,410 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-762FD8E59C5F: receive appendEntries(s3, 3, (t:2, i:2), 2, false, commits:[s3:c2, s4:c2, s0:c2, s1:c2, s2:c0], cId:1864, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s3"
address: "localhost:15172"
dataStreamAddress: "localhost:15175"
clientAddress: "localhost:15174"
adminAddress: "localhost:15173"
startupRole: FOLLOWER
,id: "s4"
address: "localhost:15176"
dataStreamAddress: "localhost:15179"
clientAddress: "localhost:15178"
adminAddress: "localhost:15177"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15160"
dataStreamAddress: "localhost:15163"
clientAddress: "localhost:15162"
adminAddress: "localhost:15161"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15164"
dataStreamAddress: "localhost:15167"
clientAddress: "localhost:15166"
adminAddress: "localhost:15165"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15168"
dataStreamAddress: "localhost:15171"
clientAddress: "localhost:15170"
adminAddress: "localhost:15169"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:15:55,410 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-762FD8E59C5F: set configuration 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:55,410 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-762FD8E59C5F: set configuration 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:55,410 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2024-01-17 16:15:55,410 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2024-01-17 16:15:55,411 [s1@group-762FD8E59C5F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_1-2
2024-01-17 16:15:55,411 [s1@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_1-2
2024-01-17 16:15:55,411 [s1@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2024-01-17 16:15:55,411 [s0@group-762FD8E59C5F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_1-2
2024-01-17 16:15:55,411 [s0@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-762FD8E59C5F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_1-2
2024-01-17 16:15:55,411 [s0@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2024-01-17 16:15:55,412 [s3@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s3@group-762FD8E59C5F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_3
2024-01-17 16:15:55,422 [s1@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-762FD8E59C5F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_3
2024-01-17 16:15:55,422 [s0@group-762FD8E59C5F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-762FD8E59C5F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/log_inprogress_3
2024-01-17 16:15:55,422 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s3<-s1#1863:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:55,424 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s3<-s0#1864:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:15:55,424 [s3@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@9438714
2024-01-17 16:15:55,425 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-762FD8E59C5F: receive appendEntries(s3, 3, (t:3, i:3), 3, false, commits:[s3:c3, s4:c2, s0:c2, s1:c2, s2:c0], cId:1867, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2024-01-17 16:15:55,427 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s3<-s1#1867:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:15:55,427 [s1@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@39fd250e
2024-01-17 16:15:55,427 [s3@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s3/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:55,427 [s3@group-762FD8E59C5F-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 3 >= startIndex == 3
2024-01-17 16:15:55,428 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-762FD8E59C5F: receive appendEntries(s3, 3, (t:3, i:3), 3, false, commits:[s3:c3, s4:c2, s0:c2, s1:c2, s2:c0], cId:1868, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2024-01-17 16:15:55,428 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-762FD8E59C5F: succeeded to handle AppendEntries. Reply: s3<-s0#1868:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:15:55,428 [s0@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4b464941
2024-01-17 16:15:55,429 [s1@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s1/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:55,430 [s0@group-762FD8E59C5F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc1efe3754/s0/1f129d10-d490-42a6-a9a3-762fd8e59c5f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:15:55,558 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s4@group-762FD8E59C5F-SegmentedRaftLogWorker close()
2024-01-17 16:15:55,559 [JvmPauseMonitor41] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-01-17 16:15:55,559 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:55,559 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:55,559 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:55,559 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(140)) - killing leader =    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
2024-01-17 16:15:55,559 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(534)) - killServer s3
2024-01-17 16:15:55,559 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s3: close
2024-01-17 16:15:55,560 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s3@group-762FD8E59C5F: shutdown
2024-01-17 16:15:55,560 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:55,560 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s3
2024-01-17 16:15:55,560 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:55,560 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s3: shutdown s3@group-762FD8E59C5F-LeaderStateImpl
2024-01-17 16:15:55,560 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:55,560 [s3@group-762FD8E59C5F->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s3@group-762FD8E59C5F->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:55,560 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s3@group-762FD8E59C5F-PendingRequests: sendNotLeaderResponses
2024-01-17 16:15:55,560 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:55,560 [s3@group-762FD8E59C5F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s3@group-762FD8E59C5F->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:15:55,560 [s3@group-762FD8E59C5F->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s3@group-762FD8E59C5F->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2024-01-17 16:15:55,560 [s3@group-762FD8E59C5F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s3@group-762FD8E59C5F->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2024-01-17 16:15:55,560 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:55,560 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:15:55,561 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s3@group-762FD8E59C5F-StateMachineUpdater: set stopIndex = 4
2024-01-17 16:15:55,561 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s3@group-762FD8E59C5F: applyIndex: 4
2024-01-17 16:15:55,561 [s3@group-762FD8E59C5F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-762FD8E59C5F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:15:55,851 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:346051177ns, electionTimeout:247ms
2024-01-17 16:15:55,851 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:55,851 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:55,851 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:55,851 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-LeaderElection28
2024-01-17 16:15:55,851 [s1@group-762FD8E59C5F-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-762FD8E59C5F: change Leader from s3 to null at term 3 for PRE_VOTE
2024-01-17 16:15:55,851 [s1@group-762FD8E59C5F-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-762FD8E59C5F-LeaderElection28 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:55,852 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s1, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:55,852 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:55,852 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:55,852 [s1@group-762FD8E59C5F-LeaderElection28] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection28 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:55,852 [s1@group-762FD8E59C5F-LeaderElection28] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection28 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:55,852 [s1@group-762FD8E59C5F-LeaderElection28] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection28 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:55,853 [s1@group-762FD8E59C5F-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-762FD8E59C5F-LeaderElection28: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:55,853 [s1@group-762FD8E59C5F-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2024-01-17 16:15:55,853 [s1@group-762FD8E59C5F-LeaderElection28] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:55,853 [s1@group-762FD8E59C5F-LeaderElection28] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:55,853 [s1@group-762FD8E59C5F-LeaderElection28] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:55,853 [s1@group-762FD8E59C5F-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-762FD8E59C5F-LeaderElection28 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:55,853 [s1@group-762FD8E59C5F-LeaderElection28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:55,853 [s1@group-762FD8E59C5F-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-762FD8E59C5F-LeaderElection28
2024-01-17 16:15:55,853 [s1@group-762FD8E59C5F-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:56,043 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:190304431ns, electionTimeout:190ms
2024-01-17 16:15:56,043 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:56,043 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:56,043 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:56,044 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-LeaderElection29
2024-01-17 16:15:56,044 [s1@group-762FD8E59C5F-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-762FD8E59C5F-LeaderElection29 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:56,044 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s1, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:56,044 [s1@group-762FD8E59C5F-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection29 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:56,044 [s1@group-762FD8E59C5F-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection29 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:56,044 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:56,044 [s1@group-762FD8E59C5F-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection29 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:56,045 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:56,045 [s1@group-762FD8E59C5F-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-762FD8E59C5F-LeaderElection29: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:56,045 [s1@group-762FD8E59C5F-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2024-01-17 16:15:56,045 [s1@group-762FD8E59C5F-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:56,045 [s1@group-762FD8E59C5F-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:56,045 [s1@group-762FD8E59C5F-LeaderElection29] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:56,045 [s1@group-762FD8E59C5F-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-762FD8E59C5F-LeaderElection29 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:56,045 [s1@group-762FD8E59C5F-LeaderElection29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:56,045 [s1@group-762FD8E59C5F-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-762FD8E59C5F-LeaderElection29
2024-01-17 16:15:56,045 [s1@group-762FD8E59C5F-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:56,237 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:192266881ns, electionTimeout:192ms
2024-01-17 16:15:56,237 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:56,237 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:56,238 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:56,238 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-LeaderElection30
2024-01-17 16:15:56,238 [s1@group-762FD8E59C5F-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-762FD8E59C5F-LeaderElection30 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:56,238 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s1, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:56,238 [s1@group-762FD8E59C5F-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection30 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:56,239 [s1@group-762FD8E59C5F-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection30 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:56,239 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:56,239 [s1@group-762FD8E59C5F-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection30 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:56,239 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:56,239 [s1@group-762FD8E59C5F-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-762FD8E59C5F-LeaderElection30: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:56,239 [s1@group-762FD8E59C5F-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2024-01-17 16:15:56,239 [s1@group-762FD8E59C5F-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:56,239 [s1@group-762FD8E59C5F-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:56,239 [s1@group-762FD8E59C5F-LeaderElection30] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:56,239 [s1@group-762FD8E59C5F-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-762FD8E59C5F-LeaderElection30 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:56,239 [s1@group-762FD8E59C5F-LeaderElection30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:56,239 [s1@group-762FD8E59C5F-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-762FD8E59C5F-LeaderElection30
2024-01-17 16:15:56,239 [s1@group-762FD8E59C5F-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:56,426 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s3@group-762FD8E59C5F-SegmentedRaftLogWorker close()
2024-01-17 16:15:56,426 [JvmPauseMonitor40] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-01-17 16:15:56,427 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:testFailureCase(154)) - run 'waitForLeader after killed a majority of servers'
2024-01-17 16:15:56,427 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:15:56,427 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:56,427 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:56,464 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:225383839ns, electionTimeout:225ms
2024-01-17 16:15:56,465 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:56,465 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:56,465 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:56,465 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-LeaderElection31
2024-01-17 16:15:56,465 [s1@group-762FD8E59C5F-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-762FD8E59C5F-LeaderElection31 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:56,466 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s1, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:56,466 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:56,466 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:56,466 [s1@group-762FD8E59C5F-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection31 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:56,466 [s1@group-762FD8E59C5F-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection31 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:56,466 [s1@group-762FD8E59C5F-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection31 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:56,466 [s1@group-762FD8E59C5F-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-762FD8E59C5F-LeaderElection31: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:56,466 [s1@group-762FD8E59C5F-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2024-01-17 16:15:56,466 [s1@group-762FD8E59C5F-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:56,466 [s1@group-762FD8E59C5F-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:56,466 [s1@group-762FD8E59C5F-LeaderElection31] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:56,466 [s1@group-762FD8E59C5F-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-762FD8E59C5F-LeaderElection31 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:56,466 [s1@group-762FD8E59C5F-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:56,466 [s1@group-762FD8E59C5F-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-762FD8E59C5F-LeaderElection31
2024-01-17 16:15:56,467 [s1@group-762FD8E59C5F-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:56,686 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:219288008ns, electionTimeout:219ms
2024-01-17 16:15:56,686 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:56,686 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:56,686 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:56,686 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-LeaderElection32
2024-01-17 16:15:56,686 [s1@group-762FD8E59C5F-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-762FD8E59C5F-LeaderElection32 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:56,687 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s1, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:56,687 [s1@group-762FD8E59C5F-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection32 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:56,687 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:56,687 [s1@group-762FD8E59C5F-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection32 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:56,687 [s1@group-762FD8E59C5F-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection32 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:56,687 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:56,687 [s1@group-762FD8E59C5F-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-762FD8E59C5F-LeaderElection32: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:56,687 [s1@group-762FD8E59C5F-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2024-01-17 16:15:56,687 [s1@group-762FD8E59C5F-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:56,687 [s1@group-762FD8E59C5F-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:56,687 [s1@group-762FD8E59C5F-LeaderElection32] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:56,688 [s1@group-762FD8E59C5F-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-762FD8E59C5F-LeaderElection32 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:56,688 [s1@group-762FD8E59C5F-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:56,688 [s1@group-762FD8E59C5F-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-762FD8E59C5F-LeaderElection32
2024-01-17 16:15:56,688 [s1@group-762FD8E59C5F-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:56,860 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:172284100ns, electionTimeout:172ms
2024-01-17 16:15:56,860 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:56,860 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:56,860 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:56,860 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-LeaderElection33
2024-01-17 16:15:56,861 [s1@group-762FD8E59C5F-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-762FD8E59C5F-LeaderElection33 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:56,861 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s1, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:56,861 [s1@group-762FD8E59C5F-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection33 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:56,861 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:56,861 [s1@group-762FD8E59C5F-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection33 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:56,861 [s1@group-762FD8E59C5F-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection33 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:56,861 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:56,861 [s1@group-762FD8E59C5F-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-762FD8E59C5F-LeaderElection33: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:56,861 [s1@group-762FD8E59C5F-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2024-01-17 16:15:56,861 [s1@group-762FD8E59C5F-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:56,861 [s1@group-762FD8E59C5F-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:56,861 [s1@group-762FD8E59C5F-LeaderElection33] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:56,861 [s1@group-762FD8E59C5F-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-762FD8E59C5F-LeaderElection33 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:56,862 [s1@group-762FD8E59C5F-LeaderElection33] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:56,862 [s1@group-762FD8E59C5F-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-762FD8E59C5F-LeaderElection33
2024-01-17 16:15:56,862 [s1@group-762FD8E59C5F-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:56,878 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #2 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:57,088 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:227159708ns, electionTimeout:219ms
2024-01-17 16:15:57,089 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:57,089 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:57,089 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:57,089 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-LeaderElection34
2024-01-17 16:15:57,089 [s0@group-762FD8E59C5F-LeaderElection34] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-762FD8E59C5F: change Leader from s3 to null at term 3 for PRE_VOTE
2024-01-17 16:15:57,089 [s0@group-762FD8E59C5F-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-762FD8E59C5F-LeaderElection34 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:57,090 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s0, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:57,090 [s0@group-762FD8E59C5F-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection34 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:57,090 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:57,090 [s0@group-762FD8E59C5F-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection34 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:57,090 [s0@group-762FD8E59C5F-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection34 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:57,090 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:57,090 [s0@group-762FD8E59C5F-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-762FD8E59C5F-LeaderElection34: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:57,090 [s0@group-762FD8E59C5F-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2024-01-17 16:15:57,090 [s0@group-762FD8E59C5F-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:57,090 [s0@group-762FD8E59C5F-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:57,090 [s0@group-762FD8E59C5F-LeaderElection34] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:57,090 [s0@group-762FD8E59C5F-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-762FD8E59C5F-LeaderElection34 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:57,090 [s0@group-762FD8E59C5F-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:57,090 [s0@group-762FD8E59C5F-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-762FD8E59C5F-LeaderElection34
2024-01-17 16:15:57,090 [s0@group-762FD8E59C5F-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:57,326 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:235265897ns, electionTimeout:235ms
2024-01-17 16:15:57,326 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:57,326 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:57,326 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:57,326 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-LeaderElection35
2024-01-17 16:15:57,326 [s0@group-762FD8E59C5F-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-762FD8E59C5F-LeaderElection35 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:57,327 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s0, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:57,327 [s0@group-762FD8E59C5F-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection35 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:57,327 [s0@group-762FD8E59C5F-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection35 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:57,327 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:57,327 [s0@group-762FD8E59C5F-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection35 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:57,327 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:57,327 [s0@group-762FD8E59C5F-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-762FD8E59C5F-LeaderElection35: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:57,327 [s0@group-762FD8E59C5F-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2024-01-17 16:15:57,327 [s0@group-762FD8E59C5F-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:57,327 [s0@group-762FD8E59C5F-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:57,327 [s0@group-762FD8E59C5F-LeaderElection35] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:57,327 [s0@group-762FD8E59C5F-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-762FD8E59C5F-LeaderElection35 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:57,327 [s0@group-762FD8E59C5F-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:57,327 [s0@group-762FD8E59C5F-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-762FD8E59C5F-LeaderElection35
2024-01-17 16:15:57,327 [s0@group-762FD8E59C5F-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:57,328 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #3 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:57,509 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181256912ns, electionTimeout:181ms
2024-01-17 16:15:57,509 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:57,509 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:57,509 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:57,509 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-LeaderElection36
2024-01-17 16:15:57,509 [s0@group-762FD8E59C5F-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-762FD8E59C5F-LeaderElection36 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:57,510 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s0, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:57,510 [s0@group-762FD8E59C5F-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection36 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:57,510 [s0@group-762FD8E59C5F-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection36 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:57,510 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:57,510 [s0@group-762FD8E59C5F-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection36 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:57,510 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:57,510 [s0@group-762FD8E59C5F-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-762FD8E59C5F-LeaderElection36: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:57,510 [s0@group-762FD8E59C5F-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2024-01-17 16:15:57,510 [s0@group-762FD8E59C5F-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:57,510 [s0@group-762FD8E59C5F-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:57,510 [s0@group-762FD8E59C5F-LeaderElection36] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:57,510 [s0@group-762FD8E59C5F-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-762FD8E59C5F-LeaderElection36 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:57,510 [s0@group-762FD8E59C5F-LeaderElection36] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:57,510 [s0@group-762FD8E59C5F-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-762FD8E59C5F-LeaderElection36
2024-01-17 16:15:57,510 [s0@group-762FD8E59C5F-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:57,737 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:226272864ns, electionTimeout:226ms
2024-01-17 16:15:57,737 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:57,737 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:57,737 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:57,737 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-LeaderElection37
2024-01-17 16:15:57,737 [s0@group-762FD8E59C5F-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-762FD8E59C5F-LeaderElection37 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:57,738 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s0, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:57,738 [s0@group-762FD8E59C5F-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection37 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:57,738 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:57,738 [s0@group-762FD8E59C5F-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection37 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:57,738 [s0@group-762FD8E59C5F-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection37 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:57,738 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:57,738 [s0@group-762FD8E59C5F-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-762FD8E59C5F-LeaderElection37: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:57,738 [s0@group-762FD8E59C5F-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2024-01-17 16:15:57,738 [s0@group-762FD8E59C5F-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:57,738 [s0@group-762FD8E59C5F-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:57,738 [s0@group-762FD8E59C5F-LeaderElection37] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:57,738 [s0@group-762FD8E59C5F-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-762FD8E59C5F-LeaderElection37 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:57,738 [s0@group-762FD8E59C5F-LeaderElection37] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:57,738 [s0@group-762FD8E59C5F-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-762FD8E59C5F-LeaderElection37
2024-01-17 16:15:57,738 [s0@group-762FD8E59C5F-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:57,779 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #4 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:57,952 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:213250389ns, electionTimeout:213ms
2024-01-17 16:15:57,952 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:57,952 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:57,952 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:57,952 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-LeaderElection38
2024-01-17 16:15:57,952 [s0@group-762FD8E59C5F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-762FD8E59C5F-LeaderElection38 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:57,953 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s0, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:57,953 [s0@group-762FD8E59C5F-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection38 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:57,953 [s0@group-762FD8E59C5F-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection38 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:57,953 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:57,953 [s0@group-762FD8E59C5F-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection38 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:57,953 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:57,953 [s0@group-762FD8E59C5F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-762FD8E59C5F-LeaderElection38: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:57,953 [s0@group-762FD8E59C5F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2024-01-17 16:15:57,953 [s0@group-762FD8E59C5F-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:57,953 [s0@group-762FD8E59C5F-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:57,953 [s0@group-762FD8E59C5F-LeaderElection38] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:57,954 [s0@group-762FD8E59C5F-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-762FD8E59C5F-LeaderElection38 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:57,954 [s0@group-762FD8E59C5F-LeaderElection38] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:57,954 [s0@group-762FD8E59C5F-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-762FD8E59C5F-LeaderElection38
2024-01-17 16:15:57,954 [s0@group-762FD8E59C5F-LeaderElection38] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:58,133 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:179251821ns, electionTimeout:179ms
2024-01-17 16:15:58,133 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:58,133 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:58,133 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:58,133 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-LeaderElection39
2024-01-17 16:15:58,134 [s0@group-762FD8E59C5F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-762FD8E59C5F-LeaderElection39 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:58,134 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s0, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:58,134 [s0@group-762FD8E59C5F-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:58,134 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:58,134 [s0@group-762FD8E59C5F-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:58,134 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:58,134 [s0@group-762FD8E59C5F-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection39 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:58,134 [s0@group-762FD8E59C5F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-762FD8E59C5F-LeaderElection39: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:58,134 [s0@group-762FD8E59C5F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2024-01-17 16:15:58,134 [s0@group-762FD8E59C5F-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:58,135 [s0@group-762FD8E59C5F-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:58,135 [s0@group-762FD8E59C5F-LeaderElection39] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:58,135 [s0@group-762FD8E59C5F-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-762FD8E59C5F-LeaderElection39 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:58,135 [s0@group-762FD8E59C5F-LeaderElection39] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:58,135 [s0@group-762FD8E59C5F-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-762FD8E59C5F-LeaderElection39
2024-01-17 16:15:58,135 [s0@group-762FD8E59C5F-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:58,229 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #5 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:58,372 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:237264382ns, electionTimeout:237ms
2024-01-17 16:15:58,372 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:58,372 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:58,372 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:58,372 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-LeaderElection40
2024-01-17 16:15:58,373 [s0@group-762FD8E59C5F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-762FD8E59C5F-LeaderElection40 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:58,373 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s0, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:58,373 [s0@group-762FD8E59C5F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:58,373 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:58,373 [s0@group-762FD8E59C5F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:58,373 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:58,373 [s0@group-762FD8E59C5F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:58,373 [s0@group-762FD8E59C5F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-762FD8E59C5F-LeaderElection40: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:58,374 [s0@group-762FD8E59C5F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2024-01-17 16:15:58,374 [s0@group-762FD8E59C5F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:58,374 [s0@group-762FD8E59C5F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:58,374 [s0@group-762FD8E59C5F-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:58,374 [s0@group-762FD8E59C5F-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-762FD8E59C5F-LeaderElection40 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:58,374 [s0@group-762FD8E59C5F-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:58,374 [s0@group-762FD8E59C5F-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-762FD8E59C5F-LeaderElection40
2024-01-17 16:15:58,374 [s0@group-762FD8E59C5F-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:58,593 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:219252776ns, electionTimeout:219ms
2024-01-17 16:15:58,593 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:58,593 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:58,593 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:58,593 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-LeaderElection41
2024-01-17 16:15:58,594 [s0@group-762FD8E59C5F-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-762FD8E59C5F-LeaderElection41 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:58,594 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s0, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:58,594 [s0@group-762FD8E59C5F-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:58,594 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:58,594 [s0@group-762FD8E59C5F-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:58,594 [s0@group-762FD8E59C5F-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:58,594 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:58,595 [s0@group-762FD8E59C5F-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-762FD8E59C5F-LeaderElection41: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:58,595 [s0@group-762FD8E59C5F-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2024-01-17 16:15:58,595 [s0@group-762FD8E59C5F-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:58,595 [s0@group-762FD8E59C5F-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:58,595 [s0@group-762FD8E59C5F-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:58,595 [s0@group-762FD8E59C5F-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-762FD8E59C5F-LeaderElection41 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:58,595 [s0@group-762FD8E59C5F-LeaderElection41] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:58,595 [s0@group-762FD8E59C5F-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-762FD8E59C5F-LeaderElection41
2024-01-17 16:15:58,595 [s0@group-762FD8E59C5F-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:58,680 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #6 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:58,771 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:176268997ns, electionTimeout:176ms
2024-01-17 16:15:58,771 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:58,771 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:58,771 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:58,771 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-LeaderElection42
2024-01-17 16:15:58,772 [s0@group-762FD8E59C5F-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-762FD8E59C5F-LeaderElection42 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:58,772 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s0, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:58,772 [s0@group-762FD8E59C5F-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:58,772 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:58,772 [s0@group-762FD8E59C5F-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:58,773 [s0@group-762FD8E59C5F-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:58,773 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:58,773 [s0@group-762FD8E59C5F-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-762FD8E59C5F-LeaderElection42: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:58,773 [s0@group-762FD8E59C5F-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2024-01-17 16:15:58,773 [s0@group-762FD8E59C5F-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:58,773 [s0@group-762FD8E59C5F-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:58,773 [s0@group-762FD8E59C5F-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:58,773 [s0@group-762FD8E59C5F-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-762FD8E59C5F-LeaderElection42 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:58,773 [s0@group-762FD8E59C5F-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:58,773 [s0@group-762FD8E59C5F-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-762FD8E59C5F-LeaderElection42
2024-01-17 16:15:58,773 [s0@group-762FD8E59C5F-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:59,032 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:259265888ns, electionTimeout:259ms
2024-01-17 16:15:59,032 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:59,033 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:59,033 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:59,033 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-LeaderElection43
2024-01-17 16:15:59,033 [s0@group-762FD8E59C5F-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-762FD8E59C5F-LeaderElection43 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:59,033 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s0, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:59,033 [s0@group-762FD8E59C5F-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:59,033 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:15:59,033 [s0@group-762FD8E59C5F-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:59,034 [s0@group-762FD8E59C5F-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:59,034 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:59,034 [s0@group-762FD8E59C5F-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-762FD8E59C5F-LeaderElection43: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:59,034 [s0@group-762FD8E59C5F-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2024-01-17 16:15:59,034 [s0@group-762FD8E59C5F-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:59,034 [s0@group-762FD8E59C5F-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:59,034 [s0@group-762FD8E59C5F-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:59,034 [s0@group-762FD8E59C5F-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-762FD8E59C5F-LeaderElection43 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:59,034 [s0@group-762FD8E59C5F-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:59,034 [s0@group-762FD8E59C5F-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-762FD8E59C5F-LeaderElection43
2024-01-17 16:15:59,034 [s0@group-762FD8E59C5F-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:59,130 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #7 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:59,291 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:257464598ns, electionTimeout:233ms
2024-01-17 16:15:59,291 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:59,291 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:59,291 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:59,291 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-LeaderElection44
2024-01-17 16:15:59,292 [s1@group-762FD8E59C5F-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-762FD8E59C5F-LeaderElection44 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:59,292 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s1, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:59,292 [s1@group-762FD8E59C5F-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:59,292 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:59,292 [s1@group-762FD8E59C5F-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:59,292 [s1@group-762FD8E59C5F-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:59,292 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:59,293 [s1@group-762FD8E59C5F-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-762FD8E59C5F-LeaderElection44: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:59,293 [s1@group-762FD8E59C5F-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2024-01-17 16:15:59,293 [s1@group-762FD8E59C5F-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:59,293 [s1@group-762FD8E59C5F-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:59,293 [s1@group-762FD8E59C5F-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:59,293 [s1@group-762FD8E59C5F-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-762FD8E59C5F-LeaderElection44 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:59,293 [s1@group-762FD8E59C5F-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:59,293 [s1@group-762FD8E59C5F-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-762FD8E59C5F-LeaderElection44
2024-01-17 16:15:59,293 [s1@group-762FD8E59C5F-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:59,473 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180274474ns, electionTimeout:180ms
2024-01-17 16:15:59,473 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:59,473 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:59,473 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:59,473 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-LeaderElection45
2024-01-17 16:15:59,474 [s1@group-762FD8E59C5F-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-762FD8E59C5F-LeaderElection45 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:59,474 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s1, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:59,474 [s1@group-762FD8E59C5F-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:59,474 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:59,474 [s1@group-762FD8E59C5F-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:59,474 [s1@group-762FD8E59C5F-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:59,474 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:59,475 [s1@group-762FD8E59C5F-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-762FD8E59C5F-LeaderElection45: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:59,475 [s1@group-762FD8E59C5F-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2024-01-17 16:15:59,475 [s1@group-762FD8E59C5F-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:59,475 [s1@group-762FD8E59C5F-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:59,475 [s1@group-762FD8E59C5F-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:59,475 [s1@group-762FD8E59C5F-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-762FD8E59C5F-LeaderElection45 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:59,475 [s1@group-762FD8E59C5F-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:59,475 [s1@group-762FD8E59C5F-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-762FD8E59C5F-LeaderElection45
2024-01-17 16:15:59,475 [s1@group-762FD8E59C5F-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:59,581 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #8 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:15:59,705 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:230240356ns, electionTimeout:230ms
2024-01-17 16:15:59,705 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:15:59,705 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:15:59,705 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:15:59,705 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-LeaderElection46
2024-01-17 16:15:59,706 [s1@group-762FD8E59C5F-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-762FD8E59C5F-LeaderElection46 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:59,706 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s1, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:15:59,706 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:15:59,706 [s1@group-762FD8E59C5F-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:59,706 [s1@group-762FD8E59C5F-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:59,706 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:15:59,706 [s1@group-762FD8E59C5F-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:59,707 [s1@group-762FD8E59C5F-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-762FD8E59C5F-LeaderElection46: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:15:59,707 [s1@group-762FD8E59C5F-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2024-01-17 16:15:59,707 [s1@group-762FD8E59C5F-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:15:59,707 [s1@group-762FD8E59C5F-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:15:59,707 [s1@group-762FD8E59C5F-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:15:59,707 [s1@group-762FD8E59C5F-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-762FD8E59C5F-LeaderElection46 PRE_VOTE round 0: result REJECTED
2024-01-17 16:15:59,707 [s1@group-762FD8E59C5F-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:15:59,707 [s1@group-762FD8E59C5F-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-762FD8E59C5F-LeaderElection46
2024-01-17 16:15:59,707 [s1@group-762FD8E59C5F-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:16:00,001 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:294241710ns, electionTimeout:294ms
2024-01-17 16:16:00,001 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:16:00,001 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:16:00,001 [s1@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:00,001 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-LeaderElection47
2024-01-17 16:16:00,002 [s1@group-762FD8E59C5F-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-762FD8E59C5F-LeaderElection47 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:16:00,002 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s1, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:16:00,002 [s1@group-762FD8E59C5F-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:16:00,003 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:00,003 [s1@group-762FD8E59C5F-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:16:00,003 [s1@group-762FD8E59C5F-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s1@group-762FD8E59C5F-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:16:00,003 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-762FD8E59C5F replies to PRE_VOTE vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:16:00,003 [s1@group-762FD8E59C5F-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-762FD8E59C5F-LeaderElection47: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:16:00,003 [s1@group-762FD8E59C5F-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2024-01-17 16:16:00,003 [s1@group-762FD8E59C5F-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:16:00,003 [s1@group-762FD8E59C5F-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:16:00,003 [s1@group-762FD8E59C5F-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:16:00,003 [s1@group-762FD8E59C5F-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-762FD8E59C5F-LeaderElection47 PRE_VOTE round 0: result REJECTED
2024-01-17 16:16:00,003 [s1@group-762FD8E59C5F-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:16:00,003 [s1@group-762FD8E59C5F-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-762FD8E59C5F-LeaderElection47
2024-01-17 16:16:00,003 [s1@group-762FD8E59C5F-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:16:00,032 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #9 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:16:00,296 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-762FD8E59C5F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:293109253ns, electionTimeout:243ms
2024-01-17 16:16:00,296 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:16:00,296 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:16:00,296 [s0@group-762FD8E59C5F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:00,296 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-LeaderElection48
2024-01-17 16:16:00,296 [s0@group-762FD8E59C5F-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-762FD8E59C5F-LeaderElection48 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:16:00,297 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-762FD8E59C5F: receive requestVote(PRE_VOTE, s0, group-762FD8E59C5F, 3, (t:3, i:4))
2024-01-17 16:16:00,297 [s0@group-762FD8E59C5F-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:16:00,297 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-762FD8E59C5F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:00,297 [s0@group-762FD8E59C5F-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:16:00,297 [s0@group-762FD8E59C5F-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) - s0@group-762FD8E59C5F-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:16:00,297 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-762FD8E59C5F replies to PRE_VOTE vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null
2024-01-17 16:16:00,297 [s0@group-762FD8E59C5F-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-762FD8E59C5F-LeaderElection48: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2024-01-17 16:16:00,297 [s0@group-762FD8E59C5F-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t3
2024-01-17 16:16:00,297 [s0@group-762FD8E59C5F-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2024-01-17 16:16:00,297 [s0@group-762FD8E59C5F-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2024-01-17 16:16:00,297 [s0@group-762FD8E59C5F-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(136)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s2 is not alive.
2024-01-17 16:16:00,298 [s0@group-762FD8E59C5F-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-762FD8E59C5F-LeaderElection48 PRE_VOTE round 0: result REJECTED
2024-01-17 16:16:00,298 [s0@group-762FD8E59C5F-LeaderElection48] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-762FD8E59C5F: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2024-01-17 16:16:00,298 [s0@group-762FD8E59C5F-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-762FD8E59C5F-LeaderElection48
2024-01-17 16:16:00,298 [s0@group-762FD8E59C5F-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:16:00,482 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #10 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:16:00,483 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:assertThrowable(134)) - Expected the test "waitForLeader after killed a majority of servers" to throw IllegalStateException with cause(s) []
2024-01-17 16:16:00,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:00,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:00,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:00,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:00,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:00,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-762FD8E59C5F:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-762FD8E59C5F:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c2, conf=1: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
  s0:  RUNNING  FOLLOWER s0@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s0@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-762FD8E59C5F:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-762FD8E59C5F-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null RUNNING
  s2:   CLOSED    LEADER s2@group-762FD8E59C5F:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-762FD8E59C5F-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s3|localhost:15172, s4|localhost:15176, s0|localhost:15160, s1|localhost:15164, s2|localhost:15168]|listeners:[], old=null CLOSED
2024-01-17 16:16:00,483 [MiniRaftCluster-59] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:16:00,484 [MiniRaftCluster-60] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:16:00,484 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:00,484 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:00,484 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-762FD8E59C5F: shutdown
2024-01-17 16:16:00,484 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:00,484 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:00,484 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s0
2024-01-17 16:16:00,485 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-762FD8E59C5F-FollowerState
2024-01-17 16:16:00,484 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:00,485 [s0@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-762FD8E59C5F-FollowerState was interrupted
2024-01-17 16:16:00,485 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:00,485 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-762FD8E59C5F: shutdown
2024-01-17 16:16:00,485 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:00,485 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:00,485 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:00,485 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-762FD8E59C5F-StateMachineUpdater: set stopIndex = 4
2024-01-17 16:16:00,485 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:00,485 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-762FD8E59C5F: applyIndex: 4
2024-01-17 16:16:00,485 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:00,485 [s0@group-762FD8E59C5F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-762FD8E59C5F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:00,485 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:00,485 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-762FD8E59C5F,id=s1
2024-01-17 16:16:00,486 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-762FD8E59C5F-FollowerState
2024-01-17 16:16:00,486 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-762FD8E59C5F-StateMachineUpdater: set stopIndex = 4
2024-01-17 16:16:00,486 [s1@group-762FD8E59C5F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-762FD8E59C5F-FollowerState was interrupted
2024-01-17 16:16:00,486 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-762FD8E59C5F: applyIndex: 4
2024-01-17 16:16:00,486 [s1@group-762FD8E59C5F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-762FD8E59C5F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:01,429 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-762FD8E59C5F-SegmentedRaftLogWorker close()
2024-01-17 16:16:01,430 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-762FD8E59C5F-SegmentedRaftLogWorker close()
2024-01-17 16:16:01,430 [JvmPauseMonitor43] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:16:01,430 [JvmPauseMonitor42] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:16:01,430 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testChangeFollowerToListener" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="1.604">
    <system-out><![CDATA[2024-01-17 16:16:01,431 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:16:01,431 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:16:01,431 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:16:01,431 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:16:01,431 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:16:01,432 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-9DAA2F0A84DB:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]
2024-01-17 16:16:01,432 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:16:01,432 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:16:01,432 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:01,432 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:16:01,432 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:16:01,432 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:16:01,432 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-9DAA2F0A84DB:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188], format? true
2024-01-17 16:16:01,432 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0
2024-01-17 16:16:01,432 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0 does not exist.
2024-01-17 16:16:01,432 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0
2024-01-17 16:16:01,432 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:01,433 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:01,433 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:01,433 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:01,433 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:01,433 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0] (custom)
2024-01-17 16:16:01,433 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:01,433 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:01,433 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-9DAA2F0A84DB:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188] returns group-9DAA2F0A84DB:java.util.concurrent.CompletableFuture@71ed20f2[Not completed]
2024-01-17 16:16:01,433 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-9DAA2F0A84DB:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188] with BaseStateMachine:uninitialized
2024-01-17 16:16:01,433 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-9DAA2F0A84DB:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188], format? true
2024-01-17 16:16:01,433 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:01,433 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:01,434 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1 does not exist.
2024-01-17 16:16:01,434 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:01,434 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-9DAA2F0A84DB: ConfigurationManager, init=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:01,434 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:01,434 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:01,434 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:01,434 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:01,434 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1] (custom)
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:01,434 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:01,434 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:01,434 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:01,435 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-9DAA2F0A84DB:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188] returns group-9DAA2F0A84DB:java.util.concurrent.CompletableFuture@59114eb[Not completed]
2024-01-17 16:16:01,435 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-9DAA2F0A84DB:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188] with BaseStateMachine:uninitialized
2024-01-17 16:16:01,435 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-9DAA2F0A84DB:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188], format? true
2024-01-17 16:16:01,435 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2
2024-01-17 16:16:01,435 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:01,435 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2 does not exist.
2024-01-17 16:16:01,435 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2
2024-01-17 16:16:01,435 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:01,435 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:01,435 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:01,435 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:01,435 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:01,435 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:01,436 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:01,436 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:01,436 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:01,436 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:01,436 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:01,436 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:01,436 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:01,436 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2] (custom)
2024-01-17 16:16:01,436 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:01,436 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:01,436 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:01,436 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:01,436 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:01,436 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:01,436 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-9DAA2F0A84DB: ConfigurationManager, init=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:01,436 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:01,436 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:01,436 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:01,436 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:01,436 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:01,437 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:01,437 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:01,437 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:01,437 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:01,437 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:01,437 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:01,437 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:01,438 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-9DAA2F0A84DB:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188] returns group-9DAA2F0A84DB:java.util.concurrent.CompletableFuture@c48d95f[Not completed]
2024-01-17 16:16:01,438 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-9DAA2F0A84DB:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188] with BaseStateMachine:uninitialized
2024-01-17 16:16:01,438 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:01,438 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:01,438 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:01,438 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:01,438 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:01,438 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:01,438 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:01,438 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:01,438 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:01,438 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-9DAA2F0A84DB: ConfigurationManager, init=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:01,438 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:01,439 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:01,439 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0] (custom)
2024-01-17 16:16:01,439 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:01,439 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:01,439 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:01,439 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:01,439 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db does not exist. Creating ...
2024-01-17 16:16:01,439 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db
2024-01-17 16:16:01,439 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:01,439 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:01,439 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:01,439 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:01,439 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:01,439 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:01,440 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:01,440 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current
2024-01-17 16:16:01,440 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/sm
2024-01-17 16:16:01,440 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@266e5bea
2024-01-17 16:16:01,441 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:01,441 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db has been successfully formatted.
2024-01-17 16:16:01,441 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:01,441 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:01,441 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:01,441 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:01,441 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:01,441 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:01,441 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-9DAA2F0A84DB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-9DAA2F0A84DB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:01,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-9DAA2F0A84DB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-9DAA2F0A84DB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-9DAA2F0A84DB: start as a follower, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-9DAA2F0A84DB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-9DAA2F0A84DB-FollowerState
2024-01-17 16:16:01,443 [s0@group-9DAA2F0A84DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:01,443 [s0@group-9DAA2F0A84DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9DAA2F0A84DB,id=s0
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-9DAA2F0A84DB,id=s0
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:01,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:01,444 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:16:01,444 [JvmPauseMonitor45] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:16:01,444 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:01,444 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:01,444 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1] (custom)
2024-01-17 16:16:01,444 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db does not exist. Creating ...
2024-01-17 16:16:01,445 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db
2024-01-17 16:16:01,445 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:01,445 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current
2024-01-17 16:16:01,445 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/sm
2024-01-17 16:16:01,445 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4bb0bb92
2024-01-17 16:16:01,446 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:01,446 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db has been successfully formatted.
2024-01-17 16:16:01,446 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:01,446 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:01,446 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:01,446 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:01,446 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:01,446 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-9DAA2F0A84DB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-9DAA2F0A84DB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:01,447 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-9DAA2F0A84DB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-9DAA2F0A84DB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-9DAA2F0A84DB: start as a follower, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-9DAA2F0A84DB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-9DAA2F0A84DB-FollowerState
2024-01-17 16:16:01,449 [s1@group-9DAA2F0A84DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:01,449 [s1@group-9DAA2F0A84DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9DAA2F0A84DB,id=s1
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-9DAA2F0A84DB,id=s1
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:01,449 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:01,450 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:16:01,450 [JvmPauseMonitor46] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:16:01,450 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:01,450 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:01,450 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2] (custom)
2024-01-17 16:16:01,450 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db does not exist. Creating ...
2024-01-17 16:16:01,451 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db
2024-01-17 16:16:01,451 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:01,451 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current
2024-01-17 16:16:01,451 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/sm
2024-01-17 16:16:01,451 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@237a1c1
2024-01-17 16:16:01,452 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:01,452 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db has been successfully formatted.
2024-01-17 16:16:01,452 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:01,452 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:01,452 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:01,452 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:01,452 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-9DAA2F0A84DB-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-9DAA2F0A84DB-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:01,453 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-9DAA2F0A84DB-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-9DAA2F0A84DB-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-9DAA2F0A84DB: start as a follower, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-9DAA2F0A84DB: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-9DAA2F0A84DB-FollowerState
2024-01-17 16:16:01,455 [s2@group-9DAA2F0A84DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9DAA2F0A84DB,id=s2
2024-01-17 16:16:01,455 [s2@group-9DAA2F0A84DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-9DAA2F0A84DB,id=s2
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:01,455 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:01,456 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:16:01,456 [JvmPauseMonitor47] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:16:01,456 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:01,456 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9DAA2F0A84DB:t0, leader=null, voted=, raftlog=Memoized:s0@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9DAA2F0A84DB:t0, leader=null, voted=, raftlog=Memoized:s1@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9DAA2F0A84DB:t0, leader=null, voted=, raftlog=Memoized:s2@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null RUNNING
2024-01-17 16:16:01,456 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9DAA2F0A84DB:t0, leader=null, voted=, raftlog=Memoized:s0@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9DAA2F0A84DB:t0, leader=null, voted=, raftlog=Memoized:s1@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9DAA2F0A84DB:t0, leader=null, voted=, raftlog=Memoized:s2@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null RUNNING
2024-01-17 16:16:01,625 [s2@group-9DAA2F0A84DB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-9DAA2F0A84DB-FollowerState: change to CANDIDATE, lastRpcElapsedTime:170372106ns, electionTimeout:170ms
2024-01-17 16:16:01,625 [s2@group-9DAA2F0A84DB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-9DAA2F0A84DB-FollowerState
2024-01-17 16:16:01,626 [s2@group-9DAA2F0A84DB-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-9DAA2F0A84DB: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:16:01,626 [s2@group-9DAA2F0A84DB-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:01,626 [s2@group-9DAA2F0A84DB-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-9DAA2F0A84DB-LeaderElection49
2024-01-17 16:16:01,626 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-9DAA2F0A84DB-LeaderElection49 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null
2024-01-17 16:16:01,627 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:01,627 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:01,627 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-9DAA2F0A84DB: receive requestVote(PRE_VOTE, s2, group-9DAA2F0A84DB, 0, (t:0, i:0))
2024-01-17 16:16:01,627 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9DAA2F0A84DB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:01,627 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-9DAA2F0A84DB replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-9DAA2F0A84DB:t0, leader=null, voted=, raftlog=Memoized:s0@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null
2024-01-17 16:16:01,627 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-9DAA2F0A84DB: receive requestVote(PRE_VOTE, s2, group-9DAA2F0A84DB, 0, (t:0, i:0))
2024-01-17 16:16:01,627 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-9DAA2F0A84DB-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:01,627 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-9DAA2F0A84DB-LeaderElection49: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:01,627 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-9DAA2F0A84DB replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-9DAA2F0A84DB:t0, leader=null, voted=, raftlog=Memoized:s1@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null
2024-01-17 16:16:01,627 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2024-01-17 16:16:01,627 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-9DAA2F0A84DB-LeaderElection49 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:01,627 [s2@group-9DAA2F0A84DB-LeaderElection49] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@21cb4c0d
2024-01-17 16:16:01,628 [s2@group-9DAA2F0A84DB-LeaderElection49] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:01,628 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-9DAA2F0A84DB-LeaderElection49 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null
2024-01-17 16:16:01,629 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:01,629 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-9DAA2F0A84DB: receive requestVote(ELECTION, s2, group-9DAA2F0A84DB, 1, (t:0, i:0))
2024-01-17 16:16:01,629 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:01,629 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9DAA2F0A84DB-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:01,629 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-9DAA2F0A84DB: receive requestVote(ELECTION, s2, group-9DAA2F0A84DB, 1, (t:0, i:0))
2024-01-17 16:16:01,629 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-9DAA2F0A84DB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:16:01,629 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-9DAA2F0A84DB-FollowerState
2024-01-17 16:16:01,629 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-9DAA2F0A84DB-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:01,629 [s0@group-9DAA2F0A84DB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-9DAA2F0A84DB-FollowerState was interrupted
2024-01-17 16:16:01,629 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-9DAA2F0A84DB: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:16:01,630 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-9DAA2F0A84DB-FollowerState
2024-01-17 16:16:01,629 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-9DAA2F0A84DB-FollowerState
2024-01-17 16:16:01,630 [s1@group-9DAA2F0A84DB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-9DAA2F0A84DB-FollowerState was interrupted
2024-01-17 16:16:01,630 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-9DAA2F0A84DB-FollowerState
2024-01-17 16:16:01,630 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-9DAA2F0A84DB: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:16:01,630 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-9DAA2F0A84DB: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:16:01,630 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@19e16726
2024-01-17 16:16:01,630 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5a619239
2024-01-17 16:16:01,631 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:01,631 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:01,631 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-9DAA2F0A84DB replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-9DAA2F0A84DB:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null
2024-01-17 16:16:01,631 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-9DAA2F0A84DB replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-9DAA2F0A84DB:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-9DAA2F0A84DB-LeaderElection49: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-9DAA2F0A84DB-LeaderElection49 ELECTION round 0: result PASSED
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-9DAA2F0A84DB-LeaderElection49
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-9DAA2F0A84DB: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:01,631 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-9DAA2F0A84DB-LeaderStateImpl
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-9DAA2F0A84DB: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-9DAA2F0A84DB: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 193ms
2024-01-17 16:16:01,632 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-9DAA2F0A84DB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:01,633 [s2@group-9DAA2F0A84DB-LeaderElection49] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-9DAA2F0A84DB: set configuration 0: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null
2024-01-17 16:16:01,633 [s2@group-9DAA2F0A84DB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:01,633 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-9DAA2F0A84DB: change Leader from null to s2 at term 1 for appendEntries, leader elected after 199ms
2024-01-17 16:16:01,633 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-9DAA2F0A84DB: change Leader from null to s2 at term 1 for appendEntries, leader elected after 196ms
2024-01-17 16:16:01,634 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-9DAA2F0A84DB: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:2208, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15180"
dataStreamAddress: "localhost:15183"
clientAddress: "localhost:15182"
adminAddress: "localhost:15181"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15184"
dataStreamAddress: "localhost:15187"
clientAddress: "localhost:15186"
adminAddress: "localhost:15185"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15188"
dataStreamAddress: "localhost:15191"
clientAddress: "localhost:15190"
adminAddress: "localhost:15189"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:01,634 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-9DAA2F0A84DB: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:2207, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15180"
dataStreamAddress: "localhost:15183"
clientAddress: "localhost:15182"
adminAddress: "localhost:15181"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15184"
dataStreamAddress: "localhost:15187"
clientAddress: "localhost:15186"
adminAddress: "localhost:15185"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15188"
dataStreamAddress: "localhost:15191"
clientAddress: "localhost:15190"
adminAddress: "localhost:15189"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:01,634 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-9DAA2F0A84DB: set configuration 0: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null
2024-01-17 16:16:01,635 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-9DAA2F0A84DB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:01,635 [s0@group-9DAA2F0A84DB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:01,635 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-9DAA2F0A84DB: set configuration 0: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null
2024-01-17 16:16:01,635 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-9DAA2F0A84DB-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:01,638 [s1@group-9DAA2F0A84DB-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:01,645 [s2@group-9DAA2F0A84DB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-9DAA2F0A84DB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/log_inprogress_0
2024-01-17 16:16:01,647 [s0@group-9DAA2F0A84DB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-9DAA2F0A84DB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/log_inprogress_0
2024-01-17 16:16:01,647 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-9DAA2F0A84DB: succeeded to handle AppendEntries. Reply: s2<-s0#2207:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:01,647 [s1@group-9DAA2F0A84DB-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-9DAA2F0A84DB-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/log_inprogress_0
2024-01-17 16:16:01,648 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-9DAA2F0A84DB: succeeded to handle AppendEntries. Reply: s2<-s1#2208:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:01,648 [s2@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5b7e1013
2024-01-17 16:16:01,649 [s2@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:01,649 [s2@group-9DAA2F0A84DB-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:16:01,724 [s0@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5f65c65a
2024-01-17 16:16:01,724 [s1@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7fd76641
2024-01-17 16:16:01,725 [s0@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:01,725 [s1@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:01,907 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9DAA2F0A84DB:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9DAA2F0A84DB:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-9DAA2F0A84DB:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[], old=null RUNNING
2024-01-17 16:16:01,907 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:01,908 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-A70E622BF99C: get 2237 returns []
2024-01-17 16:16:01,908 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s0@group-9DAA2F0A84DB: receive client request(RaftClientRequest:client-A70E622BF99C->s0@group-9DAA2F0A84DB, cid=2237, seq=null, RW, message)
2024-01-17 16:16:01,909 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-A70E622BF99C: suggested new leader: s2. Failed RaftClientRequest:client-A70E622BF99C->s0@group-9DAA2F0A84DB, cid=2237, seq=null, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-9DAA2F0A84DB is not the leader s2|localhost:15188
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:748)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:713)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:925)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:917)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:892)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$14(RaftServerImpl.java:873)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:01,909 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-A70E622BF99C: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:01,909 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-A70E622BF99C changes Leader from s0 to s2 for group-9DAA2F0A84DB
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-9DAA2F0A84DB is not the leader s2|localhost:15188
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:748)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:713)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:925)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:917)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:892)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$14(RaftServerImpl.java:873)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:02,009 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-A70E622BF99C: get 2237 returns []
2024-01-17 16:16:02,010 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s2@group-9DAA2F0A84DB: receive client request(RaftClientRequest:client-A70E622BF99C->s2@group-9DAA2F0A84DB, cid=2237, seq=null, RW, message)
2024-01-17 16:16:02,011 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s2@group-9DAA2F0A84DB-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-A70E622BF99C->s2@group-9DAA2F0A84DB, cid=2237, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2237@client-A70E622BF99C
2024-01-17 16:16:02,012 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-9DAA2F0A84DB: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0], cId:2246, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2237@client-A70E622BF99C]
2024-01-17 16:16:02,012 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-9DAA2F0A84DB: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0], cId:2247, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2237@client-A70E622BF99C]
2024-01-17 16:16:02,012 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-9DAA2F0A84DB: succeeded to handle AppendEntries. Reply: s2<-s1#2246:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:02,012 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-9DAA2F0A84DB: succeeded to handle AppendEntries. Reply: s2<-s0#2247:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:02,013 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-9DAA2F0A84DB: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0], cId:2248, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:02,013 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-9DAA2F0A84DB: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0], cId:2249, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:02,014 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-A70E622BF99C: add replied callId 2237
2024-01-17 16:16:02,014 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-9DAA2F0A84DB: succeeded to handle AppendEntries. Reply: s2<-s0#2249:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:02,015 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-9DAA2F0A84DB: succeeded to handle AppendEntries. Reply: s2<-s1#2248:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:02,015 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1273)) - s2@group-9DAA2F0A84DB: receive setConfiguration SetConfigurationRequest:client-A70E622BF99C->s2@group-9DAA2F0A84DB, cid=2250, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|localhost:15180], listeners:[s1|localhost:15184]
2024-01-17 16:16:02,015 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(490)) - s2@group-9DAA2F0A84DB-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-A70E622BF99C->s2@group-9DAA2F0A84DB, cid=2250, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0|localhost:15180], listeners:[s1|localhost:15184]
2024-01-17 16:16:02,015 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-9DAA2F0A84DB: set configuration 3: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[]
2024-01-17 16:16:02,016 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-9DAA2F0A84DB: receive appendEntries(s2, 1, (t:1, i:2), 2, false, commits:[s2:c2, s0:c1, s1:c1], cId:2251, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15180"
dataStreamAddress: "localhost:15183"
clientAddress: "localhost:15182"
adminAddress: "localhost:15181"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15180"
dataStreamAddress: "localhost:15183"
clientAddress: "localhost:15182"
adminAddress: "localhost:15181"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15184"
dataStreamAddress: "localhost:15187"
clientAddress: "localhost:15186"
adminAddress: "localhost:15185"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15188"
dataStreamAddress: "localhost:15191"
clientAddress: "localhost:15190"
adminAddress: "localhost:15189"
startupRole: FOLLOWER
)]
2024-01-17 16:16:02,016 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-9DAA2F0A84DB: set configuration 3: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[]
2024-01-17 16:16:02,016 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-9DAA2F0A84DB: succeeded to handle AppendEntries. Reply: s2<-s0#2251:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:02,017 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-9DAA2F0A84DB: receive appendEntries(s2, 1, (t:1, i:2), 2, false, commits:[s2:c2, s0:c1, s1:c1], cId:2252, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15180"
dataStreamAddress: "localhost:15183"
clientAddress: "localhost:15182"
adminAddress: "localhost:15181"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15180"
dataStreamAddress: "localhost:15183"
clientAddress: "localhost:15182"
adminAddress: "localhost:15181"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15184"
dataStreamAddress: "localhost:15187"
clientAddress: "localhost:15186"
adminAddress: "localhost:15185"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15188"
dataStreamAddress: "localhost:15191"
clientAddress: "localhost:15190"
adminAddress: "localhost:15189"
startupRole: FOLLOWER
)]
2024-01-17 16:16:02,017 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-9DAA2F0A84DB: set configuration 3: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=peers:[s0|localhost:15180, s1|localhost:15184, s2|localhost:15188]|listeners:[]
2024-01-17 16:16:02,017 [s2@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@51867b63
2024-01-17 16:16:02,017 [s2@group-9DAA2F0A84DB-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-9DAA2F0A84DB: set configuration 5: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=null
2024-01-17 16:16:02,018 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-9DAA2F0A84DB: succeeded to handle AppendEntries. Reply: s2<-s1#2252:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:02,018 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-9DAA2F0A84DB: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits:[s2:c3, s0:c2, s1:c1], cId:2253, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15180"
dataStreamAddress: "localhost:15183"
clientAddress: "localhost:15182"
adminAddress: "localhost:15181"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:02,018 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-9DAA2F0A84DB: set configuration 5: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=null
2024-01-17 16:16:02,018 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-9DAA2F0A84DB: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits:[s2:c3, s0:c2, s1:c2], cId:2254, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15180"
dataStreamAddress: "localhost:15183"
clientAddress: "localhost:15182"
adminAddress: "localhost:15181"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:02,018 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-9DAA2F0A84DB: set configuration 5: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=null
2024-01-17 16:16:02,019 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-9DAA2F0A84DB: succeeded to handle AppendEntries. Reply: s2<-s0#2253:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:16:02,019 [s0@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@51a233c6
2024-01-17 16:16:02,019 [s2@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:02,020 [s1@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@711097cb
2024-01-17 16:16:02,020 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-9DAA2F0A84DB: succeeded to handle AppendEntries. Reply: s2<-s1#2254:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:16:02,021 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-9DAA2F0A84DB: receive appendEntries(s2, 1, (t:1, i:5), 5, false, commits:[s2:c5, s0:c3, s1:c3], cId:2256, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:02,021 [s2@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1484ff37
2024-01-17 16:16:02,021 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-9DAA2F0A84DB: receive appendEntries(s2, 1, (t:1, i:5), 5, false, commits:[s2:c5, s0:c3, s1:c2], cId:2255, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:02,021 [s0@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s0/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:02,023 [s2@group-9DAA2F0A84DB-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:checkAndUpdateConfiguration(995)) - s2@group-9DAA2F0A84DB-LeaderStateImpl is not included in the new configuration 5: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=null. Will shutdown server...
2024-01-17 16:16:02,023 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-A70E622BF99C: add replied callId 2250
2024-01-17 16:16:02,023 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:02,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:02,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:02,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:02,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:02,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9DAA2F0A84DB:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9DAA2F0A84DB:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-9DAA2F0A84DB:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9DAA2F0A84DB-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=null RUNNING
2024-01-17 16:16:02,024 [MiniRaftCluster-62] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:16:02,024 [MiniRaftCluster-63] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:16:02,024 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-9DAA2F0A84DB: shutdown
2024-01-17 16:16:02,024 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,024 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9DAA2F0A84DB,id=s0
2024-01-17 16:16:02,025 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-9DAA2F0A84DB-FollowerState
2024-01-17 16:16:02,025 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,025 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-9DAA2F0A84DB-StateMachineUpdater: set stopIndex = 3
2024-01-17 16:16:02,027 [MiniRaftCluster-64] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:16:02,025 [s0@group-9DAA2F0A84DB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-9DAA2F0A84DB-FollowerState was interrupted
2024-01-17 16:16:02,028 [s1@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s1/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:02,031 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,031 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-9DAA2F0A84DB: shutdown
2024-01-17 16:16:02,031 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9DAA2F0A84DB,id=s1
2024-01-17 16:16:02,031 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,031 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,031 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-9DAA2F0A84DB-FollowerState
2024-01-17 16:16:02,031 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-9DAA2F0A84DB: succeeded to handle AppendEntries. Reply: s2<-s0#2255:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:02,031 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-9DAA2F0A84DB: succeeded to handle AppendEntries. Reply: s2<-s1#2256:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:02,031 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,031 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,031 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,031 [s1@group-9DAA2F0A84DB-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-9DAA2F0A84DB-FollowerState was interrupted
2024-01-17 16:16:02,031 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-9DAA2F0A84DB-StateMachineUpdater: set stopIndex = 3
2024-01-17 16:16:02,032 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-9DAA2F0A84DB: applyIndex: 3
2024-01-17 16:16:02,031 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-9DAA2F0A84DB: applyIndex: 3
2024-01-17 16:16:02,032 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-9DAA2F0A84DB: shutdown
2024-01-17 16:16:02,032 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9DAA2F0A84DB,id=s2
2024-01-17 16:16:02,032 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-9DAA2F0A84DB-LeaderStateImpl
2024-01-17 16:16:02,032 [s1@group-9DAA2F0A84DB-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-9DAA2F0A84DB-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:02,032 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,033 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,033 [s2@group-9DAA2F0A84DB-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcddfbc20d/s2/fde01997-705c-4081-88a6-9daa2f0a84db/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:02,033 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,033 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,033 [s0@group-9DAA2F0A84DB-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-9DAA2F0A84DB-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:02,033 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,033 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-9DAA2F0A84DB-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:02,033 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,033 [s2@group-9DAA2F0A84DB->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-9DAA2F0A84DB->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:02,033 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,034 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:02,033 [s2@group-9DAA2F0A84DB->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-9DAA2F0A84DB->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:02,034 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-9DAA2F0A84DB-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:16:02,034 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-9DAA2F0A84DB: applyIndex: 5
2024-01-17 16:16:02,034 [s2@group-9DAA2F0A84DB-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-9DAA2F0A84DB-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:03,022 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-9DAA2F0A84DB-SegmentedRaftLogWorker close()
2024-01-17 16:16:03,023 [JvmPauseMonitor47] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:16:03,032 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-9DAA2F0A84DB-SegmentedRaftLogWorker close()
2024-01-17 16:16:03,032 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-9DAA2F0A84DB-SegmentedRaftLogWorker close()
2024-01-17 16:16:03,034 [JvmPauseMonitor46] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:16:03,034 [JvmPauseMonitor45] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:16:03,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2024-01-17 16:16:03,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:03,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:03,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:03,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:03,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:03,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-9DAA2F0A84DB:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9DAA2F0A84DB-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-9DAA2F0A84DB:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9DAA2F0A84DB-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-9DAA2F0A84DB:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9DAA2F0A84DB-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|localhost:15180]|listeners:[s1|localhost:15184], old=null CLOSED
2024-01-17 16:16:03,035 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testTransferLeader" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="2.068">
    <system-out><![CDATA[2024-01-17 16:16:03,035 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:16:03,035 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:16:03,035 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:16:03,035 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:16:03,036 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:16:03,037 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-F3DA5E80DE9A:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]
2024-01-17 16:16:03,037 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:16:03,037 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:16:03,037 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:03,037 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:16:03,037 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:16:03,037 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:16:03,037 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-F3DA5E80DE9A:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200], format? true
2024-01-17 16:16:03,037 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0
2024-01-17 16:16:03,037 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0 does not exist.
2024-01-17 16:16:03,037 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0
2024-01-17 16:16:03,037 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:03,037 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:03,038 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:03,038 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:03,038 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:03,038 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0] (custom)
2024-01-17 16:16:03,038 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:03,038 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:03,038 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-F3DA5E80DE9A:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200] returns group-F3DA5E80DE9A:java.util.concurrent.CompletableFuture@71f3d8d8[Not completed]
2024-01-17 16:16:03,038 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-F3DA5E80DE9A:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200] with BaseStateMachine:uninitialized
2024-01-17 16:16:03,038 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-F3DA5E80DE9A:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200], format? true
2024-01-17 16:16:03,038 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1
2024-01-17 16:16:03,038 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:03,039 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1 does not exist.
2024-01-17 16:16:03,039 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1
2024-01-17 16:16:03,039 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:03,039 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:03,039 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:03,039 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:03,039 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:03,039 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:03,039 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:03,039 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:03,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:03,039 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-F3DA5E80DE9A: ConfigurationManager, init=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:03,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:03,039 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:03,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:03,039 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:03,039 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:03,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1] (custom)
2024-01-17 16:16:03,039 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:03,040 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:03,040 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:03,040 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:03,040 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:03,040 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-F3DA5E80DE9A:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200] returns group-F3DA5E80DE9A:java.util.concurrent.CompletableFuture@58fea3c[Not completed]
2024-01-17 16:16:03,040 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-F3DA5E80DE9A:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200], format? true
2024-01-17 16:16:03,040 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2
2024-01-17 16:16:03,040 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2 does not exist.
2024-01-17 16:16:03,040 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2
2024-01-17 16:16:03,041 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:03,041 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:03,041 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:03,041 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:03,041 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:03,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:03,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:03,041 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:03,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:03,041 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:03,041 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:03,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2] (custom)
2024-01-17 16:16:03,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:03,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-F3DA5E80DE9A:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200] with BaseStateMachine:uninitialized
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-F3DA5E80DE9A: ConfigurationManager, init=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:03,042 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:03,043 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-F3DA5E80DE9A:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200] returns group-F3DA5E80DE9A:java.util.concurrent.CompletableFuture@4f5ea512[Not completed]
2024-01-17 16:16:03,043 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-F3DA5E80DE9A:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200] with BaseStateMachine:uninitialized
2024-01-17 16:16:03,043 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:03,043 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:03,043 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:03,044 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:03,044 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:03,044 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0] (custom)
2024-01-17 16:16:03,044 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:03,044 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:03,044 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:03,044 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:03,044 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a does not exist. Creating ...
2024-01-17 16:16:03,044 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-F3DA5E80DE9A: ConfigurationManager, init=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:03,044 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:03,044 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:03,044 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:03,044 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:03,044 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:03,044 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:03,044 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a
2024-01-17 16:16:03,045 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:03,045 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:03,045 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:03,045 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current
2024-01-17 16:16:03,045 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/sm
2024-01-17 16:16:03,046 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1c39b8bb
2024-01-17 16:16:03,046 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:03,046 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:03,046 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:03,046 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:03,046 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:03,046 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a has been successfully formatted.
2024-01-17 16:16:03,046 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:03,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:03,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:03,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:03,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:03,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:03,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:03,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:03,047 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,047 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-F3DA5E80DE9A-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:03,048 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:03,049 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-F3DA5E80DE9A: start as a follower, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,049 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-F3DA5E80DE9A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:03,049 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:03,049 [s0@group-F3DA5E80DE9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:03,049 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F3DA5E80DE9A,id=s0
2024-01-17 16:16:03,049 [s0@group-F3DA5E80DE9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:03,049 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F3DA5E80DE9A,id=s0
2024-01-17 16:16:03,049 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:03,049 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:03,049 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:03,049 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:03,050 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:16:03,050 [JvmPauseMonitor48] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:16:03,050 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:03,050 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:03,050 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1] (custom)
2024-01-17 16:16:03,050 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a does not exist. Creating ...
2024-01-17 16:16:03,051 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a
2024-01-17 16:16:03,051 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:03,051 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current
2024-01-17 16:16:03,051 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/sm
2024-01-17 16:16:03,051 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@17fa4181
2024-01-17 16:16:03,052 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:03,052 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a has been successfully formatted.
2024-01-17 16:16:03,052 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:03,052 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:03,052 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:03,052 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,052 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:03,052 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-F3DA5E80DE9A-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:03,053 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:03,054 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-F3DA5E80DE9A: start as a follower, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-F3DA5E80DE9A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:03,055 [s1@group-F3DA5E80DE9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F3DA5E80DE9A,id=s1
2024-01-17 16:16:03,055 [s1@group-F3DA5E80DE9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F3DA5E80DE9A,id=s1
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:03,055 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:03,055 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:16:03,056 [JvmPauseMonitor49] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:16:03,056 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:03,056 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:03,056 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2] (custom)
2024-01-17 16:16:03,056 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a does not exist. Creating ...
2024-01-17 16:16:03,056 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a
2024-01-17 16:16:03,057 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:03,057 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current
2024-01-17 16:16:03,057 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/sm
2024-01-17 16:16:03,057 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4aa16c73
2024-01-17 16:16:03,058 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:03,058 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a has been successfully formatted.
2024-01-17 16:16:03,058 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:03,058 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:03,058 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:03,058 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,058 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:03,058 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-F3DA5E80DE9A-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:03,059 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-F3DA5E80DE9A: start as a follower, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-F3DA5E80DE9A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:03,061 [s2@group-F3DA5E80DE9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F3DA5E80DE9A,id=s2
2024-01-17 16:16:03,061 [s2@group-F3DA5E80DE9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F3DA5E80DE9A,id=s2
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:03,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:03,062 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:16:03,062 [JvmPauseMonitor50] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:16:03,062 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:03,062 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F3DA5E80DE9A:t0, leader=null, voted=, raftlog=Memoized:s0@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F3DA5E80DE9A:t0, leader=null, voted=, raftlog=Memoized:s1@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F3DA5E80DE9A:t0, leader=null, voted=, raftlog=Memoized:s2@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
2024-01-17 16:16:03,063 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F3DA5E80DE9A:t0, leader=null, voted=, raftlog=Memoized:s0@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F3DA5E80DE9A:t0, leader=null, voted=, raftlog=Memoized:s1@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F3DA5E80DE9A:t0, leader=null, voted=, raftlog=Memoized:s2@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
2024-01-17 16:16:03,202 [s0@group-F3DA5E80DE9A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-F3DA5E80DE9A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:153685616ns, electionTimeout:153ms
2024-01-17 16:16:03,202 [s0@group-F3DA5E80DE9A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:03,203 [s0@group-F3DA5E80DE9A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-F3DA5E80DE9A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:16:03,203 [s0@group-F3DA5E80DE9A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:03,203 [s0@group-F3DA5E80DE9A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-F3DA5E80DE9A-LeaderElection50
2024-01-17 16:16:03,203 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-F3DA5E80DE9A-LeaderElection50 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,203 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:03,204 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:03,204 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-F3DA5E80DE9A: receive requestVote(PRE_VOTE, s0, group-F3DA5E80DE9A, 0, (t:0, i:0))
2024-01-17 16:16:03,204 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-F3DA5E80DE9A: receive requestVote(PRE_VOTE, s0, group-F3DA5E80DE9A, 0, (t:0, i:0))
2024-01-17 16:16:03,204 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-F3DA5E80DE9A-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:03,204 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F3DA5E80DE9A-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:03,204 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-F3DA5E80DE9A replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-F3DA5E80DE9A:t0, leader=null, voted=, raftlog=Memoized:s1@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,204 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-F3DA5E80DE9A replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-F3DA5E80DE9A:t0, leader=null, voted=, raftlog=Memoized:s2@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,204 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-F3DA5E80DE9A-LeaderElection50: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:03,204 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2024-01-17 16:16:03,204 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-F3DA5E80DE9A-LeaderElection50 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:03,204 [s0@group-F3DA5E80DE9A-LeaderElection50] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@45cb713e
2024-01-17 16:16:03,205 [s0@group-F3DA5E80DE9A-LeaderElection50] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:03,205 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-F3DA5E80DE9A-LeaderElection50 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,205 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:03,205 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-F3DA5E80DE9A: receive requestVote(ELECTION, s0, group-F3DA5E80DE9A, 1, (t:0, i:0))
2024-01-17 16:16:03,205 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:03,205 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-F3DA5E80DE9A: receive requestVote(ELECTION, s0, group-F3DA5E80DE9A, 1, (t:0, i:0))
2024-01-17 16:16:03,205 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-F3DA5E80DE9A-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:03,205 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F3DA5E80DE9A-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:03,205 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-F3DA5E80DE9A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:16:03,205 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:03,205 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-F3DA5E80DE9A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:16:03,206 [s1@group-F3DA5E80DE9A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F3DA5E80DE9A-FollowerState was interrupted
2024-01-17 16:16:03,206 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:03,205 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:03,206 [s2@group-F3DA5E80DE9A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F3DA5E80DE9A-FollowerState was interrupted
2024-01-17 16:16:03,206 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:03,206 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-F3DA5E80DE9A: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:16:03,206 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-F3DA5E80DE9A: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:16:03,206 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5bf657a3
2024-01-17 16:16:03,206 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3958fb5d
2024-01-17 16:16:03,207 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:03,207 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:03,207 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-F3DA5E80DE9A replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-F3DA5E80DE9A:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,207 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-F3DA5E80DE9A replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-F3DA5E80DE9A:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-F3DA5E80DE9A-LeaderElection50: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-F3DA5E80DE9A-LeaderElection50 ELECTION round 0: result PASSED
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-F3DA5E80DE9A-LeaderElection50
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-F3DA5E80DE9A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:03,207 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:03,208 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:03,208 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,208 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:03,208 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:03,208 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:03,208 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,208 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:03,208 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:03,208 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-F3DA5E80DE9A-LeaderStateImpl
2024-01-17 16:16:03,208 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-F3DA5E80DE9A: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:16:03,208 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-F3DA5E80DE9A: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 168ms
2024-01-17 16:16:03,208 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:03,209 [s0@group-F3DA5E80DE9A-LeaderElection50] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-F3DA5E80DE9A: set configuration 0: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,209 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-F3DA5E80DE9A: change Leader from null to s0 at term 1 for appendEntries, leader elected after 167ms
2024-01-17 16:16:03,209 [s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:03,209 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-F3DA5E80DE9A: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2325, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15192"
dataStreamAddress: "localhost:15195"
clientAddress: "localhost:15194"
adminAddress: "localhost:15193"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15196"
dataStreamAddress: "localhost:15199"
clientAddress: "localhost:15198"
adminAddress: "localhost:15197"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15200"
dataStreamAddress: "localhost:15203"
clientAddress: "localhost:15202"
adminAddress: "localhost:15201"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:03,210 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-F3DA5E80DE9A: set configuration 0: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,210 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:03,210 [s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:03,212 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-F3DA5E80DE9A: change Leader from null to s0 at term 1 for appendEntries, leader elected after 167ms
2024-01-17 16:16:03,213 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:2326, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15192"
dataStreamAddress: "localhost:15195"
clientAddress: "localhost:15194"
adminAddress: "localhost:15193"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15196"
dataStreamAddress: "localhost:15199"
clientAddress: "localhost:15198"
adminAddress: "localhost:15197"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15200"
dataStreamAddress: "localhost:15203"
clientAddress: "localhost:15202"
adminAddress: "localhost:15201"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:03,213 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-F3DA5E80DE9A: set configuration 0: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,213 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:03,213 [s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:03,219 [s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_inprogress_0
2024-01-17 16:16:03,221 [s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_inprogress_0
2024-01-17 16:16:03,223 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s0<-s1#2325:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:03,223 [s0@group-F3DA5E80DE9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@d15d788
2024-01-17 16:16:03,223 [s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_inprogress_0
2024-01-17 16:16:03,223 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s0<-s2#2326:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:03,224 [s0@group-F3DA5E80DE9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:03,224 [s0@group-F3DA5E80DE9A-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:16:03,299 [s1@group-F3DA5E80DE9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2b4f8c38
2024-01-17 16:16:03,299 [s2@group-F3DA5E80DE9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@29a8c647
2024-01-17 16:16:03,301 [s1@group-F3DA5E80DE9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:03,301 [s2@group-F3DA5E80DE9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:03,513 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F3DA5E80DE9A:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F3DA5E80DE9A:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F3DA5E80DE9A:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
2024-01-17 16:16:03,513 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:03,513 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-E973A961D745: get 2355 returns []
2024-01-17 16:16:03,514 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s0@group-F3DA5E80DE9A: receive client request(RaftClientRequest:client-E973A961D745->s0@group-F3DA5E80DE9A, cid=2355, seq=null, RW, message)
2024-01-17 16:16:03,515 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s0@group-F3DA5E80DE9A-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-E973A961D745->s0@group-F3DA5E80DE9A, cid=2355, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2355@client-E973A961D745
2024-01-17 16:16:03,515 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-F3DA5E80DE9A: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0], cId:2356, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2355@client-E973A961D745]
2024-01-17 16:16:03,515 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0], cId:2357, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2355@client-E973A961D745]
2024-01-17 16:16:03,515 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s0<-s1#2356:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:03,515 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s0<-s2#2357:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:03,516 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0], cId:2358, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:03,516 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-F3DA5E80DE9A: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0], cId:2359, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:03,516 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s0<-s2#2358:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:03,516 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s0<-s1#2359:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:03,517 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-E973A961D745: add replied callId 2355
2024-01-17 16:16:03,517 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(1164)) - s0@group-F3DA5E80DE9A: receive transferLeadership TransferLeadershipRequest:client-E973A961D745->s0@group-F3DA5E80DE9A, cid=2360, seq=null, RO, null
2024-01-17 16:16:03,517 [s0-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(258)) - s0@group-F3DA5E80DE9A: start transferring leadership to s1
2024-01-17 16:16:03,517 [s0-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:sendStartLeaderElection(210)) - s0@group-F3DA5E80DE9A: sendStartLeaderElection to follower s1, lastEntry=(t:1, i:2)
2024-01-17 16:16:03,524 [s0-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(266)) - s0@group-F3DA5E80DE9A: SUCCESS sent StartLeaderElection to transferee s1 immediately as it already has up-to-date log
2024-01-17 16:16:03,525 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1752)) - s1@group-F3DA5E80DE9A: receive startLeaderElection from:s0, leaderLastEntry:term: 1
index: 2
,
2024-01-17 16:16:03,525 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:03,525 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-F3DA5E80DE9A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:16:03,525 [s1@group-F3DA5E80DE9A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F3DA5E80DE9A-FollowerState was interrupted
2024-01-17 16:16:03,526 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-F3DA5E80DE9A: change Leader from s0 to null at term 1 for ELECTION
2024-01-17 16:16:03,526 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@e93f133
2024-01-17 16:16:03,527 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:03,527 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-F3DA5E80DE9A-LeaderElection51
2024-01-17 16:16:03,530 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-F3DA5E80DE9A-LeaderElection51 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,530 [s0-server-thread2] INFO  impl.TransferLeadership (TransferLeadership.java:lambda$sendStartLeaderElection$2(224)) - s0@group-F3DA5E80DE9A: Received startLeaderElection reply from s1: success? true
2024-01-17 16:16:03,531 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-F3DA5E80DE9A: receive requestVote(ELECTION, s1, group-F3DA5E80DE9A, 2, (t:1, i:2))
2024-01-17 16:16:03,531 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-F3DA5E80DE9A: receive requestVote(ELECTION, s1, group-F3DA5E80DE9A, 2, (t:1, i:2))
2024-01-17 16:16:03,531 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-F3DA5E80DE9A-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:03,531 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-F3DA5E80DE9A: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-01-17 16:16:03,531 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F3DA5E80DE9A-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:03,531 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-F3DA5E80DE9A: changes role from    LEADER to FOLLOWER at term 2 for candidate:s1
2024-01-17 16:16:03,531 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-F3DA5E80DE9A: change Leader from s0 to null at term 2 for updateCurrentTerm
2024-01-17 16:16:03,531 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-F3DA5E80DE9A-LeaderStateImpl
2024-01-17 16:16:03,531 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-F3DA5E80DE9A: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2024-01-17 16:16:03,531 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:03,531 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:03,531 [s2@group-F3DA5E80DE9A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F3DA5E80DE9A-FollowerState was interrupted
2024-01-17 16:16:03,531 [s0@group-F3DA5E80DE9A->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-F3DA5E80DE9A->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:03,531 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-F3DA5E80DE9A-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:03,532 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@31b8b6bf
2024-01-17 16:16:03,532 [s0@group-F3DA5E80DE9A->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-F3DA5E80DE9A->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:03,533 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:03,533 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:03,534 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-F3DA5E80DE9A replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-F3DA5E80DE9A:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,535 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-F3DA5E80DE9A-LeaderElection51: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:03,535 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t2
2024-01-17 16:16:03,535 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@73e72d68
2024-01-17 16:16:03,535 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-F3DA5E80DE9A-LeaderElection51 ELECTION round 0: result PASSED
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-F3DA5E80DE9A-LeaderElection51
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-F3DA5E80DE9A: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:03,536 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:03,537 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:03,537 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,537 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:03,537 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:03,537 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:03,537 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:03,537 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:03,537 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:03,537 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-F3DA5E80DE9A-LeaderStateImpl
2024-01-17 16:16:03,537 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-F3DA5E80DE9A: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 11ms
2024-01-17 16:16:03,537 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2024-01-17 16:16:03,537 [s1@group-F3DA5E80DE9A-LeaderElection51] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-F3DA5E80DE9A: set configuration 3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,538 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:03,538 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-F3DA5E80DE9A replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-F3DA5E80DE9A:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,538 [s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_0-2
2024-01-17 16:16:03,538 [s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_0-2
2024-01-17 16:16:03,538 [s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2024-01-17 16:16:03,543 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-F3DA5E80DE9A: change Leader from null to s1 at term 2 for appendEntries, leader elected after 11ms
2024-01-17 16:16:03,543 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-F3DA5E80DE9A: change Leader from null to s1 at term 2 for appendEntries, leader elected after 11ms
2024-01-17 16:16:03,543 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:03,543 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F3DA5E80DE9A:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F3DA5E80DE9A:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c1, conf=3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F3DA5E80DE9A:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
2024-01-17 16:16:03,544 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: receive appendEntries(s1, 2, (t:1, i:2), 1, false, commits:[s1:c1, s0:c1, s2:c1], cId:2365, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15192"
dataStreamAddress: "localhost:15195"
clientAddress: "localhost:15194"
adminAddress: "localhost:15193"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15196"
dataStreamAddress: "localhost:15199"
clientAddress: "localhost:15198"
adminAddress: "localhost:15197"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15200"
dataStreamAddress: "localhost:15203"
clientAddress: "localhost:15202"
adminAddress: "localhost:15201"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:03,544 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: Leader: s1@group-F3DA5E80DE9A not ready
2024-01-17 16:16:03,544 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-F3DA5E80DE9A: set configuration 3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,544 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2024-01-17 16:16:03,545 [s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_0-2
2024-01-17 16:16:03,545 [s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_0-2
2024-01-17 16:16:03,545 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F3DA5E80DE9A: receive appendEntries(s1, 2, (t:1, i:2), 1, false, commits:[s1:c1, s0:c2, s2:c1], cId:2366, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15192"
dataStreamAddress: "localhost:15195"
clientAddress: "localhost:15194"
adminAddress: "localhost:15193"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15196"
dataStreamAddress: "localhost:15199"
clientAddress: "localhost:15198"
adminAddress: "localhost:15197"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15200"
dataStreamAddress: "localhost:15203"
clientAddress: "localhost:15202"
adminAddress: "localhost:15201"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:03,545 [s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2024-01-17 16:16:03,545 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-F3DA5E80DE9A: set configuration 3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null
2024-01-17 16:16:03,545 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2024-01-17 16:16:03,546 [s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_0-2
2024-01-17 16:16:03,546 [s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_0-2
2024-01-17 16:16:03,546 [s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2024-01-17 16:16:03,556 [s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_inprogress_3
2024-01-17 16:16:03,556 [s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_inprogress_3
2024-01-17 16:16:03,556 [s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/log_inprogress_3
2024-01-17 16:16:03,557 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s1<-s2#2365:OK-t2,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2024-01-17 16:16:03,557 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s1<-s0#2366:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:03,558 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F3DA5E80DE9A: receive appendEntries(s1, 2, (t:2, i:3), 3, false, commits:[s1:c3, s0:c2, s2:c1], cId:2371, entries: [(t:2, i:4), METADATAENTRY(c:3)]
2024-01-17 16:16:03,558 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: receive appendEntries(s1, 2, (t:2, i:3), 3, false, commits:[s1:c3, s0:c2, s2:c1], cId:2372, entries: [(t:2, i:4), METADATAENTRY(c:3)]
2024-01-17 16:16:03,558 [s1@group-F3DA5E80DE9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@25886721
2024-01-17 16:16:03,559 [s1@group-F3DA5E80DE9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s1/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:03,559 [s1@group-F3DA5E80DE9A-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 3 >= startIndex == 3
2024-01-17 16:16:03,560 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s1<-s0#2371:OK-t2,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:16:03,560 [s0@group-F3DA5E80DE9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7edbcf8
2024-01-17 16:16:03,561 [s0@group-F3DA5E80DE9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s0/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:03,562 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s1<-s2#2372:OK-t2,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:16:03,562 [s2@group-F3DA5E80DE9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@276f3d02
2024-01-17 16:16:03,563 [s2@group-F3DA5E80DE9A-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc513d5b2f/s2/732e76c9-ac50-4f6a-8d07-f3da5e80de9a/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:03,994 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F3DA5E80DE9A:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F3DA5E80DE9A:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F3DA5E80DE9A:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
2024-01-17 16:16:03,994 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-E973A961D745: get 2413 returns [2355]
2024-01-17 16:16:03,994 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s0@group-F3DA5E80DE9A: receive client request(RaftClientRequest:client-E973A961D745->s0@group-F3DA5E80DE9A, cid=2413, seq=null, RW, message)
2024-01-17 16:16:03,995 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-E973A961D745: suggested new leader: s1. Failed RaftClientRequest:client-E973A961D745->s0@group-F3DA5E80DE9A, cid=2413, seq=null, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-F3DA5E80DE9A is not the leader s1|localhost:15196
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:748)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:713)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:925)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:917)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:892)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$14(RaftServerImpl.java:873)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:03,995 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-E973A961D745: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:03,996 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-E973A961D745 changes Leader from s0 to s1 for group-F3DA5E80DE9A
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-F3DA5E80DE9A is not the leader s1|localhost:15196
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:748)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:713)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:925)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:917)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:892)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$14(RaftServerImpl.java:873)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:04,096 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-E973A961D745: get 2413 returns [2355]
2024-01-17 16:16:04,096 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s1@group-F3DA5E80DE9A: receive client request(RaftClientRequest:client-E973A961D745->s1@group-F3DA5E80DE9A, cid=2413, seq=null, RW, message)
2024-01-17 16:16:04,097 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s1@group-F3DA5E80DE9A-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-E973A961D745->s1@group-F3DA5E80DE9A, cid=2413, seq=null, RW, message, entry=(t:2, i:5), STATEMACHINELOGENTRY, 2413@client-E973A961D745
2024-01-17 16:16:04,097 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: receive appendEntries(s1, 2, (t:2, i:4), 4, false, commits:[s1:c4, s0:c4, s2:c4], cId:2431, entries: [(t:2, i:5), STATEMACHINELOGENTRY, 2413@client-E973A961D745]
2024-01-17 16:16:04,097 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F3DA5E80DE9A: receive appendEntries(s1, 2, (t:2, i:4), 4, false, commits:[s1:c4, s0:c4, s2:c4], cId:2430, entries: [(t:2, i:5), STATEMACHINELOGENTRY, 2413@client-E973A961D745]
2024-01-17 16:16:04,098 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s1<-s2#2431:OK-t2,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2024-01-17 16:16:04,098 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s1<-s0#2430:OK-t2,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2024-01-17 16:16:04,098 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F3DA5E80DE9A: receive appendEntries(s1, 2, (t:2, i:5), 5, false, commits:[s1:c5, s0:c4, s2:c4], cId:2432, entries: [(t:2, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:04,099 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: receive appendEntries(s1, 2, (t:2, i:5), 5, false, commits:[s1:c5, s0:c4, s2:c4], cId:2433, entries: [(t:2, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:04,099 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-E973A961D745: add replied callId 2413
2024-01-17 16:16:04,099 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:04,099 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:04,099 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:04,099 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s1<-s0#2432:OK-t2,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:04,099 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:04,099 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:04,099 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F3DA5E80DE9A: succeeded to handle AppendEntries. Reply: s1<-s2#2433:OK-t2,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:04,099 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F3DA5E80DE9A:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c5, conf=3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F3DA5E80DE9A:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c6, conf=3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F3DA5E80DE9A:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F3DA5E80DE9A-SegmentedRaftLog:OPENED:c5, conf=3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null RUNNING
2024-01-17 16:16:04,100 [MiniRaftCluster-68] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:16:04,100 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-F3DA5E80DE9A: shutdown
2024-01-17 16:16:04,100 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,100 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F3DA5E80DE9A,id=s0
2024-01-17 16:16:04,100 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:04,100 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-F3DA5E80DE9A-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:16:04,100 [s0@group-F3DA5E80DE9A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F3DA5E80DE9A-FollowerState was interrupted
2024-01-17 16:16:04,100 [MiniRaftCluster-70] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:16:04,100 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,101 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,101 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,101 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,100 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,101 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,101 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,101 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,101 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,101 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,101 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,101 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-F3DA5E80DE9A: shutdown
2024-01-17 16:16:04,101 [MiniRaftCluster-69] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:16:04,101 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-F3DA5E80DE9A: applyIndex: 5
2024-01-17 16:16:04,101 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F3DA5E80DE9A,id=s2
2024-01-17 16:16:04,102 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-F3DA5E80DE9A-FollowerState
2024-01-17 16:16:04,102 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-F3DA5E80DE9A-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:16:04,102 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,102 [s0@group-F3DA5E80DE9A-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-F3DA5E80DE9A-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:04,102 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,103 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-F3DA5E80DE9A: applyIndex: 5
2024-01-17 16:16:04,102 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-F3DA5E80DE9A: shutdown
2024-01-17 16:16:04,103 [s2@group-F3DA5E80DE9A-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-F3DA5E80DE9A-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:04,103 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F3DA5E80DE9A,id=s1
2024-01-17 16:16:04,103 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s1: shutdown s1@group-F3DA5E80DE9A-LeaderStateImpl
2024-01-17 16:16:04,103 [s1@group-F3DA5E80DE9A->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-F3DA5E80DE9A->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:04,103 [s1@group-F3DA5E80DE9A->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-F3DA5E80DE9A->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:04,102 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,103 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-F3DA5E80DE9A-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:04,103 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,103 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,102 [s2@group-F3DA5E80DE9A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F3DA5E80DE9A-FollowerState was interrupted
2024-01-17 16:16:04,103 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:04,104 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-F3DA5E80DE9A-StateMachineUpdater: set stopIndex = 6
2024-01-17 16:16:04,104 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-F3DA5E80DE9A: applyIndex: 6
2024-01-17 16:16:04,104 [s1@group-F3DA5E80DE9A-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-F3DA5E80DE9A-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:05,100 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-F3DA5E80DE9A-SegmentedRaftLogWorker close()
2024-01-17 16:16:05,100 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-F3DA5E80DE9A-SegmentedRaftLogWorker close()
2024-01-17 16:16:05,100 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-F3DA5E80DE9A-SegmentedRaftLogWorker close()
2024-01-17 16:16:05,100 [JvmPauseMonitor49] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:16:05,101 [JvmPauseMonitor48] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:16:05,101 [JvmPauseMonitor50] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:16:05,101 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2024-01-17 16:16:05,102 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:05,102 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:05,102 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:05,102 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:05,102 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:05,102 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-F3DA5E80DE9A:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F3DA5E80DE9A-SegmentedRaftLog:CLOSED:c5, conf=3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-F3DA5E80DE9A:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F3DA5E80DE9A-SegmentedRaftLog:CLOSED:c6, conf=3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-F3DA5E80DE9A:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F3DA5E80DE9A-SegmentedRaftLog:CLOSED:c5, conf=3: peers:[s0|localhost:15192, s1|localhost:15196, s2|localhost:15200]|listeners:[], old=null CLOSED
2024-01-17 16:16:05,102 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testPauseResumeLeaderElection" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="1.92">
    <system-out><![CDATA[2024-01-17 16:16:05,103 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:16:05,103 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:16:05,103 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:16:05,103 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:16:05,103 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(134)) - Running runWithNewCluster
2024-01-17 16:16:05,103 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:16:05,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-A19056CD18DE:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]
2024-01-17 16:16:05,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:16:05,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:16:05,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:05,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:16:05,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:16:05,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:16:05,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-A19056CD18DE:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212], format? true
2024-01-17 16:16:05,104 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0
2024-01-17 16:16:05,104 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0 does not exist.
2024-01-17 16:16:05,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0
2024-01-17 16:16:05,104 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:05,105 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:05,105 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:05,105 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:05,105 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:05,105 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0] (custom)
2024-01-17 16:16:05,105 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:05,105 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:05,105 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-A19056CD18DE:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212] returns group-A19056CD18DE:java.util.concurrent.CompletableFuture@45fe76c7[Not completed]
2024-01-17 16:16:05,105 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-A19056CD18DE:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212] with BaseStateMachine:uninitialized
2024-01-17 16:16:05,105 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-A19056CD18DE:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212], format? true
2024-01-17 16:16:05,105 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1
2024-01-17 16:16:05,105 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:05,106 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1 does not exist.
2024-01-17 16:16:05,106 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1
2024-01-17 16:16:05,106 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:05,106 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:05,106 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:05,106 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:05,106 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:05,106 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:05,106 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:05,106 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:05,106 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:05,106 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A19056CD18DE: ConfigurationManager, init=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:05,106 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:05,106 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:05,106 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:05,106 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:05,106 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1] (custom)
2024-01-17 16:16:05,106 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:05,106 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:05,107 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:05,107 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:05,107 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:05,107 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:05,107 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-A19056CD18DE:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212] returns group-A19056CD18DE:java.util.concurrent.CompletableFuture@132f8d64[Not completed]
2024-01-17 16:16:05,107 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-A19056CD18DE:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212] with BaseStateMachine:uninitialized
2024-01-17 16:16:05,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-A19056CD18DE:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212], format? true
2024-01-17 16:16:05,107 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2
2024-01-17 16:16:05,107 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:05,107 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2 does not exist.
2024-01-17 16:16:05,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2
2024-01-17 16:16:05,107 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:05,108 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:05,107 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:05,108 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:05,108 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:05,108 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:05,108 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:05,108 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:05,108 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:05,108 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:05,108 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:05,108 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:05,108 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:05,108 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:05,108 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:05,108 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:05,108 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2] (custom)
2024-01-17 16:16:05,108 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:05,108 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-A19056CD18DE: ConfigurationManager, init=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:05,108 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:05,109 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:05,109 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:05,109 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:05,109 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:05,109 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:05,109 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:05,109 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:05,109 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-A19056CD18DE:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212] returns group-A19056CD18DE:java.util.concurrent.CompletableFuture@6700e085[Not completed]
2024-01-17 16:16:05,109 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-A19056CD18DE:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212] with BaseStateMachine:uninitialized
2024-01-17 16:16:05,109 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:05,109 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:05,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:05,109 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:05,109 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:05,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:05,109 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:05,109 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0] (custom)
2024-01-17 16:16:05,109 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:05,109 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:05,109 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:05,110 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de does not exist. Creating ...
2024-01-17 16:16:05,110 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-A19056CD18DE: ConfigurationManager, init=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:05,109 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:05,110 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:05,110 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:05,110 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:05,110 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de
2024-01-17 16:16:05,110 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:05,110 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:05,110 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:05,110 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:05,110 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:05,110 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:05,110 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:05,111 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:05,111 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:05,111 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:05,111 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:05,111 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current
2024-01-17 16:16:05,111 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:05,111 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/sm
2024-01-17 16:16:05,111 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:05,111 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:05,111 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4d5c6096
2024-01-17 16:16:05,112 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:05,112 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de has been successfully formatted.
2024-01-17 16:16:05,112 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:05,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:05,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:05,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:05,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:05,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:05,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:05,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:05,112 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,112 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-A19056CD18DE-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:05,113 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-A19056CD18DE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de
2024-01-17 16:16:05,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:05,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:05,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:05,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:05,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:05,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:05,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:05,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:05,113 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:05,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:05,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:05,114 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:05,114 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A19056CD18DE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:05,114 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A19056CD18DE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:05,115 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-A19056CD18DE: start as a follower, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null
2024-01-17 16:16:05,115 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-A19056CD18DE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:05,115 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-A19056CD18DE-FollowerState
2024-01-17 16:16:05,115 [s0@group-A19056CD18DE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:05,115 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A19056CD18DE,id=s0
2024-01-17 16:16:05,115 [s0@group-A19056CD18DE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:05,115 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-A19056CD18DE,id=s0
2024-01-17 16:16:05,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:05,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:05,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:05,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:05,115 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:16:05,116 [JvmPauseMonitor51] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:16:05,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:05,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:05,116 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1] (custom)
2024-01-17 16:16:05,117 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de does not exist. Creating ...
2024-01-17 16:16:05,117 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de
2024-01-17 16:16:05,117 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:05,117 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current
2024-01-17 16:16:05,117 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/sm
2024-01-17 16:16:05,117 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@e7d9c21
2024-01-17 16:16:05,118 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:05,118 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de has been successfully formatted.
2024-01-17 16:16:05,118 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:05,118 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:05,118 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:05,118 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,118 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:05,118 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-A19056CD18DE-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-A19056CD18DE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:05,119 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A19056CD18DE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A19056CD18DE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-A19056CD18DE: start as a follower, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-A19056CD18DE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-A19056CD18DE-FollowerState
2024-01-17 16:16:05,120 [s1@group-A19056CD18DE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A19056CD18DE,id=s1
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-A19056CD18DE,id=s1
2024-01-17 16:16:05,120 [s1@group-A19056CD18DE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:05,120 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:05,121 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:16:05,121 [JvmPauseMonitor52] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:16:05,121 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:05,121 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:05,121 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2] (custom)
2024-01-17 16:16:05,121 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de does not exist. Creating ...
2024-01-17 16:16:05,122 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de
2024-01-17 16:16:05,122 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:05,122 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current
2024-01-17 16:16:05,122 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/sm
2024-01-17 16:16:05,123 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@560d1818
2024-01-17 16:16:05,123 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:05,123 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de has been successfully formatted.
2024-01-17 16:16:05,123 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-A19056CD18DE-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-A19056CD18DE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:05,124 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:05,125 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:05,125 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,125 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:05,125 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:05,125 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:05,125 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A19056CD18DE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:05,125 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A19056CD18DE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:05,125 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-A19056CD18DE: start as a follower, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null
2024-01-17 16:16:05,125 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-A19056CD18DE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:05,125 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-A19056CD18DE-FollowerState
2024-01-17 16:16:05,126 [s2@group-A19056CD18DE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:05,126 [s2@group-A19056CD18DE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:05,126 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A19056CD18DE,id=s2
2024-01-17 16:16:05,126 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-A19056CD18DE,id=s2
2024-01-17 16:16:05,126 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:05,126 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:05,126 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:05,126 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:05,126 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:16:05,126 [JvmPauseMonitor53] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:16:05,127 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:05,127 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A19056CD18DE:t0, leader=null, voted=, raftlog=Memoized:s0@group-A19056CD18DE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A19056CD18DE:t0, leader=null, voted=, raftlog=Memoized:s1@group-A19056CD18DE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A19056CD18DE:t0, leader=null, voted=, raftlog=Memoized:s2@group-A19056CD18DE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null RUNNING
2024-01-17 16:16:05,127 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A19056CD18DE:t0, leader=null, voted=, raftlog=Memoized:s0@group-A19056CD18DE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A19056CD18DE:t0, leader=null, voted=, raftlog=Memoized:s1@group-A19056CD18DE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A19056CD18DE:t0, leader=null, voted=, raftlog=Memoized:s2@group-A19056CD18DE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null RUNNING
2024-01-17 16:16:05,297 [s2@group-A19056CD18DE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-A19056CD18DE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:171258496ns, electionTimeout:171ms
2024-01-17 16:16:05,297 [s2@group-A19056CD18DE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-A19056CD18DE-FollowerState
2024-01-17 16:16:05,297 [s2@group-A19056CD18DE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-A19056CD18DE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:16:05,297 [s2@group-A19056CD18DE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:05,297 [s2@group-A19056CD18DE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-A19056CD18DE-LeaderElection52
2024-01-17 16:16:05,297 [s2@group-A19056CD18DE-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-A19056CD18DE-LeaderElection52 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null
2024-01-17 16:16:05,298 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:05,298 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-A19056CD18DE: receive requestVote(PRE_VOTE, s2, group-A19056CD18DE, 0, (t:0, i:0))
2024-01-17 16:16:05,298 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-A19056CD18DE: receive requestVote(PRE_VOTE, s2, group-A19056CD18DE, 0, (t:0, i:0))
2024-01-17 16:16:05,298 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:05,298 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A19056CD18DE-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:05,298 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A19056CD18DE-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:05,298 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-A19056CD18DE replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-A19056CD18DE:t0, leader=null, voted=, raftlog=Memoized:s1@group-A19056CD18DE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null
2024-01-17 16:16:05,298 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-A19056CD18DE replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-A19056CD18DE:t0, leader=null, voted=, raftlog=Memoized:s0@group-A19056CD18DE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null
2024-01-17 16:16:05,298 [s2@group-A19056CD18DE-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-A19056CD18DE-LeaderElection52: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:05,298 [s2@group-A19056CD18DE-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2024-01-17 16:16:05,298 [s2@group-A19056CD18DE-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-A19056CD18DE-LeaderElection52 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:05,298 [s2@group-A19056CD18DE-LeaderElection52] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@15bb529f
2024-01-17 16:16:05,299 [s2@group-A19056CD18DE-LeaderElection52] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:05,299 [s2@group-A19056CD18DE-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-A19056CD18DE-LeaderElection52 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null
2024-01-17 16:16:05,299 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:05,299 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-A19056CD18DE: receive requestVote(ELECTION, s2, group-A19056CD18DE, 1, (t:0, i:0))
2024-01-17 16:16:05,299 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:05,300 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-A19056CD18DE: receive requestVote(ELECTION, s2, group-A19056CD18DE, 1, (t:0, i:0))
2024-01-17 16:16:05,300 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A19056CD18DE-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:05,300 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A19056CD18DE-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:05,300 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-A19056CD18DE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:16:05,300 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-A19056CD18DE-FollowerState
2024-01-17 16:16:05,300 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-A19056CD18DE: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:16:05,300 [s0@group-A19056CD18DE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A19056CD18DE-FollowerState was interrupted
2024-01-17 16:16:05,300 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-A19056CD18DE-FollowerState
2024-01-17 16:16:05,300 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-A19056CD18DE-FollowerState
2024-01-17 16:16:05,300 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-A19056CD18DE-FollowerState
2024-01-17 16:16:05,300 [s1@group-A19056CD18DE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A19056CD18DE-FollowerState was interrupted
2024-01-17 16:16:05,300 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-A19056CD18DE: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:16:05,300 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-A19056CD18DE: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:16:05,300 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@610a7e61
2024-01-17 16:16:05,300 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7d4742b5
2024-01-17 16:16:05,301 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:05,301 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:05,301 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-A19056CD18DE replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-A19056CD18DE:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-A19056CD18DE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null
2024-01-17 16:16:05,301 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-A19056CD18DE replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-A19056CD18DE:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-A19056CD18DE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null
2024-01-17 16:16:05,301 [s2@group-A19056CD18DE-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-A19056CD18DE-LeaderElection52: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:05,301 [s2@group-A19056CD18DE-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2024-01-17 16:16:05,301 [s2@group-A19056CD18DE-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-A19056CD18DE-LeaderElection52 ELECTION round 0: result PASSED
2024-01-17 16:16:05,301 [s2@group-A19056CD18DE-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-A19056CD18DE-LeaderElection52
2024-01-17 16:16:05,301 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-A19056CD18DE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:16:05,301 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:05,301 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:05,301 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:05,301 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:05,302 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:05,303 [s2@group-A19056CD18DE-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-A19056CD18DE-LeaderStateImpl
2024-01-17 16:16:05,303 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-A19056CD18DE: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:16:05,303 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-A19056CD18DE: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 192ms
2024-01-17 16:16:05,303 [s2@group-A19056CD18DE-LeaderElection52] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-A19056CD18DE-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:05,303 [s2@group-A19056CD18DE-LeaderElection52] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-A19056CD18DE: set configuration 0: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null
2024-01-17 16:16:05,303 [s2@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:05,304 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-A19056CD18DE: change Leader from null to s2 at term 1 for appendEntries, leader elected after 197ms
2024-01-17 16:16:05,304 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-A19056CD18DE: change Leader from null to s2 at term 1 for appendEntries, leader elected after 195ms
2024-01-17 16:16:05,304 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A19056CD18DE: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:2502, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15204"
dataStreamAddress: "localhost:15207"
clientAddress: "localhost:15206"
adminAddress: "localhost:15205"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15208"
dataStreamAddress: "localhost:15211"
clientAddress: "localhost:15210"
adminAddress: "localhost:15209"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15212"
dataStreamAddress: "localhost:15215"
clientAddress: "localhost:15214"
adminAddress: "localhost:15213"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:05,306 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-A19056CD18DE: set configuration 0: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null
2024-01-17 16:16:05,306 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-A19056CD18DE-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:05,306 [s0@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:05,306 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:2503, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15204"
dataStreamAddress: "localhost:15207"
clientAddress: "localhost:15206"
adminAddress: "localhost:15205"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15208"
dataStreamAddress: "localhost:15211"
clientAddress: "localhost:15210"
adminAddress: "localhost:15209"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15212"
dataStreamAddress: "localhost:15215"
clientAddress: "localhost:15214"
adminAddress: "localhost:15213"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:05,307 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-A19056CD18DE: set configuration 0: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null
2024-01-17 16:16:05,307 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-A19056CD18DE-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:05,307 [s1@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:05,318 [s2@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-A19056CD18DE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_inprogress_0
2024-01-17 16:16:05,318 [s0@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-A19056CD18DE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_inprogress_0
2024-01-17 16:16:05,318 [s1@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-A19056CD18DE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_inprogress_0
2024-01-17 16:16:05,319 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s2<-s0#2502:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:05,319 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s2<-s1#2503:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:05,319 [s2@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@43471b99
2024-01-17 16:16:05,320 [s2@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:05,320 [s2@group-A19056CD18DE-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:16:05,395 [s0@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@439ec85e
2024-01-17 16:16:05,395 [s1@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@73bfbc11
2024-01-17 16:16:05,396 [s0@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:05,396 [s1@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:05,577 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A19056CD18DE:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-A19056CD18DE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A19056CD18DE:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-A19056CD18DE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-A19056CD18DE:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-A19056CD18DE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[], old=null RUNNING
2024-01-17 16:16:05,578 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:05,581 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1237)) - s0@group-A19056CD18DE receive leaderElectionManagement request LeaderElectionManagementRequest:client-54A6056509FE->s0@group-A19056CD18DE, cid=2528, seq=null, RO, null, Pause:
2024-01-17 16:16:05,581 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-54A6056509FE: get 2529 returns []
2024-01-17 16:16:05,581 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s0@group-A19056CD18DE: receive client request(RaftClientRequest:client-54A6056509FE->s0@group-A19056CD18DE, cid=2529, seq=null, RW, message)
2024-01-17 16:16:05,582 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-54A6056509FE: suggested new leader: s2. Failed RaftClientRequest:client-54A6056509FE->s0@group-A19056CD18DE, cid=2529, seq=null, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-A19056CD18DE is not the leader s2|localhost:15212
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:748)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:713)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:925)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:917)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:892)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$14(RaftServerImpl.java:873)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:05,582 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-54A6056509FE: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:05,582 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-54A6056509FE changes Leader from s0 to s2 for group-A19056CD18DE
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-A19056CD18DE is not the leader s2|localhost:15212
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:748)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:713)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:925)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:917)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:892)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$14(RaftServerImpl.java:873)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:05,682 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-54A6056509FE: get 2529 returns []
2024-01-17 16:16:05,683 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s2@group-A19056CD18DE: receive client request(RaftClientRequest:client-54A6056509FE->s2@group-A19056CD18DE, cid=2529, seq=null, RW, message)
2024-01-17 16:16:05,683 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s2@group-A19056CD18DE-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-54A6056509FE->s2@group-A19056CD18DE, cid=2529, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2529@client-54A6056509FE
2024-01-17 16:16:05,684 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0], cId:2543, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2529@client-54A6056509FE]
2024-01-17 16:16:05,684 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A19056CD18DE: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0], cId:2542, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2529@client-54A6056509FE]
2024-01-17 16:16:05,684 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s2<-s0#2542:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:05,684 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s2<-s1#2543:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:05,685 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A19056CD18DE: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0], cId:2544, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:05,685 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0], cId:2545, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:05,685 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-54A6056509FE: add replied callId 2529
2024-01-17 16:16:05,685 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s2<-s0#2544:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:05,686 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s2<-s1#2545:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:05,686 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1273)) - s2@group-A19056CD18DE: receive setConfiguration SetConfigurationRequest:client-54A6056509FE->s2@group-A19056CD18DE, cid=2546, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0, s1, s2], listeners:[]
2024-01-17 16:16:05,686 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(490)) - s2@group-A19056CD18DE-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-54A6056509FE->s2@group-A19056CD18DE, cid=2546, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0, s1, s2], listeners:[]
2024-01-17 16:16:05,686 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-A19056CD18DE: set configuration 3: peers:[s0, s1, s2]|listeners:[], old=peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[]
2024-01-17 16:16:05,687 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A19056CD18DE: receive appendEntries(s2, 1, (t:1, i:2), 2, false, commits:[s2:c2, s0:c1, s1:c1], cId:2548, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15204"
dataStreamAddress: "localhost:15207"
clientAddress: "localhost:15206"
adminAddress: "localhost:15205"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15208"
dataStreamAddress: "localhost:15211"
clientAddress: "localhost:15210"
adminAddress: "localhost:15209"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15212"
dataStreamAddress: "localhost:15215"
clientAddress: "localhost:15214"
adminAddress: "localhost:15213"
startupRole: FOLLOWER
)]
2024-01-17 16:16:05,687 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: receive appendEntries(s2, 1, (t:1, i:2), 2, false, commits:[s2:c2, s0:c1, s1:c1], cId:2547, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15204"
dataStreamAddress: "localhost:15207"
clientAddress: "localhost:15206"
adminAddress: "localhost:15205"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15208"
dataStreamAddress: "localhost:15211"
clientAddress: "localhost:15210"
adminAddress: "localhost:15209"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15212"
dataStreamAddress: "localhost:15215"
clientAddress: "localhost:15214"
adminAddress: "localhost:15213"
startupRole: FOLLOWER
)]
2024-01-17 16:16:05,687 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-A19056CD18DE: set configuration 3: peers:[s0|, s1|, s2|]|listeners:[], old=peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[]
2024-01-17 16:16:05,687 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-A19056CD18DE: set configuration 3: peers:[s0|, s1|, s2|]|listeners:[], old=peers:[s0|localhost:15204, s1|localhost:15208, s2|localhost:15212]|listeners:[]
2024-01-17 16:16:05,687 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s2<-s0#2548:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:05,688 [s2@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@49bf70e9
2024-01-17 16:16:05,688 [s2@group-A19056CD18DE-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-A19056CD18DE: set configuration 5: peers:[s0, s1, s2]|listeners:[], old=null
2024-01-17 16:16:05,688 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A19056CD18DE: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits:[s2:c3, s0:c2, s1:c1], cId:2549, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:05,688 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-A19056CD18DE: set configuration 5: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:05,689 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s2<-s0#2549:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:16:05,689 [s0@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4d593e5d
2024-01-17 16:16:05,689 [s2@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:05,689 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s2<-s1#2547:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:05,690 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits:[s2:c3, s0:c2, s1:c2], cId:2550, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:05,690 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-A19056CD18DE: set configuration 5: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:05,690 [s0@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:05,690 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-54A6056509FE: add replied callId 2546
2024-01-17 16:16:05,690 [s2@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@cbde7ba
2024-01-17 16:16:05,690 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A19056CD18DE: receive appendEntries(s2, 1, (t:1, i:5), 5, false, commits:[s2:c5, s0:c3, s1:c2], cId:2551, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:05,691 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s2<-s0#2551:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:05,691 [s0@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4966a32e
2024-01-17 16:16:05,691 [s2@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:05,691 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1237)) - s0@group-A19056CD18DE receive leaderElectionManagement request LeaderElectionManagementRequest:client-54A6056509FE->s0@group-A19056CD18DE, cid=2552, seq=null, RO, null, Resume:
2024-01-17 16:16:05,692 [s0@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:05,692 [s1@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7d785c16
2024-01-17 16:16:05,692 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s2<-s1#2550:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:16:05,692 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(231)) - FAILED "check new leader", attempt #1/20: java.lang.AssertionError: expected:<s0> but was:<s2>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s2>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:639)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:245)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:639)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:140)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:120)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:615)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:05,692 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: receive appendEntries(s2, 1, (t:1, i:5), 6, false, commits:[s2:c6, s0:c5, s1:c3], cId:2553, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:05,693 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s2<-s1#2553:OK-t1,SUCCESS,nextIndex=7,followerCommit=6,matchIndex=6
2024-01-17 16:16:05,693 [s1@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:05,693 [s1@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7947d761
2024-01-17 16:16:05,694 [s1@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:05,793 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(231)) - FAILED "check new leader", attempt #2/20: java.lang.AssertionError: expected:<s0> but was:<s2>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s2>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:639)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:245)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:639)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:140)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:120)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:615)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:05,893 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(231)) - FAILED "check new leader", attempt #3/20: java.lang.AssertionError: expected:<s0> but was:<s2>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s2>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:639)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:245)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:639)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:140)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:120)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:615)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:05,994 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(231)) - FAILED "check new leader", attempt #4/20: java.lang.AssertionError: expected:<s0> but was:<s2>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s2>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:639)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:245)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:639)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:140)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:120)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:615)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:05,994 [s2@group-A19056CD18DE-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(258)) - s2@group-A19056CD18DE: start transferring leadership to s0
2024-01-17 16:16:05,994 [s2@group-A19056CD18DE-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:sendStartLeaderElection(210)) - s2@group-A19056CD18DE: sendStartLeaderElection to follower s0, lastEntry=(t:1, i:6)
2024-01-17 16:16:05,995 [s2@group-A19056CD18DE-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(266)) - s2@group-A19056CD18DE: SUCCESS sent StartLeaderElection to transferee s0 immediately as it already has up-to-date log
2024-01-17 16:16:05,995 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1752)) - s0@group-A19056CD18DE: receive startLeaderElection from:s2, leaderLastEntry:term: 1
index: 6
,
2024-01-17 16:16:05,995 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-A19056CD18DE-FollowerState
2024-01-17 16:16:05,995 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-A19056CD18DE: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:16:05,995 [s0@group-A19056CD18DE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A19056CD18DE-FollowerState was interrupted
2024-01-17 16:16:05,995 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-A19056CD18DE: change Leader from s2 to null at term 1 for ELECTION
2024-01-17 16:16:05,995 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@67704f3b
2024-01-17 16:16:05,996 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:05,996 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-A19056CD18DE-LeaderElection53
2024-01-17 16:16:05,996 [s2-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:lambda$sendStartLeaderElection$2(224)) - s2@group-A19056CD18DE: Received startLeaderElection reply from s0: success? true
2024-01-17 16:16:05,996 [s0@group-A19056CD18DE-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-A19056CD18DE-LeaderElection53 ELECTION round 0: submit vote requests at term 2 for 5: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:05,996 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-A19056CD18DE: receive requestVote(ELECTION, s0, group-A19056CD18DE, 2, (t:1, i:6))
2024-01-17 16:16:05,996 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A19056CD18DE-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2024-01-17 16:16:05,996 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-A19056CD18DE: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-01-17 16:16:05,996 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-A19056CD18DE: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2024-01-17 16:16:05,996 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-A19056CD18DE: receive requestVote(ELECTION, s0, group-A19056CD18DE, 2, (t:1, i:6))
2024-01-17 16:16:05,996 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-A19056CD18DE-FollowerState
2024-01-17 16:16:05,997 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-A19056CD18DE-LEADER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2024-01-17 16:16:05,997 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-A19056CD18DE-FollowerState
2024-01-17 16:16:05,997 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-A19056CD18DE: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-01-17 16:16:05,997 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-A19056CD18DE: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2024-01-17 16:16:05,997 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-A19056CD18DE-LeaderStateImpl
2024-01-17 16:16:05,997 [s1@group-A19056CD18DE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A19056CD18DE-FollowerState was interrupted
2024-01-17 16:16:05,997 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@24213a7f
2024-01-17 16:16:05,997 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-A19056CD18DE-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:05,997 [s2@group-A19056CD18DE->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-A19056CD18DE->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:05,997 [s2@group-A19056CD18DE->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-A19056CD18DE->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:05,998 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-A19056CD18DE-FollowerState
2024-01-17 16:16:05,998 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:05,998 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4601eb1f
2024-01-17 16:16:05,998 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-A19056CD18DE replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-A19056CD18DE:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-A19056CD18DE-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:05,998 [s0@group-A19056CD18DE-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-A19056CD18DE-LeaderElection53: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:05,998 [s0@group-A19056CD18DE-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t2
2024-01-17 16:16:05,998 [s0@group-A19056CD18DE-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-A19056CD18DE-LeaderElection53 ELECTION round 0: result PASSED
2024-01-17 16:16:05,998 [s0@group-A19056CD18DE-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-A19056CD18DE-LeaderElection53
2024-01-17 16:16:05,998 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-A19056CD18DE: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-01-17 16:16:05,998 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:05,998 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:05,999 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:16:05,999 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-A19056CD18DE replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-A19056CD18DE:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-A19056CD18DE-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0, s1, s2]|listeners:[], old=null
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:05,999 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:06,000 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:06,000 [s0@group-A19056CD18DE-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-A19056CD18DE-LeaderStateImpl
2024-01-17 16:16:06,000 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-A19056CD18DE: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 4ms
2024-01-17 16:16:06,000 [s0@group-A19056CD18DE-LeaderElection53] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-A19056CD18DE-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2024-01-17 16:16:06,000 [s0@group-A19056CD18DE-LeaderElection53] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-A19056CD18DE: set configuration 7: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:06,000 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-A19056CD18DE: change Leader from null to s0 at term 2 for appendEntries, leader elected after 3ms
2024-01-17 16:16:06,001 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-A19056CD18DE: change Leader from null to s0 at term 2 for appendEntries, leader elected after 4ms
2024-01-17 16:16:06,001 [s0@group-A19056CD18DE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_0-6
2024-01-17 16:16:06,001 [s0@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-A19056CD18DE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_0-6
2024-01-17 16:16:06,001 [s0@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_7 at position 0
2024-01-17 16:16:06,001 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-A19056CD18DE: receive appendEntries(s0, 2, (t:1, i:6), 6, false, commits:[s0:c6, s1:c6, s2:c6], cId:2590, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:06,001 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: receive appendEntries(s0, 2, (t:1, i:6), 6, false, commits:[s0:c6, s1:c6, s2:c6], cId:2591, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:06,001 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-A19056CD18DE: set configuration 7: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:06,001 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-A19056CD18DE: set configuration 7: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:06,001 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-A19056CD18DE-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2024-01-17 16:16:06,001 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-A19056CD18DE-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2024-01-17 16:16:06,003 [s2@group-A19056CD18DE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_0-6
2024-01-17 16:16:06,003 [s2@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-A19056CD18DE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_0-6
2024-01-17 16:16:06,003 [s2@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_7 at position 0
2024-01-17 16:16:06,004 [s1@group-A19056CD18DE-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_0-6
2024-01-17 16:16:06,004 [s1@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-A19056CD18DE-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_0-6
2024-01-17 16:16:06,004 [s1@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_7 at position 0
2024-01-17 16:16:06,016 [s0@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-A19056CD18DE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_inprogress_7
2024-01-17 16:16:06,016 [s2@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-A19056CD18DE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_inprogress_7
2024-01-17 16:16:06,017 [s1@group-A19056CD18DE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-A19056CD18DE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/log_inprogress_7
2024-01-17 16:16:06,017 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s0<-s2#2590:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2024-01-17 16:16:06,017 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s0<-s1#2591:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2024-01-17 16:16:06,017 [s0@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@c643466
2024-01-17 16:16:06,018 [s0@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s0/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:06,018 [s0@group-A19056CD18DE-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 7 >= startIndex == 7
2024-01-17 16:16:06,018 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-A19056CD18DE: receive appendEntries(s0, 2, (t:2, i:7), 7, false, commits:[s0:c7, s1:c6, s2:c6], cId:2592, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2024-01-17 16:16:06,018 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: receive appendEntries(s0, 2, (t:2, i:7), 7, false, commits:[s0:c7, s1:c6, s2:c6], cId:2593, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2024-01-17 16:16:06,018 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s0<-s2#2592:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2024-01-17 16:16:06,018 [s2@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@775dbe67
2024-01-17 16:16:06,018 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-A19056CD18DE: succeeded to handle AppendEntries. Reply: s0<-s1#2593:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2024-01-17 16:16:06,019 [s1@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3c45562d
2024-01-17 16:16:06,019 [s2@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s2/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:06,019 [s1@group-A19056CD18DE-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpce029910c/s1/8de73ad0-6773-452e-a3e2-a19056cd18de/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:06,094 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:06,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:06,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:06,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:06,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:06,095 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A19056CD18DE:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-A19056CD18DE-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A19056CD18DE:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-A19056CD18DE-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A19056CD18DE:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-A19056CD18DE-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
2024-01-17 16:16:06,096 [MiniRaftCluster-74] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:16:06,096 [MiniRaftCluster-75] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:16:06,096 [MiniRaftCluster-76] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:16:06,097 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,096 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,097 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,096 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,097 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,097 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,096 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,096 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,096 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,097 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,097 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,097 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,097 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,097 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,096 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-A19056CD18DE: shutdown
2024-01-17 16:16:06,096 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-A19056CD18DE: shutdown
2024-01-17 16:16:06,097 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A19056CD18DE,id=s1
2024-01-17 16:16:06,097 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A19056CD18DE,id=s0
2024-01-17 16:16:06,097 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-A19056CD18DE-LeaderStateImpl
2024-01-17 16:16:06,097 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,097 [s0@group-A19056CD18DE->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-A19056CD18DE->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:06,097 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-A19056CD18DE: shutdown
2024-01-17 16:16:06,098 [s0@group-A19056CD18DE->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-A19056CD18DE->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:06,098 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A19056CD18DE,id=s2
2024-01-17 16:16:06,098 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-A19056CD18DE-FollowerState
2024-01-17 16:16:06,097 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-A19056CD18DE-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:06,097 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-A19056CD18DE-FollowerState
2024-01-17 16:16:06,098 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-A19056CD18DE-StateMachineUpdater: set stopIndex = 8
2024-01-17 16:16:06,098 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,098 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,098 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:06,098 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-A19056CD18DE-StateMachineUpdater: set stopIndex = 8
2024-01-17 16:16:06,098 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-A19056CD18DE-StateMachineUpdater: set stopIndex = 8
2024-01-17 16:16:06,098 [s1@group-A19056CD18DE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A19056CD18DE-FollowerState was interrupted
2024-01-17 16:16:06,098 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-A19056CD18DE: applyIndex: 8
2024-01-17 16:16:06,098 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-A19056CD18DE: applyIndex: 8
2024-01-17 16:16:06,098 [s0@group-A19056CD18DE-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-A19056CD18DE-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:06,098 [s2@group-A19056CD18DE-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-A19056CD18DE-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:06,098 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-A19056CD18DE: applyIndex: 8
2024-01-17 16:16:06,098 [s2@group-A19056CD18DE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A19056CD18DE-FollowerState was interrupted
2024-01-17 16:16:06,099 [s1@group-A19056CD18DE-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-A19056CD18DE-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:07,020 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-A19056CD18DE-SegmentedRaftLogWorker close()
2024-01-17 16:16:07,020 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-A19056CD18DE-SegmentedRaftLogWorker close()
2024-01-17 16:16:07,021 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-A19056CD18DE-SegmentedRaftLogWorker close()
2024-01-17 16:16:07,022 [JvmPauseMonitor53] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:16:07,023 [JvmPauseMonitor51] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:16:07,023 [JvmPauseMonitor52] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:16:07,023 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testYieldLeaderToHigherPriority" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="2.595">
    <system-out><![CDATA[2024-01-17 16:16:07,023 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:16:07,023 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:16:07,023 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:16:07,024 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:16:07,024 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:16:07,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-461A632E1F11:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]
2024-01-17 16:16:07,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:16:07,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:16:07,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:07,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:16:07,025 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:16:07,025 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:16:07,025 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-461A632E1F11:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224], format? true
2024-01-17 16:16:07,025 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0
2024-01-17 16:16:07,025 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0 does not exist.
2024-01-17 16:16:07,025 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0
2024-01-17 16:16:07,025 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:07,025 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:07,025 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:07,025 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:07,025 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:07,025 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0] (custom)
2024-01-17 16:16:07,026 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:07,026 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:07,026 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-461A632E1F11:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224] returns group-461A632E1F11:java.util.concurrent.CompletableFuture@3e2c2f43[Not completed]
2024-01-17 16:16:07,026 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-461A632E1F11:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224], format? true
2024-01-17 16:16:07,026 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1
2024-01-17 16:16:07,026 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-461A632E1F11:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224] with BaseStateMachine:uninitialized
2024-01-17 16:16:07,026 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1 does not exist.
2024-01-17 16:16:07,026 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:07,026 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1
2024-01-17 16:16:07,026 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:07,026 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:07,026 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:07,026 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:07,026 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:07,026 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:07,026 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:07,026 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:07,027 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-461A632E1F11: ConfigurationManager, init=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:07,027 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:07,027 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:07,027 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:07,027 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:07,027 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:07,027 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1] (custom)
2024-01-17 16:16:07,027 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:07,027 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:07,027 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:07,027 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:07,027 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:07,027 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:07,027 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-461A632E1F11:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224] returns group-461A632E1F11:java.util.concurrent.CompletableFuture@4a1f9c6c[Not completed]
2024-01-17 16:16:07,028 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-461A632E1F11:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224] with BaseStateMachine:uninitialized
2024-01-17 16:16:07,028 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-461A632E1F11:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224], format? true
2024-01-17 16:16:07,028 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2
2024-01-17 16:16:07,028 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:07,028 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:07,028 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:07,028 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:07,028 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2 does not exist.
2024-01-17 16:16:07,028 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2
2024-01-17 16:16:07,028 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:07,028 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:07,028 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:07,028 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:07,028 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:07,028 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:07,028 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:07,028 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:07,028 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:07,028 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:07,028 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:07,029 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-461A632E1F11: ConfigurationManager, init=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:07,029 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:07,029 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:07,028 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:07,029 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:07,029 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:07,029 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:07,029 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:07,029 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2] (custom)
2024-01-17 16:16:07,029 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:07,029 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:07,029 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:07,029 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:07,030 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-461A632E1F11:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224] returns group-461A632E1F11:java.util.concurrent.CompletableFuture@1ace4465[Not completed]
2024-01-17 16:16:07,030 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-461A632E1F11:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224] with BaseStateMachine:uninitialized
2024-01-17 16:16:07,030 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:07,030 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:07,030 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:07,030 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:07,030 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:07,030 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:07,030 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:07,030 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:07,030 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0] (custom)
2024-01-17 16:16:07,030 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:07,030 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:07,030 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:07,030 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11 does not exist. Creating ...
2024-01-17 16:16:07,030 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:07,030 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:07,030 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:07,030 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:07,030 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11
2024-01-17 16:16:07,030 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-461A632E1F11: ConfigurationManager, init=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:07,031 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:07,031 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:07,031 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:07,031 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:07,031 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:07,031 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:07,031 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:07,031 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current
2024-01-17 16:16:07,031 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/sm
2024-01-17 16:16:07,031 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:07,031 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:07,032 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@78602cb0
2024-01-17 16:16:07,032 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:07,032 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:07,032 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:07,032 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:07,032 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:07,032 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11 has been successfully formatted.
2024-01-17 16:16:07,032 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-461A632E1F11-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-461A632E1F11-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:07,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:07,034 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:07,035 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,035 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:07,035 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:07,035 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:07,035 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-461A632E1F11-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:07,035 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-461A632E1F11-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:07,035 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-461A632E1F11: start as a follower, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null
2024-01-17 16:16:07,035 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-461A632E1F11: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:07,035 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,035 [s0@group-461A632E1F11-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:07,035 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-461A632E1F11,id=s0
2024-01-17 16:16:07,035 [s0@group-461A632E1F11-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:07,035 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-461A632E1F11,id=s0
2024-01-17 16:16:07,036 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:07,036 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:07,036 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:07,036 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:07,036 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:16:07,036 [JvmPauseMonitor54] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:16:07,036 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:07,036 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:07,036 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1] (custom)
2024-01-17 16:16:07,037 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11 does not exist. Creating ...
2024-01-17 16:16:07,037 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11
2024-01-17 16:16:07,037 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:07,038 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current
2024-01-17 16:16:07,038 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/sm
2024-01-17 16:16:07,038 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7986b26e
2024-01-17 16:16:07,038 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:07,038 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11 has been successfully formatted.
2024-01-17 16:16:07,039 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:07,039 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:07,039 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:07,039 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,039 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:07,039 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:07,039 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:07,039 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:07,039 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:07,039 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,040 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-461A632E1F11-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:07,040 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-461A632E1F11-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11
2024-01-17 16:16:07,040 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:07,040 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:07,040 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:07,040 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:07,040 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:07,040 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:07,040 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:07,040 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:07,040 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:07,041 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,041 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:07,041 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:07,042 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:07,042 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-461A632E1F11-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:07,042 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-461A632E1F11-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:07,042 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-461A632E1F11: start as a follower, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null
2024-01-17 16:16:07,042 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-461A632E1F11: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:07,042 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,042 [s1@group-461A632E1F11-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:07,042 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-461A632E1F11,id=s1
2024-01-17 16:16:07,042 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-461A632E1F11,id=s1
2024-01-17 16:16:07,042 [s1@group-461A632E1F11-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:07,042 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:07,042 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:07,042 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:07,042 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:07,043 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:16:07,043 [JvmPauseMonitor55] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:16:07,043 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:07,043 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:07,043 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2] (custom)
2024-01-17 16:16:07,043 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11 does not exist. Creating ...
2024-01-17 16:16:07,044 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11
2024-01-17 16:16:07,044 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:07,044 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current
2024-01-17 16:16:07,045 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/sm
2024-01-17 16:16:07,045 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@15e990fc
2024-01-17 16:16:07,045 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:07,045 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11 has been successfully formatted.
2024-01-17 16:16:07,046 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:07,046 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:07,046 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:07,046 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,046 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:07,046 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:07,046 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:07,046 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:07,046 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:07,046 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,046 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-461A632E1F11-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:07,046 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-461A632E1F11-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:07,047 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-461A632E1F11-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:07,048 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-461A632E1F11-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:07,048 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-461A632E1F11: start as a follower, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null
2024-01-17 16:16:07,048 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-461A632E1F11: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:07,048 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,048 [s2@group-461A632E1F11-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:07,048 [s2@group-461A632E1F11-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:07,048 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-461A632E1F11,id=s2
2024-01-17 16:16:07,048 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-461A632E1F11,id=s2
2024-01-17 16:16:07,048 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:07,048 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:07,048 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:07,048 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:07,048 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:16:07,049 [JvmPauseMonitor56] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:16:07,049 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:07,049 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-461A632E1F11:t0, leader=null, voted=, raftlog=Memoized:s0@group-461A632E1F11-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-461A632E1F11:t0, leader=null, voted=, raftlog=Memoized:s1@group-461A632E1F11-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-461A632E1F11:t0, leader=null, voted=, raftlog=Memoized:s2@group-461A632E1F11-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null RUNNING
2024-01-17 16:16:07,049 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-461A632E1F11:t0, leader=null, voted=, raftlog=Memoized:s0@group-461A632E1F11-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-461A632E1F11:t0, leader=null, voted=, raftlog=Memoized:s1@group-461A632E1F11-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-461A632E1F11:t0, leader=null, voted=, raftlog=Memoized:s2@group-461A632E1F11-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null RUNNING
2024-01-17 16:16:07,212 [s2@group-461A632E1F11-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-461A632E1F11-FollowerState: change to CANDIDATE, lastRpcElapsedTime:164320851ns, electionTimeout:164ms
2024-01-17 16:16:07,212 [s2@group-461A632E1F11-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,212 [s2@group-461A632E1F11-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-461A632E1F11: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:16:07,212 [s2@group-461A632E1F11-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:07,212 [s2@group-461A632E1F11-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-461A632E1F11-LeaderElection54
2024-01-17 16:16:07,213 [s2@group-461A632E1F11-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-461A632E1F11-LeaderElection54 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null
2024-01-17 16:16:07,213 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:07,213 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-461A632E1F11: receive requestVote(PRE_VOTE, s2, group-461A632E1F11, 0, (t:0, i:0))
2024-01-17 16:16:07,213 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-461A632E1F11: receive requestVote(PRE_VOTE, s2, group-461A632E1F11, 0, (t:0, i:0))
2024-01-17 16:16:07,213 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-461A632E1F11-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:07,213 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-461A632E1F11-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:07,213 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:07,213 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-461A632E1F11 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-461A632E1F11:t0, leader=null, voted=, raftlog=Memoized:s0@group-461A632E1F11-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null
2024-01-17 16:16:07,213 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-461A632E1F11 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-461A632E1F11:t0, leader=null, voted=, raftlog=Memoized:s1@group-461A632E1F11-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null
2024-01-17 16:16:07,214 [s2@group-461A632E1F11-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-461A632E1F11-LeaderElection54: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:07,214 [s2@group-461A632E1F11-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2024-01-17 16:16:07,214 [s2@group-461A632E1F11-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-461A632E1F11-LeaderElection54 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:07,214 [s2@group-461A632E1F11-LeaderElection54] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@28561c76
2024-01-17 16:16:07,215 [s2@group-461A632E1F11-LeaderElection54] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:07,215 [s2@group-461A632E1F11-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-461A632E1F11-LeaderElection54 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null
2024-01-17 16:16:07,215 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:07,215 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:07,215 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-461A632E1F11: receive requestVote(ELECTION, s2, group-461A632E1F11, 1, (t:0, i:0))
2024-01-17 16:16:07,215 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-461A632E1F11: receive requestVote(ELECTION, s2, group-461A632E1F11, 1, (t:0, i:0))
2024-01-17 16:16:07,215 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-461A632E1F11-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:07,215 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-461A632E1F11-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:07,215 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-461A632E1F11: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:16:07,215 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,215 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-461A632E1F11: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:16:07,216 [s0@group-461A632E1F11-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-461A632E1F11-FollowerState was interrupted
2024-01-17 16:16:07,216 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,216 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,216 [s1@group-461A632E1F11-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-461A632E1F11-FollowerState was interrupted
2024-01-17 16:16:07,216 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,216 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-461A632E1F11: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:16:07,216 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-461A632E1F11: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:16:07,216 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3d3aa2d6
2024-01-17 16:16:07,216 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6948dea2
2024-01-17 16:16:07,216 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:07,216 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:07,217 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-461A632E1F11 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-461A632E1F11:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-461A632E1F11-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null
2024-01-17 16:16:07,217 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-461A632E1F11 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-461A632E1F11:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-461A632E1F11-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null
2024-01-17 16:16:07,217 [s2@group-461A632E1F11-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-461A632E1F11-LeaderElection54: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:07,217 [s2@group-461A632E1F11-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2024-01-17 16:16:07,217 [s2@group-461A632E1F11-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-461A632E1F11-LeaderElection54 ELECTION round 0: result PASSED
2024-01-17 16:16:07,217 [s2@group-461A632E1F11-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-461A632E1F11-LeaderElection54
2024-01-17 16:16:07,217 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-461A632E1F11: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:16:07,217 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:07,217 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:07,217 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:07,217 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:07,217 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:07,217 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-461A632E1F11-LeaderStateImpl
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-461A632E1F11: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:16:07,218 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-461A632E1F11: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 187ms
2024-01-17 16:16:07,219 [s2@group-461A632E1F11-LeaderElection54] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-461A632E1F11-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:07,219 [s2@group-461A632E1F11-LeaderElection54] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-461A632E1F11: set configuration 0: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null
2024-01-17 16:16:07,219 [s2@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:07,219 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-461A632E1F11: change Leader from null to s2 at term 1 for appendEntries, leader elected after 192ms
2024-01-17 16:16:07,219 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-461A632E1F11: change Leader from null to s2 at term 1 for appendEntries, leader elected after 190ms
2024-01-17 16:16:07,220 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-461A632E1F11: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:2666, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15216"
dataStreamAddress: "localhost:15219"
clientAddress: "localhost:15218"
adminAddress: "localhost:15217"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15220"
dataStreamAddress: "localhost:15223"
clientAddress: "localhost:15222"
adminAddress: "localhost:15221"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15224"
dataStreamAddress: "localhost:15227"
clientAddress: "localhost:15226"
adminAddress: "localhost:15225"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:07,220 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-461A632E1F11: set configuration 0: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null
2024-01-17 16:16:07,220 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-461A632E1F11-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:07,220 [s0@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:07,223 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:2667, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15216"
dataStreamAddress: "localhost:15219"
clientAddress: "localhost:15218"
adminAddress: "localhost:15217"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15220"
dataStreamAddress: "localhost:15223"
clientAddress: "localhost:15222"
adminAddress: "localhost:15221"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15224"
dataStreamAddress: "localhost:15227"
clientAddress: "localhost:15226"
adminAddress: "localhost:15225"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:07,223 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-461A632E1F11: set configuration 0: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null
2024-01-17 16:16:07,224 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-461A632E1F11-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:07,224 [s1@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:07,232 [s2@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-461A632E1F11-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_inprogress_0
2024-01-17 16:16:07,233 [s0@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-461A632E1F11-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_inprogress_0
2024-01-17 16:16:07,233 [s1@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-461A632E1F11-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_inprogress_0
2024-01-17 16:16:07,233 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s0#2666:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:07,234 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s1#2667:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:07,234 [s2@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@452155e
2024-01-17 16:16:07,235 [s2@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:07,235 [s2@group-461A632E1F11-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:16:07,310 [s1@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@55bf37d1
2024-01-17 16:16:07,310 [s0@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@c5d56be
2024-01-17 16:16:07,311 [s0@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:07,311 [s1@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:07,499 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-461A632E1F11:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-461A632E1F11-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-461A632E1F11:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-461A632E1F11-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-461A632E1F11:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-461A632E1F11-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[], old=null RUNNING
2024-01-17 16:16:07,500 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:07,500 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-5C8895757F62: get 2696 returns []
2024-01-17 16:16:07,500 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s2@group-461A632E1F11: receive client request(RaftClientRequest:client-5C8895757F62->s2@group-461A632E1F11, cid=2696, seq=null, RW, message)
2024-01-17 16:16:07,501 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s2@group-461A632E1F11-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-5C8895757F62->s2@group-461A632E1F11, cid=2696, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2696@client-5C8895757F62
2024-01-17 16:16:07,501 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0], cId:2697, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2696@client-5C8895757F62]
2024-01-17 16:16:07,501 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-461A632E1F11: receive appendEntries(s2, 1, (t:1, i:0), 0, false, commits:[s2:c0, s0:c0, s1:c0], cId:2698, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2696@client-5C8895757F62]
2024-01-17 16:16:07,502 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s1#2697:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:07,502 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s0#2698:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:07,502 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0], cId:2699, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:07,503 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-461A632E1F11: receive appendEntries(s2, 1, (t:1, i:1), 1, false, commits:[s2:c1, s0:c0, s1:c0], cId:2700, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:07,503 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-5C8895757F62: add replied callId 2696
2024-01-17 16:16:07,503 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s0#2700:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:07,503 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1273)) - s2@group-461A632E1F11: receive setConfiguration SetConfigurationRequest:client-5C8895757F62->s2@group-461A632E1F11, cid=2701, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0, s1, s2], listeners:[]
2024-01-17 16:16:07,503 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(490)) - s2@group-461A632E1F11-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-5C8895757F62->s2@group-461A632E1F11, cid=2701, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0, s1, s2], listeners:[]
2024-01-17 16:16:07,503 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s1#2699:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:07,504 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-461A632E1F11: set configuration 3: peers:[s0, s1, s2]|listeners:[], old=peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[]
2024-01-17 16:16:07,504 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-461A632E1F11: receive appendEntries(s2, 1, (t:1, i:2), 1, false, commits:[s2:c1, s0:c1, s1:c1], cId:2702, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15216"
dataStreamAddress: "localhost:15219"
clientAddress: "localhost:15218"
adminAddress: "localhost:15217"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15220"
dataStreamAddress: "localhost:15223"
clientAddress: "localhost:15222"
adminAddress: "localhost:15221"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15224"
dataStreamAddress: "localhost:15227"
clientAddress: "localhost:15226"
adminAddress: "localhost:15225"
startupRole: FOLLOWER
)]
2024-01-17 16:16:07,505 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: receive appendEntries(s2, 1, (t:1, i:2), 1, false, commits:[s2:c1, s0:c1, s1:c1], cId:2703, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15216"
dataStreamAddress: "localhost:15219"
clientAddress: "localhost:15218"
adminAddress: "localhost:15217"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15220"
dataStreamAddress: "localhost:15223"
clientAddress: "localhost:15222"
adminAddress: "localhost:15221"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15224"
dataStreamAddress: "localhost:15227"
clientAddress: "localhost:15226"
adminAddress: "localhost:15225"
startupRole: FOLLOWER
)]
2024-01-17 16:16:07,505 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-461A632E1F11: set configuration 3: peers:[s0|, s1|, s2|]|listeners:[], old=peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[]
2024-01-17 16:16:07,505 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-461A632E1F11: set configuration 3: peers:[s0|, s1|, s2|]|listeners:[], old=peers:[s0|localhost:15216, s1|localhost:15220, s2|localhost:15224]|listeners:[]
2024-01-17 16:16:07,505 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s0#2702:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2024-01-17 16:16:07,505 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s1#2703:OK-t1,SUCCESS,nextIndex=4,followerCommit=1,matchIndex=3
2024-01-17 16:16:07,505 [s2@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4ba8f19f
2024-01-17 16:16:07,505 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits:[s2:c3, s0:c1, s1:c1], cId:2704, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2024-01-17 16:16:07,506 [s2@group-461A632E1F11-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-461A632E1F11: set configuration 5: peers:[s0, s1, s2]|listeners:[], old=null
2024-01-17 16:16:07,506 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s1#2704:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:16:07,506 [s1@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5b78d316
2024-01-17 16:16:07,506 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-461A632E1F11: receive appendEntries(s2, 1, (t:1, i:3), 3, false, commits:[s2:c3, s0:c1, s1:c3], cId:2706, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:07,506 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-461A632E1F11: set configuration 5: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:07,506 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: receive appendEntries(s2, 1, (t:1, i:4), 3, false, commits:[s2:c3, s0:c1, s1:c3], cId:2705, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:07,506 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-461A632E1F11: set configuration 5: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:07,507 [s2@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:07,507 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s0#2706:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:16:07,507 [s0@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@29ab945
2024-01-17 16:16:07,507 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s1#2705:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:16:07,508 [s1@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:07,508 [s2@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5f44e551
2024-01-17 16:16:07,508 [s0@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:07,508 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: receive appendEntries(s2, 1, (t:1, i:5), 5, false, commits:[s2:c5, s0:c3, s1:c3], cId:2707, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:07,508 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-461A632E1F11: receive appendEntries(s2, 1, (t:1, i:5), 5, false, commits:[s2:c5, s0:c3, s1:c3], cId:2708, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:07,508 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-5C8895757F62: add replied callId 2701
2024-01-17 16:16:07,509 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s0#2708:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:07,509 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s2<-s1#2707:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:07,509 [s0@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6a53dce
2024-01-17 16:16:07,509 [s2@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:07,509 [s1@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5f475ca1
2024-01-17 16:16:07,509 [s0@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:07,510 [s1@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:07,809 [s2@group-461A632E1F11-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(258)) - s2@group-461A632E1F11: start transferring leadership to s0
2024-01-17 16:16:07,809 [s2@group-461A632E1F11-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:sendStartLeaderElection(210)) - s2@group-461A632E1F11: sendStartLeaderElection to follower s0, lastEntry=(t:1, i:6)
2024-01-17 16:16:07,809 [s2@group-461A632E1F11-LeaderStateImpl] INFO  impl.TransferLeadership (TransferLeadership.java:tryTransferLeadership(266)) - s2@group-461A632E1F11: SUCCESS sent StartLeaderElection to transferee s0 immediately as it already has up-to-date log
2024-01-17 16:16:07,810 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1752)) - s0@group-461A632E1F11: receive startLeaderElection from:s2, leaderLastEntry:term: 1
index: 6
,
2024-01-17 16:16:07,810 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,810 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-461A632E1F11: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:16:07,810 [s0@group-461A632E1F11-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-461A632E1F11-FollowerState was interrupted
2024-01-17 16:16:07,810 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-461A632E1F11: change Leader from s2 to null at term 1 for ELECTION
2024-01-17 16:16:07,810 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@49d344b3
2024-01-17 16:16:07,811 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:07,811 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-461A632E1F11-LeaderElection55
2024-01-17 16:16:07,811 [s2-server-thread1] INFO  impl.TransferLeadership (TransferLeadership.java:lambda$sendStartLeaderElection$2(224)) - s2@group-461A632E1F11: Received startLeaderElection reply from s0: success? true
2024-01-17 16:16:07,811 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:appendEntriesAsync(1580)) - s0@group-461A632E1F11: Not recognize s2 (term=1) as leader, state: s0@group-461A632E1F11:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-461A632E1F11-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|, s1|, s2|]|listeners:[], old=null reply: s2<-s0#2740:FAIL-t2,NOT_LEADER,nextIndex=7,followerCommit=6,matchIndex=-1
2024-01-17 16:16:07,811 [s0@group-461A632E1F11-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-461A632E1F11-LeaderElection55 ELECTION round 0: submit vote requests at term 2 for 5: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:07,812 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-461A632E1F11: receive requestVote(ELECTION, s0, group-461A632E1F11, 2, (t:1, i:6))
2024-01-17 16:16:07,812 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-461A632E1F11-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2024-01-17 16:16:07,812 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-461A632E1F11: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-01-17 16:16:07,812 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-461A632E1F11: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2024-01-17 16:16:07,812 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-461A632E1F11: receive requestVote(ELECTION, s0, group-461A632E1F11, 2, (t:1, i:6))
2024-01-17 16:16:07,812 [s2@group-461A632E1F11-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-461A632E1F11: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-01-17 16:16:07,812 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,812 [s2@group-461A632E1F11-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-461A632E1F11: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:HIGHER_TERM
2024-01-17 16:16:07,812 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,812 [s2@group-461A632E1F11-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-461A632E1F11-LeaderStateImpl
2024-01-17 16:16:07,812 [s1@group-461A632E1F11-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-461A632E1F11-FollowerState was interrupted
2024-01-17 16:16:07,812 [s2@group-461A632E1F11->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-461A632E1F11->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:07,812 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6dd08cc6
2024-01-17 16:16:07,812 [s2@group-461A632E1F11->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s2@group-461A632E1F11->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:07,812 [s2@group-461A632E1F11-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-461A632E1F11-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:07,813 [s2@group-461A632E1F11-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,813 [s2@group-461A632E1F11-LeaderStateImpl] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4db2da6d
2024-01-17 16:16:07,813 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:07,814 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-461A632E1F11 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-461A632E1F11:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-461A632E1F11-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:07,814 [s0@group-461A632E1F11-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-461A632E1F11-LeaderElection55: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:07,814 [s0@group-461A632E1F11-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t2
2024-01-17 16:16:07,814 [s0@group-461A632E1F11-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-461A632E1F11-LeaderElection55 ELECTION round 0: result PASSED
2024-01-17 16:16:07,814 [s0@group-461A632E1F11-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-461A632E1F11-LeaderElection55
2024-01-17 16:16:07,814 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-461A632E1F11: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-01-17 16:16:07,814 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:07,814 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:07,814 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:07,814 [s2@group-461A632E1F11-LeaderStateImpl] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:07,814 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:07,814 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-461A632E1F11-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2024-01-17 16:16:07,814 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:07,814 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-461A632E1F11: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2024-01-17 16:16:07,814 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:07,814 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,814 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-461A632E1F11-FollowerState
2024-01-17 16:16:07,815 [s2@group-461A632E1F11-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-461A632E1F11-FollowerState was interrupted
2024-01-17 16:16:07,815 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2024-01-17 16:16:07,815 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2024-01-17 16:16:07,815 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@f2474d0
2024-01-17 16:16:07,815 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:07,815 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:07,815 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:07,815 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:07,815 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,815 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:07,815 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:07,815 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:07,815 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:07,815 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-461A632E1F11 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-461A632E1F11:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-461A632E1F11-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0, s1, s2]|listeners:[], old=null
2024-01-17 16:16:07,815 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:07,816 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:07,816 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:07,816 [s0@group-461A632E1F11-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-461A632E1F11-LeaderStateImpl
2024-01-17 16:16:07,816 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-461A632E1F11: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 5ms
2024-01-17 16:16:07,816 [s0@group-461A632E1F11-LeaderElection55] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-461A632E1F11-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2024-01-17 16:16:07,816 [s0@group-461A632E1F11-LeaderElection55] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-461A632E1F11: set configuration 7: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:07,816 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-461A632E1F11: change Leader from null to s0 at term 2 for appendEntries, leader elected after 4ms
2024-01-17 16:16:07,816 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-461A632E1F11: change Leader from null to s0 at term 2 for appendEntries, leader elected after 4ms
2024-01-17 16:16:07,817 [s0@group-461A632E1F11-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_0-6
2024-01-17 16:16:07,817 [s0@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-461A632E1F11-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_0-6
2024-01-17 16:16:07,817 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: receive appendEntries(s0, 2, (t:1, i:6), 6, false, commits:[s0:c6, s1:c6, s2:c6], cId:2745, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:07,817 [s0@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_7 at position 0
2024-01-17 16:16:07,817 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-461A632E1F11: set configuration 7: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:07,818 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-461A632E1F11-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2024-01-17 16:16:07,818 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-461A632E1F11: receive appendEntries(s0, 2, (t:1, i:6), 6, false, commits:[s0:c6, s1:c6, s2:c6], cId:2746, entries: [(t:2, i:7), CONFIGURATIONENTRY(current:id: "s0"
priority: 2
startupRole: FOLLOWER
,id: "s1"
priority: 1
startupRole: FOLLOWER
,id: "s2"
priority: 1
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:07,818 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-461A632E1F11: set configuration 7: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:07,818 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-461A632E1F11-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2024-01-17 16:16:07,818 [s1@group-461A632E1F11-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_0-6
2024-01-17 16:16:07,818 [s1@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-461A632E1F11-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_0-6
2024-01-17 16:16:07,818 [s1@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_7 at position 0
2024-01-17 16:16:07,819 [s2@group-461A632E1F11-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_0-6
2024-01-17 16:16:07,819 [s2@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-461A632E1F11-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_0-6
2024-01-17 16:16:07,819 [s2@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_7 at position 0
2024-01-17 16:16:07,832 [s0@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-461A632E1F11-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_inprogress_7
2024-01-17 16:16:07,833 [s1@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-461A632E1F11-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_inprogress_7
2024-01-17 16:16:07,833 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s0<-s1#2745:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2024-01-17 16:16:07,833 [s2@group-461A632E1F11-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-461A632E1F11-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/log_inprogress_7
2024-01-17 16:16:07,833 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s0<-s2#2746:OK-t2,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2024-01-17 16:16:07,834 [s0@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@43a7b37e
2024-01-17 16:16:07,834 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-461A632E1F11: receive appendEntries(s0, 2, (t:2, i:7), 7, false, commits:[s0:c7, s1:c6, s2:c6], cId:2747, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2024-01-17 16:16:07,834 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: receive appendEntries(s0, 2, (t:2, i:7), 7, false, commits:[s0:c7, s1:c6, s2:c6], cId:2748, entries: [(t:2, i:8), METADATAENTRY(c:7)]
2024-01-17 16:16:07,834 [s2@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7aa97dc6
2024-01-17 16:16:07,834 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s0<-s1#2748:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2024-01-17 16:16:07,835 [s1@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1a45d92d
2024-01-17 16:16:07,835 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s0<-s2#2747:OK-t2,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2024-01-17 16:16:07,835 [s2@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s2/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:07,835 [s0@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s0/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:07,835 [s0@group-461A632E1F11-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 7 >= startIndex == 7
2024-01-17 16:16:07,835 [s1@group-461A632E1F11-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcb2b4378/s1/465cfebb-91be-4871-9f1e-461a632e1f11/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:08,509 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:08,509 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-461A632E1F11:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-461A632E1F11-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-461A632E1F11:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-461A632E1F11-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-461A632E1F11:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-461A632E1F11-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
2024-01-17 16:16:08,509 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-461A632E1F11:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-461A632E1F11-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-461A632E1F11:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-461A632E1F11-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-461A632E1F11:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-461A632E1F11-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
2024-01-17 16:16:08,509 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-5C8895757F62: get 2817 returns [2696, 2701]
2024-01-17 16:16:08,509 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s2@group-461A632E1F11: receive client request(RaftClientRequest:client-5C8895757F62->s2@group-461A632E1F11, cid=2817, seq=null, RW, message)
2024-01-17 16:16:08,510 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-5C8895757F62: suggested new leader: s0. Failed RaftClientRequest:client-5C8895757F62->s2@group-461A632E1F11, cid=2817, seq=null, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-461A632E1F11 is not the leader s0|
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:748)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:713)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:925)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:917)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:892)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$14(RaftServerImpl.java:873)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:08,510 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-5C8895757F62: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:08,510 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-5C8895757F62 changes Leader from s2 to s0 for group-461A632E1F11
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-461A632E1F11 is not the leader s0|
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:748)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:713)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.writeAsync(RaftServerImpl.java:925)
	at org.apache.ratis.server.impl.RaftServerImpl.replyFuture(RaftServerImpl.java:917)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:892)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$14(RaftServerImpl.java:873)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:08,611 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-5C8895757F62: get 2817 returns [2696, 2701]
2024-01-17 16:16:08,611 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s0@group-461A632E1F11: receive client request(RaftClientRequest:client-5C8895757F62->s0@group-461A632E1F11, cid=2817, seq=null, RW, message)
2024-01-17 16:16:08,612 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s0@group-461A632E1F11-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-5C8895757F62->s0@group-461A632E1F11, cid=2817, seq=null, RW, message, entry=(t:2, i:9), STATEMACHINELOGENTRY, 2817@client-5C8895757F62
2024-01-17 16:16:08,612 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: receive appendEntries(s0, 2, (t:2, i:8), 8, false, commits:[s0:c8, s1:c8, s2:c8], cId:2834, entries: [(t:2, i:9), STATEMACHINELOGENTRY, 2817@client-5C8895757F62]
2024-01-17 16:16:08,612 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-461A632E1F11: receive appendEntries(s0, 2, (t:2, i:8), 8, false, commits:[s0:c8, s1:c8, s2:c8], cId:2835, entries: [(t:2, i:9), STATEMACHINELOGENTRY, 2817@client-5C8895757F62]
2024-01-17 16:16:08,612 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s0<-s1#2834:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2024-01-17 16:16:08,612 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s0<-s2#2835:OK-t2,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2024-01-17 16:16:08,613 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: receive appendEntries(s0, 2, (t:2, i:9), 9, false, commits:[s0:c9, s1:c8, s2:c8], cId:2836, entries: [(t:2, i:10), METADATAENTRY(c:9)]
2024-01-17 16:16:08,613 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-5C8895757F62: add replied callId 2817
2024-01-17 16:16:08,613 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-461A632E1F11: receive appendEntries(s0, 2, (t:2, i:9), 9, false, commits:[s0:c9, s1:c8, s2:c8], cId:2837, entries: [(t:2, i:10), METADATAENTRY(c:9)]
2024-01-17 16:16:08,613 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:08,613 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:08,613 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:08,613 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:08,613 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:08,613 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s0<-s2#2837:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2024-01-17 16:16:08,613 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-461A632E1F11:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-461A632E1F11-SegmentedRaftLog:OPENED:c9, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-461A632E1F11:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-461A632E1F11-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-461A632E1F11:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-461A632E1F11-SegmentedRaftLog:OPENED:c9, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
2024-01-17 16:16:08,614 [MiniRaftCluster-77] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:16:08,614 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-461A632E1F11: succeeded to handle AppendEntries. Reply: s0<-s1#2836:OK-t2,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2024-01-17 16:16:08,614 [MiniRaftCluster-78] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:16:08,615 [MiniRaftCluster-79] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:16:08,615 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-461A632E1F11: shutdown
2024-01-17 16:16:08,615 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-461A632E1F11: shutdown
2024-01-17 16:16:08,615 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-461A632E1F11,id=s0
2024-01-17 16:16:08,615 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-461A632E1F11,id=s2
2024-01-17 16:16:08,615 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,615 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-461A632E1F11-FollowerState
2024-01-17 16:16:08,615 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,615 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,615 [s2@group-461A632E1F11-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-461A632E1F11-FollowerState was interrupted
2024-01-17 16:16:08,615 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,615 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,615 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-461A632E1F11-LeaderStateImpl
2024-01-17 16:16:08,615 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,615 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-461A632E1F11-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:08,615 [s0@group-461A632E1F11->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-461A632E1F11->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:08,615 [s0@group-461A632E1F11->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-461A632E1F11->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:08,615 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,615 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-461A632E1F11: shutdown
2024-01-17 16:16:08,615 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,616 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-461A632E1F11,id=s1
2024-01-17 16:16:08,616 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-461A632E1F11-FollowerState
2024-01-17 16:16:08,616 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,616 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,615 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,615 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-461A632E1F11-StateMachineUpdater: set stopIndex = 9
2024-01-17 16:16:08,616 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,616 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-461A632E1F11: applyIndex: 9
2024-01-17 16:16:08,616 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,616 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,616 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,616 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-461A632E1F11-StateMachineUpdater: set stopIndex = 10
2024-01-17 16:16:08,616 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-461A632E1F11: applyIndex: 10
2024-01-17 16:16:08,616 [s0@group-461A632E1F11-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-461A632E1F11-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:08,617 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-461A632E1F11-StateMachineUpdater: set stopIndex = 9
2024-01-17 16:16:08,617 [s2@group-461A632E1F11-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-461A632E1F11-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:08,617 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-461A632E1F11: applyIndex: 9
2024-01-17 16:16:08,617 [s1@group-461A632E1F11-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-461A632E1F11-FollowerState was interrupted
2024-01-17 16:16:08,617 [s1@group-461A632E1F11-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-461A632E1F11-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:08,617 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,617 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:08,617 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:09,614 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-461A632E1F11-SegmentedRaftLogWorker close()
2024-01-17 16:16:09,615 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-461A632E1F11-SegmentedRaftLogWorker close()
2024-01-17 16:16:09,615 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-461A632E1F11-SegmentedRaftLogWorker close()
2024-01-17 16:16:09,616 [JvmPauseMonitor56] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:16:09,617 [JvmPauseMonitor54] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:16:09,617 [JvmPauseMonitor55] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:16:09,617 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2024-01-17 16:16:09,617 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:09,617 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:09,617 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:09,617 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:09,617 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:09,617 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-461A632E1F11:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-461A632E1F11-SegmentedRaftLog:CLOSED:c10, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-461A632E1F11:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-461A632E1F11-SegmentedRaftLog:CLOSED:c9, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-461A632E1F11:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-461A632E1F11-SegmentedRaftLog:CLOSED:c9, conf=7: peers:[s0|, s1|, s2|]|listeners:[], old=null CLOSED
2024-01-17 16:16:09,618 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testLeaderLeaseDuringReconfiguration" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="1.523">
    <system-out><![CDATA[2024-01-17 16:16:09,618 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:16:09,619 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:16:09,619 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:16:09,619 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:16:09,620 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(134)) - Running runWithNewCluster
2024-01-17 16:16:09,620 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:16:09,621 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-F02703D6D672:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]
2024-01-17 16:16:09,621 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:16:09,621 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:16:09,621 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:09,621 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:16:09,621 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:16:09,621 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:16:09,621 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-F02703D6D672:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], format? true
2024-01-17 16:16:09,621 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0
2024-01-17 16:16:09,621 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0 does not exist.
2024-01-17 16:16:09,621 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0
2024-01-17 16:16:09,621 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:09,622 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:09,622 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:09,622 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:09,622 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:09,622 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0] (custom)
2024-01-17 16:16:09,622 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:09,622 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:09,622 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-F02703D6D672:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] returns group-F02703D6D672:java.util.concurrent.CompletableFuture@460c2e47[Not completed]
2024-01-17 16:16:09,622 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-F02703D6D672:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] with BaseStateMachine:uninitialized
2024-01-17 16:16:09,622 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-F02703D6D672:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], format? true
2024-01-17 16:16:09,622 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1
2024-01-17 16:16:09,622 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:09,623 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1 does not exist.
2024-01-17 16:16:09,623 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1
2024-01-17 16:16:09,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:09,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:09,623 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:09,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:09,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:09,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:09,623 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:09,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:09,623 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:09,623 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-F02703D6D672: ConfigurationManager, init=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:09,623 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:09,623 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:09,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:09,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:09,623 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1] (custom)
2024-01-17 16:16:09,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:09,623 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:09,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:09,623 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:09,623 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:09,624 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:09,624 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-F02703D6D672:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] returns group-F02703D6D672:java.util.concurrent.CompletableFuture@651b6010[Not completed]
2024-01-17 16:16:09,624 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-F02703D6D672:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] with BaseStateMachine:uninitialized
2024-01-17 16:16:09,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-F02703D6D672:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], format? true
2024-01-17 16:16:09,624 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2
2024-01-17 16:16:09,624 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:09,624 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2 does not exist.
2024-01-17 16:16:09,624 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2
2024-01-17 16:16:09,624 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:09,624 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:09,624 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:09,624 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:09,624 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:09,624 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:09,624 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:09,624 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:09,625 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:09,625 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:09,625 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:09,624 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:09,625 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:09,625 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:09,625 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:09,625 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:09,625 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:09,625 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2] (custom)
2024-01-17 16:16:09,625 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-F02703D6D672: ConfigurationManager, init=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:09,625 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:09,625 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:09,625 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:09,625 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:09,625 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:09,625 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:09,625 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:09,625 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:09,625 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-F02703D6D672:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] returns group-F02703D6D672:java.util.concurrent.CompletableFuture@5cb225cb[Not completed]
2024-01-17 16:16:09,625 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-F02703D6D672:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] with BaseStateMachine:uninitialized
2024-01-17 16:16:09,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:09,626 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:09,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:09,626 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:09,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:09,626 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:09,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:09,626 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:09,626 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:09,626 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0] (custom)
2024-01-17 16:16:09,626 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:09,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:09,626 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:09,626 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:09,626 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672 does not exist. Creating ...
2024-01-17 16:16:09,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:09,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:09,626 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-F02703D6D672: ConfigurationManager, init=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:09,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:09,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:09,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:09,626 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672
2024-01-17 16:16:09,626 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:09,627 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:09,627 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:09,627 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:09,627 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:09,627 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current
2024-01-17 16:16:09,628 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:09,628 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/sm
2024-01-17 16:16:09,628 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:09,628 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:09,628 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:09,628 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@296e6a16
2024-01-17 16:16:09,628 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:09,629 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672 has been successfully formatted.
2024-01-17 16:16:09,629 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-F02703D6D672-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-F02703D6D672-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672
2024-01-17 16:16:09,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:09,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:09,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:09,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:09,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:09,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:09,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:09,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:09,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:09,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:09,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:09,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:09,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:09,631 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-F02703D6D672-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:09,631 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-F02703D6D672-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:09,631 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-F02703D6D672: start as a follower, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:09,632 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-F02703D6D672: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:09,632 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-F02703D6D672-FollowerState
2024-01-17 16:16:09,632 [s0@group-F02703D6D672-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:09,632 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F02703D6D672,id=s0
2024-01-17 16:16:09,632 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F02703D6D672,id=s0
2024-01-17 16:16:09,632 [s0@group-F02703D6D672-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:09,632 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:09,632 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:09,632 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:09,632 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:09,632 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:16:09,633 [JvmPauseMonitor57] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:16:09,633 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:09,633 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:09,633 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1] (custom)
2024-01-17 16:16:09,633 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672 does not exist. Creating ...
2024-01-17 16:16:09,633 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672
2024-01-17 16:16:09,634 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:09,634 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current
2024-01-17 16:16:09,634 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/sm
2024-01-17 16:16:09,634 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@72a46a09
2024-01-17 16:16:09,635 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:09,635 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672 has been successfully formatted.
2024-01-17 16:16:09,635 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:09,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:09,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:09,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:09,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:09,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:09,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:09,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:09,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:09,635 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:09,636 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-F02703D6D672-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:09,636 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-F02703D6D672-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672
2024-01-17 16:16:09,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:09,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:09,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:09,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:09,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:09,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:09,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:09,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:09,636 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:09,637 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:09,637 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:09,637 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:09,637 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:09,637 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-F02703D6D672-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:09,637 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-F02703D6D672-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:09,638 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-F02703D6D672: start as a follower, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:09,638 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-F02703D6D672: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:09,638 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-F02703D6D672-FollowerState
2024-01-17 16:16:09,638 [s1@group-F02703D6D672-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:09,638 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F02703D6D672,id=s1
2024-01-17 16:16:09,638 [s1@group-F02703D6D672-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:09,638 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F02703D6D672,id=s1
2024-01-17 16:16:09,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:09,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:09,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:09,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:09,638 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:16:09,639 [JvmPauseMonitor58] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:16:09,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:09,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:09,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2] (custom)
2024-01-17 16:16:09,639 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672 does not exist. Creating ...
2024-01-17 16:16:09,639 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672
2024-01-17 16:16:09,640 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:09,640 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current
2024-01-17 16:16:09,640 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/sm
2024-01-17 16:16:09,640 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@74c7d316
2024-01-17 16:16:09,641 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:09,641 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672 has been successfully formatted.
2024-01-17 16:16:09,641 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:09,641 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:09,641 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:09,641 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:09,641 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:09,642 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:09,642 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:09,642 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:09,642 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:09,642 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:09,642 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-F02703D6D672-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:09,642 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-F02703D6D672-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672
2024-01-17 16:16:09,642 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:09,642 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:09,642 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:09,642 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:09,642 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:09,643 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:09,643 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:09,643 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:09,643 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:09,644 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:09,644 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:09,644 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:09,644 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:09,645 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-F02703D6D672-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:09,645 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-F02703D6D672-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:09,645 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-F02703D6D672: start as a follower, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:09,645 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-F02703D6D672: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:09,645 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-F02703D6D672-FollowerState
2024-01-17 16:16:09,645 [s2@group-F02703D6D672-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:09,645 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F02703D6D672,id=s2
2024-01-17 16:16:09,645 [s2@group-F02703D6D672-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:09,645 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F02703D6D672,id=s2
2024-01-17 16:16:09,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:09,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:09,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:09,645 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:09,645 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:16:09,646 [JvmPauseMonitor59] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:16:09,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:09,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:09,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:09,647 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F02703D6D672:t0, leader=null, voted=, raftlog=Memoized:s0@group-F02703D6D672-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F02703D6D672:t0, leader=null, voted=, raftlog=Memoized:s1@group-F02703D6D672-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F02703D6D672:t0, leader=null, voted=, raftlog=Memoized:s2@group-F02703D6D672-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null RUNNING
2024-01-17 16:16:09,647 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F02703D6D672:t0, leader=null, voted=, raftlog=Memoized:s0@group-F02703D6D672-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F02703D6D672:t0, leader=null, voted=, raftlog=Memoized:s1@group-F02703D6D672-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F02703D6D672:t0, leader=null, voted=, raftlog=Memoized:s2@group-F02703D6D672-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null RUNNING
2024-01-17 16:16:09,818 [s1@group-F02703D6D672-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F02703D6D672-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180345888ns, electionTimeout:180ms
2024-01-17 16:16:09,818 [s1@group-F02703D6D672-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-F02703D6D672-FollowerState
2024-01-17 16:16:09,818 [s1@group-F02703D6D672-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-F02703D6D672: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:16:09,818 [s1@group-F02703D6D672-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:09,818 [s1@group-F02703D6D672-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-F02703D6D672-LeaderElection56
2024-01-17 16:16:09,819 [s1@group-F02703D6D672-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-F02703D6D672-LeaderElection56 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:09,819 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:09,819 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-F02703D6D672: receive requestVote(PRE_VOTE, s1, group-F02703D6D672, 0, (t:0, i:0))
2024-01-17 16:16:09,819 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-F02703D6D672: receive requestVote(PRE_VOTE, s1, group-F02703D6D672, 0, (t:0, i:0))
2024-01-17 16:16:09,819 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-F02703D6D672-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:09,819 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:09,819 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-F02703D6D672 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-F02703D6D672:t0, leader=null, voted=, raftlog=Memoized:s0@group-F02703D6D672-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:09,819 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F02703D6D672-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:09,819 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-F02703D6D672 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-F02703D6D672:t0, leader=null, voted=, raftlog=Memoized:s2@group-F02703D6D672-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:09,819 [s1@group-F02703D6D672-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-F02703D6D672-LeaderElection56: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:09,819 [s1@group-F02703D6D672-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2024-01-17 16:16:09,820 [s1@group-F02703D6D672-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-F02703D6D672-LeaderElection56 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:09,820 [s1@group-F02703D6D672-LeaderElection56] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@641e269a
2024-01-17 16:16:09,821 [s1@group-F02703D6D672-LeaderElection56] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:09,821 [s1@group-F02703D6D672-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-F02703D6D672-LeaderElection56 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:09,821 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:09,821 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:09,821 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-F02703D6D672: receive requestVote(ELECTION, s1, group-F02703D6D672, 1, (t:0, i:0))
2024-01-17 16:16:09,821 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-F02703D6D672: receive requestVote(ELECTION, s1, group-F02703D6D672, 1, (t:0, i:0))
2024-01-17 16:16:09,821 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-F02703D6D672-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:09,821 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F02703D6D672-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:09,821 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-F02703D6D672: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-01-17 16:16:09,821 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-F02703D6D672-FollowerState
2024-01-17 16:16:09,821 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-F02703D6D672-FollowerState
2024-01-17 16:16:09,821 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-F02703D6D672: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2024-01-17 16:16:09,821 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-F02703D6D672-FollowerState
2024-01-17 16:16:09,821 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-F02703D6D672: set firstElectionSinceStartup to false for candidate:s1
2024-01-17 16:16:09,821 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-F02703D6D672-FollowerState
2024-01-17 16:16:09,822 [s2@group-F02703D6D672-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F02703D6D672-FollowerState was interrupted
2024-01-17 16:16:09,821 [s0@group-F02703D6D672-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F02703D6D672-FollowerState was interrupted
2024-01-17 16:16:09,822 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1afb2bd2
2024-01-17 16:16:09,822 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-F02703D6D672: set firstElectionSinceStartup to false for candidate:s1
2024-01-17 16:16:09,822 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3e6afa9f
2024-01-17 16:16:09,822 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:09,822 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:09,822 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-F02703D6D672 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-F02703D6D672:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-F02703D6D672-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:09,822 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-F02703D6D672 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-F02703D6D672:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-F02703D6D672-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-F02703D6D672-LeaderElection56: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-F02703D6D672-LeaderElection56 ELECTION round 0: result PASSED
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-F02703D6D672-LeaderElection56
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-F02703D6D672: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:09,823 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-F02703D6D672-LeaderStateImpl
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-F02703D6D672: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-F02703D6D672: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 198ms
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-LeaderElection56] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-F02703D6D672-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-LeaderElection56] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-F02703D6D672: set configuration 0: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:09,824 [s1@group-F02703D6D672-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:09,825 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-F02703D6D672: change Leader from null to s1 at term 1 for appendEntries, leader elected after 201ms
2024-01-17 16:16:09,825 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-F02703D6D672: change Leader from null to s1 at term 1 for appendEntries, leader elected after 198ms
2024-01-17 16:16:09,826 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F02703D6D672: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2906, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15228"
dataStreamAddress: "localhost:15231"
clientAddress: "localhost:15230"
adminAddress: "localhost:15229"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15232"
dataStreamAddress: "localhost:15235"
clientAddress: "localhost:15234"
adminAddress: "localhost:15233"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15236"
dataStreamAddress: "localhost:15239"
clientAddress: "localhost:15238"
adminAddress: "localhost:15237"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:09,826 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F02703D6D672: receive appendEntries(s1, 1, null, -1, false, commits:[s1:c-1, s0:c-1, s2:c-1], cId:2907, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15228"
dataStreamAddress: "localhost:15231"
clientAddress: "localhost:15230"
adminAddress: "localhost:15229"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15232"
dataStreamAddress: "localhost:15235"
clientAddress: "localhost:15234"
adminAddress: "localhost:15233"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15236"
dataStreamAddress: "localhost:15239"
clientAddress: "localhost:15238"
adminAddress: "localhost:15237"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:09,826 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-F02703D6D672: set configuration 0: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:09,826 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-F02703D6D672: set configuration 0: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:09,826 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-F02703D6D672-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:09,826 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-F02703D6D672-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:09,826 [s0@group-F02703D6D672-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:09,829 [s2@group-F02703D6D672-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:09,838 [s1@group-F02703D6D672-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-F02703D6D672-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/log_inprogress_0
2024-01-17 16:16:09,838 [s0@group-F02703D6D672-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-F02703D6D672-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/log_inprogress_0
2024-01-17 16:16:09,839 [s2@group-F02703D6D672-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-F02703D6D672-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/log_inprogress_0
2024-01-17 16:16:09,839 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F02703D6D672: succeeded to handle AppendEntries. Reply: s1<-s0#2906:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:09,839 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F02703D6D672: succeeded to handle AppendEntries. Reply: s1<-s2#2907:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:09,839 [s1@group-F02703D6D672-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@510fd649
2024-01-17 16:16:09,840 [s1@group-F02703D6D672-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s1/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:09,840 [s1@group-F02703D6D672-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:16:09,916 [s0@group-F02703D6D672-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@b871022
2024-01-17 16:16:09,916 [s2@group-F02703D6D672-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@43382ce5
2024-01-17 16:16:09,917 [s0@group-F02703D6D672-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s0/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:09,917 [s2@group-F02703D6D672-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s2/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:10,097 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F02703D6D672:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-F02703D6D672-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F02703D6D672:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-F02703D6D672-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F02703D6D672:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-F02703D6D672-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null RUNNING
2024-01-17 16:16:10,098 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:10,098 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-43F2AD1B82A5: get 2932 returns []
2024-01-17 16:16:10,098 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s1@group-F02703D6D672: receive client request(RaftClientRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2932, seq=null, RW, message)
2024-01-17 16:16:10,099 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s1@group-F02703D6D672-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2932, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 2932@client-43F2AD1B82A5
2024-01-17 16:16:10,099 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F02703D6D672: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits:[s1:c0, s0:c0, s2:c0], cId:2934, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2932@client-43F2AD1B82A5]
2024-01-17 16:16:10,099 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F02703D6D672: receive appendEntries(s1, 1, (t:1, i:0), 0, false, commits:[s1:c0, s0:c0, s2:c0], cId:2933, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 2932@client-43F2AD1B82A5]
2024-01-17 16:16:10,100 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F02703D6D672: succeeded to handle AppendEntries. Reply: s1<-s0#2934:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:10,100 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F02703D6D672: succeeded to handle AppendEntries. Reply: s1<-s2#2933:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:10,100 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F02703D6D672: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c0], cId:2935, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:10,100 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F02703D6D672: receive appendEntries(s1, 1, (t:1, i:1), 1, false, commits:[s1:c1, s0:c0, s2:c0], cId:2936, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:10,100 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-43F2AD1B82A5: add replied callId 2932
2024-01-17 16:16:10,100 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-F02703D6D672: succeeded to handle AppendEntries. Reply: s1<-s0#2935:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:10,101 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-F02703D6D672: succeeded to handle AppendEntries. Reply: s1<-s2#2936:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:10,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:addNewPeers(463)) - Add new peers [s3, s4]
2024-01-17 16:16:10,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s3, group-F02703D6D672:[s3|localhost:15240, s4|localhost:15244, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], format? true
2024-01-17 16:16:10,104 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3
2024-01-17 16:16:10,104 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3 does not exist.
2024-01-17 16:16:10,104 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3
2024-01-17 16:16:10,104 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:10,105 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:10,105 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:10,105 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:10,105 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:10,105 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3] (custom)
2024-01-17 16:16:10,105 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:10,105 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:10,105 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-F02703D6D672:[s3|localhost:15240, s4|localhost:15244, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] returns group-F02703D6D672:java.util.concurrent.CompletableFuture@554c5a7[Not completed]
2024-01-17 16:16:10,105 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s4, group-F02703D6D672:[s3|localhost:15240, s4|localhost:15244, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], format? true
2024-01-17 16:16:10,105 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s3: new RaftServerImpl for group-F02703D6D672:[s3|localhost:15240, s4|localhost:15244, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] with BaseStateMachine:uninitialized
2024-01-17 16:16:10,105 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4
2024-01-17 16:16:10,105 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:10,106 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4 does not exist.
2024-01-17 16:16:10,106 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:10,106 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4
2024-01-17 16:16:10,106 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:10,106 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:10,106 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:10,106 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:10,106 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:10,106 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:10,106 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:10,106 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:10,106 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:10,106 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-F02703D6D672: ConfigurationManager, init=-1: peers:[s3|localhost:15240, s4|localhost:15244, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:10,106 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:10,106 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:10,106 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:10,106 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4] (custom)
2024-01-17 16:16:10,106 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:10,106 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:10,106 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:10,106 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:10,107 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:10,107 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:10,107 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-F02703D6D672:[s3|localhost:15240, s4|localhost:15244, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] returns group-F02703D6D672:java.util.concurrent.CompletableFuture@6794716c[Not completed]
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s4: new RaftServerImpl for group-F02703D6D672:[s3|localhost:15240, s4|localhost:15244, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236] with BaseStateMachine:uninitialized
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-F02703D6D672: ConfigurationManager, init=-1: peers:[s3|localhost:15240, s4|localhost:15244, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:10,107 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:10,107 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:10,107 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:10,107 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:10,107 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:10,107 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:10,107 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:10,107 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:10,108 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:10,108 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3] (custom)
2024-01-17 16:16:10,108 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672 does not exist. Creating ...
2024-01-17 16:16:10,108 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:10,108 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:10,108 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:10,108 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:10,108 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:10,108 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:10,108 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672
2024-01-17 16:16:10,109 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:10,109 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current
2024-01-17 16:16:10,109 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/sm
2024-01-17 16:16:10,109 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@77e984b6
2024-01-17 16:16:10,109 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:10,109 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672 has been successfully formatted.
2024-01-17 16:16:10,110 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-F02703D6D672-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s3@group-F02703D6D672-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:10,110 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:10,111 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:10,111 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:10,111 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:10,111 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:10,111 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:10,111 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:10,111 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-F02703D6D672-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:10,111 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-F02703D6D672-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:10,111 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s3@group-F02703D6D672: start as a follower, conf=-1: peers:[s3|localhost:15240, s4|localhost:15244, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:10,111 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-F02703D6D672: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:10,112 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-F02703D6D672-FollowerState
2024-01-17 16:16:10,112 [s3@group-F02703D6D672-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:10,112 [s3@group-F02703D6D672-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:10,112 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F02703D6D672,id=s3
2024-01-17 16:16:10,112 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F02703D6D672,id=s3
2024-01-17 16:16:10,112 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:10,112 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:10,112 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:10,112 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:10,112 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s3: start RPC server
2024-01-17 16:16:10,113 [JvmPauseMonitor60] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-01-17 16:16:10,113 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:10,113 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:10,113 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4] (custom)
2024-01-17 16:16:10,113 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672 does not exist. Creating ...
2024-01-17 16:16:10,113 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672
2024-01-17 16:16:10,114 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:10,114 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current
2024-01-17 16:16:10,114 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/sm
2024-01-17 16:16:10,114 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@71c79231
2024-01-17 16:16:10,115 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:10,115 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672 has been successfully formatted.
2024-01-17 16:16:10,115 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,115 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:10,115 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:10,115 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:10,115 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:10,115 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:10,115 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:10,115 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:10,115 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:10,115 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:10,115 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-F02703D6D672-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:10,115 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s4@group-F02703D6D672-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672
2024-01-17 16:16:10,116 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:10,116 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:10,116 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:10,116 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:10,116 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:10,116 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:10,116 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:10,116 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:10,116 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:10,117 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:10,117 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:10,117 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:10,117 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:10,117 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-F02703D6D672-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:10,118 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-F02703D6D672-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:10,118 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s4@group-F02703D6D672: start as a follower, conf=-1: peers:[s3|localhost:15240, s4|localhost:15244, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:10,118 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s4@group-F02703D6D672: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:10,118 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s4: start s4@group-F02703D6D672-FollowerState
2024-01-17 16:16:10,118 [s4@group-F02703D6D672-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:10,118 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F02703D6D672,id=s4
2024-01-17 16:16:10,118 [s4@group-F02703D6D672-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:10,118 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-F02703D6D672,id=s4
2024-01-17 16:16:10,118 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:10,118 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:10,118 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:10,118 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:10,118 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s4: start RPC server
2024-01-17 16:16:10,119 [JvmPauseMonitor61] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-01-17 16:16:10,120 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1273)) - s1@group-F02703D6D672: receive setConfiguration SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[]
2024-01-17 16:16:10,120 [s1-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(490)) - s1@group-F02703D6D672-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[]
2024-01-17 16:16:10,120 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:10,120 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:10,120 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:10,120 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:10,120 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:10,120 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:10,120 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:10,120 [s1-server-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:10,121 [s1@group-F02703D6D672->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:setAttemptedToInstallSnapshot(154)) - Follower s1@group-F02703D6D672->s3 acknowledged installing snapshot
2024-01-17 16:16:10,121 [s1@group-F02703D6D672->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.FollowerInfo (FollowerInfoImpl.java:setAttemptedToInstallSnapshot(154)) - Follower s1@group-F02703D6D672->s4 acknowledged installing snapshot
2024-01-17 16:16:10,121 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@38f16720
2024-01-17 16:16:10,121 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@60d02187
2024-01-17 16:16:10,122 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:10,122 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:10,122 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s4@group-F02703D6D672: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:16:10,122 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s3@group-F02703D6D672: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:16:10,122 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s4@group-F02703D6D672: change Leader from null to s1 at term 1 for appendEntries, leader elected after 15ms
2024-01-17 16:16:10,122 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-F02703D6D672: change Leader from null to s1 at term 1 for appendEntries, leader elected after 16ms
2024-01-17 16:16:10,123 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-F02703D6D672: receive appendEntries(s1, 1, null, 2, true, commits:[s1:c2, s0:c1, s2:c1, s3:c-1, s4:c-1], cId:2947, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15228"
dataStreamAddress: "localhost:15231"
clientAddress: "localhost:15230"
adminAddress: "localhost:15229"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15232"
dataStreamAddress: "localhost:15235"
clientAddress: "localhost:15234"
adminAddress: "localhost:15233"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15236"
dataStreamAddress: "localhost:15239"
clientAddress: "localhost:15238"
adminAddress: "localhost:15237"
startupRole: FOLLOWER
, old:), (t:1, i:1), STATEMACHINELOGENTRY, 2932@client-43F2AD1B82A5, (t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:10,123 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-F02703D6D672: receive appendEntries(s1, 1, null, 2, true, commits:[s1:c2, s0:c1, s2:c1, s3:c-1, s4:c-1], cId:2946, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15228"
dataStreamAddress: "localhost:15231"
clientAddress: "localhost:15230"
adminAddress: "localhost:15229"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15232"
dataStreamAddress: "localhost:15235"
clientAddress: "localhost:15234"
adminAddress: "localhost:15233"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15236"
dataStreamAddress: "localhost:15239"
clientAddress: "localhost:15238"
adminAddress: "localhost:15237"
startupRole: FOLLOWER
, old:), (t:1, i:1), STATEMACHINELOGENTRY, 2932@client-43F2AD1B82A5, (t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:10,123 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-F02703D6D672: set configuration 0: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:10,124 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-F02703D6D672: set configuration 0: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null
2024-01-17 16:16:10,124 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s3@group-F02703D6D672-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:10,124 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s4@group-F02703D6D672-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:10,124 [s4@group-F02703D6D672-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:10,124 [s3@group-F02703D6D672-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:10,133 [s4@group-F02703D6D672-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s4@group-F02703D6D672-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/log_inprogress_0
2024-01-17 16:16:10,134 [s3@group-F02703D6D672-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s3@group-F02703D6D672-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/log_inprogress_0
2024-01-17 16:16:10,134 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-F02703D6D672: succeeded to handle AppendEntries. Reply: s1<-s4#2946:OK-t1,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2024-01-17 16:16:10,134 [s4@group-F02703D6D672-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@66190039
2024-01-17 16:16:10,134 [s3@group-F02703D6D672-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2828f9a8
2024-01-17 16:16:10,134 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-F02703D6D672: succeeded to handle AppendEntries. Reply: s1<-s3#2947:OK-t1,SUCCESS,nextIndex=3,followerCommit=2,matchIndex=2
2024-01-17 16:16:10,135 [s4@group-F02703D6D672-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s4/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:10,136 [s1@group-F02703D6D672-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-F02703D6D672: set configuration 3: peers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[]
2024-01-17 16:16:10,136 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2024-01-17 16:16:10,135 [s3@group-F02703D6D672-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc48ea0fdd/s3/38eb08b3-deb3-4c3f-9fc6-f02703d6d672/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:10,137 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-F02703D6D672: receive appendEntries(s1, 1, (t:1, i:2), 2, false, commits:[s1:c2, s0:c1, s2:c1, s3:c2, s4:c2], cId:2950, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15228"
dataStreamAddress: "localhost:15231"
clientAddress: "localhost:15230"
adminAddress: "localhost:15229"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15232"
dataStreamAddress: "localhost:15235"
clientAddress: "localhost:15234"
adminAddress: "localhost:15233"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15236"
dataStreamAddress: "localhost:15239"
clientAddress: "localhost:15238"
adminAddress: "localhost:15237"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15228"
dataStreamAddress: "localhost:15231"
clientAddress: "localhost:15230"
adminAddress: "localhost:15229"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15232"
dataStreamAddress: "localhost:15235"
clientAddress: "localhost:15234"
adminAddress: "localhost:15233"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15236"
dataStreamAddress: "localhost:15239"
clientAddress: "localhost:15238"
adminAddress: "localhost:15237"
startupRole: FOLLOWER
)]
2024-01-17 16:16:10,137 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-F02703D6D672: receive appendEntries(s1, 1, (t:1, i:2), 2, false, commits:[s1:c2, s0:c1, s2:c1, s3:c2, s4:c2], cId:2949, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
address: "localhost:15228"
dataStreamAddress: "localhost:15231"
clientAddress: "localhost:15230"
adminAddress: "localhost:15229"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15232"
dataStreamAddress: "localhost:15235"
clientAddress: "localhost:15234"
adminAddress: "localhost:15233"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15236"
dataStreamAddress: "localhost:15239"
clientAddress: "localhost:15238"
adminAddress: "localhost:15237"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15228"
dataStreamAddress: "localhost:15231"
clientAddress: "localhost:15230"
adminAddress: "localhost:15229"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15232"
dataStreamAddress: "localhost:15235"
clientAddress: "localhost:15234"
adminAddress: "localhost:15233"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15236"
dataStreamAddress: "localhost:15239"
clientAddress: "localhost:15238"
adminAddress: "localhost:15237"
startupRole: FOLLOWER
)]
2024-01-17 16:16:10,137 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-F02703D6D672: set configuration 3: peers:[s3|, s4|, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[]
2024-01-17 16:16:10,137 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-F02703D6D672: set configuration 3: peers:[s3|, s4|, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[]
2024-01-17 16:16:10,137 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2024-01-17 16:16:10,137 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-F02703D6D672: succeeded to handle AppendEntries. Reply: s1<-s4#2950:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:10,138 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-F02703D6D672: succeeded to handle AppendEntries. Reply: s1<-s3#2949:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:10,191 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2024-01-17 16:16:10,195 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:10,195 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:10,195 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:10,195 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:10,195 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:10,195 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F02703D6D672:t1, leader=s1, voted=null, raftlog=Memoized:s3@group-F02703D6D672-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s3|, s4|, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[] RUNNING
  s4:  RUNNING  FOLLOWER s4@group-F02703D6D672:t1, leader=s1, voted=null, raftlog=Memoized:s4@group-F02703D6D672-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s3|, s4|, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[] RUNNING
  s0:  RUNNING  FOLLOWER s0@group-F02703D6D672:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-F02703D6D672-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F02703D6D672:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-F02703D6D672-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[] RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F02703D6D672:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-F02703D6D672-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:15228, s1|localhost:15232, s2|localhost:15236]|listeners:[], old=null RUNNING
2024-01-17 16:16:10,195 [MiniRaftCluster-83] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s3: close
2024-01-17 16:16:10,195 [MiniRaftCluster-84] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s4: close
2024-01-17 16:16:10,195 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s3@group-F02703D6D672: shutdown
2024-01-17 16:16:10,195 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s4@group-F02703D6D672: shutdown
2024-01-17 16:16:10,196 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F02703D6D672,id=s3
2024-01-17 16:16:10,196 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F02703D6D672,id=s4
2024-01-17 16:16:10,196 [MiniRaftCluster-85] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:16:10,196 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s4: shutdown s4@group-F02703D6D672-FollowerState
2024-01-17 16:16:10,196 [MiniRaftCluster-86] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:16:10,196 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s3: shutdown s3@group-F02703D6D672-FollowerState
2024-01-17 16:16:10,196 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,196 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-F02703D6D672: shutdown
2024-01-17 16:16:10,196 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F02703D6D672,id=s1
2024-01-17 16:16:10,196 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,196 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-F02703D6D672: shutdown
2024-01-17 16:16:10,196 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,196 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,196 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,196 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s4@group-F02703D6D672-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:16:10,196 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,196 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s4@group-F02703D6D672: applyIndex: 2
2024-01-17 16:16:10,197 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,197 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,197 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,197 [s3@group-F02703D6D672-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-F02703D6D672-FollowerState was interrupted
2024-01-17 16:16:10,197 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,197 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,197 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,197 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,197 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2024-01-17 16:16:10,197 [s1@group-F02703D6D672->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(90)) - s1@group-F02703D6D672->s0-LogAppenderDefault: Failed to appendEntries (retry=1)
org.apache.ratis.protocol.exceptions.ServerNotReadyException: s0@group-F02703D6D672 is not in [STARTING, RUNNING]: current state is CLOSING
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$assertLifeCycleState$9(RaftServerImpl.java:753)
	at org.apache.ratis.util.LifeCycle.assertCurrentState(LifeCycle.java:260)
	at org.apache.ratis.server.impl.RaftServerImpl.assertLifeCycleState(RaftServerImpl.java:752)
	at org.apache.ratis.server.impl.RaftServerImpl.preAppendEntriesAsync(RaftServerImpl.java:1533)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntriesAsync(RaftServerImpl.java:1477)
	at org.apache.ratis.server.impl.RaftServerImpl.appendEntries(RaftServerImpl.java:1463)
	at org.apache.ratis.server.impl.RaftServerProxy.appendEntries(RaftServerProxy.java:663)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:163)
	at org.apache.ratis.server.simulation.SimulatedServerRpc$1.handleRequest(SimulatedServerRpc.java:153)
	at org.apache.ratis.server.simulation.RequestHandler.handleRequest(RequestHandler.java:91)
	at org.apache.ratis.server.simulation.RequestHandler$HandlerDaemon.run(RequestHandler.java:125)
2024-01-17 16:16:10,196 [s4@group-F02703D6D672-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-F02703D6D672-FollowerState was interrupted
2024-01-17 16:16:10,196 [MiniRaftCluster-87] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:16:10,197 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,198 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,198 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-F02703D6D672: shutdown
2024-01-17 16:16:10,198 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F02703D6D672,id=s2
2024-01-17 16:16:10,198 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-F02703D6D672-FollowerState
2024-01-17 16:16:10,198 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-F02703D6D672-StateMachineUpdater: set stopIndex = 1
2024-01-17 16:16:10,198 [s2@group-F02703D6D672-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F02703D6D672-FollowerState was interrupted
2024-01-17 16:16:10,198 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,198 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-F02703D6D672: applyIndex: 1
2024-01-17 16:16:10,197 [s4@group-F02703D6D672-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-F02703D6D672-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:10,198 [s2@group-F02703D6D672-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-F02703D6D672-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:10,197 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s3@group-F02703D6D672-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:16:10,197 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,196 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,196 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F02703D6D672,id=s0
2024-01-17 16:16:10,198 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-F02703D6D672-FollowerState
2024-01-17 16:16:10,198 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,199 [s0@group-F02703D6D672-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F02703D6D672-FollowerState was interrupted
2024-01-17 16:16:10,199 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,196 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s1: shutdown s1@group-F02703D6D672-LeaderStateImpl
2024-01-17 16:16:10,196 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,199 [s1@group-F02703D6D672->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-F02703D6D672->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2024-01-17 16:16:10,199 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-F02703D6D672-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:10,199 [s1@group-F02703D6D672->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s1@group-F02703D6D672->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:10,199 [s1@group-F02703D6D672->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-F02703D6D672->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:10,199 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,199 [s1@group-F02703D6D672->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s1@group-F02703D6D672->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:10,199 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,198 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-F02703D6D672-StateMachineUpdater: set stopIndex = 1
2024-01-17 16:16:10,198 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,198 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s3@group-F02703D6D672: applyIndex: 2
2024-01-17 16:16:10,198 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,199 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-F02703D6D672: applyIndex: 1
2024-01-17 16:16:10,199 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,200 [s0@group-F02703D6D672-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-F02703D6D672-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:10,200 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,200 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2024-01-17 16:16:10,200 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-F02703D6D672-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:16:10,200 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-F02703D6D672: applyIndex: 2
2024-01-17 16:16:10,200 [s3@group-F02703D6D672-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-F02703D6D672-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:10,200 [s1@group-F02703D6D672-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-F02703D6D672-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:10,200 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:10,200 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-F02703D6D672 is not the leader
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:738)
	at org.apache.ratis.server.impl.LeaderStateImpl.stop(LeaderStateImpl.java:442)
	at org.apache.ratis.server.impl.RoleInfo.shutdownLeaderState(RoleInfo.java:96)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$close$1(RaftServerImpl.java:474)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$7(LifeCycle.java:306)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:326)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:304)
	at org.apache.ratis.server.impl.RaftServerImpl.close(RaftServerImpl.java:456)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.close(RaftServerProxy.java:137)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.lambda$close$0(RaftServerProxy.java:124)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,201 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:10,201 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-F02703D6D672 is not the leader
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:738)
	at org.apache.ratis.server.impl.LeaderStateImpl.stop(LeaderStateImpl.java:442)
	at org.apache.ratis.server.impl.RoleInfo.shutdownLeaderState(RoleInfo.java:96)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$close$1(RaftServerImpl.java:474)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$7(LifeCycle.java:306)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:326)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:304)
	at org.apache.ratis.server.impl.RaftServerImpl.close(RaftServerImpl.java:456)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.close(RaftServerProxy.java:137)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.lambda$close$0(RaftServerProxy.java:124)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,301 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,301 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:10,301 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,402 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,402 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:10,402 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,492 [HandlerDaemon-0] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2024-01-17 16:16:10,502 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,503 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:10,503 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,603 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,603 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:10,603 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,703 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,704 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:10,704 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,804 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,804 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:10,804 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,905 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:10,905 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:10,905 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,005 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,006 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:11,006 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,101 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-F02703D6D672-SegmentedRaftLogWorker close()
2024-01-17 16:16:11,101 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-F02703D6D672-SegmentedRaftLogWorker close()
2024-01-17 16:16:11,103 [JvmPauseMonitor57] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:16:11,103 [JvmPauseMonitor59] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:16:11,106 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,106 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:11,106 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,137 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-F02703D6D672-SegmentedRaftLogWorker close()
2024-01-17 16:16:11,137 [JvmPauseMonitor58] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:16:11,138 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s4@group-F02703D6D672-SegmentedRaftLogWorker close()
2024-01-17 16:16:11,138 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s3@group-F02703D6D672-SegmentedRaftLogWorker close()
2024-01-17 16:16:11,140 [JvmPauseMonitor60] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-01-17 16:16:11,140 [JvmPauseMonitor61] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-01-17 16:16:11,140 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testChangeLeader" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="7.046">
    <system-out><![CDATA[2024-01-17 16:16:11,141 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:16:11,141 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:16:11,141 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:16:11,141 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:16:11,142 [Time-limited test] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to TRACE
2024-01-17 16:16:11,142 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testChangeLeader(103)) - Running testChangeLeader
2024-01-17 16:16:11,142 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:16:11,143 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-B52D587AEB10:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]
2024-01-17 16:16:11,143 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:16:11,143 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:16:11,143 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:11,143 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:16:11,143 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:16:11,143 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:16:11,143 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-B52D587AEB10:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256], format? true
2024-01-17 16:16:11,143 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0
2024-01-17 16:16:11,143 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0 does not exist.
2024-01-17 16:16:11,143 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0
2024-01-17 16:16:11,144 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:11,144 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:11,144 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:11,144 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:11,144 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:11,144 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0] (custom)
2024-01-17 16:16:11,144 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:11,144 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:11,145 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-B52D587AEB10:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256] returns group-B52D587AEB10:java.util.concurrent.CompletableFuture@301c5c53[Not completed]
2024-01-17 16:16:11,145 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-B52D587AEB10:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256] with BaseStateMachine:uninitialized
2024-01-17 16:16:11,145 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-B52D587AEB10:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256], format? true
2024-01-17 16:16:11,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:11,145 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1
2024-01-17 16:16:11,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:11,145 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1 does not exist.
2024-01-17 16:16:11,145 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1
2024-01-17 16:16:11,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:11,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:11,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:11,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:11,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:11,145 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:11,145 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-B52D587AEB10: ConfigurationManager, init=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:11,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:11,145 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:11,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:11,145 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:11,145 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:11,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:11,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:11,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:11,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1] (custom)
2024-01-17 16:16:11,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:11,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:11,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:11,146 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:11,146 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-B52D587AEB10:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256] returns group-B52D587AEB10:java.util.concurrent.CompletableFuture@8cae825[Not completed]
2024-01-17 16:16:11,146 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-B52D587AEB10:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256], format? true
2024-01-17 16:16:11,147 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2
2024-01-17 16:16:11,147 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2 does not exist.
2024-01-17 16:16:11,147 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2
2024-01-17 16:16:11,147 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:11,147 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:11,147 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:11,147 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-B52D587AEB10:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256] with BaseStateMachine:uninitialized
2024-01-17 16:16:11,147 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:11,147 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:11,147 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:11,147 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:11,147 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:11,147 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:11,147 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:11,147 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:11,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:11,147 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:11,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2] (custom)
2024-01-17 16:16:11,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:11,148 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:11,147 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:11,148 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:11,148 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:11,148 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:11,148 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:11,148 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-B52D587AEB10: ConfigurationManager, init=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:11,148 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:11,148 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:11,148 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:11,148 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:11,148 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:11,148 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:11,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:11,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:11,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:11,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:11,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:11,149 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:11,149 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-B52D587AEB10:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256] returns group-B52D587AEB10:java.util.concurrent.CompletableFuture@53d045d1[Not completed]
2024-01-17 16:16:11,149 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-B52D587AEB10:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256] with BaseStateMachine:uninitialized
2024-01-17 16:16:11,149 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:11,149 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:11,149 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:11,149 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:11,149 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:11,149 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0] (custom)
2024-01-17 16:16:11,149 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:11,150 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10 does not exist. Creating ...
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-B52D587AEB10: ConfigurationManager, init=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:11,150 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:11,150 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:11,151 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:11,151 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current
2024-01-17 16:16:11,151 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/sm
2024-01-17 16:16:11,151 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@259710e3
2024-01-17 16:16:11,151 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:11,151 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10 has been successfully formatted.
2024-01-17 16:16:11,152 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-B52D587AEB10-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-B52D587AEB10-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:11,152 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:11,153 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:11,153 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:11,153 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:11,153 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:11,153 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:11,153 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:11,153 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:11,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:11,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:11,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:11,154 [s0-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(228)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2024-01-17 16:16:11,154 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:11,154 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:11,155 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-B52D587AEB10: start as a follower, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,155 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:11,155 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:11,155 [s0@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:11,155 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B52D587AEB10,id=s0
2024-01-17 16:16:11,155 [s0@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:11,155 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-B52D587AEB10,id=s0
2024-01-17 16:16:11,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:11,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:11,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:11,155 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:11,155 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:16:11,160 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:11,160 [JvmPauseMonitor62] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:16:11,160 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:11,160 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1] (custom)
2024-01-17 16:16:11,160 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10 does not exist. Creating ...
2024-01-17 16:16:11,160 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10
2024-01-17 16:16:11,161 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:11,161 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current
2024-01-17 16:16:11,161 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/sm
2024-01-17 16:16:11,161 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@21cb3296
2024-01-17 16:16:11,162 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:11,162 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10 has been successfully formatted.
2024-01-17 16:16:11,162 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,162 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:11,162 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:11,162 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,162 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:11,162 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:11,163 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:11,163 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:11,163 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:11,163 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,163 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-B52D587AEB10-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:11,164 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-B52D587AEB10-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10
2024-01-17 16:16:11,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:11,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:11,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:11,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:11,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:11,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:11,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:11,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:11,164 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:11,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:11,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:11,165 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:11,166 [s1-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(228)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2024-01-17 16:16:11,166 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:11,166 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:11,166 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-B52D587AEB10: start as a follower, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,166 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:11,166 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:11,166 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B52D587AEB10,id=s1
2024-01-17 16:16:11,166 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-B52D587AEB10,id=s1
2024-01-17 16:16:11,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:11,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:11,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:11,166 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:11,167 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:16:11,167 [s1@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:11,167 [s1@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:11,167 [JvmPauseMonitor63] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:16:11,167 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:11,167 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:11,167 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2] (custom)
2024-01-17 16:16:11,168 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10 does not exist. Creating ...
2024-01-17 16:16:11,168 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10
2024-01-17 16:16:11,168 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:11,168 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current
2024-01-17 16:16:11,168 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/sm
2024-01-17 16:16:11,169 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1ada2a27
2024-01-17 16:16:11,169 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:11,169 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10 has been successfully formatted.
2024-01-17 16:16:11,169 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-B52D587AEB10-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-B52D587AEB10-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:11,170 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:11,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:11,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:11,171 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:11,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:11,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:11,172 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:11,172 [s2-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(228)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2024-01-17 16:16:11,172 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:11,172 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:11,173 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-B52D587AEB10: start as a follower, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,173 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:11,173 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:11,173 [s2@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:11,173 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-B52D587AEB10,id=s2
2024-01-17 16:16:11,173 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-B52D587AEB10,id=s2
2024-01-17 16:16:11,173 [s2@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:11,173 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:11,173 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:11,173 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:11,173 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:11,173 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:16:11,174 [JvmPauseMonitor64] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:16:11,174 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:11,174 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t0, leader=null, voted=, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t0, leader=null, voted=, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t0, leader=null, voted=, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,174 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t0, leader=null, voted=, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t0, leader=null, voted=, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t0, leader=null, voted=, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,206 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,207 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:11,207 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,308 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,308 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:11,308 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,384 [s2@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-B52D587AEB10-FollowerState: change to CANDIDATE, lastRpcElapsedTime:211402013ns, electionTimeout:211ms
2024-01-17 16:16:11,384 [s2@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:11,384 [s2@group-B52D587AEB10-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:16:11,384 [s2@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:11,384 [s2@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-LeaderElection57
2024-01-17 16:16:11,385 [s2@group-B52D587AEB10-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-B52D587AEB10-LeaderElection57 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,385 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:11,385 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(PRE_VOTE, s2, group-B52D587AEB10, 0, (t:0, i:0))
2024-01-17 16:16:11,385 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(PRE_VOTE, s2, group-B52D587AEB10, 0, (t:0, i:0))
2024-01-17 16:16:11,385 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:11,385 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:11,385 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:11,385 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-B52D587AEB10:t0, leader=null, voted=, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,385 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-B52D587AEB10:t0, leader=null, voted=, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,385 [s2@group-B52D587AEB10-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-B52D587AEB10-LeaderElection57: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:11,386 [s2@group-B52D587AEB10-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2024-01-17 16:16:11,386 [s2@group-B52D587AEB10-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-B52D587AEB10-LeaderElection57 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:11,386 [s2@group-B52D587AEB10-LeaderElection57] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5edcba80
2024-01-17 16:16:11,387 [s2@group-B52D587AEB10-LeaderElection57] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:11,387 [s2@group-B52D587AEB10-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-B52D587AEB10-LeaderElection57 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,387 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:11,387 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(ELECTION, s2, group-B52D587AEB10, 1, (t:0, i:0))
2024-01-17 16:16:11,387 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:11,387 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:11,387 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(ELECTION, s2, group-B52D587AEB10, 1, (t:0, i:0))
2024-01-17 16:16:11,387 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:16:11,387 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:11,387 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:11,387 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2024-01-17 16:16:11,387 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:11,387 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:11,387 [s0@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:11,387 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-B52D587AEB10: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:16:11,387 [s1@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:11,387 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:11,387 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5b2fcc01
2024-01-17 16:16:11,388 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-B52D587AEB10: set firstElectionSinceStartup to false for candidate:s2
2024-01-17 16:16:11,388 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@34c1a308
2024-01-17 16:16:11,388 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:11,388 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-B52D587AEB10:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,388 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:11,388 [s2@group-B52D587AEB10-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-B52D587AEB10-LeaderElection57: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2024-01-17 16:16:11,388 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-B52D587AEB10:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-B52D587AEB10-LeaderElection57 ELECTION round 0: result PASSED
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-B52D587AEB10-LeaderElection57
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:11,389 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:11,390 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:11,390 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:11,390 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,390 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:11,390 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:11,390 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:11,390 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,390 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:11,390 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:11,390 [s2@group-B52D587AEB10-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:11,390 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-B52D587AEB10: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:16:11,390 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 240ms
2024-01-17 16:16:11,391 [s2@group-B52D587AEB10-LeaderElection57] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:11,391 [s2@group-B52D587AEB10-LeaderElection57] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2024-01-17 16:16:11,391 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:11,392 [s2@group-B52D587AEB10-LeaderElection57] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:11,392 [s2@group-B52D587AEB10-LeaderElection57] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-B52D587AEB10: set configuration 0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,392 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from null to s2 at term 1 for appendEntries, leader elected after 246ms
2024-01-17 16:16:11,392 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from null to s2 at term 1 for appendEntries, leader elected after 244ms
2024-01-17 16:16:11,393 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:3012, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:11,393 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-B52D587AEB10: set configuration 0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,393 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:11,393 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2024-01-17 16:16:11,396 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:11,396 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:11,399 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_0
2024-01-17 16:16:11,399 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s2, 1, null, -1, false, commits:[s2:c-1, s0:c-1, s1:c-1], cId:3013, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:11,399 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_0)
2024-01-17 16:16:11,399 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-B52D587AEB10: set configuration 0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,399 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:11,399 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2024-01-17 16:16:11,400 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:11,399 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2024-01-17 16:16:11,404 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:11,404 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_0
2024-01-17 16:16:11,404 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_0)
2024-01-17 16:16:11,404 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2024-01-17 16:16:11,404 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s0#3012:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:11,405 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6c3c0b32
2024-01-17 16:16:11,406 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:11,406 [s2@group-B52D587AEB10-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:16:11,408 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,408 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:11,408 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,411 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_0
2024-01-17 16:16:11,412 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_0)
2024-01-17 16:16:11,412 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2024-01-17 16:16:11,415 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s1#3013:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:11,481 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@31a2b68d
2024-01-17 16:16:11,482 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:11,492 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@595ae9c
2024-01-17 16:16:11,492 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:11,509 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,509 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:11,509 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,609 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,609 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:11,609 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,624 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,625 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:11,625 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,626 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,626 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,710 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,710 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:11,710 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:11,726 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,726 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,727 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,811 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,811 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:11,811 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,827 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:11,827 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,828 [s0@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B52D587AEB10-FollowerState: change to CANDIDATE, lastRpcElapsedTime:270944513ns, electionTimeout:247ms
2024-01-17 16:16:11,828 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,828 [s0@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:11,828 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,828 [s0@group-B52D587AEB10-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2024-01-17 16:16:11,828 [s0@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:11,828 [s0@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-LeaderElection58
2024-01-17 16:16:11,828 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from s2 to null at term 1 for PRE_VOTE
2024-01-17 16:16:11,828 [s0@group-B52D587AEB10-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-B52D587AEB10-LeaderElection58 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,829 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(PRE_VOTE, s0, group-B52D587AEB10, 1, (t:1, i:0))
2024-01-17 16:16:11,829 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:11,829 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(PRE_VOTE, s0, group-B52D587AEB10, 1, (t:1, i:0))
2024-01-17 16:16:11,829 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,829 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2024-01-17 16:16:11,829 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-B52D587AEB10:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,829 [s0@group-B52D587AEB10-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-B52D587AEB10-LeaderElection58: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:11,829 [s0@group-B52D587AEB10-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2024-01-17 16:16:11,829 [s0@group-B52D587AEB10-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-B52D587AEB10-LeaderElection58 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:11,829 [s0@group-B52D587AEB10-LeaderElection58] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@63cbcfb
2024-01-17 16:16:11,830 [s0@group-B52D587AEB10-LeaderElection58] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:11,830 [s0@group-B52D587AEB10-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-B52D587AEB10-LeaderElection58 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,830 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(ELECTION, s0, group-B52D587AEB10, 2, (t:1, i:0))
2024-01-17 16:16:11,831 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:11,831 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-01-17 16:16:11,831 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(ELECTION, s0, group-B52D587AEB10, 2, (t:1, i:0))
2024-01-17 16:16:11,831 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2024-01-17 16:16:11,831 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:11,831 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:11,831 [s1@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:11,831 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-LEADER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:11,831 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from s2 to null at term 2 for updateCurrentTerm
2024-01-17 16:16:11,831 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2024-01-17 16:16:11,831 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:11,831 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5c2429a3
2024-01-17 16:16:11,831 [s2@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:11,831 [s2@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:11,831 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-B52D587AEB10-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:11,831 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:11,832 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:11,832 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@32cd58b8
2024-01-17 16:16:11,832 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-B52D587AEB10:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,832 [s0@group-B52D587AEB10-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-B52D587AEB10-LeaderElection58: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:11,832 [s0@group-B52D587AEB10-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t2
2024-01-17 16:16:11,832 [s0@group-B52D587AEB10-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-B52D587AEB10-LeaderElection58 ELECTION round 0: result PASSED
2024-01-17 16:16:11,832 [s0@group-B52D587AEB10-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-B52D587AEB10-LeaderElection58
2024-01-17 16:16:11,832 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2024-01-17 16:16:11,832 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:11,832 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:11,832 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:11,832 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:11,832 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:11,832 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:11,833 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-B52D587AEB10:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:11,833 [s0@group-B52D587AEB10-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:11,834 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 5ms
2024-01-17 16:16:11,834 [s0@group-B52D587AEB10-LeaderElection58] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:16:11,834 [s0@group-B52D587AEB10-LeaderElection58] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2024-01-17 16:16:11,834 [s0@group-B52D587AEB10-LeaderElection58] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2024-01-17 16:16:11,834 [s0@group-B52D587AEB10-LeaderElection58] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:11,834 [s0@group-B52D587AEB10-LeaderElection58] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-B52D587AEB10: set configuration 1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,835 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from null to s0 at term 2 for appendEntries, leader elected after 3ms
2024-01-17 16:16:11,835 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_0-0
2024-01-17 16:16:11,835 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_0-0
2024-01-17 16:16:11,835 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2024-01-17 16:16:11,835 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:16:11,835 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s0, 2, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0], cId:3054, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:11,835 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-B52D587AEB10: set configuration 1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,835 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from null to s0 at term 2 for appendEntries, leader elected after 4ms
2024-01-17 16:16:11,835 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:16:11,835 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2024-01-17 16:16:11,836 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2024-01-17 16:16:11,836 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:11,840 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s0, 2, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0], cId:3055, entries: [(t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:11,840 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-B52D587AEB10: set configuration 1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:11,840 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_0-0
2024-01-17 16:16:11,840 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2024-01-17 16:16:11,840 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2024-01-17 16:16:11,840 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_0-0
2024-01-17 16:16:11,840 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2024-01-17 16:16:11,840 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2024-01-17 16:16:11,841 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:16:11,841 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:11,841 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_0-0
2024-01-17 16:16:11,841 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_0-0
2024-01-17 16:16:11,841 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2024-01-17 16:16:11,841 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_1 at position 0
2024-01-17 16:16:11,847 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_1
2024-01-17 16:16:11,847 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_1)
2024-01-17 16:16:11,849 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2024-01-17 16:16:11,849 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_1
2024-01-17 16:16:11,849 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_1)
2024-01-17 16:16:11,850 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2024-01-17 16:16:11,851 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s1#3054:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:11,851 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_1
2024-01-17 16:16:11,851 [s0@group-B52D587AEB10-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2024-01-17 16:16:11,851 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3f654ec9
2024-01-17 16:16:11,851 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_1)
2024-01-17 16:16:11,851 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_1)
2024-01-17 16:16:11,851 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2024-01-17 16:16:11,852 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2024-01-17 16:16:11,852 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s2#3055:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:11,852 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s0, 2, (t:2, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0], cId:3060, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:11,852 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2024-01-17 16:16:11,852 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s0, 2, (t:2, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0], cId:3061, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:11,852 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_1)
2024-01-17 16:16:11,852 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:11,852 [s0@group-B52D587AEB10-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 1 >= startIndex == 1
2024-01-17 16:16:11,852 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2024-01-17 16:16:11,852 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2024-01-17 16:16:11,852 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_1)
2024-01-17 16:16:11,852 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s1#3060:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:11,852 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@b52405e
2024-01-17 16:16:11,852 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2024-01-17 16:16:11,853 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s2#3061:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:11,853 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@62fbe8c5
2024-01-17 16:16:11,853 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:11,854 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:11,911 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,911 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:11,911 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:11,928 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:11,928 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,928 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,929 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(440)) - Changed leader from s2 to s0
2024-01-17 16:16:11,929 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:11,929 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,929 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:11,929 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,012 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,012 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:12,012 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,029 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:12,029 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,030 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,030 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,112 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,113 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:12,113 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:12,130 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,130 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,131 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,213 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,213 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:12,213 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,231 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:12,231 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,231 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,231 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,314 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,314 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:12,314 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,315 [s1@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-B52D587AEB10-FollowerState: change to CANDIDATE, lastRpcElapsedTime:387181509ns, electionTimeout:227ms
2024-01-17 16:16:12,315 [s1@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:12,315 [s1@group-B52D587AEB10-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2024-01-17 16:16:12,315 [s1@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:12,315 [s1@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-LeaderElection59
2024-01-17 16:16:12,316 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from s0 to null at term 2 for PRE_VOTE
2024-01-17 16:16:12,316 [s1@group-B52D587AEB10-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-B52D587AEB10-LeaderElection59 PRE_VOTE round 0: submit vote requests at term 2 for 1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:12,316 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(PRE_VOTE, s1, group-B52D587AEB10, 2, (t:2, i:2))
2024-01-17 16:16:12,316 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(PRE_VOTE, s1, group-B52D587AEB10, 2, (t:2, i:2))
2024-01-17 16:16:12,316 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1114)) - s0@group-B52D587AEB10-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 300ms. In charge for: 484ms. Conf: 1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:12,316 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:12,316 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s0@group-B52D587AEB10->s1(c2,m2,n3, caughtUp=true, lastRpcSendTime=312, lastRpcResponseTime=388)
2024-01-17 16:16:12,316 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to PRE_VOTE vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-B52D587AEB10:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:12,316 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s0@group-B52D587AEB10->s2(c2,m2,n3, caughtUp=true, lastRpcSendTime=312, lastRpcResponseTime=388)
2024-01-17 16:16:12,316 [s1@group-B52D587AEB10-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-B52D587AEB10-LeaderElection59: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:12,316 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:12,317 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:12,316 [s1@group-B52D587AEB10-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t2
2024-01-17 16:16:12,317 [s1@group-B52D587AEB10-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-B52D587AEB10-LeaderElection59 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:12,317 [s0@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s0@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:12,317 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-B52D587AEB10-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:12,317 [s1@group-B52D587AEB10-LeaderElection59] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1f113441
2024-01-17 16:16:12,317 [s0@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s0@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:12,317 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from s0 to null at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:12,317 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:12,317 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:12,317 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to PRE_VOTE vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-B52D587AEB10:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:12,318 [s1@group-B52D587AEB10-LeaderElection59] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:12,318 [s1@group-B52D587AEB10-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-B52D587AEB10-LeaderElection59 ELECTION round 0: submit vote requests at term 3 for 1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:12,318 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(ELECTION, s1, group-B52D587AEB10, 3, (t:2, i:2))
2024-01-17 16:16:12,318 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:12,318 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(ELECTION, s1, group-B52D587AEB10, 3, (t:2, i:2))
2024-01-17 16:16:12,318 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2024-01-17 16:16:12,318 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:12,318 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from s0 to null at term 3 for updateCurrentTerm
2024-01-17 16:16:12,318 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:12,318 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s1
2024-01-17 16:16:12,318 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:12,318 [s0@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:12,318 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:12,318 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:12,318 [s2@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:12,319 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5e691381
2024-01-17 16:16:12,319 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@66d5c910
2024-01-17 16:16:12,319 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:12,319 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to ELECTION vote request: s1<-s0#0:OK-t3. Peer's state: s0@group-B52D587AEB10:t3, leader=null, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:12,319 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:12,319 [s1@group-B52D587AEB10-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-B52D587AEB10-LeaderElection59: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:12,319 [s1@group-B52D587AEB10-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t3
2024-01-17 16:16:12,319 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to ELECTION vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-B52D587AEB10:t3, leader=null, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=1: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:12,319 [s1@group-B52D587AEB10-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-B52D587AEB10-LeaderElection59 ELECTION round 0: result PASSED
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-B52D587AEB10-LeaderElection59
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:12,320 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:12,321 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:12,321 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:12,321 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:12,321 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:12,321 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:12,321 [s1@group-B52D587AEB10-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:12,321 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from null to s1 at term 3 for becomeLeader, leader elected after 5ms
2024-01-17 16:16:12,321 [s1@group-B52D587AEB10-LeaderElection59] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2024-01-17 16:16:12,321 [s1@group-B52D587AEB10-LeaderElection59] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2024-01-17 16:16:12,321 [s1@group-B52D587AEB10-LeaderElection59] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2024-01-17 16:16:12,321 [s1@group-B52D587AEB10-LeaderElection59] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:12,321 [s1@group-B52D587AEB10-LeaderElection59] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-B52D587AEB10: set configuration 3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:12,322 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_1-2
2024-01-17 16:16:12,322 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_1-2
2024-01-17 16:16:12,322 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from null to s1 at term 3 for appendEntries, leader elected after 4ms
2024-01-17 16:16:12,322 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2024-01-17 16:16:12,322 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from null to s1 at term 3 for appendEntries, leader elected after 3ms
2024-01-17 16:16:12,322 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2024-01-17 16:16:12,323 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s1, 3, (t:2, i:2), 2, false, commits:[s1:c2, s0:c2, s2:c1], cId:3098, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:12,323 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-B52D587AEB10: set configuration 3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:12,323 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2024-01-17 16:16:12,323 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s1, 3, (t:2, i:2), 2, false, commits:[s1:c2, s0:c2, s2:c2], cId:3099, entries: [(t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:12,323 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2024-01-17 16:16:12,323 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-B52D587AEB10: set configuration 3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:12,323 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2024-01-17 16:16:12,323 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2024-01-17 16:16:12,324 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2024-01-17 16:16:12,324 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:12,324 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_1-2
2024-01-17 16:16:12,324 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_1-2
2024-01-17 16:16:12,324 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2024-01-17 16:16:12,323 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2024-01-17 16:16:12,324 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2024-01-17 16:16:12,324 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:12,327 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_1-2
2024-01-17 16:16:12,327 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_1-2
2024-01-17 16:16:12,327 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2024-01-17 16:16:12,327 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2024-01-17 16:16:12,331 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:12,332 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c2, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,332 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: Leader: s1@group-B52D587AEB10 not ready
2024-01-17 16:16:12,336 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_3
2024-01-17 16:16:12,337 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_3)
2024-01-17 16:16:12,337 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2024-01-17 16:16:12,337 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_3
2024-01-17 16:16:12,337 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_3)
2024-01-17 16:16:12,344 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2024-01-17 16:16:12,344 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s1<-s0#3098:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:12,344 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_3
2024-01-17 16:16:12,345 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_3)
2024-01-17 16:16:12,345 [s1@group-B52D587AEB10-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2024-01-17 16:16:12,345 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2024-01-17 16:16:12,345 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_3)
2024-01-17 16:16:12,345 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s1<-s2#3099:OK-t3,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:12,345 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@f6dc5ec
2024-01-17 16:16:12,345 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2024-01-17 16:16:12,345 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s1, 3, (t:3, i:3), 3, false, commits:[s1:c3, s0:c2, s2:c2], cId:3101, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2024-01-17 16:16:12,345 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s1, 3, (t:3, i:3), 3, false, commits:[s1:c3, s0:c2, s2:c2], cId:3100, entries: [(t:3, i:4), METADATAENTRY(c:3)]
2024-01-17 16:16:12,346 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2024-01-17 16:16:12,346 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2024-01-17 16:16:12,346 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_3)
2024-01-17 16:16:12,346 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_3)
2024-01-17 16:16:12,346 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2024-01-17 16:16:12,346 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2024-01-17 16:16:12,346 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s1<-s2#3101:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:16:12,346 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s1<-s0#3100:OK-t3,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:16:12,346 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:12,346 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@66c46042
2024-01-17 16:16:12,346 [s1@group-B52D587AEB10-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 3 >= startIndex == 3
2024-01-17 16:16:12,346 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3b5addfd
2024-01-17 16:16:12,347 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:12,347 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:12,414 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,415 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:12,415 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,515 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,515 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:12,515 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,616 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,616 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:12,616 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,716 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,716 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:12,717 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,782 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,782 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(440)) - Changed leader from s0 to s1
2024-01-17 16:16:12,783 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:12,783 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,783 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,783 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,817 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,817 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:12,817 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,883 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:12,884 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,884 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,884 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,917 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,918 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:12,918 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:12,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:12,984 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,985 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:12,985 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,018 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,018 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:13,018 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,029 [s2@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-B52D587AEB10-FollowerState: change to CANDIDATE, lastRpcElapsedTime:305190910ns, electionTimeout:152ms
2024-01-17 16:16:13,029 [s2@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,029 [s2@group-B52D587AEB10-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2024-01-17 16:16:13,029 [s2@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:13,029 [s2@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-LeaderElection60
2024-01-17 16:16:13,030 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from s1 to null at term 3 for PRE_VOTE
2024-01-17 16:16:13,030 [s2@group-B52D587AEB10-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-B52D587AEB10-LeaderElection60 PRE_VOTE round 0: submit vote requests at term 3 for 3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,030 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(PRE_VOTE, s2, group-B52D587AEB10, 3, (t:3, i:4))
2024-01-17 16:16:13,030 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:13,030 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(PRE_VOTE, s2, group-B52D587AEB10, 3, (t:3, i:4))
2024-01-17 16:16:13,030 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to PRE_VOTE vote request: s2<-s0#0:OK-t3. Peer's state: s0@group-B52D587AEB10:t3, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,030 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1114)) - s1@group-B52D587AEB10-LeaderStateImpl: Lost leadership on term: 3. Election timeout: 300ms. In charge for: 710ms. Conf: 3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,030 [s2@group-B52D587AEB10-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-B52D587AEB10-LeaderElection60: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:13,030 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s1@group-B52D587AEB10->s0(c4,m4,n5, caughtUp=true, lastRpcSendTime=231, lastRpcResponseTime=306)
2024-01-17 16:16:13,030 [s2@group-B52D587AEB10-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t3
2024-01-17 16:16:13,031 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s1@group-B52D587AEB10->s2(c4,m4,n5, caughtUp=true, lastRpcSendTime=231, lastRpcResponseTime=306)
2024-01-17 16:16:13,031 [s2@group-B52D587AEB10-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-B52D587AEB10-LeaderElection60 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:13,031 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from    LEADER to FOLLOWER at term 3 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:13,031 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s1: shutdown s1@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:13,031 [s2@group-B52D587AEB10-LeaderElection60] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@219f5912
2024-01-17 16:16:13,031 [HandlerDaemon-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-B52D587AEB10-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:13,031 [s1@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s1@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:13,031 [s1@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s1@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:13,031 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from s1 to null at term 3 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:13,031 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,032 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:13,032 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-B52D587AEB10:t3, leader=null, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,032 [s2@group-B52D587AEB10-LeaderElection60] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:13,032 [s2@group-B52D587AEB10-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-B52D587AEB10-LeaderElection60 ELECTION round 0: submit vote requests at term 4 for 3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,032 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(ELECTION, s2, group-B52D587AEB10, 4, (t:3, i:4))
2024-01-17 16:16:13,032 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:13,032 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(ELECTION, s2, group-B52D587AEB10, 4, (t:3, i:4))
2024-01-17 16:16:13,032 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from s1 to null at term 4 for updateCurrentTerm
2024-01-17 16:16:13,032 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:13,032 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s2
2024-01-17 16:16:13,033 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,033 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s2
2024-01-17 16:16:13,033 [s0@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:13,033 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,033 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,033 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,033 [s1@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:13,033 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@55e83914
2024-01-17 16:16:13,033 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@10a38367
2024-01-17 16:16:13,034 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:13,034 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to ELECTION vote request: s2<-s0#0:OK-t4. Peer's state: s0@group-B52D587AEB10:t4, leader=null, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,034 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:13,034 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to ELECTION vote request: s2<-s1#0:OK-t4. Peer's state: s1@group-B52D587AEB10:t4, leader=null, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-B52D587AEB10-LeaderElection60: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t4
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-B52D587AEB10-LeaderElection60 ELECTION round 0: result PASSED
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-B52D587AEB10-LeaderElection60
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:13,034 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from null to s2 at term 4 for becomeLeader, leader elected after 5ms
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2024-01-17 16:16:13,035 [s2@group-B52D587AEB10-LeaderElection60] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2024-01-17 16:16:13,036 [s2@group-B52D587AEB10-LeaderElection60] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:13,036 [s2@group-B52D587AEB10-LeaderElection60] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-B52D587AEB10: set configuration 5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,036 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from null to s2 at term 4 for appendEntries, leader elected after 3ms
2024-01-17 16:16:13,036 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from null to s2 at term 4 for appendEntries, leader elected after 4ms
2024-01-17 16:16:13,036 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_3-4
2024-01-17 16:16:13,036 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_3-4
2024-01-17 16:16:13,036 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2024-01-17 16:16:13,037 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_5 at position 0
2024-01-17 16:16:13,037 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s2, 4, (t:3, i:4), 4, false, commits:[s2:c4, s0:c4, s1:c4], cId:3166, entries: [(t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:13,037 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-B52D587AEB10: set configuration 5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,037 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2024-01-17 16:16:13,037 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2024-01-17 16:16:13,037 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2024-01-17 16:16:13,037 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:13,039 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s2, 4, (t:3, i:4), 4, false, commits:[s2:c4, s0:c4, s1:c4], cId:3167, entries: [(t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:13,040 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-B52D587AEB10: set configuration 5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,040 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2024-01-17 16:16:13,040 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2024-01-17 16:16:13,040 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2024-01-17 16:16:13,040 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:13,041 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_3-4
2024-01-17 16:16:13,041 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_3-4
2024-01-17 16:16:13,041 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_3-4
2024-01-17 16:16:13,041 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_3-4
2024-01-17 16:16:13,041 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2024-01-17 16:16:13,041 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2024-01-17 16:16:13,041 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_5 at position 0
2024-01-17 16:16:13,041 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_5 at position 0
2024-01-17 16:16:13,051 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_5
2024-01-17 16:16:13,051 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_5)
2024-01-17 16:16:13,051 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2024-01-17 16:16:13,051 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_5
2024-01-17 16:16:13,051 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_5)
2024-01-17 16:16:13,051 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_5
2024-01-17 16:16:13,051 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2024-01-17 16:16:13,052 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_5)
2024-01-17 16:16:13,052 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s1#3167:OK-t4,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2024-01-17 16:16:13,052 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2024-01-17 16:16:13,052 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s0#3166:OK-t4,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2024-01-17 16:16:13,052 [s2@group-B52D587AEB10-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2024-01-17 16:16:13,052 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@23c6e2fe
2024-01-17 16:16:13,052 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_5)
2024-01-17 16:16:13,052 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s2, 4, (t:4, i:5), 5, false, commits:[s2:c5, s0:c4, s1:c4], cId:3168, entries: [(t:4, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:13,053 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2024-01-17 16:16:13,053 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s2, 4, (t:4, i:5), 5, false, commits:[s2:c5, s0:c4, s1:c4], cId:3169, entries: [(t:4, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:13,053 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_5)
2024-01-17 16:16:13,053 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2024-01-17 16:16:13,053 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2024-01-17 16:16:13,053 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2024-01-17 16:16:13,053 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_5)
2024-01-17 16:16:13,053 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s0#3168:OK-t4,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:13,053 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7e5844f2
2024-01-17 16:16:13,053 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:13,053 [s2@group-B52D587AEB10-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 5 >= startIndex == 5
2024-01-17 16:16:13,054 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2024-01-17 16:16:13,054 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s1#3169:OK-t4,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:13,054 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4a6f4a65
2024-01-17 16:16:13,055 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:13,055 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:13,085 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:13,085 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,085 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,085 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(440)) - Changed leader from s1 to s2
2024-01-17 16:16:13,085 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:13,085 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,086 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,086 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,119 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,119 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:13,119 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,186 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:13,186 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,186 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,186 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,219 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,220 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:13,220 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:13,287 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,287 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,287 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,320 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,321 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:13,321 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,386 [s0@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B52D587AEB10-FollowerState: change to CANDIDATE, lastRpcElapsedTime:333225300ns, electionTimeout:187ms
2024-01-17 16:16:13,386 [s0@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,386 [s0@group-B52D587AEB10-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2024-01-17 16:16:13,386 [s0@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:13,386 [s0@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-LeaderElection61
2024-01-17 16:16:13,387 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from s2 to null at term 4 for PRE_VOTE
2024-01-17 16:16:13,387 [s0@group-B52D587AEB10-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-B52D587AEB10-LeaderElection61 PRE_VOTE round 0: submit vote requests at term 4 for 5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,387 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(PRE_VOTE, s0, group-B52D587AEB10, 4, (t:4, i:6))
2024-01-17 16:16:13,387 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(PRE_VOTE, s0, group-B52D587AEB10, 4, (t:4, i:6))
2024-01-17 16:16:13,387 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:13,387 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1114)) - s2@group-B52D587AEB10-LeaderStateImpl: Lost leadership on term: 4. Election timeout: 300ms. In charge for: 353ms. Conf: 5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,387 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to PRE_VOTE vote request: s0<-s1#0:OK-t4. Peer's state: s1@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,387 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s2@group-B52D587AEB10->s0(c5,m6,n7, caughtUp=true, lastRpcSendTime=258, lastRpcResponseTime=334)
2024-01-17 16:16:13,388 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s2@group-B52D587AEB10->s1(c5,m6,n7, caughtUp=true, lastRpcSendTime=258, lastRpcResponseTime=333)
2024-01-17 16:16:13,387 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:13,388 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from    LEADER to FOLLOWER at term 4 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:13,388 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:13,388 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-B52D587AEB10:t4, leader=null, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,388 [s2@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:13,388 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-B52D587AEB10-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:13,388 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-B52D587AEB10:t4, leader=null, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t4, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,388 [s0@group-B52D587AEB10-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-B52D587AEB10-LeaderElection61: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:13,388 [s0@group-B52D587AEB10-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t4
2024-01-17 16:16:13,388 [s2@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:13,388 [s0@group-B52D587AEB10-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-B52D587AEB10-LeaderElection61 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:13,388 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from s2 to null at term 4 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:13,388 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,388 [s0@group-B52D587AEB10-LeaderElection61] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@37c576a3
2024-01-17 16:16:13,388 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:13,389 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to PRE_VOTE vote request: s0<-s2#0:OK-t4. Peer's state: s2@group-B52D587AEB10:t4, leader=null, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,390 [s0@group-B52D587AEB10-LeaderElection61] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:13,390 [s0@group-B52D587AEB10-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-B52D587AEB10-LeaderElection61 ELECTION round 0: submit vote requests at term 5 for 5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,390 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(ELECTION, s0, group-B52D587AEB10, 5, (t:4, i:6))
2024-01-17 16:16:13,390 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:13,390 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(ELECTION, s0, group-B52D587AEB10, 5, (t:4, i:6))
2024-01-17 16:16:13,390 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from s2 to null at term 5 for updateCurrentTerm
2024-01-17 16:16:13,390 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:13,390 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s0
2024-01-17 16:16:13,390 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s0
2024-01-17 16:16:13,390 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,390 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,390 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,390 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,390 [s2@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:13,390 [s1@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:13,390 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1e647f03
2024-01-17 16:16:13,390 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3c0ab091
2024-01-17 16:16:13,391 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:13,391 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to ELECTION vote request: s0<-s1#0:OK-t5. Peer's state: s1@group-B52D587AEB10:t5, leader=null, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,391 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:13,391 [s0@group-B52D587AEB10-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-B52D587AEB10-LeaderElection61: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:13,391 [s0@group-B52D587AEB10-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t5
2024-01-17 16:16:13,391 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to ELECTION vote request: s0<-s2#0:OK-t5. Peer's state: s2@group-B52D587AEB10:t5, leader=null, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,391 [s0@group-B52D587AEB10-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-B52D587AEB10-LeaderElection61 ELECTION round 0: result PASSED
2024-01-17 16:16:13,391 [s0@group-B52D587AEB10-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-B52D587AEB10-LeaderElection61
2024-01-17 16:16:13,391 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2024-01-17 16:16:13,391 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:13,392 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:13,393 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:13,393 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:13,393 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:13,393 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:13,393 [s0@group-B52D587AEB10-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:13,393 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from null to s0 at term 5 for becomeLeader, leader elected after 5ms
2024-01-17 16:16:13,393 [s0@group-B52D587AEB10-LeaderElection61] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2024-01-17 16:16:13,393 [s0@group-B52D587AEB10-LeaderElection61] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2024-01-17 16:16:13,393 [s0@group-B52D587AEB10-LeaderElection61] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2024-01-17 16:16:13,393 [s0@group-B52D587AEB10-LeaderElection61] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:13,393 [s0@group-B52D587AEB10-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-B52D587AEB10: set configuration 7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,394 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_5-6
2024-01-17 16:16:13,394 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_5-6
2024-01-17 16:16:13,394 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2024-01-17 16:16:13,394 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from null to s0 at term 5 for appendEntries, leader elected after 3ms
2024-01-17 16:16:13,394 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from null to s0 at term 5 for appendEntries, leader elected after 5ms
2024-01-17 16:16:13,394 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_7 at position 0
2024-01-17 16:16:13,396 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s0, 5, (t:4, i:6), 5, false, commits:[s0:c5, s1:c5, s2:c6], cId:3199, entries: [(t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:13,396 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-B52D587AEB10: set configuration 7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,396 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2024-01-17 16:16:13,396 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2024-01-17 16:16:13,396 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2024-01-17 16:16:13,396 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:13,397 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_5-6
2024-01-17 16:16:13,397 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_5-6
2024-01-17 16:16:13,397 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2024-01-17 16:16:13,397 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_7 at position 0
2024-01-17 16:16:13,398 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s0, 5, (t:4, i:6), 5, false, commits:[s0:c5, s1:c5, s2:c6], cId:3198, entries: [(t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:13,399 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-B52D587AEB10: set configuration 7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,399 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2024-01-17 16:16:13,399 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2024-01-17 16:16:13,399 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2024-01-17 16:16:13,399 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:13,400 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_5-6
2024-01-17 16:16:13,400 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_5-6
2024-01-17 16:16:13,400 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2024-01-17 16:16:13,400 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_7 at position 0
2024-01-17 16:16:13,405 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_7
2024-01-17 16:16:13,405 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_7)
2024-01-17 16:16:13,407 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_7
2024-01-17 16:16:13,407 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2024-01-17 16:16:13,407 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_7)
2024-01-17 16:16:13,409 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2024-01-17 16:16:13,409 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s1#3199:OK-t5,SUCCESS,nextIndex=8,followerCommit=5,matchIndex=7
2024-01-17 16:16:13,409 [s0@group-B52D587AEB10-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2024-01-17 16:16:13,409 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_7
2024-01-17 16:16:13,409 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_7)
2024-01-17 16:16:13,409 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_7)
2024-01-17 16:16:13,410 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5a6a936a
2024-01-17 16:16:13,410 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2024-01-17 16:16:13,410 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s0, 5, (t:5, i:7), 7, false, commits:[s0:c7, s1:c5, s2:c6], cId:3200, entries: [(t:5, i:8), METADATAENTRY(c:7)]
2024-01-17 16:16:13,410 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2024-01-17 16:16:13,410 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2024-01-17 16:16:13,410 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s2#3198:OK-t5,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2024-01-17 16:16:13,410 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_7)
2024-01-17 16:16:13,410 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2024-01-17 16:16:13,410 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s0, 5, (t:5, i:7), 7, false, commits:[s0:c7, s1:c5, s2:c6], cId:3201, entries: [(t:5, i:8), METADATAENTRY(c:7)]
2024-01-17 16:16:13,410 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2024-01-17 16:16:13,410 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s1#3200:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2024-01-17 16:16:13,410 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@62a6ecfa
2024-01-17 16:16:13,410 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_7)
2024-01-17 16:16:13,411 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:13,411 [s0@group-B52D587AEB10-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 7 >= startIndex == 7
2024-01-17 16:16:13,411 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2024-01-17 16:16:13,411 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s2#3201:OK-t5,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2024-01-17 16:16:13,411 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2faf182f
2024-01-17 16:16:13,412 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:13,412 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:13,421 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,421 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:13,421 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,522 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,522 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:13,522 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,622 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,623 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:13,623 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,723 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,723 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:13,723 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,823 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,824 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:13,824 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,838 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,838 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(440)) - Changed leader from s2 to s0
2024-01-17 16:16:13,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:13,839 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,839 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,839 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,924 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,924 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:13,924 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,939 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:13,939 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,940 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:13,940 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:13,995 [s2@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-B52D587AEB10-FollowerState: change to CANDIDATE, lastRpcElapsedTime:206826816ns, electionTimeout:151ms
2024-01-17 16:16:13,995 [s2@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,995 [s2@group-B52D587AEB10-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2024-01-17 16:16:13,995 [s2@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:13,995 [s2@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-LeaderElection62
2024-01-17 16:16:13,996 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from s0 to null at term 5 for PRE_VOTE
2024-01-17 16:16:13,996 [s2@group-B52D587AEB10-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-B52D587AEB10-LeaderElection62 PRE_VOTE round 0: submit vote requests at term 5 for 7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,996 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(PRE_VOTE, s2, group-B52D587AEB10, 5, (t:5, i:8))
2024-01-17 16:16:13,996 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(PRE_VOTE, s2, group-B52D587AEB10, 5, (t:5, i:8))
2024-01-17 16:16:13,996 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2024-01-17 16:16:13,996 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:13,996 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t5. Peer's state: s0@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,996 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to PRE_VOTE vote request: s2<-s1#0:OK-t5. Peer's state: s1@group-B52D587AEB10:t5, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,996 [s2@group-B52D587AEB10-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-B52D587AEB10-LeaderElection62: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2024-01-17 16:16:13,996 [s2@group-B52D587AEB10-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t5
2024-01-17 16:16:13,997 [s2@group-B52D587AEB10-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:OK-t5
2024-01-17 16:16:13,997 [s2@group-B52D587AEB10-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-B52D587AEB10-LeaderElection62 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:13,997 [s2@group-B52D587AEB10-LeaderElection62] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@220e960b
2024-01-17 16:16:13,998 [s2@group-B52D587AEB10-LeaderElection62] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:13,998 [s2@group-B52D587AEB10-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-B52D587AEB10-LeaderElection62 ELECTION round 0: submit vote requests at term 6 for 7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:13,998 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(ELECTION, s2, group-B52D587AEB10, 6, (t:5, i:8))
2024-01-17 16:16:13,998 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-LEADER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:13,998 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(ELECTION, s2, group-B52D587AEB10, 6, (t:5, i:8))
2024-01-17 16:16:13,998 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from s0 to null at term 6 for updateCurrentTerm
2024-01-17 16:16:13,998 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:13,998 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from    LEADER to FOLLOWER at term 6 for candidate:s2
2024-01-17 16:16:13,998 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from s0 to null at term 6 for updateCurrentTerm
2024-01-17 16:16:13,998 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:13,998 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s2
2024-01-17 16:16:13,998 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,998 [s0@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s0@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:13,998 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-B52D587AEB10-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:13,998 [s0@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s0@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:13,998 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,999 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:13,999 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@51d7a771
2024-01-17 16:16:13,999 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@581bb6ff
2024-01-17 16:16:13,998 [s1@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:13,999 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:14,000 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to ELECTION vote request: s2<-s0#0:OK-t6. Peer's state: s0@group-B52D587AEB10:t6, leader=null, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,000 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-B52D587AEB10-LeaderElection62: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:14,000 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to ELECTION vote request: s2<-s1#0:OK-t6. Peer's state: s1@group-B52D587AEB10:t6, leader=null, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c8, conf=7: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t6
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-B52D587AEB10-LeaderElection62 ELECTION round 0: result PASSED
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-B52D587AEB10-LeaderElection62
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:14,000 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from null to s2 at term 6 for becomeLeader, leader elected after 5ms
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2024-01-17 16:16:14,001 [s2@group-B52D587AEB10-LeaderElection62] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2024-01-17 16:16:14,002 [s2@group-B52D587AEB10-LeaderElection62] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:14,002 [s2@group-B52D587AEB10-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-B52D587AEB10: set configuration 9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,002 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from null to s2 at term 6 for appendEntries, leader elected after 4ms
2024-01-17 16:16:14,002 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_7-8
2024-01-17 16:16:14,002 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_7-8
2024-01-17 16:16:14,002 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from null to s2 at term 6 for appendEntries, leader elected after 4ms
2024-01-17 16:16:14,002 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2024-01-17 16:16:14,003 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_9 at position 0
2024-01-17 16:16:14,003 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s2, 6, (t:5, i:8), 8, false, commits:[s2:c8, s0:c8, s1:c8], cId:3263, entries: [(t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:14,003 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-B52D587AEB10: set configuration 9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,003 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s2, 6, (t:5, i:8), 8, false, commits:[s2:c8, s0:c8, s1:c8], cId:3262, entries: [(t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:14,004 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2024-01-17 16:16:14,004 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2024-01-17 16:16:14,004 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-B52D587AEB10: set configuration 9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,004 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2024-01-17 16:16:14,004 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2024-01-17 16:16:14,004 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2024-01-17 16:16:14,004 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:14,005 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_7-8
2024-01-17 16:16:14,005 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_7-8
2024-01-17 16:16:14,005 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2024-01-17 16:16:14,004 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2024-01-17 16:16:14,005 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_9 at position 0
2024-01-17 16:16:14,005 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:14,006 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_7-8
2024-01-17 16:16:14,006 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_7-8
2024-01-17 16:16:14,006 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2024-01-17 16:16:14,006 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_9 at position 0
2024-01-17 16:16:14,016 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_9
2024-01-17 16:16:14,016 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_9)
2024-01-17 16:16:14,017 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2024-01-17 16:16:14,017 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_9
2024-01-17 16:16:14,017 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_9)
2024-01-17 16:16:14,017 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2024-01-17 16:16:14,017 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_9
2024-01-17 16:16:14,017 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s1#3263:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2024-01-17 16:16:14,017 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_9)
2024-01-17 16:16:14,017 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2024-01-17 16:16:14,018 [s2@group-B52D587AEB10-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2024-01-17 16:16:14,018 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@12af60df
2024-01-17 16:16:14,018 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_9)
2024-01-17 16:16:14,018 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s0#3262:OK-t6,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2024-01-17 16:16:14,018 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2024-01-17 16:16:14,018 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s2, 6, (t:6, i:9), 9, false, commits:[s2:c9, s0:c8, s1:c8], cId:3265, entries: [(t:6, i:10), METADATAENTRY(c:9)]
2024-01-17 16:16:14,018 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s2, 6, (t:6, i:9), 9, false, commits:[s2:c9, s0:c8, s1:c8], cId:3264, entries: [(t:6, i:10), METADATAENTRY(c:9)]
2024-01-17 16:16:14,018 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2024-01-17 16:16:14,018 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2024-01-17 16:16:14,019 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_9)
2024-01-17 16:16:14,019 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_9)
2024-01-17 16:16:14,019 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2024-01-17 16:16:14,019 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:14,019 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2024-01-17 16:16:14,019 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4fec9de8
2024-01-17 16:16:14,019 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s1#3264:OK-t6,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2024-01-17 16:16:14,019 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7b6f0040
2024-01-17 16:16:14,019 [s2@group-B52D587AEB10-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 9 >= startIndex == 9
2024-01-17 16:16:14,019 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s0#3265:OK-t6,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2024-01-17 16:16:14,020 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:14,020 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:14,025 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,025 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:14,025 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,040 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:14,040 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,040 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,041 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(440)) - Changed leader from s0 to s2
2024-01-17 16:16:14,041 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:14,041 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,041 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,041 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,125 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,125 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:14,125 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,141 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:14,141 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,142 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,142 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,226 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,226 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:14,226 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,242 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:14,242 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,242 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,242 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,326 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,326 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:14,326 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,343 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:14,343 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,343 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,343 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,427 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,427 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:14,427 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,443 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:14,444 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,444 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,444 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,454 [s0@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B52D587AEB10-FollowerState: change to CANDIDATE, lastRpcElapsedTime:435318878ns, electionTimeout:242ms
2024-01-17 16:16:14,454 [s0@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:14,454 [s0@group-B52D587AEB10-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2024-01-17 16:16:14,454 [s0@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:14,454 [s0@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-LeaderElection63
2024-01-17 16:16:14,455 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from s2 to null at term 6 for PRE_VOTE
2024-01-17 16:16:14,455 [s0@group-B52D587AEB10-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-B52D587AEB10-LeaderElection63 PRE_VOTE round 0: submit vote requests at term 6 for 9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,455 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(PRE_VOTE, s0, group-B52D587AEB10, 6, (t:6, i:10))
2024-01-17 16:16:14,455 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:14,455 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to PRE_VOTE vote request: s0<-s1#0:OK-t6. Peer's state: s1@group-B52D587AEB10:t6, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,456 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(PRE_VOTE, s0, group-B52D587AEB10, 6, (t:6, i:10))
2024-01-17 16:16:14,456 [s0@group-B52D587AEB10-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-B52D587AEB10-LeaderElection63: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:14,456 [s0@group-B52D587AEB10-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t6
2024-01-17 16:16:14,456 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1114)) - s2@group-B52D587AEB10-LeaderStateImpl: Lost leadership on term: 6. Election timeout: 300ms. In charge for: 455ms. Conf: 9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,456 [s0@group-B52D587AEB10-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-B52D587AEB10-LeaderElection63 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:14,456 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s2@group-B52D587AEB10->s0(c9,m10,n11, caughtUp=true, lastRpcSendTime=360, lastRpcResponseTime=436)
2024-01-17 16:16:14,456 [HandlerDaemon-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s2@group-B52D587AEB10->s1(c9,m10,n11, caughtUp=true, lastRpcSendTime=360, lastRpcResponseTime=436)
2024-01-17 16:16:14,456 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from    LEADER to FOLLOWER at term 6 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:14,456 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:14,456 [s0@group-B52D587AEB10-LeaderElection63] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5991cb57
2024-01-17 16:16:14,456 [HandlerDaemon-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-B52D587AEB10-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:14,456 [s2@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:14,456 [s2@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:14,456 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from s2 to null at term 6 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:14,456 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:14,456 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:14,456 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to PRE_VOTE vote request: s0<-s2#0:OK-t6. Peer's state: s2@group-B52D587AEB10:t6, leader=null, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,457 [s0@group-B52D587AEB10-LeaderElection63] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:14,457 [s0@group-B52D587AEB10-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-B52D587AEB10-LeaderElection63 ELECTION round 0: submit vote requests at term 7 for 9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,457 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(ELECTION, s0, group-B52D587AEB10, 7, (t:6, i:10))
2024-01-17 16:16:14,457 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:14,457 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(ELECTION, s0, group-B52D587AEB10, 7, (t:6, i:10))
2024-01-17 16:16:14,457 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from s2 to null at term 7 for updateCurrentTerm
2024-01-17 16:16:14,457 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:14,457 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s0
2024-01-17 16:16:14,457 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s0
2024-01-17 16:16:14,457 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:14,457 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:14,457 [s1@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:14,457 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:14,457 [s2@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:14,457 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:14,458 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@174d3c06
2024-01-17 16:16:14,458 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1d192398
2024-01-17 16:16:14,458 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:14,458 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to ELECTION vote request: s0<-s2#0:OK-t7. Peer's state: s2@group-B52D587AEB10:t7, leader=null, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c10, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,458 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-B52D587AEB10-LeaderElection63: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:14,459 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to ELECTION vote request: s0<-s1#0:OK-t7. Peer's state: s1@group-B52D587AEB10:t7, leader=null, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c9, conf=9: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t7
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-B52D587AEB10-LeaderElection63 ELECTION round 0: result PASSED
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-B52D587AEB10-LeaderElection63
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:14,459 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from null to s0 at term 7 for becomeLeader, leader elected after 5ms
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2024-01-17 16:16:14,460 [s0@group-B52D587AEB10-LeaderElection63] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:14,461 [s0@group-B52D587AEB10-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-B52D587AEB10: set configuration 11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,461 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_9-10
2024-01-17 16:16:14,461 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_9-10
2024-01-17 16:16:14,461 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2024-01-17 16:16:14,461 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from null to s0 at term 7 for appendEntries, leader elected after 4ms
2024-01-17 16:16:14,461 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from null to s0 at term 7 for appendEntries, leader elected after 3ms
2024-01-17 16:16:14,461 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_11 at position 0
2024-01-17 16:16:14,462 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s0, 7, (t:6, i:10), 9, false, commits:[s0:c9, s1:c9, s2:c9], cId:3298, entries: [(t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:14,462 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-B52D587AEB10: set configuration 11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,462 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2024-01-17 16:16:14,462 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2024-01-17 16:16:14,462 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2024-01-17 16:16:14,462 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:14,463 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s0, 7, (t:6, i:10), 9, false, commits:[s0:c9, s1:c9, s2:c10], cId:3299, entries: [(t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:14,463 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-B52D587AEB10: set configuration 11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,463 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_9-10
2024-01-17 16:16:14,463 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2024-01-17 16:16:14,463 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_9-10
2024-01-17 16:16:14,463 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2024-01-17 16:16:14,463 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2024-01-17 16:16:14,463 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_11 at position 0
2024-01-17 16:16:14,464 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_9-10
2024-01-17 16:16:14,464 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_9-10
2024-01-17 16:16:14,464 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2024-01-17 16:16:14,463 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2024-01-17 16:16:14,464 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:14,464 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_11 at position 0
2024-01-17 16:16:14,476 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_11
2024-01-17 16:16:14,476 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_11
2024-01-17 16:16:14,477 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_11)
2024-01-17 16:16:14,477 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_11)
2024-01-17 16:16:14,477 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_11
2024-01-17 16:16:14,477 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_11)
2024-01-17 16:16:14,477 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2024-01-17 16:16:14,477 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2024-01-17 16:16:14,477 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s2#3299:OK-t7,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2024-01-17 16:16:14,477 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2024-01-17 16:16:14,477 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s1#3298:OK-t7,SUCCESS,nextIndex=12,followerCommit=9,matchIndex=11
2024-01-17 16:16:14,477 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@223414dd
2024-01-17 16:16:14,478 [s0@group-B52D587AEB10-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2024-01-17 16:16:14,478 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_11)
2024-01-17 16:16:14,479 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s0, 7, (t:7, i:11), 11, false, commits:[s0:c11, s1:c9, s2:c10], cId:3300, entries: [(t:7, i:12), METADATAENTRY(c:11)]
2024-01-17 16:16:14,478 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:14,479 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2024-01-17 16:16:14,479 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2024-01-17 16:16:14,479 [s0@group-B52D587AEB10-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 11 >= startIndex == 11
2024-01-17 16:16:14,479 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_11)
2024-01-17 16:16:14,479 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2024-01-17 16:16:14,479 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s2#3300:OK-t7,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2024-01-17 16:16:14,479 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@572cc4b8
2024-01-17 16:16:14,479 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s0, 7, (t:7, i:11), 11, false, commits:[s0:c11, s1:c9, s2:c11], cId:3301, entries: [(t:7, i:12), METADATAENTRY(c:11)]
2024-01-17 16:16:14,480 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2024-01-17 16:16:14,480 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_11)
2024-01-17 16:16:14,480 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2024-01-17 16:16:14,480 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s1#3301:OK-t7,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2024-01-17 16:16:14,480 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1a4cf864
2024-01-17 16:16:14,481 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:14,484 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:14,527 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,528 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:14,528 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,545 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:14,545 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,545 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,545 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(440)) - Changed leader from s2 to s0
2024-01-17 16:16:14,545 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:14,545 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,545 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,545 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,628 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,628 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:14,628 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:14,646 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,646 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,646 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,729 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,729 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:14,729 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,746 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:14,747 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,747 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,747 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,784 [s0@group-B52D587AEB10-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1114)) - s0@group-B52D587AEB10-LeaderStateImpl: Lost leadership on term: 7. Election timeout: 300ms. In charge for: 324ms. Conf: 11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,784 [s0@group-B52D587AEB10-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s0@group-B52D587AEB10->s1(c11,m12,n13, caughtUp=true, lastRpcSendTime=227, lastRpcResponseTime=302)
2024-01-17 16:16:14,784 [s0@group-B52D587AEB10-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s0@group-B52D587AEB10->s2(c11,m12,n13, caughtUp=true, lastRpcSendTime=229, lastRpcResponseTime=304)
2024-01-17 16:16:14,784 [s0@group-B52D587AEB10-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from    LEADER to FOLLOWER at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:14,784 [s0@group-B52D587AEB10-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:14,784 [s0@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s0@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:14,784 [s0@group-B52D587AEB10-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-B52D587AEB10-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:14,784 [s0@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s0@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:14,784 [s0@group-B52D587AEB10-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from s0 to null at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:14,784 [s0@group-B52D587AEB10-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:14,829 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,829 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:14,829 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,847 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:14,848 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t7, leader=null, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,848 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t7, leader=null, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:14,894 [s1@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-B52D587AEB10-FollowerState: change to CANDIDATE, lastRpcElapsedTime:414092644ns, electionTimeout:263ms
2024-01-17 16:16:14,894 [s1@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:14,894 [s1@group-B52D587AEB10-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2024-01-17 16:16:14,894 [s1@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:14,894 [s1@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-LeaderElection64
2024-01-17 16:16:14,895 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from s0 to null at term 7 for PRE_VOTE
2024-01-17 16:16:14,895 [s1@group-B52D587AEB10-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-B52D587AEB10-LeaderElection64 PRE_VOTE round 0: submit vote requests at term 7 for 11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,895 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(PRE_VOTE, s1, group-B52D587AEB10, 7, (t:7, i:12))
2024-01-17 16:16:14,895 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(PRE_VOTE, s1, group-B52D587AEB10, 7, (t:7, i:12))
2024-01-17 16:16:14,895 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:14,895 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:14,895 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to PRE_VOTE vote request: s1<-s0#0:OK-t7. Peer's state: s0@group-B52D587AEB10:t7, leader=null, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,895 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to PRE_VOTE vote request: s1<-s2#0:OK-t7. Peer's state: s2@group-B52D587AEB10:t7, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,895 [s1@group-B52D587AEB10-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-B52D587AEB10-LeaderElection64: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:14,895 [s1@group-B52D587AEB10-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t7
2024-01-17 16:16:14,895 [s1@group-B52D587AEB10-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-B52D587AEB10-LeaderElection64 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:14,896 [s1@group-B52D587AEB10-LeaderElection64] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5a1ca657
2024-01-17 16:16:14,896 [s1@group-B52D587AEB10-LeaderElection64] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:14,896 [s1@group-B52D587AEB10-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-B52D587AEB10-LeaderElection64 ELECTION round 0: submit vote requests at term 8 for 11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,897 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(ELECTION, s1, group-B52D587AEB10, 8, (t:7, i:12))
2024-01-17 16:16:14,897 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:14,897 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(ELECTION, s1, group-B52D587AEB10, 8, (t:7, i:12))
2024-01-17 16:16:14,897 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s1
2024-01-17 16:16:14,897 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:14,897 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:14,897 [s0@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:14,897 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:14,897 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from s0 to null at term 8 for updateCurrentTerm
2024-01-17 16:16:14,897 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s1
2024-01-17 16:16:14,897 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:14,897 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@14d5332f
2024-01-17 16:16:14,897 [s2@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:14,897 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:14,898 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@198ad09f
2024-01-17 16:16:14,898 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:14,898 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to ELECTION vote request: s1<-s0#0:OK-t8. Peer's state: s0@group-B52D587AEB10:t8, leader=null, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c12, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,898 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:14,898 [s1@group-B52D587AEB10-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-B52D587AEB10-LeaderElection64: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:14,898 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to ELECTION vote request: s1<-s2#0:OK-t8. Peer's state: s2@group-B52D587AEB10:t8, leader=null, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c11, conf=11: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,898 [s1@group-B52D587AEB10-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t8
2024-01-17 16:16:14,898 [s1@group-B52D587AEB10-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-B52D587AEB10-LeaderElection64 ELECTION round 0: result PASSED
2024-01-17 16:16:14,898 [s1@group-B52D587AEB10-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-B52D587AEB10-LeaderElection64
2024-01-17 16:16:14,898 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
2024-01-17 16:16:14,898 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:14,899 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:14,900 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:14,900 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:14,900 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:14,900 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:14,900 [s1@group-B52D587AEB10-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:14,900 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from null to s1 at term 8 for becomeLeader, leader elected after 5ms
2024-01-17 16:16:14,900 [s1@group-B52D587AEB10-LeaderElection64] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2024-01-17 16:16:14,900 [s1@group-B52D587AEB10-LeaderElection64] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2024-01-17 16:16:14,900 [s1@group-B52D587AEB10-LeaderElection64] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2024-01-17 16:16:14,900 [s1@group-B52D587AEB10-LeaderElection64] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:14,900 [s1@group-B52D587AEB10-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-B52D587AEB10: set configuration 13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,901 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from null to s1 at term 8 for appendEntries, leader elected after 116ms
2024-01-17 16:16:14,901 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_11-12
2024-01-17 16:16:14,901 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_11-12
2024-01-17 16:16:14,901 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2024-01-17 16:16:14,901 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_13 at position 0
2024-01-17 16:16:14,901 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s1, 8, (t:7, i:12), 11, false, commits:[s1:c11, s0:c12, s2:c11], cId:3334, entries: [(t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:14,902 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-B52D587AEB10: set configuration 13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,902 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2024-01-17 16:16:14,902 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2024-01-17 16:16:14,902 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2024-01-17 16:16:14,902 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:14,902 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_11-12
2024-01-17 16:16:14,903 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_11-12
2024-01-17 16:16:14,903 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2024-01-17 16:16:14,903 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_13 at position 0
2024-01-17 16:16:14,903 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from null to s1 at term 8 for appendEntries, leader elected after 6ms
2024-01-17 16:16:14,905 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s1, 8, (t:7, i:12), 11, false, commits:[s1:c11, s0:c12, s2:c11], cId:3335, entries: [(t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:14,905 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-B52D587AEB10: set configuration 13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:14,905 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2024-01-17 16:16:14,905 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2024-01-17 16:16:14,905 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2024-01-17 16:16:14,905 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:14,906 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_11-12
2024-01-17 16:16:14,906 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_11-12
2024-01-17 16:16:14,906 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2024-01-17 16:16:14,906 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_13 at position 0
2024-01-17 16:16:14,912 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_13
2024-01-17 16:16:14,912 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_13)
2024-01-17 16:16:14,916 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2024-01-17 16:16:14,916 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_13
2024-01-17 16:16:14,916 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_13)
2024-01-17 16:16:14,916 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_13
2024-01-17 16:16:14,916 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2024-01-17 16:16:14,916 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_13)
2024-01-17 16:16:14,916 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s1<-s0#3334:OK-t8,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2024-01-17 16:16:14,916 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2024-01-17 16:16:14,916 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s1<-s2#3335:OK-t8,SUCCESS,nextIndex=14,followerCommit=11,matchIndex=13
2024-01-17 16:16:14,916 [s1@group-B52D587AEB10-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2024-01-17 16:16:14,917 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_13)
2024-01-17 16:16:14,917 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s1, 8, (t:8, i:13), 13, false, commits:[s1:c13, s0:c12, s2:c11], cId:3337, entries: [(t:8, i:14), METADATAENTRY(c:13)]
2024-01-17 16:16:14,917 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s1, 8, (t:8, i:13), 13, false, commits:[s1:c13, s0:c12, s2:c11], cId:3336, entries: [(t:8, i:14), METADATAENTRY(c:13)]
2024-01-17 16:16:14,917 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2024-01-17 16:16:14,917 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2a40b52a
2024-01-17 16:16:14,917 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_13)
2024-01-17 16:16:14,917 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2024-01-17 16:16:14,917 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s1<-s0#3337:OK-t8,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2024-01-17 16:16:14,918 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1e77bbbd
2024-01-17 16:16:14,917 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2024-01-17 16:16:14,917 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2024-01-17 16:16:14,918 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_13)
2024-01-17 16:16:14,918 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2024-01-17 16:16:14,918 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:14,918 [s1@group-B52D587AEB10-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 13 >= startIndex == 13
2024-01-17 16:16:14,918 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s1<-s2#3336:OK-t8,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2024-01-17 16:16:14,918 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@43e91db1
2024-01-17 16:16:14,919 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:14,919 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:14,930 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:14,930 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:14,930 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,030 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,030 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:15,030 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,131 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,131 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:15,131 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,232 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,232 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:15,232 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,298 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:15,298 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(440)) - Changed leader from s0 to s1
2024-01-17 16:16:15,298 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:15,298 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:15,298 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:15,298 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,332 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,332 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:15,332 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,399 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:15,399 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:15,399 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:15,399 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,433 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,433 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:15,433 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,499 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:15,500 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:15,500 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:15,500 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,533 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,533 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:15,533 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,596 [s2@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-B52D587AEB10-FollowerState: change to CANDIDATE, lastRpcElapsedTime:300295215ns, electionTimeout:163ms
2024-01-17 16:16:15,596 [s2@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:15,596 [s2@group-B52D587AEB10-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2024-01-17 16:16:15,596 [s2@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:15,596 [s2@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-LeaderElection65
2024-01-17 16:16:15,596 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from s1 to null at term 8 for PRE_VOTE
2024-01-17 16:16:15,596 [s2@group-B52D587AEB10-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-B52D587AEB10-LeaderElection65 PRE_VOTE round 0: submit vote requests at term 8 for 13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:15,597 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(PRE_VOTE, s2, group-B52D587AEB10, 8, (t:8, i:14))
2024-01-17 16:16:15,597 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(PRE_VOTE, s2, group-B52D587AEB10, 8, (t:8, i:14))
2024-01-17 16:16:15,597 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:15,597 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1114)) - s1@group-B52D587AEB10-LeaderStateImpl: Lost leadership on term: 8. Election timeout: 300ms. In charge for: 698ms. Conf: 13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:15,597 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to PRE_VOTE vote request: s2<-s0#0:OK-t8. Peer's state: s0@group-B52D587AEB10:t8, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:15,597 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s1@group-B52D587AEB10->s0(c14,m14,n15, caughtUp=true, lastRpcSendTime=226, lastRpcResponseTime=301)
2024-01-17 16:16:15,597 [s2@group-B52D587AEB10-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-B52D587AEB10-LeaderElection65: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:15,597 [s2@group-B52D587AEB10-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t8
2024-01-17 16:16:15,597 [HandlerDaemon-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s1@group-B52D587AEB10->s2(c14,m14,n15, caughtUp=true, lastRpcSendTime=226, lastRpcResponseTime=301)
2024-01-17 16:16:15,597 [s2@group-B52D587AEB10-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-B52D587AEB10-LeaderElection65 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:15,597 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from    LEADER to FOLLOWER at term 8 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:15,597 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s1: shutdown s1@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:15,597 [s1@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s1@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:15,597 [HandlerDaemon-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-B52D587AEB10-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:15,597 [s2@group-B52D587AEB10-LeaderElection65] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6d0ca026
2024-01-17 16:16:15,597 [s1@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s1@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:15,598 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from s1 to null at term 8 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:15,598 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:15,598 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:15,598 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to PRE_VOTE vote request: s2<-s1#0:OK-t8. Peer's state: s1@group-B52D587AEB10:t8, leader=null, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:15,598 [s2@group-B52D587AEB10-LeaderElection65] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:15,598 [s2@group-B52D587AEB10-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-B52D587AEB10-LeaderElection65 ELECTION round 0: submit vote requests at term 9 for 13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:15,599 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(ELECTION, s2, group-B52D587AEB10, 9, (t:8, i:14))
2024-01-17 16:16:15,599 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:15,599 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(ELECTION, s2, group-B52D587AEB10, 9, (t:8, i:14))
2024-01-17 16:16:15,599 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from s1 to null at term 9 for updateCurrentTerm
2024-01-17 16:16:15,599 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2024-01-17 16:16:15,599 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s2
2024-01-17 16:16:15,599 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:15,599 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s2
2024-01-17 16:16:15,599 [s0@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:15,599 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:15,599 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:15,599 [s1@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:15,599 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@448640c5
2024-01-17 16:16:15,599 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:15,600 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@515a9a11
2024-01-17 16:16:15,600 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:15,600 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:15,600 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t9, leader=null, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t9, leader=null, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-B52D587AEB10:t9, leader=null, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:15,600 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to ELECTION vote request: s2<-s0#0:OK-t9. Peer's state: s0@group-B52D587AEB10:t9, leader=null, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:15,600 [s2@group-B52D587AEB10-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-B52D587AEB10-LeaderElection65: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:15,600 [s2@group-B52D587AEB10-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t9
2024-01-17 16:16:15,600 [s2@group-B52D587AEB10-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-B52D587AEB10-LeaderElection65 ELECTION round 0: result PASSED
2024-01-17 16:16:15,600 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t9, leader=null, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t9, leader=null, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-B52D587AEB10:t9, leader=null, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:15,600 [s2@group-B52D587AEB10-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s2: shutdown s2@group-B52D587AEB10-LeaderElection65
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from CANDIDATE to LEADER at term 9 for changeToLeader
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:15,601 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:15,602 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:15,602 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:15,602 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:15,602 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:15,602 [s2@group-B52D587AEB10-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:15,602 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from null to s2 at term 9 for becomeLeader, leader elected after 5ms
2024-01-17 16:16:15,602 [s2@group-B52D587AEB10-LeaderElection65] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2024-01-17 16:16:15,602 [s2@group-B52D587AEB10-LeaderElection65] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2024-01-17 16:16:15,602 [s2@group-B52D587AEB10-LeaderElection65] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2024-01-17 16:16:15,602 [s2@group-B52D587AEB10-LeaderElection65] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:15,603 [s2@group-B52D587AEB10-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-B52D587AEB10: set configuration 15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:15,603 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:15,603 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to ELECTION vote request: s2<-s1#0:OK-t9. Peer's state: s1@group-B52D587AEB10:t9, leader=null, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c14, conf=13: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:15,603 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_13-14
2024-01-17 16:16:15,603 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_13-14
2024-01-17 16:16:15,603 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from null to s2 at term 9 for appendEntries, leader elected after 4ms
2024-01-17 16:16:15,603 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2024-01-17 16:16:15,603 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from null to s2 at term 9 for appendEntries, leader elected after 5ms
2024-01-17 16:16:15,604 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_15 at position 0
2024-01-17 16:16:15,604 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s2, 9, (t:8, i:14), 14, false, commits:[s2:c14, s0:c14, s1:c14], cId:3402, entries: [(t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:15,604 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s2, 9, (t:8, i:14), 14, false, commits:[s2:c14, s0:c14, s1:c14], cId:3403, entries: [(t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:15,604 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-B52D587AEB10: set configuration 15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:15,604 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-B52D587AEB10: set configuration 15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:15,604 [HandlerDaemon-2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2024-01-17 16:16:15,604 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2024-01-17 16:16:15,604 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2024-01-17 16:16:15,605 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2024-01-17 16:16:15,605 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2024-01-17 16:16:15,605 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2024-01-17 16:16:15,605 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:15,605 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:15,605 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_13-14
2024-01-17 16:16:15,605 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_13-14
2024-01-17 16:16:15,605 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2024-01-17 16:16:15,605 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_13-14
2024-01-17 16:16:15,605 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_13-14
2024-01-17 16:16:15,605 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2024-01-17 16:16:15,605 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_15 at position 0
2024-01-17 16:16:15,606 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_15 at position 0
2024-01-17 16:16:15,618 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_15
2024-01-17 16:16:15,618 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_15)
2024-01-17 16:16:15,618 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2024-01-17 16:16:15,619 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_15
2024-01-17 16:16:15,619 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_15
2024-01-17 16:16:15,619 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_15)
2024-01-17 16:16:15,619 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_15)
2024-01-17 16:16:15,619 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2024-01-17 16:16:15,619 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2024-01-17 16:16:15,619 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s1#3403:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2024-01-17 16:16:15,619 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s0#3402:OK-t9,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2024-01-17 16:16:15,619 [s2@group-B52D587AEB10-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2024-01-17 16:16:15,619 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@14d00b83
2024-01-17 16:16:15,620 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_15)
2024-01-17 16:16:15,620 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2024-01-17 16:16:15,620 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s2, 9, (t:9, i:15), 15, false, commits:[s2:c15, s0:c14, s1:c14], cId:3404, entries: [(t:9, i:16), METADATAENTRY(c:15)]
2024-01-17 16:16:15,620 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s2, 9, (t:9, i:15), 15, false, commits:[s2:c15, s0:c14, s1:c14], cId:3405, entries: [(t:9, i:16), METADATAENTRY(c:15)]
2024-01-17 16:16:15,620 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2024-01-17 16:16:15,620 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2024-01-17 16:16:15,620 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_15)
2024-01-17 16:16:15,620 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_15)
2024-01-17 16:16:15,620 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2024-01-17 16:16:15,620 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2024-01-17 16:16:15,620 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s0#3404:OK-t9,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2024-01-17 16:16:15,620 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s2<-s1#3405:OK-t9,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2024-01-17 16:16:15,621 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7fd45da4
2024-01-17 16:16:15,621 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:15,621 [s2@group-B52D587AEB10-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 15 >= startIndex == 15
2024-01-17 16:16:15,622 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:15,620 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@10088ada
2024-01-17 16:16:15,623 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:15,634 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,634 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:15,634 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,734 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,735 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:15,735 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,835 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,835 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:15,835 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,935 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:15,936 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:15,936 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,036 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,036 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:16,036 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,051 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,051 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(440)) - Changed leader from s1 to s2
2024-01-17 16:16:16,051 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:16,051 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,051 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,051 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,137 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,137 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:16,137 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,152 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:16,152 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,152 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,152 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,237 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,237 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:16,237 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,252 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:16,252 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,253 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,253 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,338 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,338 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:16,338 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,353 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:16,353 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,353 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,353 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,436 [s1@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-B52D587AEB10-FollowerState: change to CANDIDATE, lastRpcElapsedTime:437189256ns, electionTimeout:274ms
2024-01-17 16:16:16,436 [s1@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:16,436 [s1@group-B52D587AEB10-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2024-01-17 16:16:16,436 [s1@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:16,436 [s1@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-LeaderElection66
2024-01-17 16:16:16,437 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from s2 to null at term 9 for PRE_VOTE
2024-01-17 16:16:16,437 [s1@group-B52D587AEB10-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-B52D587AEB10-LeaderElection66 PRE_VOTE round 0: submit vote requests at term 9 for 15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:16,437 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(PRE_VOTE, s1, group-B52D587AEB10, 9, (t:9, i:16))
2024-01-17 16:16:16,437 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(PRE_VOTE, s1, group-B52D587AEB10, 9, (t:9, i:16))
2024-01-17 16:16:16,437 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:16,437 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to PRE_VOTE vote request: s1<-s0#0:OK-t9. Peer's state: s0@group-B52D587AEB10:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:16,437 [s1@group-B52D587AEB10-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-B52D587AEB10-LeaderElection66: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:16,437 [s1@group-B52D587AEB10-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t9
2024-01-17 16:16:16,437 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1114)) - s2@group-B52D587AEB10-LeaderStateImpl: Lost leadership on term: 9. Election timeout: 300ms. In charge for: 836ms. Conf: 15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:16,437 [s1@group-B52D587AEB10-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-B52D587AEB10-LeaderElection66 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:16,437 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s2@group-B52D587AEB10->s0(c16,m16,n17, caughtUp=true, lastRpcSendTime=363, lastRpcResponseTime=438)
2024-01-17 16:16:16,438 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s2@group-B52D587AEB10->s1(c16,m16,n17, caughtUp=true, lastRpcSendTime=363, lastRpcResponseTime=438)
2024-01-17 16:16:16,438 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from    LEADER to FOLLOWER at term 9 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:16,438 [s1@group-B52D587AEB10-LeaderElection66] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2853434
2024-01-17 16:16:16,438 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s2: shutdown s2@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:16,438 [s2@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:16,438 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s2@group-B52D587AEB10-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:16,438 [s2@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:16,438 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from s2 to null at term 9 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:16,438 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,438 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:16,438 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:16,438 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,438 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:16,438 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to PRE_VOTE vote request: s1<-s2#0:OK-t9. Peer's state: s2@group-B52D587AEB10:t9, leader=null, voted=s2, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:16,439 [s1@group-B52D587AEB10-LeaderElection66] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:16,439 [s1@group-B52D587AEB10-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-B52D587AEB10-LeaderElection66 ELECTION round 0: submit vote requests at term 10 for 15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:16,439 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s0@group-B52D587AEB10: receive requestVote(ELECTION, s1, group-B52D587AEB10, 10, (t:9, i:16))
2024-01-17 16:16:16,439 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-B52D587AEB10-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:16,439 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(ELECTION, s1, group-B52D587AEB10, 10, (t:9, i:16))
2024-01-17 16:16:16,439 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from s2 to null at term 10 for updateCurrentTerm
2024-01-17 16:16:16,439 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2024-01-17 16:16:16,439 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s1
2024-01-17 16:16:16,439 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s1
2024-01-17 16:16:16,439 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:16,439 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:16,439 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:16,439 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:16,439 [s2@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:16,439 [s0@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:16,439 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5a568c94
2024-01-17 16:16:16,439 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@62ea5112
2024-01-17 16:16:16,440 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:16,440 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:16,440 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to ELECTION vote request: s1<-s2#0:OK-t10. Peer's state: s2@group-B52D587AEB10:t10, leader=null, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:16,440 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s0@group-B52D587AEB10 replies to ELECTION vote request: s1<-s0#0:OK-t10. Peer's state: s0@group-B52D587AEB10:t10, leader=null, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=15: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:16,440 [s1@group-B52D587AEB10-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-B52D587AEB10-LeaderElection66: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:16,440 [s1@group-B52D587AEB10-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t10
2024-01-17 16:16:16,440 [s1@group-B52D587AEB10-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-B52D587AEB10-LeaderElection66 ELECTION round 0: result PASSED
2024-01-17 16:16:16,440 [s1@group-B52D587AEB10-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s1: shutdown s1@group-B52D587AEB10-LeaderElection66
2024-01-17 16:16:16,440 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from CANDIDATE to LEADER at term 10 for changeToLeader
2024-01-17 16:16:16,440 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:16,440 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:16,441 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from null to s1 at term 10 for becomeLeader, leader elected after 4ms
2024-01-17 16:16:16,442 [s1@group-B52D587AEB10-LeaderElection66] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2024-01-17 16:16:16,442 [s1@group-B52D587AEB10-LeaderElection66] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2024-01-17 16:16:16,442 [s1@group-B52D587AEB10-LeaderElection66] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2024-01-17 16:16:16,442 [s1@group-B52D587AEB10-LeaderElection66] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:16,442 [s1@group-B52D587AEB10-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-B52D587AEB10: set configuration 17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:16,442 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from null to s1 at term 10 for appendEntries, leader elected after 3ms
2024-01-17 16:16:16,442 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from null to s1 at term 10 for appendEntries, leader elected after 4ms
2024-01-17 16:16:16,443 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_15-16
2024-01-17 16:16:16,443 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_15-16
2024-01-17 16:16:16,443 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2024-01-17 16:16:16,443 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_17 at position 0
2024-01-17 16:16:16,443 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s1, 10, (t:9, i:16), 16, false, commits:[s1:c16, s0:c16, s2:c16], cId:3479, entries: [(t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:16,443 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-B52D587AEB10: set configuration 17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:16,443 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2024-01-17 16:16:16,443 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s1, 10, (t:9, i:16), 16, false, commits:[s1:c16, s0:c16, s2:c16], cId:3478, entries: [(t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:16,443 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2024-01-17 16:16:16,444 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-B52D587AEB10: set configuration 17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:16,444 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2024-01-17 16:16:16,444 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2024-01-17 16:16:16,444 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2024-01-17 16:16:16,444 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:16,445 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_15-16
2024-01-17 16:16:16,444 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2024-01-17 16:16:16,445 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:16,445 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_15-16
2024-01-17 16:16:16,445 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_15-16
2024-01-17 16:16:16,445 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_15-16
2024-01-17 16:16:16,445 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2024-01-17 16:16:16,445 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2024-01-17 16:16:16,445 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_17 at position 0
2024-01-17 16:16:16,445 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_17 at position 0
2024-01-17 16:16:16,454 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:16,454 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c16, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,454 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: Leader: s1@group-B52D587AEB10 not ready
2024-01-17 16:16:16,457 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_17
2024-01-17 16:16:16,458 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_17)
2024-01-17 16:16:16,458 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2024-01-17 16:16:16,458 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_17
2024-01-17 16:16:16,458 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_17)
2024-01-17 16:16:16,458 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2024-01-17 16:16:16,458 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s1<-s0#3478:OK-t10,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2024-01-17 16:16:16,458 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_17
2024-01-17 16:16:16,458 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_17)
2024-01-17 16:16:16,459 [s1@group-B52D587AEB10-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2024-01-17 16:16:16,459 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7c3a2f1e
2024-01-17 16:16:16,459 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_17)
2024-01-17 16:16:16,459 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2024-01-17 16:16:16,459 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s1<-s2#3479:OK-t10,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2024-01-17 16:16:16,459 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2024-01-17 16:16:16,459 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s1, 10, (t:10, i:17), 17, false, commits:[s1:c17, s0:c16, s2:c16], cId:3485, entries: [(t:10, i:18), METADATAENTRY(c:17)]
2024-01-17 16:16:16,459 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: receive appendEntries(s1, 10, (t:10, i:17), 17, false, commits:[s1:c17, s0:c16, s2:c16], cId:3484, entries: [(t:10, i:18), METADATAENTRY(c:17)]
2024-01-17 16:16:16,459 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2024-01-17 16:16:16,460 [HandlerDaemon-2] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2024-01-17 16:16:16,460 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_17)
2024-01-17 16:16:16,460 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_17)
2024-01-17 16:16:16,460 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:16,460 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2024-01-17 16:16:16,460 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2024-01-17 16:16:16,460 [s1@group-B52D587AEB10-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 17 >= startIndex == 17
2024-01-17 16:16:16,460 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s0@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s1<-s0#3484:OK-t10,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2024-01-17 16:16:16,460 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3b2046ee
2024-01-17 16:16:16,460 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s1<-s2#3485:OK-t10,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2024-01-17 16:16:16,460 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7d90285e
2024-01-17 16:16:16,461 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:16,461 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:16,539 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,539 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:16,539 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,639 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,639 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:16,639 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,740 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,740 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:16,740 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,840 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,840 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:16,840 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,904 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,904 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(440)) - Changed leader from s2 to s1
2024-01-17 16:16:16,904 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:16,905 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,905 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:16,905 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,941 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:16,941 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:16,941 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:17,005 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:17,005 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:17,006 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,041 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,042 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:17,042 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,106 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:17,106 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:17,106 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:17,107 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(231)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$7(RaftTestUtil.java:438)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:204)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:435)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:109)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,142 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,142 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:17,142 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,158 [s0@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-B52D587AEB10-FollowerState: change to CANDIDATE, lastRpcElapsedTime:320691350ns, electionTimeout:255ms
2024-01-17 16:16:17,158 [s0@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-B52D587AEB10-FollowerState
2024-01-17 16:16:17,158 [s0@group-B52D587AEB10-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2024-01-17 16:16:17,158 [s0@group-B52D587AEB10-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:17,158 [s0@group-B52D587AEB10-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-LeaderElection67
2024-01-17 16:16:17,158 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from s1 to null at term 10 for PRE_VOTE
2024-01-17 16:16:17,158 [s0@group-B52D587AEB10-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-B52D587AEB10-LeaderElection67 PRE_VOTE round 0: submit vote requests at term 10 for 17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:17,159 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(PRE_VOTE, s0, group-B52D587AEB10, 10, (t:10, i:18))
2024-01-17 16:16:17,159 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(PRE_VOTE, s0, group-B52D587AEB10, 10, (t:10, i:18))
2024-01-17 16:16:17,159 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1114)) - s1@group-B52D587AEB10-LeaderStateImpl: Lost leadership on term: 10. Election timeout: 300ms. In charge for: 718ms. Conf: 17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:17,159 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:17,159 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s1@group-B52D587AEB10->s0(c18,m18,n19, caughtUp=true, lastRpcSendTime=246, lastRpcResponseTime=321)
2024-01-17 16:16:17,159 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to PRE_VOTE vote request: s0<-s2#0:OK-t10. Peer's state: s2@group-B52D587AEB10:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:17,159 [HandlerDaemon-1] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1118)) - Follower s1@group-B52D587AEB10->s2(c18,m18,n19, caughtUp=true, lastRpcSendTime=246, lastRpcResponseTime=321)
2024-01-17 16:16:17,159 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from    LEADER to FOLLOWER at term 10 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:17,159 [s0@group-B52D587AEB10-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-B52D587AEB10-LeaderElection67: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:17,159 [s0@group-B52D587AEB10-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t10
2024-01-17 16:16:17,159 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s1: shutdown s1@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:17,159 [s0@group-B52D587AEB10-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-B52D587AEB10-LeaderElection67 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:17,159 [s1@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s1@group-B52D587AEB10->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:17,159 [HandlerDaemon-1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s1@group-B52D587AEB10-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:17,160 [s1@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s1@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2024-01-17 16:16:17,160 [s0@group-B52D587AEB10-LeaderElection67] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2a2f4c10
2024-01-17 16:16:17,160 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from s1 to null at term 10 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2024-01-17 16:16:17,160 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:17,160 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:17,160 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to PRE_VOTE vote request: s0<-s1#0:OK-t10. Peer's state: s1@group-B52D587AEB10:t10, leader=null, voted=s1, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:17,161 [s0@group-B52D587AEB10-LeaderElection67] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:17,161 [s0@group-B52D587AEB10-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-B52D587AEB10-LeaderElection67 ELECTION round 0: submit vote requests at term 11 for 17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:17,161 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-B52D587AEB10: receive requestVote(ELECTION, s0, group-B52D587AEB10, 11, (t:10, i:18))
2024-01-17 16:16:17,161 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-B52D587AEB10-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:17,161 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2024-01-17 16:16:17,161 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:17,161 [HandlerDaemon-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:17,161 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-B52D587AEB10: receive requestVote(ELECTION, s0, group-B52D587AEB10, 11, (t:10, i:18))
2024-01-17 16:16:17,161 [s1@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:17,161 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-B52D587AEB10-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:17,161 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from s1 to null at term 11 for updateCurrentTerm
2024-01-17 16:16:17,161 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-B52D587AEB10: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2024-01-17 16:16:17,161 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:17,161 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3e39c878
2024-01-17 16:16:17,161 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:17,161 [s2@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:17,162 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@383533c8
2024-01-17 16:16:17,162 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:17,162 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:17,162 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-B52D587AEB10 replies to ELECTION vote request: s0<-s1#0:OK-t11. Peer's state: s1@group-B52D587AEB10:t11, leader=null, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:17,162 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-B52D587AEB10 replies to ELECTION vote request: s0<-s2#0:OK-t11. Peer's state: s2@group-B52D587AEB10:t11, leader=null, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c18, conf=17: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:17,162 [s0@group-B52D587AEB10-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-B52D587AEB10-LeaderElection67: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:17,162 [s0@group-B52D587AEB10-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t11
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-B52D587AEB10-LeaderElection67 ELECTION round 0: result PASSED
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-B52D587AEB10-LeaderElection67
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-B52D587AEB10: changes role from CANDIDATE to LEADER at term 11 for changeToLeader
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:17,163 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-B52D587AEB10: change Leader from null to s0 at term 11 for becomeLeader, leader elected after 5ms
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2024-01-17 16:16:17,164 [s0@group-B52D587AEB10-LeaderElection67] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:17,165 [s0@group-B52D587AEB10-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-B52D587AEB10: set configuration 19: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:17,165 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_17-18
2024-01-17 16:16:17,165 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_17-18
2024-01-17 16:16:17,165 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-B52D587AEB10: change Leader from null to s0 at term 11 for appendEntries, leader elected after 5ms
2024-01-17 16:16:17,165 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2024-01-17 16:16:17,165 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-B52D587AEB10: change Leader from null to s0 at term 11 for appendEntries, leader elected after 3ms
2024-01-17 16:16:17,165 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_19 at position 0
2024-01-17 16:16:17,166 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s0, 11, (t:10, i:18), 18, false, commits:[s0:c18, s1:c18, s2:c18], cId:3550, entries: [(t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:17,166 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s0, 11, (t:10, i:18), 18, false, commits:[s0:c18, s1:c18, s2:c18], cId:3551, entries: [(t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:17,166 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-B52D587AEB10: set configuration 19: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:17,166 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-B52D587AEB10: set configuration 19: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null
2024-01-17 16:16:17,166 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2024-01-17 16:16:17,166 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2024-01-17 16:16:17,166 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2024-01-17 16:16:17,166 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2024-01-17 16:16:17,166 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2024-01-17 16:16:17,167 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:17,167 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_17-18
2024-01-17 16:16:17,167 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_17-18
2024-01-17 16:16:17,167 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2024-01-17 16:16:17,166 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2024-01-17 16:16:17,167 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_17-18
2024-01-17 16:16:17,167 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15248"
dataStreamAddress: "localhost:15251"
clientAddress: "localhost:15250"
adminAddress: "localhost:15249"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15252"
dataStreamAddress: "localhost:15255"
clientAddress: "localhost:15254"
adminAddress: "localhost:15253"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15256"
dataStreamAddress: "localhost:15259"
clientAddress: "localhost:15258"
adminAddress: "localhost:15257"
startupRole: FOLLOWER
, old:)
2024-01-17 16:16:17,167 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_17-18
2024-01-17 16:16:17,168 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2024-01-17 16:16:17,168 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_19 at position 0
2024-01-17 16:16:17,170 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_19 at position 0
2024-01-17 16:16:17,180 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_19
2024-01-17 16:16:17,180 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_19)
2024-01-17 16:16:17,181 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_19
2024-01-17 16:16:17,181 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2024-01-17 16:16:17,181 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_19)
2024-01-17 16:16:17,181 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/log_inprogress_19
2024-01-17 16:16:17,181 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_19)
2024-01-17 16:16:17,181 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2024-01-17 16:16:17,181 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2024-01-17 16:16:17,181 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s2#3551:OK-t11,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2024-01-17 16:16:17,181 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s1#3550:OK-t11,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2024-01-17 16:16:17,182 [s0@group-B52D587AEB10-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2024-01-17 16:16:17,182 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@39303fab
2024-01-17 16:16:17,182 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_19)
2024-01-17 16:16:17,182 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: receive appendEntries(s0, 11, (t:11, i:19), 19, false, commits:[s0:c19, s1:c18, s2:c18], cId:3552, entries: [(t:11, i:20), METADATAENTRY(c:19)]
2024-01-17 16:16:17,182 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: receive appendEntries(s0, 11, (t:11, i:19), 19, false, commits:[s0:c19, s1:c18, s2:c18], cId:3553, entries: [(t:11, i:20), METADATAENTRY(c:19)]
2024-01-17 16:16:17,182 [HandlerDaemon-0] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2024-01-17 16:16:17,182 [HandlerDaemon-1] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(269)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2024-01-17 16:16:17,183 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_19)
2024-01-17 16:16:17,183 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(361)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(log_inprogress_19)
2024-01-17 16:16:17,183 [s0@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2024-01-17 16:16:17,183 [s1@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2024-01-17 16:16:17,183 [s2@group-B52D587AEB10-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(135)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2024-01-17 16:16:17,183 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s1#3552:OK-t11,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2024-01-17 16:16:17,183 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-B52D587AEB10: succeeded to handle AppendEntries. Reply: s0<-s2#3553:OK-t11,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2024-01-17 16:16:17,183 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4c282a50
2024-01-17 16:16:17,183 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1487725
2024-01-17 16:16:17,183 [s0@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s0/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:17,183 [s0@group-B52D587AEB10-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 19 >= startIndex == 19
2024-01-17 16:16:17,184 [s1@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s1/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:17,184 [s2@group-B52D587AEB10-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc6cf32616/s2/874dce77-5350-483a-8f94-b52d587aeb10/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:17,207 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:17,207 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:17,207 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:17,207 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$7(440)) - Changed leader from s1 to s0
2024-01-17 16:16:17,207 [Time-limited test] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to INFO
2024-01-17 16:16:17,207 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:17,207 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:17,207 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:17,207 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:17,207 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:17,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-B52D587AEB10:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-B52D587AEB10-SegmentedRaftLog:OPENED:c20, conf=19: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-B52D587AEB10:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-B52D587AEB10-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-B52D587AEB10:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-B52D587AEB10-SegmentedRaftLog:OPENED:c19, conf=19: peers:[s0|localhost:15248, s1|localhost:15252, s2|localhost:15256]|listeners:[], old=null RUNNING
2024-01-17 16:16:17,208 [MiniRaftCluster-88] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:16:17,208 [MiniRaftCluster-89] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:16:17,208 [MiniRaftCluster-90] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:16:17,208 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,208 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-B52D587AEB10: shutdown
2024-01-17 16:16:17,208 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,209 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B52D587AEB10,id=s2
2024-01-17 16:16:17,209 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-B52D587AEB10-FollowerState
2024-01-17 16:16:17,209 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-B52D587AEB10-StateMachineUpdater: set stopIndex = 19
2024-01-17 16:16:17,209 [s2@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:17,209 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,208 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,208 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-B52D587AEB10: shutdown
2024-01-17 16:16:17,208 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,209 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B52D587AEB10,id=s0
2024-01-17 16:16:17,209 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-B52D587AEB10-LeaderStateImpl
2024-01-17 16:16:17,209 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-B52D587AEB10: applyIndex: 19
2024-01-17 16:16:17,209 [s0@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-B52D587AEB10->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:17,209 [s2@group-B52D587AEB10-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-B52D587AEB10-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:17,208 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-B52D587AEB10: shutdown
2024-01-17 16:16:17,209 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-B52D587AEB10,id=s1
2024-01-17 16:16:17,209 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-B52D587AEB10-FollowerState
2024-01-17 16:16:17,209 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,208 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,208 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,209 [s1@group-B52D587AEB10-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-B52D587AEB10-FollowerState was interrupted
2024-01-17 16:16:17,209 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-B52D587AEB10-StateMachineUpdater: set stopIndex = 19
2024-01-17 16:16:17,210 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,209 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,209 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,209 [s0@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-B52D587AEB10->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:17,209 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,209 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,209 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-B52D587AEB10-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:17,210 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,210 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,210 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,210 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-B52D587AEB10: applyIndex: 19
2024-01-17 16:16:17,210 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-B52D587AEB10-StateMachineUpdater: set stopIndex = 20
2024-01-17 16:16:17,210 [s1@group-B52D587AEB10-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-B52D587AEB10-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:17,210 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,210 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-B52D587AEB10: applyIndex: 20
2024-01-17 16:16:17,210 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:17,211 [s0@group-B52D587AEB10-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-B52D587AEB10-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:17,242 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,243 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:17,243 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,343 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,343 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:17,343 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,444 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,444 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:17,444 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,544 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,544 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:17,544 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,645 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,645 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:17,645 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,745 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,746 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:17,746 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,846 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,846 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:17,846 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,946 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:17,947 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:17,947 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,047 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,047 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:18,047 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,147 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,148 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:18,148 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,184 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-B52D587AEB10-SegmentedRaftLogWorker close()
2024-01-17 16:16:18,184 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-B52D587AEB10-SegmentedRaftLogWorker close()
2024-01-17 16:16:18,184 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-B52D587AEB10-SegmentedRaftLogWorker close()
2024-01-17 16:16:18,185 [JvmPauseMonitor62] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:16:18,185 [JvmPauseMonitor63] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:16:18,186 [JvmPauseMonitor64] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:16:18,186 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testChangeListenerToFollower" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="1.491">
    <system-out><![CDATA[2024-01-17 16:16:18,187 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:16:18,187 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:16:18,187 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:16:18,187 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:16:18,187 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:16:18,188 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-00D071DD4D2F:[s0|localhost:15260, s1|localhost:15264, s2|localhost:15268]
2024-01-17 16:16:18,188 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:16:18,188 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:16:18,188 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:18,188 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:16:18,188 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:16:18,188 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:16:18,188 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-00D071DD4D2F:[s0|localhost:15260, s1|localhost:15264, s2|localhost:15268], format? true
2024-01-17 16:16:18,188 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0
2024-01-17 16:16:18,188 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0 does not exist.
2024-01-17 16:16:18,188 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0
2024-01-17 16:16:18,188 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:18,188 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:18,188 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:18,189 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:18,189 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:18,189 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0] (custom)
2024-01-17 16:16:18,189 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:18,189 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:18,189 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-00D071DD4D2F:[s0|localhost:15260, s1|localhost:15264, s2|localhost:15268] returns group-00D071DD4D2F:java.util.concurrent.CompletableFuture@14f9183b[Not completed]
2024-01-17 16:16:18,189 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-00D071DD4D2F:[s0|localhost:15260, s1|localhost:15264, s2|localhost:15268] with BaseStateMachine:uninitialized
2024-01-17 16:16:18,189 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-00D071DD4D2F:[s0|localhost:15260, s1|localhost:15264, s2|localhost:15268], format? true
2024-01-17 16:16:18,189 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1
2024-01-17 16:16:18,189 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:18,189 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1 does not exist.
2024-01-17 16:16:18,189 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1
2024-01-17 16:16:18,189 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:18,190 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:18,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:18,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:18,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:18,190 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:18,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:18,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:18,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:18,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:18,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:18,190 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-00D071DD4D2F: ConfigurationManager, init=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:18,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:18,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1] (custom)
2024-01-17 16:16:18,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:18,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:18,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:18,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:18,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:18,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:18,190 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:18,190 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-00D071DD4D2F:[s0|localhost:15260, s1|localhost:15264, s2|localhost:15268] returns group-00D071DD4D2F:java.util.concurrent.CompletableFuture@6060d1bc[Not completed]
2024-01-17 16:16:18,190 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-00D071DD4D2F:[s0|localhost:15260, s1|localhost:15264, s2|localhost:15268] with BaseStateMachine:uninitialized
2024-01-17 16:16:18,190 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-00D071DD4D2F:[s0|localhost:15260, s1|localhost:15264, s2|localhost:15268], format? true
2024-01-17 16:16:18,191 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2
2024-01-17 16:16:18,190 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:18,191 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2 does not exist.
2024-01-17 16:16:18,191 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2
2024-01-17 16:16:18,191 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:18,191 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:18,191 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:18,191 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:18,191 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:18,191 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:18,191 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:18,191 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:18,191 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:18,191 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:18,191 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:18,191 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:18,191 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:18,191 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-00D071DD4D2F: ConfigurationManager, init=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:18,191 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:18,192 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:18,191 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:18,191 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:18,192 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2] (custom)
2024-01-17 16:16:18,192 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:18,192 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:18,192 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:18,192 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:18,192 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:18,192 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:18,192 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:18,192 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:18,192 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-00D071DD4D2F:[s0|localhost:15260, s1|localhost:15264, s2|localhost:15268] returns group-00D071DD4D2F:java.util.concurrent.CompletableFuture@5cb8aafc[Not completed]
2024-01-17 16:16:18,192 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-00D071DD4D2F:[s0|localhost:15260, s1|localhost:15264, s2|localhost:15268] with BaseStateMachine:uninitialized
2024-01-17 16:16:18,192 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:18,192 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:18,192 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:18,193 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:18,193 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:18,193 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0] (custom)
2024-01-17 16:16:18,193 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:18,193 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:18,193 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:18,193 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f does not exist. Creating ...
2024-01-17 16:16:18,193 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:18,193 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:18,193 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:18,193 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:18,193 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:18,193 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-00D071DD4D2F: ConfigurationManager, init=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:18,193 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:18,193 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:18,193 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:18,193 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:18,193 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f
2024-01-17 16:16:18,193 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:18,193 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:18,193 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:18,194 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:18,194 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:18,194 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:18,194 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:18,194 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:18,194 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:18,194 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:18,194 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:18,194 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current
2024-01-17 16:16:18,194 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/sm
2024-01-17 16:16:18,195 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@270d9f00
2024-01-17 16:16:18,195 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:18,195 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f has been successfully formatted.
2024-01-17 16:16:18,195 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,195 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:18,195 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:18,195 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-00D071DD4D2F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-00D071DD4D2F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:18,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-00D071DD4D2F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-00D071DD4D2F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-00D071DD4D2F: start as a follower, conf=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-00D071DD4D2F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-00D071DD4D2F-FollowerState
2024-01-17 16:16:18,198 [s0@group-00D071DD4D2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-00D071DD4D2F,id=s0
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-00D071DD4D2F,id=s0
2024-01-17 16:16:18,198 [s0@group-00D071DD4D2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:18,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:18,199 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:16:18,199 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:18,199 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:18,199 [JvmPauseMonitor65] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:16:18,199 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1] (custom)
2024-01-17 16:16:18,199 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f does not exist. Creating ...
2024-01-17 16:16:18,200 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f
2024-01-17 16:16:18,200 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:18,200 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current
2024-01-17 16:16:18,200 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/sm
2024-01-17 16:16:18,200 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@58918e2e
2024-01-17 16:16:18,201 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:18,201 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f has been successfully formatted.
2024-01-17 16:16:18,201 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,201 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:18,201 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:18,201 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:18,201 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:18,201 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:18,201 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-00D071DD4D2F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-00D071DD4D2F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:18,202 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:18,203 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:18,203 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:18,203 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:18,203 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:18,204 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-00D071DD4D2F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:18,204 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-00D071DD4D2F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:18,204 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-00D071DD4D2F: start as a follower, conf=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null
2024-01-17 16:16:18,204 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-00D071DD4D2F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:18,204 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-00D071DD4D2F-FollowerState
2024-01-17 16:16:18,204 [s1@group-00D071DD4D2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:18,204 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-00D071DD4D2F,id=s1
2024-01-17 16:16:18,204 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-00D071DD4D2F,id=s1
2024-01-17 16:16:18,204 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:18,204 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:18,204 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:18,204 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:18,207 [s1@group-00D071DD4D2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:18,207 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:16:18,207 [JvmPauseMonitor66] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:16:18,207 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:18,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:18,208 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2] (custom)
2024-01-17 16:16:18,208 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f does not exist. Creating ...
2024-01-17 16:16:18,208 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f
2024-01-17 16:16:18,209 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:18,209 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current
2024-01-17 16:16:18,209 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/sm
2024-01-17 16:16:18,209 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1936090c
2024-01-17 16:16:18,209 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:18,209 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f has been successfully formatted.
2024-01-17 16:16:18,210 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,210 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:18,210 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:18,210 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:18,210 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:18,210 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:18,210 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:18,210 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:18,210 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:18,210 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:18,211 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-00D071DD4D2F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:18,211 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-00D071DD4D2F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f
2024-01-17 16:16:18,211 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:18,211 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:18,211 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:18,211 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:18,211 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:18,211 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:18,211 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:18,211 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:18,211 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:18,212 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:18,212 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:18,212 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:18,212 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:18,212 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-00D071DD4D2F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:18,213 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-00D071DD4D2F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:18,213 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(349)) - s2@group-00D071DD4D2F: start as a listener, conf=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null
2024-01-17 16:16:18,213 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-00D071DD4D2F: changes role from      null to LISTENER at term 0 for startAsListener
2024-01-17 16:16:18,213 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-00D071DD4D2F-FollowerState
2024-01-17 16:16:18,213 [s2@group-00D071DD4D2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:18,213 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-00D071DD4D2F,id=s2
2024-01-17 16:16:18,213 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-00D071DD4D2F,id=s2
2024-01-17 16:16:18,213 [s2@group-00D071DD4D2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:18,213 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:18,213 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:18,213 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:18,213 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:18,213 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:16:18,214 [JvmPauseMonitor67] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:16:18,214 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:18,214 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-00D071DD4D2F:t0, leader=null, voted=, raftlog=Memoized:s0@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-00D071DD4D2F:t0, leader=null, voted=, raftlog=Memoized:s1@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-00D071DD4D2F:t0, leader=null, voted=, raftlog=Memoized:s2@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null RUNNING
2024-01-17 16:16:18,214 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-00D071DD4D2F:t0, leader=null, voted=, raftlog=Memoized:s0@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-00D071DD4D2F:t0, leader=null, voted=, raftlog=Memoized:s1@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-00D071DD4D2F:t0, leader=null, voted=, raftlog=Memoized:s2@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null RUNNING
2024-01-17 16:16:18,248 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,248 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:18,248 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,348 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,349 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:18,349 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,367 [s0@group-00D071DD4D2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-00D071DD4D2F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169439112ns, electionTimeout:169ms
2024-01-17 16:16:18,368 [s0@group-00D071DD4D2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-00D071DD4D2F-FollowerState
2024-01-17 16:16:18,368 [s0@group-00D071DD4D2F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-00D071DD4D2F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:16:18,368 [s0@group-00D071DD4D2F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:18,368 [s0@group-00D071DD4D2F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-00D071DD4D2F-LeaderElection68
2024-01-17 16:16:18,368 [s0@group-00D071DD4D2F-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-00D071DD4D2F-LeaderElection68 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null
2024-01-17 16:16:18,368 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:18,368 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:18,368 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-00D071DD4D2F: receive requestVote(PRE_VOTE, s0, group-00D071DD4D2F, 0, (t:0, i:0))
2024-01-17 16:16:18,369 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-00D071DD4D2F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:18,369 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-00D071DD4D2F replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-00D071DD4D2F:t0, leader=null, voted=, raftlog=Memoized:s1@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null
2024-01-17 16:16:18,369 [s0@group-00D071DD4D2F-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-00D071DD4D2F-LeaderElection68: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:18,369 [s0@group-00D071DD4D2F-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2024-01-17 16:16:18,369 [s0@group-00D071DD4D2F-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-00D071DD4D2F-LeaderElection68 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:18,369 [s0@group-00D071DD4D2F-LeaderElection68] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4124dcff
2024-01-17 16:16:18,370 [s0@group-00D071DD4D2F-LeaderElection68] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:18,370 [s0@group-00D071DD4D2F-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-00D071DD4D2F-LeaderElection68 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null
2024-01-17 16:16:18,370 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:18,370 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:18,370 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-00D071DD4D2F: receive requestVote(ELECTION, s0, group-00D071DD4D2F, 1, (t:0, i:0))
2024-01-17 16:16:18,370 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-00D071DD4D2F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:18,370 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-00D071DD4D2F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:16:18,370 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-00D071DD4D2F-FollowerState
2024-01-17 16:16:18,370 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-00D071DD4D2F-FollowerState
2024-01-17 16:16:18,370 [s1@group-00D071DD4D2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-00D071DD4D2F-FollowerState was interrupted
2024-01-17 16:16:18,370 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-00D071DD4D2F: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:16:18,370 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@92fb1a4
2024-01-17 16:16:18,371 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:18,378 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-00D071DD4D2F replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-00D071DD4D2F:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null
2024-01-17 16:16:18,378 [s0@group-00D071DD4D2F-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-00D071DD4D2F-LeaderElection68: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:18,378 [s0@group-00D071DD4D2F-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2024-01-17 16:16:18,378 [s0@group-00D071DD4D2F-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-00D071DD4D2F-LeaderElection68 ELECTION round 0: result PASSED
2024-01-17 16:16:18,378 [s0@group-00D071DD4D2F-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-00D071DD4D2F-LeaderElection68
2024-01-17 16:16:18,378 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-00D071DD4D2F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:16:18,378 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:18,378 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:18,378 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:18,378 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:18,378 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:18,378 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-00D071DD4D2F-LeaderStateImpl
2024-01-17 16:16:18,379 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-00D071DD4D2F: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:16:18,380 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-00D071DD4D2F: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 189ms
2024-01-17 16:16:18,380 [s0@group-00D071DD4D2F-LeaderElection68] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-00D071DD4D2F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:18,380 [s0@group-00D071DD4D2F-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-00D071DD4D2F: set configuration 0: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null
2024-01-17 16:16:18,380 [s0@group-00D071DD4D2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:18,380 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-00D071DD4D2F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 188ms
2024-01-17 16:16:18,380 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6f98c66b
2024-01-17 16:16:18,381 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:3622, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15260"
dataStreamAddress: "localhost:15263"
clientAddress: "localhost:15262"
adminAddress: "localhost:15261"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15264"
dataStreamAddress: "localhost:15267"
clientAddress: "localhost:15266"
adminAddress: "localhost:15265"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:18,381 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-00D071DD4D2F: set configuration 0: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null
2024-01-17 16:16:18,381 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-00D071DD4D2F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:18,381 [s1@group-00D071DD4D2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:18,381 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:18,381 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-00D071DD4D2F: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:16:18,382 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-00D071DD4D2F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 188ms
2024-01-17 16:16:18,384 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-00D071DD4D2F: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:3623, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15260"
dataStreamAddress: "localhost:15263"
clientAddress: "localhost:15262"
adminAddress: "localhost:15261"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15264"
dataStreamAddress: "localhost:15267"
clientAddress: "localhost:15266"
adminAddress: "localhost:15265"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:18,384 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-00D071DD4D2F: set configuration 0: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null
2024-01-17 16:16:18,385 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-00D071DD4D2F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:18,385 [s2@group-00D071DD4D2F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:18,394 [s0@group-00D071DD4D2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-00D071DD4D2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/log_inprogress_0
2024-01-17 16:16:18,394 [s1@group-00D071DD4D2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-00D071DD4D2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/log_inprogress_0
2024-01-17 16:16:18,395 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s1#3622:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:18,395 [s2@group-00D071DD4D2F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-00D071DD4D2F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/log_inprogress_0
2024-01-17 16:16:18,395 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s2#3623:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:18,395 [s0@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7406c0ae
2024-01-17 16:16:18,396 [s0@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:18,396 [s0@group-00D071DD4D2F-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:16:18,449 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,449 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:18,449 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,471 [s2@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@22154c53
2024-01-17 16:16:18,471 [s1@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7f34b922
2024-01-17 16:16:18,472 [s2@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:18,472 [s1@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:18,550 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,550 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:18,550 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,650 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,650 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:18,650 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,664 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-00D071DD4D2F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-00D071DD4D2F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-00D071DD4D2F:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268], old=null RUNNING
2024-01-17 16:16:18,665 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:18,665 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-4B4F80B9C457: get 3652 returns []
2024-01-17 16:16:18,665 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s0@group-00D071DD4D2F: receive client request(RaftClientRequest:client-4B4F80B9C457->s0@group-00D071DD4D2F, cid=3652, seq=null, RW, message)
2024-01-17 16:16:18,666 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s0@group-00D071DD4D2F-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-4B4F80B9C457->s0@group-00D071DD4D2F, cid=3652, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 3652@client-4B4F80B9C457
2024-01-17 16:16:18,667 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-00D071DD4D2F: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0], cId:3654, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3652@client-4B4F80B9C457]
2024-01-17 16:16:18,667 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0], cId:3653, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3652@client-4B4F80B9C457]
2024-01-17 16:16:18,667 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s2#3654:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:18,667 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s1#3653:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:18,667 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0], cId:3655, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:18,668 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-00D071DD4D2F: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0], cId:3656, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:18,668 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s1#3655:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:18,668 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-4B4F80B9C457: add replied callId 3652
2024-01-17 16:16:18,668 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s2#3656:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:18,669 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1273)) - s0@group-00D071DD4D2F: receive setConfiguration SetConfigurationRequest:client-4B4F80B9C457->s0@group-00D071DD4D2F, cid=3657, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0, s1, s2], listeners:[]
2024-01-17 16:16:18,669 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(490)) - s0@group-00D071DD4D2F-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-4B4F80B9C457->s0@group-00D071DD4D2F, cid=3657, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s0, s1, s2], listeners:[]
2024-01-17 16:16:18,669 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-00D071DD4D2F: set configuration 3: peers:[s0, s1, s2]|listeners:[], old=peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268]
2024-01-17 16:16:18,669 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-00D071DD4D2F: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1], cId:3658, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15260"
dataStreamAddress: "localhost:15263"
clientAddress: "localhost:15262"
adminAddress: "localhost:15261"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15264"
dataStreamAddress: "localhost:15267"
clientAddress: "localhost:15266"
adminAddress: "localhost:15265"
startupRole: FOLLOWER
)]
2024-01-17 16:16:18,669 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1], cId:3659, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15260"
dataStreamAddress: "localhost:15263"
clientAddress: "localhost:15262"
adminAddress: "localhost:15261"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15264"
dataStreamAddress: "localhost:15267"
clientAddress: "localhost:15266"
adminAddress: "localhost:15265"
startupRole: FOLLOWER
)]
2024-01-17 16:16:18,669 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-00D071DD4D2F: set configuration 3: peers:[s0|, s1|, s2|]|listeners:[], old=peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268]
2024-01-17 16:16:18,670 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-00D071DD4D2F: set configuration 3: peers:[s0|, s1|, s2|]|listeners:[], old=peers:[s0|localhost:15260, s1|localhost:15264]|listeners:[s2|localhost:15268]
2024-01-17 16:16:18,670 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s2#3658:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:18,670 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s1#3659:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:18,671 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c2, s2:c2], cId:3660, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2024-01-17 16:16:18,671 [s0@group-00D071DD4D2F-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-00D071DD4D2F: set configuration 5: peers:[s0, s1, s2]|listeners:[], old=null
2024-01-17 16:16:18,671 [s0@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7efeabde
2024-01-17 16:16:18,671 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-00D071DD4D2F: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c2, s2:c2], cId:3661, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2024-01-17 16:16:18,671 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s1#3660:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:16:18,671 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: receive appendEntries(s0, 1, (t:1, i:4), 4, false, commits:[s0:c4, s1:c3, s2:c2], cId:3662, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:18,671 [s2@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2cd2a661
2024-01-17 16:16:18,671 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-00D071DD4D2F: set configuration 5: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:18,671 [s1@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@71f348b4
2024-01-17 16:16:18,672 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s2#3661:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2024-01-17 16:16:18,672 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s1#3662:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2024-01-17 16:16:18,672 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits:[s0:c5, s1:c4, s2:c3], cId:3663, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:18,673 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-00D071DD4D2F: receive appendEntries(s0, 1, (t:1, i:4), 5, false, commits:[s0:c5, s1:c4, s2:c3], cId:3664, entries: [(t:1, i:5), CONFIGURATIONENTRY(current:id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:), (t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:18,673 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-00D071DD4D2F: set configuration 5: peers:[s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:18,673 [s0@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:18,673 [s2@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:18,673 [s0@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3bfc2a65
2024-01-17 16:16:18,673 [s2@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@28ed2723
2024-01-17 16:16:18,674 [s1@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:18,674 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s2#3664:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:18,674 [s0@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s0/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:18,674 [s2@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s2/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:18,676 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-00D071DD4D2F: succeeded to handle AppendEntries. Reply: s0<-s1#3663:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:18,676 [s1@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@75ccd252
2024-01-17 16:16:18,676 [s1@group-00D071DD4D2F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpcf185cbf2/s1/d1c395fa-3c0c-46df-ad07-00d071dd4d2f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:18,680 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-4B4F80B9C457: add replied callId 3657
2024-01-17 16:16:18,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:18,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:18,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:18,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:18,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:18,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-00D071DD4D2F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0, s1, s2]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-00D071DD4D2F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
  s2:  RUNNING  LISTENER s2@group-00D071DD4D2F:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-00D071DD4D2F-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s0|, s1|, s2|]|listeners:[], old=null RUNNING
2024-01-17 16:16:18,681 [MiniRaftCluster-91] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:16:18,681 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-00D071DD4D2F: shutdown
2024-01-17 16:16:18,681 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-00D071DD4D2F,id=s0
2024-01-17 16:16:18,681 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-00D071DD4D2F-LeaderStateImpl
2024-01-17 16:16:18,681 [MiniRaftCluster-92] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:16:18,681 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-00D071DD4D2F: shutdown
2024-01-17 16:16:18,681 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,681 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-00D071DD4D2F-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:18,681 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-00D071DD4D2F,id=s1
2024-01-17 16:16:18,681 [s0@group-00D071DD4D2F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-00D071DD4D2F->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:18,681 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,681 [s0@group-00D071DD4D2F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-00D071DD4D2F->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:18,681 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-00D071DD4D2F-FollowerState
2024-01-17 16:16:18,683 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,683 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-00D071DD4D2F-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:16:18,681 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,681 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,683 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,684 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,683 [s1@group-00D071DD4D2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-00D071DD4D2F-FollowerState was interrupted
2024-01-17 16:16:18,684 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,684 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,684 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,684 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-00D071DD4D2F-StateMachineUpdater: set stopIndex = 6
2024-01-17 16:16:18,684 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,684 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-00D071DD4D2F: applyIndex: 6
2024-01-17 16:16:18,684 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-00D071DD4D2F: applyIndex: 5
2024-01-17 16:16:18,684 [s0@group-00D071DD4D2F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-00D071DD4D2F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:18,684 [s1@group-00D071DD4D2F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-00D071DD4D2F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:18,684 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,687 [MiniRaftCluster-93] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:16:18,687 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-00D071DD4D2F: shutdown
2024-01-17 16:16:18,688 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,688 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-00D071DD4D2F,id=s2
2024-01-17 16:16:18,688 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-00D071DD4D2F-FollowerState
2024-01-17 16:16:18,688 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-00D071DD4D2F-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:16:18,688 [s2@group-00D071DD4D2F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-00D071DD4D2F-FollowerState was interrupted
2024-01-17 16:16:18,688 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-00D071DD4D2F: applyIndex: 5
2024-01-17 16:16:18,687 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,688 [s2@group-00D071DD4D2F-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-00D071DD4D2F-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:18,688 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,688 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,688 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,688 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:18,751 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,751 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:18,751 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,851 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,851 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:18,851 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,952 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:18,952 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:18,952 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,052 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,052 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:19,052 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,153 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,153 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:19,153 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,253 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,253 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:19,253 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,354 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,354 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:19,354 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,454 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,454 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:19,454 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,555 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,555 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:19,555 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,655 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,655 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:19,656 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,673 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-00D071DD4D2F-SegmentedRaftLogWorker close()
2024-01-17 16:16:19,674 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-00D071DD4D2F-SegmentedRaftLogWorker close()
2024-01-17 16:16:19,674 [JvmPauseMonitor65] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:16:19,674 [JvmPauseMonitor67] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:16:19,676 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-00D071DD4D2F-SegmentedRaftLogWorker close()
2024-01-17 16:16:19,677 [JvmPauseMonitor66] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:16:19,677 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2024-01-17 16:16:19,677 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:19,677 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:19,677 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:19,677 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:19,677 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:19,677 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-00D071DD4D2F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-00D071DD4D2F-SegmentedRaftLog:CLOSED:c6, conf=5: peers:[s0, s1, s2]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-00D071DD4D2F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-00D071DD4D2F-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|, s1|, s2|]|listeners:[], old=null CLOSED
  s2:   CLOSED  LISTENER s2@group-00D071DD4D2F:t1, leader=s0, voted=null, raftlog=Memoized:s2@group-00D071DD4D2F-SegmentedRaftLog:CLOSED:c5, conf=5: peers:[s0|, s1|, s2|]|listeners:[], old=null CLOSED
2024-01-17 16:16:19,678 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testShutdownBeforeStart" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="1.469">
    <system-out><![CDATA[2024-01-17 16:16:19,678 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:16:19,678 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:16:19,678 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:16:19,678 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:16:19,756 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,756 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:19,756 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,856 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,856 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:19,857 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,957 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:19,957 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:19,957 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,057 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,057 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:20,058 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,158 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,158 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:20,158 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,259 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,260 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:20,261 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,362 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,363 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:20,364 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,465 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,465 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:20,466 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,566 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,567 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:20,567 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,668 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,668 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:20,669 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,769 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,770 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:20,770 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,941 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:20,942 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:20,942 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,043 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,044 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:21,044 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,145 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,145 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:21,146 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:21,147 [Time-limited test] INFO  impl.LeaderElection (LeaderElection.java:startIfNew(222)) - any@group-DEAD4EEAB136-LeaderElection69: skip starting since this is already CLOSED
]]></system-out>
  </testcase>
  <testcase name="testLeaderLease" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="1.589">
    <failure message="expected:&lt;false&gt; but was:&lt;true&gt;" type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: expected:<false> but was:<true>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.RaftServerTestUtil.assertLeaderLease(RaftServerTestUtil.java:164)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestLeaderLease(LeaderElectionTests.java:667)
	at org.apache.ratis.server.impl.LeaderElectionTests.runLeaseTest(LeaderElectionTests.java:649)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLeaderLease$8(LeaderElectionTests.java:657)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:140)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:120)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderLease(LeaderElectionTests.java:657)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
]]></failure>
    <system-out><![CDATA[2024-01-17 16:16:21,147 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:16:21,147 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:16:21,148 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:16:21,148 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:16:21,149 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(134)) - Running runWithNewCluster
2024-01-17 16:16:21,149 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:16:21,150 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-518F4F831EB8:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]
2024-01-17 16:16:21,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:16:21,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:16:21,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:21,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:16:21,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:16:21,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:16:21,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-518F4F831EB8:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280], format? true
2024-01-17 16:16:21,151 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0
2024-01-17 16:16:21,152 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0 does not exist.
2024-01-17 16:16:21,152 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0
2024-01-17 16:16:21,153 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:21,155 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:21,156 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:21,156 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:21,156 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:21,158 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0] (custom)
2024-01-17 16:16:21,159 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:21,159 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:21,162 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-518F4F831EB8:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280] returns group-518F4F831EB8:java.util.concurrent.CompletableFuture@132a5ceb[Not completed]
2024-01-17 16:16:21,162 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-518F4F831EB8:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280], format? true
2024-01-17 16:16:21,162 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1
2024-01-17 16:16:21,162 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1 does not exist.
2024-01-17 16:16:21,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1
2024-01-17 16:16:21,163 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:21,164 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:21,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:21,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:21,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:21,165 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1] (custom)
2024-01-17 16:16:21,165 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:21,165 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:21,166 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-518F4F831EB8:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280] with BaseStateMachine:uninitialized
2024-01-17 16:16:21,167 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:21,167 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:21,167 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:21,167 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:21,167 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:21,168 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:21,168 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:21,168 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-518F4F831EB8: ConfigurationManager, init=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:21,168 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:21,168 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:21,168 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:21,169 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:21,169 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:21,169 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:21,175 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:21,175 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:21,176 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:21,176 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:21,176 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:21,176 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:21,179 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-518F4F831EB8:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280] returns group-518F4F831EB8:java.util.concurrent.CompletableFuture@6b480f59[Not completed]
2024-01-17 16:16:21,179 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-518F4F831EB8:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280], format? true
2024-01-17 16:16:21,179 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2
2024-01-17 16:16:21,180 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2 does not exist.
2024-01-17 16:16:21,180 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2
2024-01-17 16:16:21,180 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:21,181 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:21,181 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:21,181 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:21,181 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:21,182 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2] (custom)
2024-01-17 16:16:21,182 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:21,182 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:21,183 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-518F4F831EB8:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280] with BaseStateMachine:uninitialized
2024-01-17 16:16:21,183 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:21,183 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:21,183 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:21,183 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:21,184 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:21,184 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:21,184 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:21,184 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-518F4F831EB8: ConfigurationManager, init=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:21,184 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:21,184 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:21,185 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:21,185 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:21,185 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:21,185 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:21,189 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:21,189 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:21,189 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:21,190 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:21,190 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:21,190 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:21,191 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-518F4F831EB8:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280] returns group-518F4F831EB8:java.util.concurrent.CompletableFuture@4799229a[Not completed]
2024-01-17 16:16:21,192 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:21,193 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:21,193 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0] (custom)
2024-01-17 16:16:21,193 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8 does not exist. Creating ...
2024-01-17 16:16:21,194 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8
2024-01-17 16:16:21,194 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-518F4F831EB8:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280] with BaseStateMachine:uninitialized
2024-01-17 16:16:21,195 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:21,195 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:21,195 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:21,195 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current
2024-01-17 16:16:21,195 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/sm
2024-01-17 16:16:21,196 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1b691a2c
2024-01-17 16:16:21,195 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:21,197 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:21,197 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:21,197 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:21,197 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8 has been successfully formatted.
2024-01-17 16:16:21,198 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:21,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:21,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:21,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:21,199 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:21,200 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:21,201 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:21,201 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:21,201 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:21,201 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:21,201 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:21,202 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-518F4F831EB8: ConfigurationManager, init=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:21,202 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:21,202 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:21,202 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:21,202 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:21,202 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:21,202 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:21,207 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:21,207 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:21,208 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:21,208 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:21,208 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:21,208 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:21,211 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-518F4F831EB8-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:21,212 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-518F4F831EB8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8
2024-01-17 16:16:21,212 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:21,212 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:21,212 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:21,212 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:21,212 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:21,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:21,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:21,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:21,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:21,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:21,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:21,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:21,215 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:21,215 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-518F4F831EB8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:21,215 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-518F4F831EB8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:21,216 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-518F4F831EB8: start as a follower, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null
2024-01-17 16:16:21,216 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-518F4F831EB8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:21,216 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-518F4F831EB8-FollowerState
2024-01-17 16:16:21,216 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-518F4F831EB8,id=s0
2024-01-17 16:16:21,216 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-518F4F831EB8,id=s0
2024-01-17 16:16:21,216 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:21,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:21,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:21,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:21,218 [s0@group-518F4F831EB8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:21,218 [s0@group-518F4F831EB8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:21,218 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:16:21,219 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:21,219 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:21,219 [JvmPauseMonitor68] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:16:21,220 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1] (custom)
2024-01-17 16:16:21,220 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8 does not exist. Creating ...
2024-01-17 16:16:21,221 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8
2024-01-17 16:16:21,221 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:21,222 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current
2024-01-17 16:16:21,222 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/sm
2024-01-17 16:16:21,222 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3164dc98
2024-01-17 16:16:21,223 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:21,223 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8 has been successfully formatted.
2024-01-17 16:16:21,224 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:21,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:21,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:21,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:21,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:21,226 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:21,226 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:21,227 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:21,227 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:21,235 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-518F4F831EB8-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:21,236 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-518F4F831EB8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8
2024-01-17 16:16:21,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:21,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:21,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:21,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:21,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:21,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:21,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:21,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:21,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:21,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:21,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:21,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:21,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:21,239 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-518F4F831EB8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:21,239 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-518F4F831EB8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:21,239 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-518F4F831EB8: start as a follower, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null
2024-01-17 16:16:21,239 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-518F4F831EB8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:21,239 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-518F4F831EB8-FollowerState
2024-01-17 16:16:21,240 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-518F4F831EB8,id=s1
2024-01-17 16:16:21,240 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-518F4F831EB8,id=s1
2024-01-17 16:16:21,240 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:21,240 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:21,240 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:21,240 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:21,241 [s1@group-518F4F831EB8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:21,241 [s1@group-518F4F831EB8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:21,241 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:16:21,243 [JvmPauseMonitor69] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:16:21,243 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:21,243 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:21,243 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2] (custom)
2024-01-17 16:16:21,244 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8 does not exist. Creating ...
2024-01-17 16:16:21,244 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8
2024-01-17 16:16:21,245 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:21,245 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current
2024-01-17 16:16:21,246 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/sm
2024-01-17 16:16:21,246 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6debeff
2024-01-17 16:16:21,246 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,247 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:21,247 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,248 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:21,249 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8 has been successfully formatted.
2024-01-17 16:16:21,249 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,249 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:21,249 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:21,249 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:21,250 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:21,250 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:21,251 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:21,252 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:21,252 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:21,252 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:21,255 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-518F4F831EB8-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:21,255 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-518F4F831EB8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8
2024-01-17 16:16:21,256 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:21,256 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:21,256 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:21,256 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:21,256 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:21,256 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:21,256 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:21,256 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:21,257 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:21,258 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:21,258 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:21,258 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:21,258 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:21,259 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-518F4F831EB8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:21,259 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-518F4F831EB8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:21,259 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-518F4F831EB8: start as a follower, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null
2024-01-17 16:16:21,260 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-518F4F831EB8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:21,260 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-518F4F831EB8-FollowerState
2024-01-17 16:16:21,264 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-518F4F831EB8,id=s2
2024-01-17 16:16:21,264 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-518F4F831EB8,id=s2
2024-01-17 16:16:21,264 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:21,264 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:21,264 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:21,264 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:21,265 [s2@group-518F4F831EB8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:21,265 [s2@group-518F4F831EB8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:21,265 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:16:21,266 [JvmPauseMonitor70] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:16:21,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:21,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:21,268 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:21,268 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-518F4F831EB8:t0, leader=null, voted=, raftlog=Memoized:s0@group-518F4F831EB8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-518F4F831EB8:t0, leader=null, voted=, raftlog=Memoized:s1@group-518F4F831EB8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-518F4F831EB8:t0, leader=null, voted=, raftlog=Memoized:s2@group-518F4F831EB8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null RUNNING
2024-01-17 16:16:21,269 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-518F4F831EB8:t0, leader=null, voted=, raftlog=Memoized:s0@group-518F4F831EB8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-518F4F831EB8:t0, leader=null, voted=, raftlog=Memoized:s1@group-518F4F831EB8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-518F4F831EB8:t0, leader=null, voted=, raftlog=Memoized:s2@group-518F4F831EB8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null RUNNING
2024-01-17 16:16:21,347 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,348 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:21,348 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,403 [s0@group-518F4F831EB8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-518F4F831EB8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:187286012ns, electionTimeout:185ms
2024-01-17 16:16:21,403 [s0@group-518F4F831EB8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-518F4F831EB8-FollowerState
2024-01-17 16:16:21,403 [s0@group-518F4F831EB8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-518F4F831EB8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:16:21,404 [s0@group-518F4F831EB8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:21,404 [s0@group-518F4F831EB8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-518F4F831EB8-LeaderElection70
2024-01-17 16:16:21,404 [s0@group-518F4F831EB8-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-518F4F831EB8-LeaderElection70 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null
2024-01-17 16:16:21,406 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:21,406 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:21,407 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-518F4F831EB8: receive requestVote(PRE_VOTE, s0, group-518F4F831EB8, 0, (t:0, i:0))
2024-01-17 16:16:21,407 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-518F4F831EB8-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:21,408 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-518F4F831EB8 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-518F4F831EB8:t0, leader=null, voted=, raftlog=Memoized:s1@group-518F4F831EB8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null
2024-01-17 16:16:21,408 [s0@group-518F4F831EB8-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-518F4F831EB8-LeaderElection70: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:21,408 [s0@group-518F4F831EB8-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2024-01-17 16:16:21,408 [s0@group-518F4F831EB8-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-518F4F831EB8-LeaderElection70 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:21,408 [s0@group-518F4F831EB8-LeaderElection70] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@28447082
2024-01-17 16:16:21,409 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-518F4F831EB8: receive requestVote(PRE_VOTE, s0, group-518F4F831EB8, 0, (t:0, i:0))
2024-01-17 16:16:21,409 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-518F4F831EB8-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:21,410 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-518F4F831EB8 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-518F4F831EB8:t0, leader=null, voted=, raftlog=Memoized:s2@group-518F4F831EB8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null
2024-01-17 16:16:21,410 [s0@group-518F4F831EB8-LeaderElection70] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:21,410 [s0@group-518F4F831EB8-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-518F4F831EB8-LeaderElection70 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null
2024-01-17 16:16:21,410 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:21,410 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:21,411 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-518F4F831EB8: receive requestVote(ELECTION, s0, group-518F4F831EB8, 1, (t:0, i:0))
2024-01-17 16:16:21,411 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-518F4F831EB8-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:21,411 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-518F4F831EB8: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:16:21,411 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-518F4F831EB8-FollowerState
2024-01-17 16:16:21,411 [s1@group-518F4F831EB8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-518F4F831EB8-FollowerState was interrupted
2024-01-17 16:16:21,411 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-518F4F831EB8-FollowerState
2024-01-17 16:16:21,412 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-518F4F831EB8: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:16:21,412 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@14f7afac
2024-01-17 16:16:21,413 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-518F4F831EB8: receive requestVote(ELECTION, s0, group-518F4F831EB8, 1, (t:0, i:0))
2024-01-17 16:16:21,413 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-518F4F831EB8-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:21,413 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-518F4F831EB8: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:16:21,413 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:21,413 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-518F4F831EB8-FollowerState
2024-01-17 16:16:21,413 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-518F4F831EB8-FollowerState
2024-01-17 16:16:21,413 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-518F4F831EB8 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-518F4F831EB8:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-518F4F831EB8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null
2024-01-17 16:16:21,413 [s2@group-518F4F831EB8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-518F4F831EB8-FollowerState was interrupted
2024-01-17 16:16:21,413 [s0@group-518F4F831EB8-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-518F4F831EB8-LeaderElection70: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:21,413 [s0@group-518F4F831EB8-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2024-01-17 16:16:21,414 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-518F4F831EB8: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:16:21,414 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@69f23c84
2024-01-17 16:16:21,414 [s0@group-518F4F831EB8-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-518F4F831EB8-LeaderElection70 ELECTION round 0: result PASSED
2024-01-17 16:16:21,414 [s0@group-518F4F831EB8-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-518F4F831EB8-LeaderElection70
2024-01-17 16:16:21,414 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-518F4F831EB8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:16:21,414 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:21,414 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:21,415 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:21,415 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:21,415 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-518F4F831EB8 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-518F4F831EB8:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-518F4F831EB8-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null
2024-01-17 16:16:21,415 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:21,415 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:21,415 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:21,416 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:21,416 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:21,416 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:21,416 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:21,416 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:21,417 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:21,417 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:21,417 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:21,417 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:21,417 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:21,418 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:21,418 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:21,418 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:21,418 [s0@group-518F4F831EB8-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-518F4F831EB8-LeaderStateImpl
2024-01-17 16:16:21,418 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-518F4F831EB8: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:16:21,418 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-518F4F831EB8: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 249ms
2024-01-17 16:16:21,418 [s0@group-518F4F831EB8-LeaderElection70] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-518F4F831EB8-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:21,419 [s0@group-518F4F831EB8-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:21,423 [s0@group-518F4F831EB8-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-518F4F831EB8: set configuration 0: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null
2024-01-17 16:16:21,426 [s0@group-518F4F831EB8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-518F4F831EB8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/log_inprogress_0
2024-01-17 16:16:21,428 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-518F4F831EB8: change Leader from null to s0 at term 1 for appendEntries, leader elected after 243ms
2024-01-17 16:16:21,430 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-518F4F831EB8: change Leader from null to s0 at term 1 for appendEntries, leader elected after 227ms
2024-01-17 16:16:21,431 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-518F4F831EB8: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:3804, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15272"
dataStreamAddress: "localhost:15275"
clientAddress: "localhost:15274"
adminAddress: "localhost:15273"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15276"
dataStreamAddress: "localhost:15279"
clientAddress: "localhost:15278"
adminAddress: "localhost:15277"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15280"
dataStreamAddress: "localhost:15283"
clientAddress: "localhost:15282"
adminAddress: "localhost:15281"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:21,432 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-518F4F831EB8: set configuration 0: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null
2024-01-17 16:16:21,432 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-518F4F831EB8-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:21,433 [s1@group-518F4F831EB8-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:21,441 [s1@group-518F4F831EB8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-518F4F831EB8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/log_inprogress_0
2024-01-17 16:16:21,441 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-518F4F831EB8: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:3810, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15272"
dataStreamAddress: "localhost:15275"
clientAddress: "localhost:15274"
adminAddress: "localhost:15273"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15276"
dataStreamAddress: "localhost:15279"
clientAddress: "localhost:15278"
adminAddress: "localhost:15277"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15280"
dataStreamAddress: "localhost:15283"
clientAddress: "localhost:15282"
adminAddress: "localhost:15281"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:21,442 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-518F4F831EB8: succeeded to handle AppendEntries. Reply: s0<-s1#3804:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:21,442 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-518F4F831EB8: set configuration 0: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null
2024-01-17 16:16:21,442 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-518F4F831EB8-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:21,443 [s2@group-518F4F831EB8-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:21,443 [s0@group-518F4F831EB8-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@353487ca
2024-01-17 16:16:21,446 [s0@group-518F4F831EB8-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s0/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:21,446 [s0@group-518F4F831EB8-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:16:21,448 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,449 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:21,449 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,451 [s2@group-518F4F831EB8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-518F4F831EB8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/log_inprogress_0
2024-01-17 16:16:21,452 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-518F4F831EB8: succeeded to handle AppendEntries. Reply: s0<-s2#3810:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:21,519 [s1@group-518F4F831EB8-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6591ada7
2024-01-17 16:16:21,521 [s1@group-518F4F831EB8-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s1/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:21,529 [s2@group-518F4F831EB8-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4e2c8b8f
2024-01-17 16:16:21,530 [s2@group-518F4F831EB8-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc5c801ce7/s2/c8d87f69-dab7-4f79-ac67-518f4f831eb8/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:21,549 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,549 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:21,549 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,650 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,650 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:21,650 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,720 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-518F4F831EB8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-518F4F831EB8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-518F4F831EB8:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-518F4F831EB8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-518F4F831EB8:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-518F4F831EB8-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null RUNNING
2024-01-17 16:16:21,720 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:21,721 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-030B3DA34D6A: get 3835 returns []
2024-01-17 16:16:21,722 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s0@group-518F4F831EB8: receive client request(RaftClientRequest:client-030B3DA34D6A->s0@group-518F4F831EB8, cid=3835, seq=null, RW, message)
2024-01-17 16:16:21,723 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s0@group-518F4F831EB8-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-030B3DA34D6A->s0@group-518F4F831EB8, cid=3835, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 3835@client-030B3DA34D6A
2024-01-17 16:16:21,724 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-518F4F831EB8: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0], cId:3837, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3835@client-030B3DA34D6A]
2024-01-17 16:16:21,724 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-518F4F831EB8: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0], cId:3836, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3835@client-030B3DA34D6A]
2024-01-17 16:16:21,725 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-518F4F831EB8: succeeded to handle AppendEntries. Reply: s0<-s2#3836:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:21,725 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-518F4F831EB8: succeeded to handle AppendEntries. Reply: s0<-s1#3837:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:21,726 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-518F4F831EB8: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0], cId:3838, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:21,727 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-518F4F831EB8: succeeded to handle AppendEntries. Reply: s0<-s1#3838:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:21,728 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-518F4F831EB8: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0], cId:3839, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:21,729 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-518F4F831EB8: succeeded to handle AppendEntries. Reply: s0<-s2#3839:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:21,801 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,801 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-030B3DA34D6A: add replied callId 3835
2024-01-17 16:16:21,808 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:21,808 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:21,808 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:21,808 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:21,809 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:21,809 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:21,809 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,813 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-518F4F831EB8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-518F4F831EB8-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-518F4F831EB8:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-518F4F831EB8-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-518F4F831EB8:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-518F4F831EB8-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:15272, s1|localhost:15276, s2|localhost:15280]|listeners:[], old=null RUNNING
2024-01-17 16:16:21,815 [MiniRaftCluster-97] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:16:21,816 [MiniRaftCluster-98] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:16:21,816 [MiniRaftCluster-99] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:16:21,816 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-518F4F831EB8: shutdown
2024-01-17 16:16:21,816 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-518F4F831EB8: shutdown
2024-01-17 16:16:21,816 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,816 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-518F4F831EB8,id=s2
2024-01-17 16:16:21,816 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-518F4F831EB8-FollowerState
2024-01-17 16:16:21,816 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,816 [s2@group-518F4F831EB8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-518F4F831EB8-FollowerState was interrupted
2024-01-17 16:16:21,816 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,816 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-518F4F831EB8: shutdown
2024-01-17 16:16:21,816 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,816 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,816 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,816 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,816 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,817 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,816 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-518F4F831EB8,id=s1
2024-01-17 16:16:21,817 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-518F4F831EB8-FollowerState
2024-01-17 16:16:21,817 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-518F4F831EB8-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:16:21,817 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,817 [s1@group-518F4F831EB8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-518F4F831EB8-FollowerState was interrupted
2024-01-17 16:16:21,816 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-518F4F831EB8-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:16:21,817 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,816 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-518F4F831EB8,id=s0
2024-01-17 16:16:21,817 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-518F4F831EB8-LeaderStateImpl
2024-01-17 16:16:21,817 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-518F4F831EB8-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:21,817 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,818 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-518F4F831EB8: applyIndex: 2
2024-01-17 16:16:21,818 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,818 [s2@group-518F4F831EB8-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-518F4F831EB8-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:21,818 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,818 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,818 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,819 [s0@group-518F4F831EB8->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-518F4F831EB8->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:21,819 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,819 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:21,819 [s0@group-518F4F831EB8->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-518F4F831EB8->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:21,819 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-518F4F831EB8: applyIndex: 2
2024-01-17 16:16:21,819 [s1@group-518F4F831EB8-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-518F4F831EB8-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:21,820 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-518F4F831EB8-StateMachineUpdater: set stopIndex = 2
2024-01-17 16:16:21,820 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-518F4F831EB8: applyIndex: 2
2024-01-17 16:16:21,820 [s0@group-518F4F831EB8-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-518F4F831EB8-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:21,909 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:21,910 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:21,910 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,010 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,010 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s1
2024-01-17 16:16:22,011 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s1 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,111 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,111 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:22,111 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,211 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,212 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:22,212 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,312 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,312 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:22,312 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,413 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,413 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:22,413 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,513 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,514 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:22,514 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,614 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,614 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:22,614 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,715 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,715 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:22,715 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,727 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-518F4F831EB8-SegmentedRaftLogWorker close()
2024-01-17 16:16:22,728 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-518F4F831EB8-SegmentedRaftLogWorker close()
2024-01-17 16:16:22,728 [JvmPauseMonitor68] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:16:22,729 [JvmPauseMonitor69] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:16:22,729 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-518F4F831EB8-SegmentedRaftLogWorker close()
2024-01-17 16:16:22,730 [JvmPauseMonitor70] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:16:22,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testLeaderNotCountListenerForMajority" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="1.592">
    <system-out><![CDATA[2024-01-17 16:16:22,736 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:16:22,737 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:16:22,737 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:16:22,737 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:16:22,738 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(134)) - Running runWithNewCluster
2024-01-17 16:16:22,738 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:16:22,739 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]
2024-01-17 16:16:22,740 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:16:22,740 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:16:22,740 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:22,740 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:16:22,740 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:16:22,740 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:16:22,740 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s3, group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292], format? true
2024-01-17 16:16:22,740 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3
2024-01-17 16:16:22,740 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3 does not exist.
2024-01-17 16:16:22,740 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3
2024-01-17 16:16:22,741 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:22,741 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:22,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:22,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:22,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:22,742 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3] (custom)
2024-01-17 16:16:22,742 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:22,742 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:22,742 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s3: addNew group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] returns group-C875AB2689B0:java.util.concurrent.CompletableFuture@51c8a045[Not completed]
2024-01-17 16:16:22,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s4, group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292], format? true
2024-01-17 16:16:22,743 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4
2024-01-17 16:16:22,743 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4 does not exist.
2024-01-17 16:16:22,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4
2024-01-17 16:16:22,743 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:22,743 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:22,743 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:22,743 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:22,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:22,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4] (custom)
2024-01-17 16:16:22,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:22,744 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:22,744 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s3: new RaftServerImpl for group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] with BaseStateMachine:uninitialized
2024-01-17 16:16:22,744 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:22,744 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:22,744 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:22,744 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:22,745 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:22,745 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:22,745 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:22,745 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-C875AB2689B0: ConfigurationManager, init=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:22,745 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:22,745 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:22,745 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:22,745 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:22,745 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:22,745 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:22,747 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:22,747 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:22,747 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:22,747 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:22,747 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:22,747 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:22,751 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s4: addNew group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] returns group-C875AB2689B0:java.util.concurrent.CompletableFuture@9c58f40[Not completed]
2024-01-17 16:16:22,752 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s4: new RaftServerImpl for group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] with BaseStateMachine:uninitialized
2024-01-17 16:16:22,752 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292], format? true
2024-01-17 16:16:22,752 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0
2024-01-17 16:16:22,752 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0 does not exist.
2024-01-17 16:16:22,752 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0
2024-01-17 16:16:22,752 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:22,752 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:22,753 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:22,753 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:22,753 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:22,753 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0] (custom)
2024-01-17 16:16:22,753 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:22,753 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:22,752 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:22,753 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:22,753 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:22,753 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:22,753 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:22,754 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:22,754 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:22,754 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-C875AB2689B0: ConfigurationManager, init=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:22,754 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:22,754 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:22,754 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:22,754 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:22,754 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:22,754 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:22,755 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:22,755 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:22,755 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:22,756 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:22,756 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:22,756 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:22,756 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] returns group-C875AB2689B0:java.util.concurrent.CompletableFuture@62b0ba6e[Not completed]
2024-01-17 16:16:22,756 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292], format? true
2024-01-17 16:16:22,756 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1
2024-01-17 16:16:22,756 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1 does not exist.
2024-01-17 16:16:22,756 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1
2024-01-17 16:16:22,756 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:22,757 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:22,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:22,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:22,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:22,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1] (custom)
2024-01-17 16:16:22,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:22,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] with BaseStateMachine:uninitialized
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-C875AB2689B0: ConfigurationManager, init=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:22,758 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:22,759 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:22,759 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:22,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:22,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:22,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:22,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:22,763 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] returns group-C875AB2689B0:java.util.concurrent.CompletableFuture@56d3132e[Not completed]
2024-01-17 16:16:22,763 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292], format? true
2024-01-17 16:16:22,764 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2
2024-01-17 16:16:22,764 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2 does not exist.
2024-01-17 16:16:22,764 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2
2024-01-17 16:16:22,764 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:22,764 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:22,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:22,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:22,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:22,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2] (custom)
2024-01-17 16:16:22,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:22,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:22,765 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] with BaseStateMachine:uninitialized
2024-01-17 16:16:22,765 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:22,765 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:22,765 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:22,765 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:22,765 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:22,765 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:22,765 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:22,766 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-C875AB2689B0: ConfigurationManager, init=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:22,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:22,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:22,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:22,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:22,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:22,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:22,767 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:22,767 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:22,767 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:22,767 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:22,767 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:22,768 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:22,772 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] returns group-C875AB2689B0:java.util.concurrent.CompletableFuture@54232bb8[Not completed]
2024-01-17 16:16:22,772 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:22,772 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-C875AB2689B0:[s3|localhost:15296, s4|localhost:15300, s0|localhost:15284, s1|localhost:15288, s2|localhost:15292] with BaseStateMachine:uninitialized
2024-01-17 16:16:22,772 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:22,772 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:22,772 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:22,772 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3] (custom)
2024-01-17 16:16:22,772 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:22,772 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:22,773 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:22,773 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:22,773 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0 does not exist. Creating ...
2024-01-17 16:16:22,773 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:22,773 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-C875AB2689B0: ConfigurationManager, init=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:22,773 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:22,773 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:22,773 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0
2024-01-17 16:16:22,773 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:22,773 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:22,773 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:22,773 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:22,774 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:22,774 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current
2024-01-17 16:16:22,774 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/sm
2024-01-17 16:16:22,774 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@20d4007e
2024-01-17 16:16:22,775 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:22,775 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:22,775 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:22,775 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:22,775 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:22,775 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:22,775 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:22,775 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0 has been successfully formatted.
2024-01-17 16:16:22,776 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,776 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:22,776 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:22,776 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,776 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:22,776 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:22,777 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:22,777 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:22,777 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:22,777 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,777 [s3-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s3@group-C875AB2689B0-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:22,777 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s3@group-C875AB2689B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0
2024-01-17 16:16:22,777 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:22,777 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:22,777 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:22,778 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:22,778 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:22,778 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:22,778 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:22,778 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:22,778 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:22,780 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,780 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:22,780 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:22,780 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:22,780 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-C875AB2689B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:22,780 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-C875AB2689B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:22,781 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(349)) - s3@group-C875AB2689B0: start as a listener, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,781 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s3@group-C875AB2689B0: changes role from      null to LISTENER at term 0 for startAsListener
2024-01-17 16:16:22,781 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s3: start s3@group-C875AB2689B0-FollowerState
2024-01-17 16:16:22,781 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C875AB2689B0,id=s3
2024-01-17 16:16:22,781 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C875AB2689B0,id=s3
2024-01-17 16:16:22,781 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:22,781 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:22,781 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:22,781 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:22,782 [s3@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:22,782 [s3@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:22,782 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s3: start RPC server
2024-01-17 16:16:22,788 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:22,788 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:22,788 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4] (custom)
2024-01-17 16:16:22,788 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0 does not exist. Creating ...
2024-01-17 16:16:22,789 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0
2024-01-17 16:16:22,789 [JvmPauseMonitor71] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s3: Started
2024-01-17 16:16:22,790 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:22,790 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current
2024-01-17 16:16:22,790 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/sm
2024-01-17 16:16:22,790 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@12d5df7f
2024-01-17 16:16:22,791 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:22,791 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0 has been successfully formatted.
2024-01-17 16:16:22,791 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,791 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:22,792 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:22,792 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:22,793 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:22,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:22,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:22,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:22,794 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,796 [s4-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s4@group-C875AB2689B0-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:22,796 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s4@group-C875AB2689B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0
2024-01-17 16:16:22,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:22,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:22,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:22,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:22,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:22,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:22,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:22,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:22,796 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:22,797 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,797 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:22,797 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:22,797 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:22,797 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-C875AB2689B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:22,797 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-C875AB2689B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:22,797 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(349)) - s4@group-C875AB2689B0: start as a listener, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,797 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s4@group-C875AB2689B0: changes role from      null to LISTENER at term 0 for startAsListener
2024-01-17 16:16:22,797 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s4: start s4@group-C875AB2689B0-FollowerState
2024-01-17 16:16:22,798 [s4@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:22,798 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C875AB2689B0,id=s4
2024-01-17 16:16:22,798 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C875AB2689B0,id=s4
2024-01-17 16:16:22,798 [s4@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:22,798 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:22,798 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:22,798 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:22,798 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:22,799 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s4: start RPC server
2024-01-17 16:16:22,800 [JvmPauseMonitor72] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s4: Started
2024-01-17 16:16:22,800 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:22,800 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:22,800 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0] (custom)
2024-01-17 16:16:22,800 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0 does not exist. Creating ...
2024-01-17 16:16:22,801 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0
2024-01-17 16:16:22,801 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:22,801 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current
2024-01-17 16:16:22,802 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/sm
2024-01-17 16:16:22,802 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@38894b91
2024-01-17 16:16:22,803 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:22,803 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0 has been successfully formatted.
2024-01-17 16:16:22,803 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:22,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:22,803 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:22,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:22,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:22,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:22,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:22,804 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,805 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-C875AB2689B0-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:22,805 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-C875AB2689B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0
2024-01-17 16:16:22,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:22,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:22,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:22,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:22,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:22,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:22,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:22,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:22,805 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:22,807 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,808 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:22,808 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:22,808 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:22,808 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C875AB2689B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:22,808 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C875AB2689B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:22,808 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-C875AB2689B0: start as a follower, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,808 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-C875AB2689B0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:22,808 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-C875AB2689B0-FollowerState
2024-01-17 16:16:22,809 [s0@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:22,809 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C875AB2689B0,id=s0
2024-01-17 16:16:22,809 [s0@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:22,809 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C875AB2689B0,id=s0
2024-01-17 16:16:22,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:22,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:22,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:22,809 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:22,810 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:16:22,810 [JvmPauseMonitor73] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:16:22,811 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:22,811 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:22,811 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1] (custom)
2024-01-17 16:16:22,811 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0 does not exist. Creating ...
2024-01-17 16:16:22,811 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0
2024-01-17 16:16:22,812 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:22,812 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current
2024-01-17 16:16:22,812 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/sm
2024-01-17 16:16:22,813 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@27535127
2024-01-17 16:16:22,813 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:22,814 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0 has been successfully formatted.
2024-01-17 16:16:22,814 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,814 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:22,814 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:22,814 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,814 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:22,814 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:22,815 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:22,815 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:22,815 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:22,815 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,815 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-C875AB2689B0-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:22,815 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-C875AB2689B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0
2024-01-17 16:16:22,815 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:22,815 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,815 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:22,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:22,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:22,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:22,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:22,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:22,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:22,816 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:22,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:22,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:22,818 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:22,819 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C875AB2689B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:22,819 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C875AB2689B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:22,815 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s0
2024-01-17 16:16:22,819 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s0 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,819 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-C875AB2689B0: start as a follower, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,819 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-C875AB2689B0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:22,819 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-C875AB2689B0-FollowerState
2024-01-17 16:16:22,820 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C875AB2689B0,id=s1
2024-01-17 16:16:22,820 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C875AB2689B0,id=s1
2024-01-17 16:16:22,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:22,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:22,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:22,820 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:22,820 [s1@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:22,820 [s1@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:22,822 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:16:22,824 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:22,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:22,825 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2] (custom)
2024-01-17 16:16:22,825 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0 does not exist. Creating ...
2024-01-17 16:16:22,825 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0
2024-01-17 16:16:22,826 [JvmPauseMonitor74] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:16:22,826 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:22,826 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current
2024-01-17 16:16:22,826 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/sm
2024-01-17 16:16:22,826 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@e6ce830
2024-01-17 16:16:22,827 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:22,827 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0 has been successfully formatted.
2024-01-17 16:16:22,827 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:22,827 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:22,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:22,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:22,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:22,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:22,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:22,828 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,831 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-C875AB2689B0-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:22,831 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-C875AB2689B0-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0
2024-01-17 16:16:22,831 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:22,831 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:22,831 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:22,831 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:22,831 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:22,831 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:22,831 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:22,831 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:22,831 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:22,832 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,832 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:22,832 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:22,832 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:22,833 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C875AB2689B0-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:22,833 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C875AB2689B0-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:22,833 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-C875AB2689B0: start as a follower, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,833 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-C875AB2689B0: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:22,833 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-C875AB2689B0-FollowerState
2024-01-17 16:16:22,833 [s2@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:22,833 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C875AB2689B0,id=s2
2024-01-17 16:16:22,833 [s2@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:22,833 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-C875AB2689B0,id=s2
2024-01-17 16:16:22,833 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:22,833 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:22,833 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:22,833 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:22,834 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:16:22,839 [JvmPauseMonitor75] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:16:22,844 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:22,844 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-C875AB2689B0:t0, leader=null, voted=, raftlog=Memoized:s3@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-C875AB2689B0:t0, leader=null, voted=, raftlog=Memoized:s4@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C875AB2689B0:t0, leader=null, voted=, raftlog=Memoized:s0@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C875AB2689B0:t0, leader=null, voted=, raftlog=Memoized:s1@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C875AB2689B0:t0, leader=null, voted=, raftlog=Memoized:s2@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
2024-01-17 16:16:22,844 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  LISTENER s3@group-C875AB2689B0:t0, leader=null, voted=, raftlog=Memoized:s3@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-C875AB2689B0:t0, leader=null, voted=, raftlog=Memoized:s4@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-C875AB2689B0:t0, leader=null, voted=, raftlog=Memoized:s0@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C875AB2689B0:t0, leader=null, voted=, raftlog=Memoized:s1@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C875AB2689B0:t0, leader=null, voted=, raftlog=Memoized:s2@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
2024-01-17 16:16:22,919 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,920 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:22,920 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:22,970 [s3@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:22,970 [s3@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:22,971 [s0@group-C875AB2689B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C875AB2689B0-FollowerState: change to CANDIDATE, lastRpcElapsedTime:162535990ns, electionTimeout:162ms
2024-01-17 16:16:22,971 [s0@group-C875AB2689B0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-C875AB2689B0-FollowerState
2024-01-17 16:16:22,971 [s0@group-C875AB2689B0-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-C875AB2689B0: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:16:22,971 [s0@group-C875AB2689B0-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:22,971 [s0@group-C875AB2689B0-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-C875AB2689B0-LeaderElection71
2024-01-17 16:16:22,972 [s0@group-C875AB2689B0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-C875AB2689B0-LeaderElection71 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,972 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:22,972 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-C875AB2689B0: receive requestVote(PRE_VOTE, s0, group-C875AB2689B0, 0, (t:0, i:0))
2024-01-17 16:16:22,972 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-C875AB2689B0: receive requestVote(PRE_VOTE, s0, group-C875AB2689B0, 0, (t:0, i:0))
2024-01-17 16:16:22,972 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:22,972 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C875AB2689B0-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:22,972 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C875AB2689B0-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:22,973 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-C875AB2689B0 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-C875AB2689B0:t0, leader=null, voted=, raftlog=Memoized:s2@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,973 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-C875AB2689B0 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-C875AB2689B0:t0, leader=null, voted=, raftlog=Memoized:s1@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,973 [s0@group-C875AB2689B0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C875AB2689B0-LeaderElection71: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:22,973 [s0@group-C875AB2689B0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2024-01-17 16:16:22,973 [s0@group-C875AB2689B0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-C875AB2689B0-LeaderElection71 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:22,973 [s0@group-C875AB2689B0-LeaderElection71] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5b6da632
2024-01-17 16:16:22,974 [s0@group-C875AB2689B0-LeaderElection71] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:22,974 [s0@group-C875AB2689B0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-C875AB2689B0-LeaderElection71 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,974 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:22,974 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-C875AB2689B0: receive requestVote(ELECTION, s0, group-C875AB2689B0, 1, (t:0, i:0))
2024-01-17 16:16:22,974 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C875AB2689B0-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:22,974 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:22,974 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-C875AB2689B0: receive requestVote(ELECTION, s0, group-C875AB2689B0, 1, (t:0, i:0))
2024-01-17 16:16:22,975 [HandlerDaemon-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C875AB2689B0-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:22,975 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-C875AB2689B0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:16:22,975 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-C875AB2689B0-FollowerState
2024-01-17 16:16:22,975 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-C875AB2689B0: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:16:22,975 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-C875AB2689B0-FollowerState
2024-01-17 16:16:22,975 [s2@group-C875AB2689B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C875AB2689B0-FollowerState was interrupted
2024-01-17 16:16:22,975 [s1@group-C875AB2689B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C875AB2689B0-FollowerState was interrupted
2024-01-17 16:16:22,975 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-C875AB2689B0-FollowerState
2024-01-17 16:16:22,975 [HandlerDaemon-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-C875AB2689B0-FollowerState
2024-01-17 16:16:22,975 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-C875AB2689B0: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:16:22,975 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1749724e
2024-01-17 16:16:22,976 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:22,976 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-C875AB2689B0 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-C875AB2689B0:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,976 [s0@group-C875AB2689B0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C875AB2689B0-LeaderElection71: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:22,976 [s0@group-C875AB2689B0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2024-01-17 16:16:22,979 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-C875AB2689B0: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:16:22,979 [s0@group-C875AB2689B0-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-C875AB2689B0-LeaderElection71 ELECTION round 0: result PASSED
2024-01-17 16:16:22,979 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@25fe3b82
2024-01-17 16:16:22,979 [s0@group-C875AB2689B0-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-C875AB2689B0-LeaderElection71
2024-01-17 16:16:22,979 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-C875AB2689B0: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:16:22,979 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:22,979 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:22,979 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:22,980 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:22,980 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:22,980 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:22,980 [HandlerDaemon-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:22,980 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:22,980 [HandlerDaemon-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-C875AB2689B0 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-C875AB2689B0:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-C875AB2689B0-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,980 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:22,980 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:22,980 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:22,982 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:22,982 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:22,983 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,983 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:22,983 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:22,983 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:22,983 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,983 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:22,983 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:22,984 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:22,984 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,984 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:22,984 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:22,984 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:22,984 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:22,984 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:22,984 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:22,984 [s0@group-C875AB2689B0-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-C875AB2689B0-LeaderStateImpl
2024-01-17 16:16:22,984 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-C875AB2689B0: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:16:22,984 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-C875AB2689B0: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 226ms
2024-01-17 16:16:22,984 [s0@group-C875AB2689B0-LeaderElection71] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-C875AB2689B0-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:22,985 [s0@group-C875AB2689B0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:22,985 [s0@group-C875AB2689B0-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-C875AB2689B0: set configuration 0: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,986 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-C875AB2689B0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 220ms
2024-01-17 16:16:22,986 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-C875AB2689B0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 213ms
2024-01-17 16:16:22,987 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@20fa1faf
2024-01-17 16:16:22,988 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@290e2adf
2024-01-17 16:16:22,991 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C875AB2689B0: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:3914, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15284"
dataStreamAddress: "localhost:15287"
clientAddress: "localhost:15286"
adminAddress: "localhost:15285"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15288"
dataStreamAddress: "localhost:15291"
clientAddress: "localhost:15290"
adminAddress: "localhost:15289"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15292"
dataStreamAddress: "localhost:15295"
clientAddress: "localhost:15294"
adminAddress: "localhost:15293"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:22,991 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-C875AB2689B0: set configuration 0: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,991 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C875AB2689B0: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:3917, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15284"
dataStreamAddress: "localhost:15287"
clientAddress: "localhost:15286"
adminAddress: "localhost:15285"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15288"
dataStreamAddress: "localhost:15291"
clientAddress: "localhost:15290"
adminAddress: "localhost:15289"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15292"
dataStreamAddress: "localhost:15295"
clientAddress: "localhost:15294"
adminAddress: "localhost:15293"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:22,992 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-C875AB2689B0-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:22,992 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-C875AB2689B0: set configuration 0: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:22,992 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-C875AB2689B0-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:22,993 [s1@group-C875AB2689B0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:22,993 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:22,993 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s4@group-C875AB2689B0: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:16:22,993 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s4@group-C875AB2689B0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 239ms
2024-01-17 16:16:22,993 [s2@group-C875AB2689B0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:22,993 [s0@group-C875AB2689B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-C875AB2689B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/log_inprogress_0
2024-01-17 16:16:22,993 [HandlerDaemon-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:22,998 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s3@group-C875AB2689B0: set firstElectionSinceStartup to false for appendEntries
2024-01-17 16:16:22,998 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s3@group-C875AB2689B0: change Leader from null to s0 at term 1 for appendEntries, leader elected after 252ms
2024-01-17 16:16:22,999 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C875AB2689B0: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:3918, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15284"
dataStreamAddress: "localhost:15287"
clientAddress: "localhost:15286"
adminAddress: "localhost:15285"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15288"
dataStreamAddress: "localhost:15291"
clientAddress: "localhost:15290"
adminAddress: "localhost:15289"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15292"
dataStreamAddress: "localhost:15295"
clientAddress: "localhost:15294"
adminAddress: "localhost:15293"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:23,000 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-C875AB2689B0: set configuration 0: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:23,000 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s4@group-C875AB2689B0-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:23,000 [s4@group-C875AB2689B0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:23,001 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C875AB2689B0: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1, s3:c-1, s4:c-1], cId:3919, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15284"
dataStreamAddress: "localhost:15287"
clientAddress: "localhost:15286"
adminAddress: "localhost:15285"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15288"
dataStreamAddress: "localhost:15291"
clientAddress: "localhost:15290"
adminAddress: "localhost:15289"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15292"
dataStreamAddress: "localhost:15295"
clientAddress: "localhost:15294"
adminAddress: "localhost:15293"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:23,001 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-C875AB2689B0: set configuration 0: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null
2024-01-17 16:16:23,001 [HandlerDaemon-1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s3@group-C875AB2689B0-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:23,004 [s1@group-C875AB2689B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-C875AB2689B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/log_inprogress_0
2024-01-17 16:16:23,005 [s3@group-C875AB2689B0-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:23,005 [s2@group-C875AB2689B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-C875AB2689B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/log_inprogress_0
2024-01-17 16:16:23,007 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s2#3917:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:23,007 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s1#3914:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:23,008 [s0@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@e98896b
2024-01-17 16:16:23,015 [s4@group-C875AB2689B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s4@group-C875AB2689B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/log_inprogress_0
2024-01-17 16:16:23,015 [s3@group-C875AB2689B0-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s3@group-C875AB2689B0-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/log_inprogress_0
2024-01-17 16:16:23,015 [s0@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,015 [s0@group-C875AB2689B0-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:16:23,016 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s3#3919:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:23,016 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s4#3918:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:23,020 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,020 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:23,020 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,084 [s1@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@206bc4d6
2024-01-17 16:16:23,086 [s1@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,093 [s3@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4f4523a8
2024-01-17 16:16:23,094 [s3@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,103 [s2@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7c04764f
2024-01-17 16:16:23,103 [s4@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6e64672e
2024-01-17 16:16:23,105 [s4@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,105 [s2@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,121 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,121 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:23,121 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,221 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,221 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:23,221 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,295 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-C875AB2689B0:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-C875AB2689B0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-C875AB2689B0:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-C875AB2689B0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-C875AB2689B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C875AB2689B0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C875AB2689B0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C875AB2689B0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C875AB2689B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C875AB2689B0-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300], old=null RUNNING
2024-01-17 16:16:23,296 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:23,296 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:get(162)) - client-BD96009993AE: get 3960 returns []
2024-01-17 16:16:23,296 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(880)) - s0@group-C875AB2689B0: receive client request(RaftClientRequest:client-BD96009993AE->s0@group-C875AB2689B0, cid=3960, seq=null, RW, message)
2024-01-17 16:16:23,297 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(533)) - s0@group-C875AB2689B0-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-BD96009993AE->s0@group-C875AB2689B0, cid=3960, seq=null, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 3960@client-BD96009993AE
2024-01-17 16:16:23,298 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], cId:3961, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3960@client-BD96009993AE]
2024-01-17 16:16:23,298 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], cId:3963, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3960@client-BD96009993AE]
2024-01-17 16:16:23,298 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], cId:3964, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3960@client-BD96009993AE]
2024-01-17 16:16:23,298 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:0), 0, false, commits:[s0:c0, s1:c0, s2:c0, s3:c0, s4:c0], cId:3962, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 3960@client-BD96009993AE]
2024-01-17 16:16:23,299 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s1#3963:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:23,299 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s3#3964:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:23,299 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s2#3962:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:23,299 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s4#3961:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2024-01-17 16:16:23,300 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], cId:3965, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:23,300 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], cId:3966, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:23,300 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], cId:3968, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:23,301 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s3#3966:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:23,301 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-BD96009993AE: add replied callId 3960
2024-01-17 16:16:23,302 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s2#3965:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:23,302 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:1), 1, false, commits:[s0:c1, s1:c0, s2:c0, s3:c0, s4:c0], cId:3967, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2024-01-17 16:16:23,303 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s1#3967:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:23,304 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s4#3968:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2024-01-17 16:16:23,304 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1273)) - s0@group-C875AB2689B0: receive setConfiguration SetConfigurationRequest:client-BD96009993AE->s0@group-C875AB2689B0, cid=3969, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0, s1, s2], listeners:[]
2024-01-17 16:16:23,305 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(490)) - s0@group-C875AB2689B0-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-BD96009993AE->s0@group-C875AB2689B0, cid=3969, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0, s1, s2], listeners:[]
2024-01-17 16:16:23,305 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-C875AB2689B0: set configuration 3: peers:[s3, s4, s0, s1, s2]|listeners:[], old=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300]
2024-01-17 16:16:23,306 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c1, s4:c1], cId:3973, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15284"
dataStreamAddress: "localhost:15287"
clientAddress: "localhost:15286"
adminAddress: "localhost:15285"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15288"
dataStreamAddress: "localhost:15291"
clientAddress: "localhost:15290"
adminAddress: "localhost:15289"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15292"
dataStreamAddress: "localhost:15295"
clientAddress: "localhost:15294"
adminAddress: "localhost:15293"
startupRole: FOLLOWER
)]
2024-01-17 16:16:23,307 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-C875AB2689B0: set configuration 3: peers:[s3|, s4|, s0|, s1|, s2|]|listeners:[], old=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300]
2024-01-17 16:16:23,307 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s3#3973:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:23,308 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c1, s4:c1], cId:3972, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15284"
dataStreamAddress: "localhost:15287"
clientAddress: "localhost:15286"
adminAddress: "localhost:15285"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15288"
dataStreamAddress: "localhost:15291"
clientAddress: "localhost:15290"
adminAddress: "localhost:15289"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15292"
dataStreamAddress: "localhost:15295"
clientAddress: "localhost:15294"
adminAddress: "localhost:15293"
startupRole: FOLLOWER
)]
2024-01-17 16:16:23,308 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-C875AB2689B0: set configuration 3: peers:[s3|, s4|, s0|, s1|, s2|]|listeners:[], old=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300]
2024-01-17 16:16:23,308 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s2#3972:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:23,308 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c1, s4:c1], cId:3970, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15284"
dataStreamAddress: "localhost:15287"
clientAddress: "localhost:15286"
adminAddress: "localhost:15285"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15288"
dataStreamAddress: "localhost:15291"
clientAddress: "localhost:15290"
adminAddress: "localhost:15289"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15292"
dataStreamAddress: "localhost:15295"
clientAddress: "localhost:15294"
adminAddress: "localhost:15293"
startupRole: FOLLOWER
)]
2024-01-17 16:16:23,309 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-C875AB2689B0: set configuration 3: peers:[s3|, s4|, s0|, s1|, s2|]|listeners:[], old=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300]
2024-01-17 16:16:23,309 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s1#3970:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:23,310 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:2), 2, false, commits:[s0:c2, s1:c1, s2:c1, s3:c1, s4:c1], cId:3971, entries: [(t:1, i:3), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:id: "s0"
address: "localhost:15284"
dataStreamAddress: "localhost:15287"
clientAddress: "localhost:15286"
adminAddress: "localhost:15285"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15288"
dataStreamAddress: "localhost:15291"
clientAddress: "localhost:15290"
adminAddress: "localhost:15289"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15292"
dataStreamAddress: "localhost:15295"
clientAddress: "localhost:15294"
adminAddress: "localhost:15293"
startupRole: FOLLOWER
)]
2024-01-17 16:16:23,310 [s0@group-C875AB2689B0-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-C875AB2689B0: set configuration 5: peers:[s3, s4, s0, s1, s2]|listeners:[], old=null
2024-01-17 16:16:23,310 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-C875AB2689B0: set configuration 3: peers:[s3|, s4|, s0|, s1|, s2|]|listeners:[], old=peers:[s0|localhost:15284, s1|localhost:15288, s2|localhost:15292]|listeners:[s3|localhost:15296, s4|localhost:15300]
2024-01-17 16:16:23,310 [s0@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@460e21b
2024-01-17 16:16:23,311 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s4#3971:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2024-01-17 16:16:23,312 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c2, s2:c2, s3:c2, s4:c2], cId:3974, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:23,312 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c2, s2:c2, s3:c2, s4:c2], cId:3975, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:23,312 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s4@group-C875AB2689B0: set configuration 5: peers:[s3|, s4|, s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:23,312 [HandlerDaemon-1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-C875AB2689B0: set configuration 5: peers:[s3|, s4|, s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:23,313 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s1#3975:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:16:23,313 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c2, s2:c2, s3:c2, s4:c2], cId:3976, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:23,313 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s3@group-C875AB2689B0: set configuration 5: peers:[s3|, s4|, s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:23,314 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s4#3974:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:16:23,314 [s4@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@60a38492
2024-01-17 16:16:23,315 [s1@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2eac3eab
2024-01-17 16:16:23,316 [s3@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4182c430
2024-01-17 16:16:23,316 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s3#3976:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:16:23,318 [s1@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,319 [s3@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,320 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits:[s0:c5, s1:c3, s2:c2, s3:c3, s4:c2], cId:3978, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:23,321 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits:[s0:c5, s1:c3, s2:c2, s3:c3, s4:c2], cId:3979, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:23,321 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s1#3978:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:23,321 [s1@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2a93afa6
2024-01-17 16:16:23,316 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:3), 3, false, commits:[s0:c3, s1:c2, s2:c2, s3:c2, s4:c2], cId:3977, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY(current:id: "s3"
startupRole: FOLLOWER
,id: "s4"
startupRole: FOLLOWER
,id: "s0"
startupRole: FOLLOWER
,id: "s1"
startupRole: FOLLOWER
,id: "s2"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:23,321 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-C875AB2689B0: set configuration 5: peers:[s3|, s4|, s0|, s1|, s2|]|listeners:[], old=null
2024-01-17 16:16:23,322 [s1@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s1/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,322 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,322 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:23,322 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s2#3977:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2024-01-17 16:16:23,322 [s2@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@72c397bf
2024-01-17 16:16:23,322 [s3-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s3@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s3#3979:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:23,324 [s4@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,323 [s3@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@45bd48d8
2024-01-17 16:16:23,324 [s0@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,322 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,324 [s0@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@41626cf3
2024-01-17 16:16:23,324 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:5), 5, false, commits:[s0:c5, s1:c5, s2:c2, s3:c3, s4:c3], cId:3984, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:23,325 [s4-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s4@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s4#3984:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2024-01-17 16:16:23,325 [s3@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s3/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,325 [s0@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s0/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,325 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C875AB2689B0: receive appendEntries(s0, 1, (t:1, i:5), 6, false, commits:[s0:c6, s1:c5, s2:c3, s3:c5, s4:c5], cId:3985, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2024-01-17 16:16:23,326 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-C875AB2689B0: succeeded to handle AppendEntries. Reply: s0<-s2#3985:OK-t1,SUCCESS,nextIndex=7,followerCommit=6,matchIndex=6
2024-01-17 16:16:23,325 [s2@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,326 [s2@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@76fc1d3f
2024-01-17 16:16:23,325 [s4@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@649c0c5e
2024-01-17 16:16:23,327 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:add(150)) - client-BD96009993AE: add replied callId 3969
2024-01-17 16:16:23,327 [s2@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s2/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,327 [s4@group-C875AB2689B0-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc95f64756/s4/b3d2fddd-6daa-4efe-96b7-c875ab2689b0/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:23,327 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - ************************************************************** 
2024-01-17 16:16:23,327 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - *** 
2024-01-17 16:16:23,328 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:23,328 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - *** 
2024-01-17 16:16:23,328 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - ************************************************************** 
2024-01-17 16:16:23,328 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(837)) - printing ALL groups
  s3:  RUNNING  LISTENER s3@group-C875AB2689B0:t1, leader=s0, voted=null, raftlog=Memoized:s3@group-C875AB2689B0-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|, s4|, s0|, s1|, s2|]|listeners:[], old=null RUNNING
  s4:  RUNNING  LISTENER s4@group-C875AB2689B0:t1, leader=s0, voted=null, raftlog=Memoized:s4@group-C875AB2689B0-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|, s4|, s0|, s1|, s2|]|listeners:[], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-C875AB2689B0:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C875AB2689B0-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s3, s4, s0, s1, s2]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C875AB2689B0:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C875AB2689B0-SegmentedRaftLog:OPENED:c5, conf=5: peers:[s3|, s4|, s0|, s1|, s2|]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C875AB2689B0:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C875AB2689B0-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s3|, s4|, s0|, s1|, s2|]|listeners:[], old=null RUNNING
2024-01-17 16:16:23,329 [MiniRaftCluster-100] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s3: close
2024-01-17 16:16:23,331 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s3@group-C875AB2689B0: shutdown
2024-01-17 16:16:23,332 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C875AB2689B0,id=s3
2024-01-17 16:16:23,332 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s3: shutdown s3@group-C875AB2689B0-FollowerState
2024-01-17 16:16:23,335 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s3@group-C875AB2689B0-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:16:23,335 [s3@group-C875AB2689B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-C875AB2689B0-FollowerState was interrupted
2024-01-17 16:16:23,335 [MiniRaftCluster-101] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s4: close
2024-01-17 16:16:23,335 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s3@group-C875AB2689B0: applyIndex: 5
2024-01-17 16:16:23,335 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s4@group-C875AB2689B0: shutdown
2024-01-17 16:16:23,335 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C875AB2689B0,id=s4
2024-01-17 16:16:23,335 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s4: shutdown s4@group-C875AB2689B0-FollowerState
2024-01-17 16:16:23,335 [MiniRaftCluster-102] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s0: close
2024-01-17 16:16:23,336 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s0@group-C875AB2689B0: shutdown
2024-01-17 16:16:23,336 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C875AB2689B0,id=s0
2024-01-17 16:16:23,336 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(95)) - s0: shutdown s0@group-C875AB2689B0-LeaderStateImpl
2024-01-17 16:16:23,339 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,339 [s0@group-C875AB2689B0->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C875AB2689B0->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:23,340 [MiniRaftCluster-103] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s1: close
2024-01-17 16:16:23,340 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s1@group-C875AB2689B0: shutdown
2024-01-17 16:16:23,340 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C875AB2689B0,id=s1
2024-01-17 16:16:23,340 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,340 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s4@group-C875AB2689B0-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:16:23,340 [s3@group-C875AB2689B0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s3@group-C875AB2689B0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:23,340 [s4@group-C875AB2689B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-C875AB2689B0-FollowerState was interrupted
2024-01-17 16:16:23,340 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-C875AB2689B0-FollowerState
2024-01-17 16:16:23,340 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-C875AB2689B0-StateMachineUpdater: set stopIndex = 5
2024-01-17 16:16:23,340 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,340 [s1@group-C875AB2689B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C875AB2689B0-FollowerState was interrupted
2024-01-17 16:16:23,340 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,341 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(287)) - s0@group-C875AB2689B0-PendingRequests: sendNotLeaderResponses
2024-01-17 16:16:23,341 [s0@group-C875AB2689B0->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C875AB2689B0->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:23,340 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,342 [s0@group-C875AB2689B0->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C875AB2689B0->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:23,342 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,342 [s0@group-C875AB2689B0->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(85)) - s0@group-C875AB2689B0->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2024-01-17 16:16:23,342 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,342 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-C875AB2689B0-StateMachineUpdater: set stopIndex = 6
2024-01-17 16:16:23,342 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,342 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s0@group-C875AB2689B0: applyIndex: 6
2024-01-17 16:16:23,342 [s0@group-C875AB2689B0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-C875AB2689B0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:23,343 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,340 [MiniRaftCluster-104] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(417)) - s2: close
2024-01-17 16:16:23,342 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,342 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s1@group-C875AB2689B0: applyIndex: 5
2024-01-17 16:16:23,342 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,341 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,343 [s1@group-C875AB2689B0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-C875AB2689B0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:23,341 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,340 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,343 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,340 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,344 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,340 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s4@group-C875AB2689B0: applyIndex: 5
2024-01-17 16:16:23,344 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,344 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$1(457)) - s2@group-C875AB2689B0: shutdown
2024-01-17 16:16:23,344 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(74)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C875AB2689B0,id=s2
2024-01-17 16:16:23,344 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-C875AB2689B0-FollowerState
2024-01-17 16:16:23,344 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-C875AB2689B0-StateMachineUpdater: set stopIndex = 6
2024-01-17 16:16:23,344 [s2@group-C875AB2689B0-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C875AB2689B0-FollowerState was interrupted
2024-01-17 16:16:23,344 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(427)) - s2@group-C875AB2689B0: applyIndex: 6
2024-01-17 16:16:23,344 [s4@group-C875AB2689B0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s4@group-C875AB2689B0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:23,344 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,344 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,344 [s2@group-C875AB2689B0-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-C875AB2689B0-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2024-01-17 16:16:23,344 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,344 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,344 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,344 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,345 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,345 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,345 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,345 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,345 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,345 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2024-01-17 16:16:23,424 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,424 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:23,425 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,525 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,525 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:23,525 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,625 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,626 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:23,626 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,726 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,726 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:23,726 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,827 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,827 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:23,827 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,927 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:23,927 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:23,927 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,028 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,028 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:24,028 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,128 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,129 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:24,129 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,229 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,229 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:24,229 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,321 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-C875AB2689B0-SegmentedRaftLogWorker close()
2024-01-17 16:16:24,321 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-C875AB2689B0-SegmentedRaftLogWorker close()
2024-01-17 16:16:24,322 [JvmPauseMonitor73] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2024-01-17 16:16:24,322 [JvmPauseMonitor74] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2024-01-17 16:16:24,323 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s3@group-C875AB2689B0-SegmentedRaftLogWorker close()
2024-01-17 16:16:24,323 [JvmPauseMonitor71] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s3: Stopped
2024-01-17 16:16:24,325 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s4@group-C875AB2689B0-SegmentedRaftLogWorker close()
2024-01-17 16:16:24,326 [JvmPauseMonitor72] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s4: Stopped
2024-01-17 16:16:24,327 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-C875AB2689B0-SegmentedRaftLogWorker close()
2024-01-17 16:16:24,327 [JvmPauseMonitor75] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2024-01-17 16:16:24,327 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(856)) - MiniRaftClusterWithSimulatedRpc shutdown completed
]]></system-out>
  </testcase>
  <testcase name="testImmediatelyRevertedToFollower" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="0.004">
    <system-out><![CDATA[2024-01-17 16:16:24,328 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:16:24,328 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:16:24,328 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:16:24,328 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:16:24,329 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,330 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:24,330 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,332 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
]]></system-out>
  </testcase>
  <testcase name="testLeaderElectionMetrics" classname="org.apache.ratis.server.simulation.TestLeaderElectionWithSimulatedRpc" time="0.509">
    <system-out><![CDATA[2024-01-17 16:16:24,333 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2024-01-17 16:16:24,333 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2024-01-17 16:16:24,333 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2024-01-17 16:16:24,333 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2024-01-17 16:16:24,334 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2024-01-17 16:16:24,334 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(305)) - new MiniRaftClusterWithSimulatedRpc with group-418B4F14E07F:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]
2024-01-17 16:16:24,334 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(338)) - .............................................................. 
2024-01-17 16:16:24,335 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - ... 
2024-01-17 16:16:24,335 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2024-01-17 16:16:24,335 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ... 
2024-01-17 16:16:24,335 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - .............................................................. 
2024-01-17 16:16:24,335 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(317)) - servers = {}
2024-01-17 16:16:24,335 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s0, group-418B4F14E07F:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312], format? true
2024-01-17 16:16:24,335 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0
2024-01-17 16:16:24,335 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0 does not exist.
2024-01-17 16:16:24,335 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0
2024-01-17 16:16:24,335 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:24,336 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:24,336 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:24,336 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:24,336 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:24,336 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0] (custom)
2024-01-17 16:16:24,336 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:24,336 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:24,337 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s0: addNew group-418B4F14E07F:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312] returns group-418B4F14E07F:java.util.concurrent.CompletableFuture@1db5727a[Not completed]
2024-01-17 16:16:24,337 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s0: new RaftServerImpl for group-418B4F14E07F:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312] with BaseStateMachine:uninitialized
2024-01-17 16:16:24,337 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s1, group-418B4F14E07F:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312], format? true
2024-01-17 16:16:24,337 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1
2024-01-17 16:16:24,337 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:24,337 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1 does not exist.
2024-01-17 16:16:24,337 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1
2024-01-17 16:16:24,337 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:24,337 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:24,337 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:24,337 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:24,337 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:24,338 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:24,338 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:24,338 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:24,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:24,338 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-418B4F14E07F: ConfigurationManager, init=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:24,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:24,338 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:24,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:24,338 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:24,338 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:24,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1] (custom)
2024-01-17 16:16:24,338 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:24,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:24,338 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:24,338 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:24,339 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:24,339 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:24,340 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:24,340 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:24,340 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:24,340 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:24,340 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:24,341 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s1: addNew group-418B4F14E07F:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312] returns group-418B4F14E07F:java.util.concurrent.CompletableFuture@71bfd494[Not completed]
2024-01-17 16:16:24,341 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(381)) - newRaftServer: s2, group-418B4F14E07F:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312], format? true
2024-01-17 16:16:24,342 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2
2024-01-17 16:16:24,342 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2 does not exist.
2024-01-17 16:16:24,342 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(386)) - Formatted directory target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2
2024-01-17 16:16:24,342 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2024-01-17 16:16:24,342 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2024-01-17 16:16:24,342 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:24,342 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2024-01-17 16:16:24,342 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:24,343 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2] (custom)
2024-01-17 16:16:24,343 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2024-01-17 16:16:24,343 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2024-01-17 16:16:24,343 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s1: new RaftServerImpl for group-418B4F14E07F:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312] with BaseStateMachine:uninitialized
2024-01-17 16:16:24,343 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:24,343 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:24,343 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:24,343 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:24,343 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:24,343 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:24,343 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:24,344 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-418B4F14E07F: ConfigurationManager, init=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:24,344 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:24,344 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:24,344 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:24,344 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:24,344 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:24,344 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:24,345 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:24,345 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:24,345 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:24,345 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:24,345 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:24,345 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:24,345 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(101)) - s2: addNew group-418B4F14E07F:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312] returns group-418B4F14E07F:java.util.concurrent.CompletableFuture@4c7514a3[Not completed]
2024-01-17 16:16:24,345 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:24,346 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:24,346 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0] (custom)
2024-01-17 16:16:24,346 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f does not exist. Creating ...
2024-01-17 16:16:24,346 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f
2024-01-17 16:16:24,347 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(211)) - s2: new RaftServerImpl for group-418B4F14E07F:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312] with BaseStateMachine:uninitialized
2024-01-17 16:16:24,347 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:24,347 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:24,347 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:24,348 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current
2024-01-17 16:16:24,348 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/sm
2024-01-17 16:16:24,348 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@487026de
2024-01-17 16:16:24,348 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2024-01-17 16:16:24,348 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2024-01-17 16:16:24,349 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2024-01-17 16:16:24,349 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:24,349 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f has been successfully formatted.
2024-01-17 16:16:24,349 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,349 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:24,349 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:24,349 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:24,349 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:24,349 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:24,350 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:24,350 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:24,350 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:24,350 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:24,350 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2024-01-17 16:16:24,350 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2024-01-17 16:16:24,350 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-418B4F14E07F: ConfigurationManager, init=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null, confs=<EMPTY_MAP>
2024-01-17 16:16:24,350 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2024-01-17 16:16:24,351 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2024-01-17 16:16:24,351 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2024-01-17 16:16:24,351 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2024-01-17 16:16:24,351 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2024-01-17 16:16:24,351 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2024-01-17 16:16:24,352 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2024-01-17 16:16:24,352 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2024-01-17 16:16:24,352 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2024-01-17 16:16:24,352 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2024-01-17 16:16:24,352 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2024-01-17 16:16:24,352 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2024-01-17 16:16:24,355 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-418B4F14E07F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:24,355 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-418B4F14E07F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f
2024-01-17 16:16:24,355 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:24,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:24,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:24,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:24,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:24,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:24,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:24,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:24,356 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:24,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:24,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:24,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:24,357 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:24,357 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-418B4F14E07F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:24,357 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-418B4F14E07F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:24,358 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s0@group-418B4F14E07F: start as a follower, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null
2024-01-17 16:16:24,358 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-418B4F14E07F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:24,358 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-418B4F14E07F-FollowerState
2024-01-17 16:16:24,358 [s0@group-418B4F14E07F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:24,358 [s0@group-418B4F14E07F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:24,358 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-418B4F14E07F,id=s0
2024-01-17 16:16:24,358 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-418B4F14E07F,id=s0
2024-01-17 16:16:24,358 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:24,358 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:24,358 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:24,358 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:24,359 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s0: start RPC server
2024-01-17 16:16:24,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:24,364 [JvmPauseMonitor76] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2024-01-17 16:16:24,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:24,364 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1] (custom)
2024-01-17 16:16:24,364 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f does not exist. Creating ...
2024-01-17 16:16:24,365 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f
2024-01-17 16:16:24,365 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:24,366 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current
2024-01-17 16:16:24,366 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/sm
2024-01-17 16:16:24,366 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@58e25d5f
2024-01-17 16:16:24,367 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:24,367 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f has been successfully formatted.
2024-01-17 16:16:24,367 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,367 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:24,367 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:24,367 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:24,367 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:24,367 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-418B4F14E07F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-418B4F14E07F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:24,368 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:24,369 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:24,369 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:24,369 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:24,369 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:24,369 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-418B4F14E07F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:24,369 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-418B4F14E07F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:24,369 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s1@group-418B4F14E07F: start as a follower, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null
2024-01-17 16:16:24,369 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-418B4F14E07F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:24,369 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-418B4F14E07F-FollowerState
2024-01-17 16:16:24,370 [s1@group-418B4F14E07F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:24,370 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-418B4F14E07F,id=s1
2024-01-17 16:16:24,370 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-418B4F14E07F,id=s1
2024-01-17 16:16:24,370 [s1@group-418B4F14E07F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:24,370 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:24,370 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:24,370 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:24,370 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:24,370 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s1: start RPC server
2024-01-17 16:16:24,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2024-01-17 16:16:24,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2024-01-17 16:16:24,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2] (custom)
2024-01-17 16:16:24,376 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f does not exist. Creating ...
2024-01-17 16:16:24,377 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f
2024-01-17 16:16:24,377 [JvmPauseMonitor77] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2024-01-17 16:16:24,378 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/in_use.lock acquired by nodename 10215@fv-az1241-144
2024-01-17 16:16:24,378 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current
2024-01-17 16:16:24,378 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/sm
2024-01-17 16:16:24,378 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4a5333ab
2024-01-17 16:16:24,378 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:24,379 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f has been successfully formatted.
2024-01-17 16:16:24,379 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf
	at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)
	at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)
	at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)
	at java.nio.file.Files.newByteChannel(Files.java:361)
	at java.nio.file.Files.newByteChannel(Files.java:407)
	at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)
	at java.nio.file.Files.newInputStream(Files.java:152)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:342)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$null$4(ConcurrentUtils.java:182)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,379 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2024-01-17 16:16:24,379 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2024-01-17 16:16:24,379 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:24,379 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2024-01-17 16:16:24,379 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2024-01-17 16:16:24,379 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:24,379 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2024-01-17 16:16:24,379 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2024-01-17 16:16:24,380 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:24,384 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-418B4F14E07F-cacheEviction-AwaitToRun,5,main] started
2024-01-17 16:16:24,384 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-418B4F14E07F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f
2024-01-17 16:16:24,384 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:24,384 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2024-01-17 16:16:24,384 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2024-01-17 16:16:24,384 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2024-01-17 16:16:24,384 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2024-01-17 16:16:24,384 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2024-01-17 16:16:24,384 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2024-01-17 16:16:24,384 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2024-01-17 16:16:24,384 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2024-01-17 16:16:24,385 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:24,385 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2024-01-17 16:16:24,385 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2024-01-17 16:16:24,385 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2024-01-17 16:16:24,386 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-418B4F14E07F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:24,386 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-418B4F14E07F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2024-01-17 16:16:24,386 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(346)) - s2@group-418B4F14E07F: start as a follower, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null
2024-01-17 16:16:24,386 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-418B4F14E07F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2024-01-17 16:16:24,386 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-418B4F14E07F-FollowerState
2024-01-17 16:16:24,386 [s2@group-418B4F14E07F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:24,386 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-418B4F14E07F,id=s2
2024-01-17 16:16:24,386 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:register(58)) - register mxBean class org.apache.ratis.server.impl.RaftServerJmxAdapter as Ratis:service=RaftServer,group=group-418B4F14E07F,id=s2
2024-01-17 16:16:24,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2024-01-17 16:16:24,386 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2024-01-17 16:16:24,387 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2024-01-17 16:16:24,387 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2024-01-17 16:16:24,387 [s2@group-418B4F14E07F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:24,387 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(407)) - s2: start RPC server
2024-01-17 16:16:24,388 [JvmPauseMonitor78] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2024-01-17 16:16:24,388 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2024-01-17 16:16:24,388 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-418B4F14E07F:t0, leader=null, voted=, raftlog=Memoized:s0@group-418B4F14E07F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-418B4F14E07F:t0, leader=null, voted=, raftlog=Memoized:s1@group-418B4F14E07F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-418B4F14E07F:t0, leader=null, voted=, raftlog=Memoized:s2@group-418B4F14E07F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null RUNNING
2024-01-17 16:16:24,388 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-418B4F14E07F:t0, leader=null, voted=, raftlog=Memoized:s0@group-418B4F14E07F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-418B4F14E07F:t0, leader=null, voted=, raftlog=Memoized:s1@group-418B4F14E07F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-418B4F14E07F:t0, leader=null, voted=, raftlog=Memoized:s2@group-418B4F14E07F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null RUNNING
2024-01-17 16:16:24,430 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,430 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:24,430 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,508 [s0@group-418B4F14E07F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-418B4F14E07F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:150435286ns, electionTimeout:150ms
2024-01-17 16:16:24,509 [s0@group-418B4F14E07F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s0: shutdown s0@group-418B4F14E07F-FollowerState
2024-01-17 16:16:24,509 [s0@group-418B4F14E07F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-418B4F14E07F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2024-01-17 16:16:24,509 [s0@group-418B4F14E07F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2024-01-17 16:16:24,509 [s0@group-418B4F14E07F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-418B4F14E07F-LeaderElection73
2024-01-17 16:16:24,512 [s0@group-418B4F14E07F-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-418B4F14E07F-LeaderElection73 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null
2024-01-17 16:16:24,514 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:24,514 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:24,514 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-418B4F14E07F: receive requestVote(PRE_VOTE, s0, group-418B4F14E07F, 0, (t:0, i:0))
2024-01-17 16:16:24,514 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-418B4F14E07F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:24,514 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-418B4F14E07F replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-418B4F14E07F:t0, leader=null, voted=, raftlog=Memoized:s1@group-418B4F14E07F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null
2024-01-17 16:16:24,514 [s0@group-418B4F14E07F-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-418B4F14E07F-LeaderElection73: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:24,514 [s0@group-418B4F14E07F-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2024-01-17 16:16:24,515 [s0@group-418B4F14E07F-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-418B4F14E07F-LeaderElection73 PRE_VOTE round 0: result PASSED
2024-01-17 16:16:24,515 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-418B4F14E07F: receive requestVote(PRE_VOTE, s0, group-418B4F14E07F, 0, (t:0, i:0))
2024-01-17 16:16:24,515 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-418B4F14E07F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:24,515 [s0@group-418B4F14E07F-LeaderElection73] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2ef4f206
2024-01-17 16:16:24,515 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-418B4F14E07F replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-418B4F14E07F:t0, leader=null, voted=, raftlog=Memoized:s2@group-418B4F14E07F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null
2024-01-17 16:16:24,516 [s0@group-418B4F14E07F-LeaderElection73] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:24,516 [s0@group-418B4F14E07F-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-418B4F14E07F-LeaderElection73 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null
2024-01-17 16:16:24,516 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2024-01-17 16:16:24,516 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2024-01-17 16:16:24,516 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s1@group-418B4F14E07F: receive requestVote(ELECTION, s0, group-418B4F14E07F, 1, (t:0, i:0))
2024-01-17 16:16:24,516 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1386)) - s2@group-418B4F14E07F: receive requestVote(ELECTION, s0, group-418B4F14E07F, 1, (t:0, i:0))
2024-01-17 16:16:24,516 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-418B4F14E07F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:24,517 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-418B4F14E07F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2024-01-17 16:16:24,517 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s1@group-418B4F14E07F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:16:24,517 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s2@group-418B4F14E07F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2024-01-17 16:16:24,517 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s2: shutdown s2@group-418B4F14E07F-FollowerState
2024-01-17 16:16:24,517 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(111)) - s1: shutdown s1@group-418B4F14E07F-FollowerState
2024-01-17 16:16:24,517 [s2@group-418B4F14E07F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-418B4F14E07F-FollowerState was interrupted
2024-01-17 16:16:24,517 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s1: start s1@group-418B4F14E07F-FollowerState
2024-01-17 16:16:24,517 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s2: start s2@group-418B4F14E07F-FollowerState
2024-01-17 16:16:24,517 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s1@group-418B4F14E07F: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:16:24,517 [s1@group-418B4F14E07F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-418B4F14E07F-FollowerState was interrupted
2024-01-17 16:16:24,517 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@79a8ec28
2024-01-17 16:16:24,517 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s2@group-418B4F14E07F: set firstElectionSinceStartup to false for candidate:s0
2024-01-17 16:16:24,517 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@31926f7d
2024-01-17 16:16:24,518 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:24,518 [HandlerDaemon-1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta with options [REPLACE_EXISTING]
2024-01-17 16:16:24,518 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s1@group-418B4F14E07F replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-418B4F14E07F:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-418B4F14E07F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null
2024-01-17 16:16:24,518 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1419)) - s2@group-418B4F14E07F replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-418B4F14E07F:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-418B4F14E07F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null
2024-01-17 16:16:24,518 [s0@group-418B4F14E07F-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-418B4F14E07F-LeaderElection73: ELECTION PASSED received 1 response(s) and 0 exception(s):
2024-01-17 16:16:24,518 [s0@group-418B4F14E07F-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2024-01-17 16:16:24,519 [s0@group-418B4F14E07F-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-418B4F14E07F-LeaderElection73 ELECTION round 0: result PASSED
2024-01-17 16:16:24,519 [s0@group-418B4F14E07F-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(131)) - s0: shutdown s0@group-418B4F14E07F-LeaderElection73
2024-01-17 16:16:24,519 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(333)) - s0@group-418B4F14E07F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2024-01-17 16:16:24,519 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2024-01-17 16:16:24,519 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:24,519 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2024-01-17 16:16:24,519 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2024-01-17 16:16:24,519 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2024-01-17 16:16:24,519 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2024-01-17 16:16:24,519 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2024-01-17 16:16:24,520 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.5 (custom)
2024-01-17 16:16:24,520 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2024-01-17 16:16:24,520 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2024-01-17 16:16:24,520 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2024-01-17 16:16:24,520 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:24,520 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:24,520 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:24,520 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:24,520 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2024-01-17 16:16:24,520 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2024-01-17 16:16:24,521 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2024-01-17 16:16:24,521 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2024-01-17 16:16:24,521 [s0@group-418B4F14E07F-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(140)) - s0: start s0@group-418B4F14E07F-LeaderStateImpl
2024-01-17 16:16:24,521 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(505)) - s0@group-418B4F14E07F: set firstElectionSinceStartup to false for becomeLeader
2024-01-17 16:16:24,521 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s0@group-418B4F14E07F: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 182ms
2024-01-17 16:16:24,521 [s0@group-418B4F14E07F-LeaderElection73] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-418B4F14E07F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:24,521 [s0@group-418B4F14E07F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:24,521 [s0@group-418B4F14E07F-LeaderElection73] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s0@group-418B4F14E07F: set configuration 0: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null
2024-01-17 16:16:24,524 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s1@group-418B4F14E07F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 180ms
2024-01-17 16:16:24,524 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(269)) - s2@group-418B4F14E07F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 173ms
2024-01-17 16:16:24,525 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-418B4F14E07F: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:4050, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15304"
dataStreamAddress: "localhost:15307"
clientAddress: "localhost:15306"
adminAddress: "localhost:15305"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15308"
dataStreamAddress: "localhost:15311"
clientAddress: "localhost:15310"
adminAddress: "localhost:15309"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15312"
dataStreamAddress: "localhost:15315"
clientAddress: "localhost:15314"
adminAddress: "localhost:15313"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:24,526 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s2@group-418B4F14E07F: set configuration 0: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null
2024-01-17 16:16:24,526 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-418B4F14E07F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:24,526 [s2@group-418B4F14E07F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:24,528 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-418B4F14E07F: receive appendEntries(s0, 1, null, -1, false, commits:[s0:c-1, s1:c-1, s2:c-1], cId:4051, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:15304"
dataStreamAddress: "localhost:15307"
clientAddress: "localhost:15306"
adminAddress: "localhost:15305"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:15308"
dataStreamAddress: "localhost:15311"
clientAddress: "localhost:15310"
adminAddress: "localhost:15309"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:15312"
dataStreamAddress: "localhost:15315"
clientAddress: "localhost:15314"
adminAddress: "localhost:15313"
startupRole: FOLLOWER
, old:)]
2024-01-17 16:16:24,529 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(386)) - s1@group-418B4F14E07F: set configuration 0: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null
2024-01-17 16:16:24,529 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-418B4F14E07F-SegmentedRaftLogWorker: Starting segment from index:0
2024-01-17 16:16:24,530 [s1@group-418B4F14E07F-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2024-01-17 16:16:24,531 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s0@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,531 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s0,  curLeader=s0, newLeader=s2
2024-01-17 16:16:24,531 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s0 to s2 for group-F02703D6D672
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,531 [s0@group-418B4F14E07F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-418B4F14E07F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/log_inprogress_0
2024-01-17 16:16:24,533 [s2@group-418B4F14E07F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-418B4F14E07F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/log_inprogress_0
2024-01-17 16:16:24,534 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s2@group-418B4F14E07F: succeeded to handle AppendEntries. Reply: s0<-s2#4050:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:24,535 [s0@group-418B4F14E07F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@50269002
2024-01-17 16:16:24,538 [s0@group-418B4F14E07F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s0/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:24,538 [s1@group-418B4F14E07F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-418B4F14E07F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/log_inprogress_0
2024-01-17 16:16:24,538 [s0@group-418B4F14E07F-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(321)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2024-01-17 16:16:24,539 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1513)) - s1@group-418B4F14E07F: succeeded to handle AppendEntries. Reply: s0<-s1#4051:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2024-01-17 16:16:24,611 [s2@group-418B4F14E07F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6663bd14
2024-01-17 16:16:24,612 [s2@group-418B4F14E07F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s2/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:24,615 [s1@group-418B4F14E07F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7d17e48d
2024-01-17 16:16:24,617 [s1@group-418B4F14E07F-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/3f474a0d/MiniRaftClusterWithSimulatedRpc3a712bfd/s1/7a289bb7-5e93-46e1-b399-418b4f14e07f/current/raft-meta.conf with options [REPLACE_EXISTING]
2024-01-17 16:16:24,631 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,632 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s1
2024-01-17 16:16:24,632 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s1 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,732 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s1@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,732 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s1,  curLeader=s1, newLeader=s2
2024-01-17 16:16:24,732 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s1 to s2 for group-F02703D6D672
java.io.IOException: The peer s1 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,832 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(419)) - client-43F2AD1B82A5: suggested new leader: null. Failed SetConfigurationRequest:client-43F2AD1B82A5->s2@group-F02703D6D672, cid=2941, seq=null, RW, null, SET_UNCONDITIONALLY, servers:[s3, s4, s0|localhost:15228, s1|localhost:15232, s2|localhost:15236], listeners:[] with {}
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,833 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(438)) - client-43F2AD1B82A5: oldLeader=s2,  curLeader=s2, newLeader=s0
2024-01-17 16:16:24,833 [Thread-1506] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(444)) - client-43F2AD1B82A5 changes Leader from s2 to s0 for group-F02703D6D672
java.io.IOException: The peer s2 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:145)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:109)
	at org.apache.ratis.client.impl.AdminImpl.setConfiguration(AdminImpl.java:46)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:51)
	at org.apache.ratis.client.api.AdminApi.setConfiguration(AdminApi.java:45)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestLeaderLeaseDuringReconfiguration$10(LeaderElectionTests.java:707)
	at java.lang.Thread.run(Thread.java:750)
2024-01-17 16:16:24,839 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-418B4F14E07F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-418B4F14E07F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-418B4F14E07F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-418B4F14E07F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-418B4F14E07F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-418B4F14E07F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:15304, s1|localhost:15308, s2|localhost:15312]|listeners:[], old=null RUNNING
]]></system-out>
  </testcase>
</testsuite>